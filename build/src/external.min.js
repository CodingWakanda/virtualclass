/*
 jQuery JavaScript Library v1.12.4
 http://jquery.com/

 Includes Sizzle.js
 http://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2016-05-20T17:17Z
 Sizzle CSS Selector Engine v2.2.1
 http://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2015-10-17
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(k,g,c){k instanceof String&&(k=String(k));for(var f=k.length,a=0;a<f;a++){var h=k[a];if(g.call(c,h,a,k))return{i:a,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(k,g,c){k!=Array.prototype&&k!=Object.prototype&&(k[g]=c.value)};
$jscomp.getGlobal=function(k){return"undefined"!=typeof window&&window===k?k:"undefined"!=typeof global&&null!=global?global:k};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(k,g,c,f){if(g){c=$jscomp.global;k=k.split(".");for(f=0;f<k.length-1;f++){var a=k[f];a in c||(c[a]={});c=c[a]}k=k[k.length-1];f=c[k];g=g(f);g!=f&&null!=g&&$jscomp.defineProperty(c,k,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("Array.prototype.find",function(k){return k?k:function(g,c){return $jscomp.findInternal(this,g,c).v}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(k){return $jscomp.SYMBOL_PREFIX+(k||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var k=$jscomp.global.Symbol.iterator;k||(k=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[k]&&$jscomp.defineProperty(Array.prototype,k,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(k){var g=0;return $jscomp.iteratorPrototype(function(){return g<k.length?{done:!1,value:k[g++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(k){$jscomp.initSymbolIterator();k={next:k};k[$jscomp.global.Symbol.iterator]=function(){return this};return k};$jscomp.iteratorFromArray=function(k,g){$jscomp.initSymbolIterator();k instanceof String&&(k+="");var c=0,f={next:function(){if(c<k.length){var a=c++;return{value:g(a,k[a]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill("Array.prototype.values",function(k){return k?k:function(){return $jscomp.iteratorFromArray(this,function(g,c){return c})}},"es6","es3");$jscomp.polyfill("Array.prototype.keys",function(k){return k?k:function(){return $jscomp.iteratorFromArray(this,function(g){return g})}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(k){return k?k:function(g,c,f){var a=this.length||0;0>c&&(c=Math.max(0,a+c));if(null==f||f>a)f=a;f=Number(f);0>f&&(f=Math.max(0,a+f));for(c=Number(c||0);c<f;c++)this[c]=g;return this}},"es6","es3");$jscomp.owns=function(k,g){return Object.prototype.hasOwnProperty.call(k,g)};
$jscomp.polyfill("Object.assign",function(k){return k?k:function(g,c){for(var f=1;f<arguments.length;f++){var a=arguments[f];if(a)for(var h in a)$jscomp.owns(a,h)&&(g[h]=a[h])}return g}},"es6","es3");$jscomp.makeIterator=function(k){$jscomp.initSymbolIterator();var g=k[Symbol.iterator];return g?g.call(k):$jscomp.arrayIterator(k)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(k){function g(){this.batch_=null}function c(e){return e instanceof a?e:new a(function(b,a){b(e)})}if(k&&!$jscomp.FORCE_POLYFILL_PROMISE)return k;g.prototype.asyncExecute=function(e){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(e);return this};g.prototype.asyncExecuteBatch_=function(){var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})};var f=$jscomp.global.setTimeout;g.prototype.asyncExecuteFunction=function(e){f(e,
0)};g.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var b=0;b<e.length;++b){var a=e[b];delete e[b];try{a()}catch(n){this.asyncThrow_(n)}}}this.batch_=null};g.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e;})};var a=function(e){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{e(b.resolve,b.reject)}catch(m){b.reject(m)}};a.prototype.createResolveAndReject_=
function(){function e(e){return function(c){a||(a=!0,e.call(b,c))}}var b=this,a=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}};a.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof a)this.settleSameAsPromise_(e);else{a:switch(typeof e){case "object":var b=null!=e;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}};a.prototype.resolveToNonPromiseObj_=function(e){var b=
void 0;try{b=e.then}catch(m){this.reject_(m);return}"function"==typeof b?this.settleSameAsThenable_(b,e):this.fulfill_(e)};a.prototype.reject_=function(e){this.settle_(2,e)};a.prototype.fulfill_=function(e){this.settle_(1,e)};a.prototype.settle_=function(e,b){if(0!=this.state_)throw Error("Cannot settle("+e+", "+b|"): Promise already settled in state"+this.state_);this.state_=e;this.result_=b;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=
this.onSettledCallbacks_,b=0;b<e.length;++b)e[b].call(),e[b]=null;this.onSettledCallbacks_=null}};var h=new g;a.prototype.settleSameAsPromise_=function(e){var b=this.createResolveAndReject_();e.callWhenSettled_(b.resolve,b.reject)};a.prototype.settleSameAsThenable_=function(e,b){var a=this.createResolveAndReject_();try{e.call(b,a.resolve,a.reject)}catch(n){a.reject(n)}};a.prototype.then=function(e,b){function c(b,e){return"function"==typeof b?function(e){try{h(b(e))}catch(x){f(x)}}:e}var h,f,g=new a(function(b,
e){h=b;f=e});this.callWhenSettled_(c(e,h),c(b,f));return g};a.prototype.catch=function(e){return this.then(void 0,e)};a.prototype.callWhenSettled_=function(e,b){function a(){switch(c.state_){case 1:e(c.result_);break;case 2:b(c.result_);break;default:throw Error("Unexpected state: "+c.state_);}}var c=this;null==this.onSettledCallbacks_?h.asyncExecute(a):this.onSettledCallbacks_.push(function(){h.asyncExecute(a)})};a.resolve=c;a.reject=function(e){return new a(function(b,a){a(e)})};a.race=function(e){return new a(function(b,
a){for(var h=$jscomp.makeIterator(e),m=h.next();!m.done;m=h.next())c(m.value).callWhenSettled_(b,a)})};a.all=function(e){var b=$jscomp.makeIterator(e),h=b.next();return h.done?c([]):new a(function(e,a){function m(b){return function(a){f[b]=a;n--;0==n&&e(f)}}var f=[],n=0;do f.push(void 0),n++,c(h.value).callWhenSettled_(m(f.length-1),a),h=b.next();while(!h.done)})};return a},"es6","es3");
$jscomp.polyfill("Array.from",function(k){return k?k:function(g,c,f){$jscomp.initSymbolIterator();c=null!=c?c:function(b){return b};var a=[],h=g[Symbol.iterator];if("function"==typeof h)for(g=h.call(g);!(h=g.next()).done;)a.push(c.call(f,h.value));else{h=g.length;for(var e=0;e<h;e++)a.push(c.call(f,g[e]))}return a}},"es6","es3");
$jscomp.polyfill("String.fromCodePoint",function(k){return k?k:function(g){for(var c="",f=0;f<arguments.length;f++){var a=Number(arguments[f]);if(0>a||1114111<a||a!==Math.floor(a))throw new RangeError("invalid_code_point "+a);65535>=a?c+=String.fromCharCode(a):(a-=65536,c+=String.fromCharCode(a>>>10&1023|55296),c+=String.fromCharCode(a&1023|56320))}return c}},"es6","es3");
$jscomp.checkStringArgs=function(k,g,c){if(null==k)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(g instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return k+""};
$jscomp.polyfill("String.prototype.codePointAt",function(k){return k?k:function(g){var c=$jscomp.checkStringArgs(this,null,"codePointAt"),f=c.length;g=Number(g)||0;if(0<=g&&g<f){g|=0;var a=c.charCodeAt(g);if(55296>a||56319<a||g+1===f)return a;g=c.charCodeAt(g+1);return 56320>g||57343<g?a:1024*(a-55296)+g+9216}}},"es6","es3");
$jscomp.polyfill("WeakMap",function(k){function g(e){$jscomp.owns(e,f)||$jscomp.defineProperty(e,f,{value:{}})}function c(e){var b=Object[e];b&&(Object[e]=function(e){g(e);return b(e)})}if(function(){if(!k||!Object.seal)return!1;try{var e=Object.seal({}),b=Object.seal({}),a=new k([[e,2],[b,3]]);if(2!=a.get(e)||3!=a.get(b))return!1;a.delete(e);a.set(b,4);return!a.has(e)&&4==a.get(b)}catch(n){return!1}}())return k;var f="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");
c("seal");var a=0,h=function(e){this.id_=(a+=Math.random()+1).toString();if(e){$jscomp.initSymbol();$jscomp.initSymbolIterator();e=$jscomp.makeIterator(e);for(var b;!(b=e.next()).done;)b=b.value,this.set(b[0],b[1])}};h.prototype.set=function(e,b){g(e);if(!$jscomp.owns(e,f))throw Error("WeakMap key fail: "+e);e[f][this.id_]=b;return this};h.prototype.get=function(e){return $jscomp.owns(e,f)?e[f][this.id_]:void 0};h.prototype.has=function(e){return $jscomp.owns(e,f)&&$jscomp.owns(e[f],this.id_)};h.prototype.delete=
function(e){return $jscomp.owns(e,f)&&$jscomp.owns(e[f],this.id_)?delete e[f][this.id_]:!1};return h},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(k){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!k||!k.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),e=new k($jscomp.makeIterator([[b,"s"]]));if("s"!=e.get(b)||1!=e.size||e.get({x:4})||e.set({x:4},"t")!=e||2!=e.size)return!1;var a=e.entries(),c=a.next();if(c.done||c.value[0]!=b||"s"!=c.value[1])return!1;c=a.next();return c.done||4!=c.value[0].x||"t"!=c.value[1]||!a.next().done?!1:!0}catch(w){return!1}}())return k;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var g=new WeakMap,c=function(b){this.data_={};this.head_=h();this.size=0;if(b){b=$jscomp.makeIterator(b);for(var e;!(e=b.next()).done;)e=e.value,this.set(e[0],e[1])}};c.prototype.set=function(b,e){var a=f(this,b);a.list||(a.list=this.data_[a.id]=[]);a.entry?a.entry.value=e:(a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:b,value:e},a.list.push(a.entry),this.head_.previous.next=a.entry,this.head_.previous=a.entry,this.size++);return this};c.prototype.delete=
function(b){b=f(this,b);return b.entry&&b.list?(b.list.splice(b.index,1),b.list.length||delete this.data_[b.id],b.entry.previous.next=b.entry.next,b.entry.next.previous=b.entry.previous,b.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=h();this.size=0};c.prototype.has=function(b){return!!f(this,b).entry};c.prototype.get=function(b){return(b=f(this,b).entry)&&b.value};c.prototype.entries=function(){return a(this,function(b){return[b.key,
b.value]})};c.prototype.keys=function(){return a(this,function(b){return b.key})};c.prototype.values=function(){return a(this,function(b){return b.value})};c.prototype.forEach=function(b,e){for(var a=this.entries(),c;!(c=a.next()).done;)c=c.value,b.call(e,c[1],c[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var f=function(b,a){var c=a&&typeof a;"object"==c||"function"==c?g.has(a)?c=g.get(a):(c=""+ ++e,g.set(a,c)):c="p_"+a;var h=b.data_[c];if(h&&$jscomp.owns(b.data_,c))for(b=0;b<h.length;b++){var f=
h[b];if(a!==a&&f.key!==f.key||a===f.key)return{id:c,list:h,index:b,entry:f}}return{id:c,list:h,index:-1,entry:void 0}},a=function(b,e){var a=b.head_;return $jscomp.iteratorPrototype(function(){if(a){for(;a.head!=b.head_;)a=a.previous;for(;a.next!=a.head;)return a=a.next,{done:!1,value:e(a)};a=null}return{done:!0,value:void 0}})},h=function(){var b={};return b.previous=b.next=b.head=b},e=0;return c},"es6","es3");
$jscomp.polyfill("Set",function(k){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!k||!k.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),f=new k($jscomp.makeIterator([c]));if(!f.has(c)||1!=f.size||f.add(c)!=f||1!=f.size||f.add({x:4})!=f||2!=f.size)return!1;var a=f.entries(),h=a.next();if(h.done||h.value[0]!=c||h.value[1]!=c)return!1;h=a.next();return h.done||h.value[0]==c||4!=h.value[0].x||h.value[1]!=h.value[0]?!1:a.next().done}catch(e){return!1}}())return k;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var g=function(c){this.map_=new Map;if(c){c=$jscomp.makeIterator(c);for(var f;!(f=c.next()).done;)this.add(f.value)}this.size=this.map_.size};g.prototype.add=function(c){this.map_.set(c,c);this.size=this.map_.size;return this};g.prototype.delete=function(c){c=this.map_.delete(c);this.size=this.map_.size;return c};g.prototype.clear=function(){this.map_.clear();this.size=0};g.prototype.has=function(c){return this.map_.has(c)};g.prototype.entries=function(){return this.map_.entries()};
g.prototype.values=function(){return this.map_.values()};g.prototype.keys=g.prototype.values;g.prototype[Symbol.iterator]=g.prototype.values;g.prototype.forEach=function(c,f){var a=this;this.map_.forEach(function(h){return c.call(f,h,h,a)})};return g},"es6","es3");$jscomp.polyfill("Object.setPrototypeOf",function(k){return k?k:"object"!=typeof"".__proto__?null:function(g,c){g.__proto__=c;if(g.__proto__!==c)throw new TypeError(g+" is not extensible");return g}},"es6","es5");
(function(k,g){"object"===typeof module&&"object"===typeof module.exports?module.exports=k.document?g(k,!0):function(c){if(!c.document)throw Error("jQuery requires a window with a document");return g(c)}:g(k)})("undefined"!==typeof window?window:this,function(k,g){function c(d){var b=!!d&&"length"in d&&d.length,a=u.type(d);return"function"===a||u.isWindow(d)?!1:"array"===a||0===b||"number"===typeof b&&0<b&&b-1 in d}function f(d,b,a){if(u.isFunction(b))return u.grep(d,function(d,e){return!!b.call(d,
e,d)!==a});if(b.nodeType)return u.grep(d,function(d){return d===b!==a});if("string"===typeof b){if(Pa.test(b))return u.filter(b,d,a);b=u.filter(b,d)}return u.grep(d,function(d){return-1<u.inArray(d,b)!==a})}function a(d,b){do d=d[b];while(d&&1!==d.nodeType);return d}function h(d){var b={};u.each(d.match(lc)||[],function(d,a){b[a]=!0});return b}function e(){R.addEventListener?(R.removeEventListener("DOMContentLoaded",b),k.removeEventListener("load",b)):(R.detachEvent("onreadystatechange",b),k.detachEvent("onload",
b))}function b(){if(R.addEventListener||"load"===k.event.type||"complete"===R.readyState)e(),u.ready()}function m(d,b,a){if(void 0===a&&1===d.nodeType)if(a="data-"+b.replace(Uc,"-$1").toLowerCase(),a=d.getAttribute(a),"string"===typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:re.test(a)?u.parseJSON(a):a}catch(Ob){}u.data(d,b,a)}else a=void 0;return a}function n(d){for(var b in d)if(("data"!==b||!u.isEmptyObject(d[b]))&&"toJSON"!==b)return!1;return!0}function r(d,b,a,e){if(Ad(d)){var l=
u.expando,c=d.nodeType,h=c?u.cache:d,f=c?d[l]:d[l]&&l;if(f&&h[f]&&(e||h[f].data)||void 0!==a||"string"!==typeof b){f||(f=c?d[l]=Ba.pop()||u.guid++:l);h[f]||(h[f]=c?{}:{toJSON:u.noop});if("object"===typeof b||"function"===typeof b)e?h[f]=u.extend(h[f],b):h[f].data=u.extend(h[f].data,b);d=h[f];e||(d.data||(d.data={}),d=d.data);void 0!==a&&(d[u.camelCase(b)]=a);"string"===typeof b?(a=d[b],null==a&&(a=d[u.camelCase(b)])):a=d;return a}}}function w(d,b,a){if(Ad(d)){var e,l,c=d.nodeType,h=c?u.cache:d,f=
c?d[u.expando]:u.expando;if(h[f]){if(b&&(e=a?h[f]:h[f].data)){u.isArray(b)?b=b.concat(u.map(b,u.camelCase)):b in e?b=[b]:(b=u.camelCase(b),b=b in e?[b]:b.split(" "));for(l=b.length;l--;)delete e[b[l]];if(a?!n(e):!u.isEmptyObject(e))return}if(!a&&(delete h[f].data,!n(h[f])))return;c?u.cleanData([d],!0):Q.deleteExpando||h!=h.window?delete h[f]:h[f]=void 0}}}function v(d,b,a,e){var l=1,c=20,h=e?function(){return e.cur()}:function(){return u.css(d,b,"")},f=h(),m=a&&a[3]||(u.cssNumber[b]?"":"px"),n=(u.cssNumber[b]||
"px"!==m&&+f)&&mc.exec(u.css(d,b));if(n&&n[3]!==m){m=m||n[3];a=a||[];n=+f||1;do l=l||".5",n/=l,u.style(d,b,n+m);while(l!==(l=h()/f)&&1!==l&&--c)}if(a){n=+n||+f||0;var z=a[1]?n+(a[1]+1)*a[2]:+a[2];e&&(e.unit=m,e.start=n,e.end=z)}return z}function A(d){var b="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video".split(" ");d=d.createDocumentFragment();if(d.createElement)for(;b.length;)d.createElement(b.pop());
return d}function y(d,b){var a,e,l=0,c="undefined"!==typeof d.getElementsByTagName?d.getElementsByTagName(b||"*"):"undefined"!==typeof d.querySelectorAll?d.querySelectorAll(b||"*"):void 0;if(!c)for(c=[],a=d.childNodes||d;null!=(e=a[l]);l++)!b||u.nodeName(e,b)?c.push(e):u.merge(c,y(e,b));return void 0===b||b&&u.nodeName(d,b)?u.merge([d],c):c}function x(d,b){for(var a,e=0;null!=(a=d[e]);e++)u._data(a,"globalEval",!b||u._data(b[e],"globalEval"))}function q(d){$a.test(d.type)&&(d.defaultChecked=d.checked)}
function B(d,b,a,e,l){for(var c,h,f,m,n,z,g=d.length,r=A(b),k=[],w=0;w<g;w++)if((h=d[w])||0===h)if("object"===u.type(h))u.merge(k,h.nodeType?[h]:h);else if(N.test(h)){f=f||r.appendChild(b.createElement("div"));m=(xc.exec(h)||["",""])[1].toLowerCase();z=Hb[m]||Hb._default;f.innerHTML=z[1]+u.htmlPrefilter(h)+z[2];for(c=z[0];c--;)f=f.lastChild;!Q.leadingWhitespace&&Yd.test(h)&&k.push(b.createTextNode(Yd.exec(h)[0]));if(!Q.tbody)for(c=(h="table"!==m||Bd.test(h)?"<table>"!==z[1]||Bd.test(h)?0:f:f.firstChild)&&
h.childNodes.length;c--;)u.nodeName(n=h.childNodes[c],"tbody")&&!n.childNodes.length&&h.removeChild(n);u.merge(k,f.childNodes);for(f.textContent="";f.firstChild;)f.removeChild(f.firstChild);f=r.lastChild}else k.push(b.createTextNode(h));f&&r.removeChild(f);Q.appendChecked||u.grep(y(k,"input"),q);for(w=0;h=k[w++];)if(e&&-1<u.inArray(h,e))l&&l.push(h);else if(d=u.contains(h.ownerDocument,h),f=y(r.appendChild(h),"script"),d&&x(f),a)for(c=0;h=f[c++];)Vc.test(h.type||"")&&a.push(h);return r}function C(){return!0}
function E(){return!1}function I(){try{return R.activeElement}catch(Wa){}}function F(d,b,a,e,l,c){var h;if("object"===typeof b){"string"!==typeof a&&(e=e||a,a=void 0);for(h in b)F(d,h,a,e,b[h],c);return d}null==e&&null==l?(l=a,e=a=void 0):null==l&&("string"===typeof a?(l=e,e=void 0):(l=e,e=a,a=void 0));if(!1===l)l=E;else if(!l)return d;if(1===c){var f=l;l=function(d){u().off(d);return f.apply(this,arguments)};l.guid=f.guid||(f.guid=u.guid++)}return d.each(function(){u.event.add(this,b,l,e,a)})}function J(d,
b){return u.nodeName(d,"table")&&u.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?d.getElementsByTagName("tbody")[0]||d.appendChild(d.ownerDocument.createElement("tbody")):d}function L(d){d.type=(null!==u.find.attr(d,"type"))+"/"+d.type;return d}function d(d){var b=Ke.exec(d.type);b?d.type=b[1]:d.removeAttribute("type");return d}function l(d,b){if(1===b.nodeType&&u.hasData(d)){var a,e;var l=u._data(d);d=u._data(b,l);var c=l.events;if(c)for(a in delete d.handle,d.events={},c)for(l=0,e=c[a].length;l<
e;l++)u.event.add(b,a,c[a][l]);d.data&&(d.data=u.extend({},d.data))}}function z(b,a,e,l){a=Ca.apply([],a);var c,h=0,f=b.length,m=f-1,n=a[0],g=u.isFunction(n);if(g||1<f&&"string"===typeof n&&!Q.checkClone&&Ka.test(n))return b.each(function(d){var c=b.eq(d);g&&(a[0]=n.call(this,d,c.html()));z(c,a,e,l)});if(f){var r=B(a,b[0].ownerDocument,!1,b,l);var q=r.firstChild;1===r.childNodes.length&&(r=q);if(q||l){var k=u.map(y(r,"script"),L);for(c=k.length;h<f;h++)q=r,h!==m&&(q=u.clone(q,!0,!0),c&&u.merge(k,
y(q,"script"))),e.call(b[h],q,h);if(c)for(r=k[k.length-1].ownerDocument,u.map(k,d),h=0;h<c;h++)q=k[h],Vc.test(q.type||"")&&!u._data(q,"globalEval")&&u.contains(r,q)&&(q.src?u._evalUrl&&u._evalUrl(q.src):u.globalEval((q.text||q.textContent||q.innerHTML||"").replace(Ib,"")));r=q=null}}return b}function G(d,b,a){for(var e=b?u.filter(b,d):d,l=0;null!=(b=e[l]);l++)a||1!==b.nodeType||u.cleanData(y(b)),b.parentNode&&(a&&u.contains(b.ownerDocument,b)&&x(y(b,"script")),b.parentNode.removeChild(b));return d}
function K(d,b){d=u(b.createElement(d)).appendTo(b.body);b=u.css(d[0],"display");d.detach();return b}function T(d){var b=R,a=S[d];a||(a=K(d,b),"none"!==a&&a||(ca=(ca||u("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(ca[0].contentWindow||ca[0].contentDocument).document,b.write(),b.close(),a=K(d,b),ca.detach()),S[d]=a);return a}function ja(d,b){return{get:function(){if(d())delete this.get;else return(this.get=b).apply(this,arguments)}}}function W(d){if(d in Pb)return d;
for(var b=d.charAt(0).toUpperCase()+d.slice(1),a=Le.length;a--;)if(d=Le[a]+b,d in Pb)return d}function Ea(d,b){for(var a,e,l,c=[],h=0,f=d.length;h<f;h++)e=d[h],e.style&&(c[h]=u._data(e,"olddisplay"),a=e.style.display,b?(c[h]||"none"!==a||(e.style.display=""),""===e.style.display&&Gc(e)&&(c[h]=u._data(e,"olddisplay",T(e.nodeName)))):(l=Gc(e),(a&&"none"!==a||!l)&&u._data(e,"olddisplay",l?a:u.css(e,"display"))));for(h=0;h<f;h++)e=d[h],!e.style||b&&"none"!==e.style.display&&""!==e.style.display||(e.style.display=
b?c[h]||"":"none");return d}function ea(d,b,a){return(d=nc.exec(b))?Math.max(0,d[1]-(a||0))+(d[2]||"px"):b}function Y(d,b,a,e,l){b=a===(e?"border":"content")?4:"width"===b?1:0;for(var c=0;4>b;b+=2)"margin"===a&&(c+=u.css(d,a+sb[b],!0,l)),e?("content"===a&&(c-=u.css(d,"padding"+sb[b],!0,l)),"margin"!==a&&(c-=u.css(d,"border"+sb[b]+"Width",!0,l))):(c+=u.css(d,"padding"+sb[b],!0,l),"padding"!==a&&(c+=u.css(d,"border"+sb[b]+"Width",!0,l)));return c}function aa(d,b,a){var e=!0,l="width"===b?d.offsetWidth:
d.offsetHeight,c=oc(d),h=Q.boxSizing&&"border-box"===u.css(d,"boxSizing",!1,c);if(0>=l||null==l){l=Zb(d,b,c);if(0>l||null==l)l=d.style[b];if(tb.test(l))return l;e=h&&(Q.boxSizingReliable()||l===d.style[b]);l=parseFloat(l)||0}return l+Y(d,b,a||(h?"border":"content"),e,c)+"px"}function O(d,b,a,e,l){return new O.prototype.init(d,b,a,e,l)}function fa(){k.setTimeout(function(){pc=void 0});return pc=u.now()}function xa(d,b){var a={height:d},e=0;for(b=b?1:0;4>e;e+=2-b){var l=sb[e];a["margin"+l]=a["padding"+
l]=d}b&&(a.opacity=a.width=d);return a}function ma(d,b,a){for(var e,l=(ua.tweeners[b]||[]).concat(ua.tweeners["*"]),c=0,h=l.length;c<h;c++)if(e=l[c].call(a,b,d))return e}function ha(d,b){var a,e;for(a in d){var l=u.camelCase(a);var c=b[l];var h=d[a];u.isArray(h)&&(c=h[1],h=d[a]=h[0]);a!==l&&(d[l]=h,delete d[a]);if((e=u.cssHooks[l])&&"expand"in e)for(a in h=e.expand(h),delete d[l],h)a in d||(d[a]=h[a],b[a]=c);else b[l]=c}}function ua(d,b,a){var e,l=0,c=ua.prefilters.length,h=u.Deferred().always(function(){delete f.elem}),
f=function(){if(e)return!1;var b=pc||fa();b=Math.max(0,m.startTime+m.duration-b);for(var a=1-(b/m.duration||0),l=0,c=m.tweens.length;l<c;l++)m.tweens[l].run(a);h.notifyWith(d,[m,a,b]);if(1>a&&c)return b;h.resolveWith(d,[m]);return!1},m=h.promise({elem:d,props:u.extend({},b),opts:u.extend(!0,{specialEasing:{},easing:u.easing._default},a),originalProperties:b,originalOptions:a,startTime:pc||fa(),duration:a.duration,tweens:[],createTween:function(b,a){b=u.Tween(d,m.opts,b,a,m.opts.specialEasing[b]||
m.opts.easing);m.tweens.push(b);return b},stop:function(b){var a=0,l=b?m.tweens.length:0;if(e)return this;for(e=!0;a<l;a++)m.tweens[a].run(1);b?(h.notifyWith(d,[m,1,0]),h.resolveWith(d,[m,b])):h.rejectWith(d,[m,b]);return this}});a=m.props;for(ha(a,m.opts.specialEasing);l<c;l++)if(b=ua.prefilters[l].call(m,d,a,m.opts))return u.isFunction(b.stop)&&(u._queueHooks(m.elem,m.opts.queue).stop=u.proxy(b.stop,b)),b;u.map(a,ma,m);u.isFunction(m.opts.start)&&m.opts.start.call(d,m);u.fx.timer(u.extend(f,{elem:d,
anim:m,queue:m.opts.queue}));return m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always)}function Xa(d){return u.attr(d,"class")||""}function fb(d){return function(b,a){"string"!==typeof b&&(a=b,b="*");var e=0,l=b.toLowerCase().match(lc)||[];if(u.isFunction(a))for(;b=l[e++];)"+"===b.charAt(0)?(b=b.slice(1)||"*",(d[b]=d[b]||[]).unshift(a)):(d[b]=d[b]||[]).push(a)}}function Ub(d,b,a,e){function l(f){var m;c[f]=!0;u.each(d[f]||[],function(d,f){d=f(b,a,
e);if("string"===typeof d&&!h&&!c[d])return b.dataTypes.unshift(d),l(d),!1;if(h)return!(m=d)});return m}var c={},h=d===se;return l(b.dataTypes[0])||!c["*"]&&l("*")}function Fa(d,b){var a,e,l=u.ajaxSettings.flatOptions||{};for(e in b)void 0!==b[e]&&((l[e]?d:a||(a={}))[e]=b[e]);a&&u.extend(!0,d,a);return d}function yc(d){if(!u.contains(d.ownerDocument||R,d))return!0;for(;d&&1===d.nodeType;){if("none"===(d.style&&d.style.display||u.css(d,"display"))||"hidden"===d.type)return!0;d=d.parentNode}return!1}
function Oa(d,b,a,e){var l;if(u.isArray(b))u.each(b,function(b,l){a||te.test(d)?e(d,l):Oa(d+"["+("object"===typeof l&&null!=l?b:"")+"]",l,a,e)});else if(a||"object"!==u.type(b))e(d,b);else for(l in b)Oa(d+"["+l+"]",b[l],a,e)}function xb(){try{return new k.XMLHttpRequest}catch(Wa){}}function Jb(){try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(Wa){}}function Ha(d){return u.isWindow(d)?d:9===d.nodeType?d.defaultView||d.parentWindow:!1}var Ba=[],R=k.document,Aa=Ba.slice,Ca=Ba.concat,mb=Ba.push,
ab=Ba.indexOf,ya={},ib=ya.toString,nb=ya.hasOwnProperty,Q={},u=function(d,b){return new u.fn.init(d,b)},yb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pa=/^-ms-/,vb=/-([\da-z])/gi,Wc=function(d,b){return b.toUpperCase()};u.fn=u.prototype={jquery:"1.12.4",constructor:u,selector:"",length:0,toArray:function(){return Aa.call(this)},get:function(d){return null!=d?0>d?this[d+this.length]:this[d]:Aa.call(this)},pushStack:function(d){d=u.merge(this.constructor(),d);d.prevObject=this;d.context=this.context;return d},
each:function(d){return u.each(this,d)},map:function(d){return this.pushStack(u.map(this,function(b,a){return d.call(b,a,b)}))},slice:function(){return this.pushStack(Aa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(d){var b=this.length;d=+d+(0>d?b:0);return this.pushStack(0<=d&&d<b?[this[d]]:[])},end:function(){return this.prevObject||this.constructor()},push:mb,sort:Ba.sort,splice:Ba.splice};u.extend=u.fn.extend=function(){var d,b,a,
e=arguments[0]||{},l=1,c=arguments.length,h=!1;"boolean"===typeof e&&(h=e,e=arguments[l]||{},l++);"object"===typeof e||u.isFunction(e)||(e={});l===c&&(e=this,l--);for(;l<c;l++)if(null!=(a=arguments[l]))for(b in a){var f=e[b];var m=a[b];e!==m&&(h&&m&&(u.isPlainObject(m)||(d=u.isArray(m)))?(d?(d=!1,f=f&&u.isArray(f)?f:[]):f=f&&u.isPlainObject(f)?f:{},e[b]=u.extend(h,f,m)):void 0!==m&&(e[b]=m))}return e};u.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw Error(d);
},noop:function(){},isFunction:function(d){return"function"===u.type(d)},isArray:Array.isArray||function(d){return"array"===u.type(d)},isWindow:function(d){return null!=d&&d==d.window},isNumeric:function(d){var b=d&&d.toString();return!u.isArray(d)&&0<=b-parseFloat(b)+1},isEmptyObject:function(d){for(var b in d)return!1;return!0},isPlainObject:function(d){var b;if(!d||"object"!==u.type(d)||d.nodeType||u.isWindow(d))return!1;try{if(d.constructor&&!nb.call(d,"constructor")&&!nb.call(d.constructor.prototype,
"isPrototypeOf"))return!1}catch(kg){return!1}if(!Q.ownFirst)for(b in d)return nb.call(d,b);for(b in d);return void 0===b||nb.call(d,b)},type:function(d){return null==d?d+"":"object"===typeof d||"function"===typeof d?ya[ib.call(d)]||"object":typeof d},globalEval:function(d){d&&u.trim(d)&&(k.execScript||function(d){k.eval.call(k,d)})(d)},camelCase:function(d){return d.replace(pa,"ms-").replace(vb,Wc)},nodeName:function(d,b){return d.nodeName&&d.nodeName.toLowerCase()===b.toLowerCase()},each:function(d,
b){var a,e=0;if(c(d))for(a=d.length;e<a&&!1!==b.call(d[e],e,d[e]);e++);else for(e in d)if(!1===b.call(d[e],e,d[e]))break;return d},trim:function(d){return null==d?"":(d+"").replace(yb,"")},makeArray:function(d,b){b=b||[];null!=d&&(c(Object(d))?u.merge(b,"string"===typeof d?[d]:d):mb.call(b,d));return b},inArray:function(d,b,a){if(b){if(ab)return ab.call(b,d,a);var e=b.length;for(a=a?0>a?Math.max(0,e+a):a:0;a<e;a++)if(a in b&&b[a]===d)return a}return-1},merge:function(d,b){for(var a=+b.length,e=0,
l=d.length;e<a;)d[l++]=b[e++];if(a!==a)for(;void 0!==b[e];)d[l++]=b[e++];d.length=l;return d},grep:function(d,b,a){for(var e=[],l=0,c=d.length,h=!a;l<c;l++)a=!b(d[l],l),a!==h&&e.push(d[l]);return e},map:function(d,b,a){var e,l=0,h=[];if(c(d))for(e=d.length;l<e;l++){var f=b(d[l],l,a);null!=f&&h.push(f)}else for(l in d)f=b(d[l],l,a),null!=f&&h.push(f);return Ca.apply([],h)},guid:1,proxy:function(d,b){if("string"===typeof b){var a=d[b];b=d;d=a}if(u.isFunction(d)){var e=Aa.call(arguments,2);a=function(){return d.apply(b||
this,e.concat(Aa.call(arguments)))};a.guid=d.guid=d.guid||u.guid++;return a}},now:function(){return+new Date},support:Q});"function"===typeof Symbol&&(u.fn[Symbol.iterator]=Ba[Symbol.iterator]);u.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,b){ya["[object "+b+"]"]=b.toLowerCase()});var cc=function(d){function b(d,b,a,e){var l,c,h,f,m=b&&b.ownerDocument,n=b?b.nodeType:9;a=a||[];if("string"!==typeof d||!d||1!==n&&9!==n&&11!==n)return a;if(!e&&((b?
b.ownerDocument||b:F)!==C&&ib(b),b=b||C,E)){if(11!==n&&(f=Fa.exec(d)))if(l=f[1])if(9===n)if(c=b.getElementById(l)){if(c.id===l)return a.push(c),a}else return a;else{if(m&&(c=m.getElementById(l))&&I(b,c)&&c.id===l)return a.push(c),a}else{if(f[2])return Aa.apply(a,b.getElementsByTagName(d)),a;if((l=f[3])&&ya.getElementsByClassName&&b.getElementsByClassName)return Aa.apply(a,b.getElementsByClassName(l)),a}if(!(!ya.qsa||O[d+" "]||Wa&&Wa.test(d))){if(1!==n){m=b;var g=d}else if("object"!==b.nodeName.toLowerCase()){(h=
b.getAttribute("id"))?h=h.replace(Q,"\\$&"):b.setAttribute("id",h=Y);f=nb(d);l=f.length;for(c=Xa.test(h)?"#"+h:"[id='"+h+"']";l--;)f[l]=c+" "+r(f[l]);g=f.join(",");m=Ha.test(d)&&z(b.parentNode)||b}if(g)try{return Aa.apply(a,m.querySelectorAll(g)),a}catch(hd){}finally{h===Y&&b.removeAttribute("id")}}}return X(d.replace(ua,"$1"),b,a,e)}function a(){function d(a,e){b.push(a+" ")>P.cacheLength&&delete d[b.shift()];return d[a+" "]=e}var b=[];return d}function e(d){d[Y]=!0;return d}function l(d){var b=
C.createElement("div");try{return!!d(b)}catch(jf){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function c(d,b){d=d.split("|");for(var a=d.length;a--;)P.attrHandle[d[a]]=b}function h(d,b){var a=b&&d,e=a&&1===d.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~d.sourceIndex||-2147483648);if(e)return e;if(a)for(;a=a.nextSibling;)if(a===b)return-1;return d?1:-1}function f(d){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===d}}function m(d){return function(b){var a=
b.nodeName.toLowerCase();return("input"===a||"button"===a)&&b.type===d}}function n(d){return e(function(b){b=+b;return e(function(a,e){for(var l,c=d([],a.length,b),h=c.length;h--;)a[l=c[h]]&&(a[l]=!(e[l]=a[l]))})})}function z(d){return d&&"undefined"!==typeof d.getElementsByTagName&&d}function g(){}function r(d){for(var b=0,a=d.length,e="";b<a;b++)e+=d[b].value;return e}function q(d,b,a){var e=b.dir,l=a&&"parentNode"===e,c=u++;return b.first?function(b,a,c){for(;b=b[e];)if(1===b.nodeType||l)return d(b,
a,c)}:function(b,a,h){var f,m=[aa,c];if(h)for(;b=b[e];){if((1===b.nodeType||l)&&d(b,a,h))return!0}else for(;b=b[e];)if(1===b.nodeType||l){var n=b[Y]||(b[Y]={});n=n[b.uniqueID]||(n[b.uniqueID]={});if((f=n[e])&&f[0]===aa&&f[1]===c)return m[2]=f[2];n[e]=m;if(m[2]=d(b,a,h))return!0}}}function k(d){return 1<d.length?function(b,a,e){for(var l=d.length;l--;)if(!d[l](b,a,e))return!1;return!0}:d[0]}function w(d,b,a,e,l){for(var c,h=[],f=0,m=d.length,n=null!=b;f<m;f++)if(c=d[f])if(!a||a(c,e,l))h.push(c),n&&
b.push(f);return h}function v(d,a,l,c,h,f){c&&!c[Y]&&(c=v(c));h&&!h[Y]&&(h=v(h,f));return e(function(e,f,m,n){var z,g=[],r=[],q=f.length,k;if(!(k=e)){k=a||"*";for(var v=m.nodeType?[m]:m,y=[],x=0,G=v.length;x<G;x++)b(k,v[x],y);k=y}k=!d||!e&&a?k:w(k,g,d,m,n);v=l?h||(e?d:q||c)?[]:f:k;l&&l(k,v,m,n);if(c){var B=w(v,r);c(B,[],m,n);for(m=B.length;m--;)if(z=B[m])v[r[m]]=!(k[r[m]]=z)}if(e){if(h||d){if(h){B=[];for(m=v.length;m--;)(z=v[m])&&B.push(k[m]=z);h(null,v=[],B,n)}for(m=v.length;m--;)(z=v[m])&&-1<(B=
h?ha(e,z):g[m])&&(e[B]=!(f[B]=z))}}else v=w(v===f?v.splice(q,v.length):v),h?h(null,f,v,n):Aa.apply(f,v)})}function y(d){var b,a,e=d.length,l=P.relative[d[0].type];var c=l||P.relative[" "];for(var h=l?1:0,f=q(function(d){return d===b},c,!0),m=q(function(d){return-1<ha(b,d)},c,!0),n=[function(d,a,e){d=!l&&(e||a!==A)||((b=a).nodeType?f(d,a,e):m(d,a,e));b=null;return d}];h<e;h++)if(c=P.relative[d[h].type])n=[q(k(n),c)];else{c=P.filter[d[h].type].apply(null,d[h].matches);if(c[Y]){for(a=++h;a<e&&!P.relative[d[a].type];a++);
return v(1<h&&k(n),1<h&&r(d.slice(0,h-1).concat({value:" "===d[h-2].type?"*":""})).replace(ua,"$1"),c,h<a&&y(d.slice(h,a)),a<e&&y(d=d.slice(a)),a<e&&r(d))}n.push(c)}return k(n)}function x(d,a){var l=0<a.length,c=0<d.length,h=function(e,h,f,m,n){var z,g,r=0,q="0",k=e&&[],v=[],y=A,x=e||c&&P.find.TAG("*",n),G=aa+=null==y?1:Math.random()||.1,B=x.length;for(n&&(A=h===C||h||n);q!==B&&null!=(z=x[q]);q++){if(c&&z){var K=0;h||z.ownerDocument===C||(ib(z),f=!E);for(;g=d[K++];)if(g(z,h||C,f)){m.push(z);break}n&&
(aa=G)}l&&((z=!g&&z)&&r--,e&&k.push(z))}r+=q;if(l&&q!==r){for(K=0;g=a[K++];)g(k,v,h,f);if(e){if(0<r)for(;q--;)k[q]||v[q]||(v[q]=fa.call(m));v=w(v)}Aa.apply(m,v);n&&!e&&0<v.length&&1<r+a.length&&b.uniqueSort(m)}n&&(aa=G,A=y);return k};return l?e(h):h}var G,A,B,K,C,T,E,Wa,J,W,I,Y="sizzle"+1*new Date,F=d.document,aa=0,u=0,ja=a(),Ea=a(),O=a(),L=function(d,b){d===b&&(K=!0);return 0},ea={}.hasOwnProperty,ma=[],fa=ma.pop,Oa=ma.push,Aa=ma.push,yc=ma.slice,ha=function(d,b){for(var a=0,e=d.length;a<e;a++)if(d[a]===
b)return a;return-1},mb=/[\x20\t\r\n\f]+/g,ua=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,xa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Ca=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,R=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,xb=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
Xa=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ab={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Jb=/^(?:input|select|textarea|button)$/i,Ba=/^h\d$/i,fb=
/^[^{]+\{\s*\[native \w/,Fa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ha=/[+~]/,Q=/'|\\/g,M=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,N=function(d,b,a){d="0x"+b-65536;return d!==d||a?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,d&1023|56320)},Ub=function(){ib()};try{Aa.apply(ma=yc.call(F.childNodes),F.childNodes),ma[F.childNodes.length].nodeType}catch(ue){Aa={apply:ma.length?function(d,b){Oa.apply(d,yc.call(b))}:function(d,b){for(var a=d.length,e=0;d[a++]=b[e++];);d.length=
a-1}}}var ya=b.support={};var pa=b.isXML=function(d){return(d=d&&(d.ownerDocument||d).documentElement)?"HTML"!==d.nodeName:!1};var ib=b.setDocument=function(d){var b;d=d?d.ownerDocument||d:F;if(d===C||9!==d.nodeType||!d.documentElement)return C;C=d;T=C.documentElement;E=!pa(C);(b=C.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",Ub,!1):b.attachEvent&&b.attachEvent("onunload",Ub));ya.attributes=l(function(d){d.className="i";return!d.getAttribute("className")});ya.getElementsByTagName=
l(function(d){d.appendChild(C.createComment(""));return!d.getElementsByTagName("*").length});ya.getElementsByClassName=fb.test(C.getElementsByClassName);ya.getById=l(function(d){T.appendChild(d).id=Y;return!C.getElementsByName||!C.getElementsByName(Y).length});ya.getById?(P.find.ID=function(d,b){if("undefined"!==typeof b.getElementById&&E)return(d=b.getElementById(d))?[d]:[]},P.filter.ID=function(d){var b=d.replace(M,N);return function(d){return d.getAttribute("id")===b}}):(delete P.find.ID,P.filter.ID=
function(d){var b=d.replace(M,N);return function(d){return(d="undefined"!==typeof d.getAttributeNode&&d.getAttributeNode("id"))&&d.value===b}});P.find.TAG=ya.getElementsByTagName?function(d,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(d);if(ya.qsa)return b.querySelectorAll(d)}:function(d,b){var a=[],e=0;b=b.getElementsByTagName(d);if("*"===d){for(;d=b[e++];)1===d.nodeType&&a.push(d);return a}return b};P.find.CLASS=ya.getElementsByClassName&&function(d,b){if("undefined"!==
typeof b.getElementsByClassName&&E)return b.getElementsByClassName(d)};J=[];Wa=[];if(ya.qsa=fb.test(C.querySelectorAll))l(function(d){T.appendChild(d).innerHTML="<a id='"+Y+"'></a><select id='"+Y+"-\r\\' msallowcapture=''><option selected=''></option></select>";d.querySelectorAll("[msallowcapture^='']").length&&Wa.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");d.querySelectorAll("[selected]").length||Wa.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
d.querySelectorAll("[id~="+Y+"-]").length||Wa.push("~=");d.querySelectorAll(":checked").length||Wa.push(":checked");d.querySelectorAll("a#"+Y+"+*").length||Wa.push(".#.+[+~]")}),l(function(d){var b=C.createElement("input");b.setAttribute("type","hidden");d.appendChild(b).setAttribute("name","D");d.querySelectorAll("[name=d]").length&&Wa.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");d.querySelectorAll(":enabled").length||Wa.push(":enabled",":disabled");d.querySelectorAll("*,:x");Wa.push(",.*:")});(ya.matchesSelector=
fb.test(W=T.matches||T.webkitMatchesSelector||T.mozMatchesSelector||T.oMatchesSelector||T.msMatchesSelector))&&l(function(d){ya.disconnectedMatch=W.call(d,"div");W.call(d,"[s!='']:x");J.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
Wa=Wa.length&&new RegExp(Wa.join("|"));J=J.length&&new RegExp(J.join("|"));I=(b=fb.test(T.compareDocumentPosition))||fb.test(T.contains)?function(d,b){var a=9===d.nodeType?d.documentElement:d;b=b&&b.parentNode;return d===b||!!(b&&1===b.nodeType&&(a.contains?a.contains(b):d.compareDocumentPosition&&d.compareDocumentPosition(b)&16))}:function(d,b){if(b)for(;b=b.parentNode;)if(b===d)return!0;return!1};L=b?function(d,b){if(d===b)return K=!0,0;var a=!d.compareDocumentPosition-!b.compareDocumentPosition;
if(a)return a;a=(d.ownerDocument||d)===(b.ownerDocument||b)?d.compareDocumentPosition(b):1;return a&1||!ya.sortDetached&&b.compareDocumentPosition(d)===a?d===C||d.ownerDocument===F&&I(F,d)?-1:b===C||b.ownerDocument===F&&I(F,b)?1:B?ha(B,d)-ha(B,b):0:a&4?-1:1}:function(d,b){if(d===b)return K=!0,0;var a=0,e=d.parentNode,l=b.parentNode,c=[d],f=[b];if(!e||!l)return d===C?-1:b===C?1:e?-1:l?1:B?ha(B,d)-ha(B,b):0;if(e===l)return h(d,b);for(;d=d.parentNode;)c.unshift(d);for(d=b;d=d.parentNode;)f.unshift(d);
for(;c[a]===f[a];)a++;return a?h(c[a],f[a]):c[a]===F?-1:f[a]===F?1:0};return C};b.matches=function(d,a){return b(d,null,null,a)};b.matchesSelector=function(d,a){(d.ownerDocument||d)!==C&&ib(d);a=a.replace(R,"='$1']");if(!(!ya.matchesSelector||!E||O[a+" "]||J&&J.test(a)||Wa&&Wa.test(a)))try{var e=W.call(d,a);if(e||ya.disconnectedMatch||d.document&&11!==d.document.nodeType)return e}catch(Kf){}return 0<b(a,C,null,[d]).length};b.contains=function(d,b){(d.ownerDocument||d)!==C&&ib(d);return I(d,b)};b.attr=
function(d,b){(d.ownerDocument||d)!==C&&ib(d);var a=P.attrHandle[b.toLowerCase()];a=a&&ea.call(P.attrHandle,b.toLowerCase())?a(d,b,!E):void 0;return void 0!==a?a:ya.attributes||!E?d.getAttribute(b):(a=d.getAttributeNode(b))&&a.specified?a.value:null};b.error=function(d){throw Error("Syntax error, unrecognized expression: "+d);};b.uniqueSort=function(d){var b,a=[],e=0,l=0;K=!ya.detectDuplicates;B=!ya.sortStable&&d.slice(0);d.sort(L);if(K){for(;b=d[l++];)b===d[l]&&(e=a.push(l));for(;e--;)d.splice(a[e],
1)}B=null;return d};var S=b.getText=function(d){var b="",a=0;var e=d.nodeType;if(!e)for(;e=d[a++];)b+=S(e);else if(1===e||9===e||11===e){if("string"===typeof d.textContent)return d.textContent;for(d=d.firstChild;d;d=d.nextSibling)b+=S(d)}else if(3===e||4===e)return d.nodeValue;return b};var P=b.selectors={cacheLength:50,createPseudo:e,match:ab,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(d){d[1]=
d[1].replace(M,N);d[3]=(d[3]||d[4]||d[5]||"").replace(M,N);"~="===d[2]&&(d[3]=" "+d[3]+" ");return d.slice(0,4)},CHILD:function(d){d[1]=d[1].toLowerCase();"nth"===d[1].slice(0,3)?(d[3]||b.error(d[0]),d[4]=+(d[4]?d[5]+(d[6]||1):2*("even"===d[3]||"odd"===d[3])),d[5]=+(d[7]+d[8]||"odd"===d[3])):d[3]&&b.error(d[0]);return d},PSEUDO:function(d){var b,a=!d[6]&&d[2];if(ab.CHILD.test(d[0]))return null;d[3]?d[2]=d[4]||d[5]||"":a&&xb.test(a)&&(b=nb(a,!0))&&(b=a.indexOf(")",a.length-b)-a.length)&&(d[0]=d[0].slice(0,
b),d[2]=a.slice(0,b));return d.slice(0,3)}},filter:{TAG:function(d){var b=d.replace(M,N).toLowerCase();return"*"===d?function(){return!0}:function(d){return d.nodeName&&d.nodeName.toLowerCase()===b}},CLASS:function(d){var b=ja[d+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+d+"([\\x20\\t\\r\\n\\f]|$)"),ja(d,function(d){return b.test("string"===typeof d.className&&d.className||"undefined"!==typeof d.getAttribute&&d.getAttribute("class")||"")}))},ATTR:function(d,a,e){return function(l){l=b.attr(l,
d);if(null==l)return"!="===a;if(!a)return!0;l+="";return"="===a?l===e:"!="===a?l!==e:"^="===a?e&&0===l.indexOf(e):"*="===a?e&&-1<l.indexOf(e):"$="===a?e&&l.slice(-e.length)===e:"~="===a?-1<(" "+l.replace(mb," ")+" ").indexOf(e):"|="===a?l===e||l.slice(0,e.length+1)===e+"-":!1}},CHILD:function(d,b,a,e,l){var c="nth"!==d.slice(0,3),h="last"!==d.slice(-4),f="of-type"===b;return 1===e&&0===l?function(d){return!!d.parentNode}:function(b,a,m){var n,z;a=c!==h?"nextSibling":"previousSibling";var g=b.parentNode,
r=f&&b.nodeName.toLowerCase();m=!m&&!f;var q=!1;if(g){if(c){for(;a;){for(n=b;n=n[a];)if(f?n.nodeName.toLowerCase()===r:1===n.nodeType)return!1;var k=a="only"===d&&!k&&"nextSibling"}return!0}k=[h?g.firstChild:g.lastChild];if(h&&m){n=g;var w=n[Y]||(n[Y]={});w=w[n.uniqueID]||(w[n.uniqueID]={});q=w[d]||[];q=(z=q[0]===aa&&q[1])&&q[2];for(n=z&&g.childNodes[z];n=++z&&n&&n[a]||(q=z=0)||k.pop();)if(1===n.nodeType&&++q&&n===b){w[d]=[aa,z,q];break}}else if(m&&(n=b,w=n[Y]||(n[Y]={}),w=w[n.uniqueID]||(w[n.uniqueID]=
{}),q=w[d]||[],q=z=q[0]===aa&&q[1]),!1===q)for(;(n=++z&&n&&n[a]||(q=z=0)||k.pop())&&((f?n.nodeName.toLowerCase()!==r:1!==n.nodeType)||!++q||(m&&(w=n[Y]||(n[Y]={}),w=w[n.uniqueID]||(w[n.uniqueID]={}),w[d]=[aa,q]),n!==b)););q-=l;return q===e||0===q%e&&0<=q/e}}},PSEUDO:function(d,a){var l=P.pseudos[d]||P.setFilters[d.toLowerCase()]||b.error("unsupported pseudo: "+d);if(l[Y])return l(a);if(1<l.length){var c=[d,d,"",a];return P.setFilters.hasOwnProperty(d.toLowerCase())?e(function(d,b){for(var e,c=l(d,
a),h=c.length;h--;)e=ha(d,c[h]),d[e]=!(b[e]=c[h])}):function(d){return l(d,0,c)}}return l}},pseudos:{not:e(function(d){var b=[],a=[],l=yb(d.replace(ua,"$1"));return l[Y]?e(function(d,b,a,e){e=l(d,null,e,[]);for(var c=d.length;c--;)if(a=e[c])d[c]=!(b[c]=a)}):function(d,e,c){b[0]=d;l(b,null,c,a);b[0]=null;return!a.pop()}}),has:e(function(d){return function(a){return 0<b(d,a).length}}),contains:e(function(d){d=d.replace(M,N);return function(b){return-1<(b.textContent||b.innerText||S(b)).indexOf(d)}}),
lang:e(function(d){Xa.test(d||"")||b.error("unsupported lang: "+d);d=d.replace(M,N).toLowerCase();return function(b){var a;do if(a=E?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return a=a.toLowerCase(),a===d||0===a.indexOf(d+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var a=d.location&&d.location.hash;return a&&a.slice(1)===b.id},root:function(d){return d===T},focus:function(d){return d===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(d.type||d.href||
~d.tabIndex)},enabled:function(d){return!1===d.disabled},disabled:function(d){return!0===d.disabled},checked:function(d){var b=d.nodeName.toLowerCase();return"input"===b&&!!d.checked||"option"===b&&!!d.selected},selected:function(d){d.parentNode&&d.parentNode.selectedIndex;return!0===d.selected},empty:function(d){for(d=d.firstChild;d;d=d.nextSibling)if(6>d.nodeType)return!1;return!0},parent:function(d){return!P.pseudos.empty(d)},header:function(d){return Ba.test(d.nodeName)},input:function(d){return Jb.test(d.nodeName)},
button:function(d){var b=d.nodeName.toLowerCase();return"input"===b&&"button"===d.type||"button"===b},text:function(d){var b;return"input"===d.nodeName.toLowerCase()&&"text"===d.type&&(null==(b=d.getAttribute("type"))||"text"===b.toLowerCase())},first:n(function(){return[0]}),last:n(function(d,b){return[b-1]}),eq:n(function(d,b,a){return[0>a?a+b:a]}),even:n(function(d,b){for(var a=0;a<b;a+=2)d.push(a);return d}),odd:n(function(d,b){for(var a=1;a<b;a+=2)d.push(a);return d}),lt:n(function(d,b,a){for(b=
0>a?a+b:a;0<=--b;)d.push(b);return d}),gt:n(function(d,b,a){for(a=0>a?a+b:a;++a<b;)d.push(a);return d})}};P.pseudos.nth=P.pseudos.eq;for(G in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})P.pseudos[G]=f(G);for(G in{submit:!0,reset:!0})P.pseudos[G]=m(G);g.prototype=P.filters=P.pseudos;P.setFilters=new g;var nb=b.tokenize=function(d,a){var e,l,c,h,f;if(h=Ea[d+" "])return a?0:h.slice(0);h=d;var m=[];for(f=P.preFilter;h;){if(!n||(e=xa.exec(h)))e&&(h=h.slice(e[0].length)||h),m.push(l=[]);var n=!1;
if(e=Ca.exec(h))n=e.shift(),l.push({value:n,type:e[0].replace(ua," ")}),h=h.slice(n.length);for(c in P.filter)!(e=ab[c].exec(h))||f[c]&&!(e=f[c](e))||(n=e.shift(),l.push({value:n,type:c,matches:e}),h=h.slice(n.length));if(!n)break}return a?h.length:h?b.error(d):Ea(d,m).slice(0)};var yb=b.compile=function(d,b){var a,e=[],l=[],c=O[d+" "];if(!c){b||(b=nb(d));for(a=b.length;a--;)c=y(b[a]),c[Y]?e.push(c):l.push(c);c=O(d,x(l,e));c.selector=d}return c};var X=b.select=function(d,b,a,e){var l,c,h,f="function"===
typeof d&&d,m=!e&&nb(d=f.selector||d);a=a||[];if(1===m.length){var n=m[0]=m[0].slice(0);if(2<n.length&&"ID"===(c=n[0]).type&&ya.getById&&9===b.nodeType&&E&&P.relative[n[1].type]){b=(P.find.ID(c.matches[0].replace(M,N),b)||[])[0];if(!b)return a;f&&(b=b.parentNode);d=d.slice(n.shift().value.length)}for(l=ab.needsContext.test(d)?0:n.length;l--;){c=n[l];if(P.relative[h=c.type])break;if(h=P.find[h])if(e=h(c.matches[0].replace(M,N),Ha.test(n[0].type)&&z(b.parentNode)||b)){n.splice(l,1);d=e.length&&r(n);
if(!d)return Aa.apply(a,e),a;break}}}(f||yb(d,m))(e,b,!E,a,!b||Ha.test(d)&&z(b.parentNode)||b);return a};ya.sortStable=Y.split("").sort(L).join("")===Y;ya.detectDuplicates=!!K;ib();ya.sortDetached=l(function(d){return d.compareDocumentPosition(C.createElement("div"))&1});l(function(d){d.innerHTML="<a href='#'></a>";return"#"===d.firstChild.getAttribute("href")})||c("type|href|height|width",function(d,b,a){if(!a)return d.getAttribute(b,"type"===b.toLowerCase()?1:2)});ya.attributes&&l(function(d){d.innerHTML=
"<input/>";d.firstChild.setAttribute("value","");return""===d.firstChild.getAttribute("value")})||c("value",function(d,b,a){if(!a&&"input"===d.nodeName.toLowerCase())return d.defaultValue});l(function(d){return null==d.getAttribute("disabled")})||c("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(d,b,a){var e;if(!a)return!0===d[b]?b.toLowerCase():(e=d.getAttributeNode(b))&&e.specified?e.value:null});return b}(k);
u.find=cc;u.expr=cc.selectors;u.expr[":"]=u.expr.pseudos;u.uniqueSort=u.unique=cc.uniqueSort;u.text=cc.getText;u.isXMLDoc=cc.isXML;u.contains=cc.contains;var Ed=function(d,b,a){for(var e=[],l=void 0!==a;(d=d[b])&&9!==d.nodeType;)if(1===d.nodeType){if(l&&u(d).is(a))break;e.push(d)}return e},be=function(d,b){for(var a=[];d;d=d.nextSibling)1===d.nodeType&&d!==b&&a.push(d);return a},Fd=u.expr.match.needsContext,Cb=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Pa=/^.[^:#\[\.,]*$/;u.filter=function(d,b,a){var e=b[0];
a&&(d=":not("+d+")");return 1===b.length&&1===e.nodeType?u.find.matchesSelector(e,d)?[e]:[]:u.find.matches(d,u.grep(b,function(d){return 1===d.nodeType}))};u.fn.extend({find:function(d){var b,a=[],e=this,l=e.length;if("string"!==typeof d)return this.pushStack(u(d).filter(function(){for(b=0;b<l;b++)if(u.contains(e[b],this))return!0}));for(b=0;b<l;b++)u.find(d,e[b],a);a=this.pushStack(1<l?u.unique(a):a);a.selector=this.selector?this.selector+" "+d:d;return a},filter:function(d){return this.pushStack(f(this,
d||[],!1))},not:function(d){return this.pushStack(f(this,d||[],!0))},is:function(d){return!!f(this,"string"===typeof d&&Fd.test(d)?u(d):d||[],!1).length}});var Na=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(u.fn.init=function(d,b,a){if(!d)return this;a=a||jb;if("string"===typeof d){var e="<"===d.charAt(0)&&">"===d.charAt(d.length-1)&&3<=d.length?[null,d,null]:Na.exec(d);if(!e||!e[1]&&b)return!b||b.jquery?(b||a).find(d):this.constructor(b).find(d);if(e[1]){if(b=b instanceof u?b[0]:b,u.merge(this,u.parseHTML(e[1],
b&&b.nodeType?b.ownerDocument||b:R,!0)),Cb.test(e[1])&&u.isPlainObject(b))for(e in b)if(u.isFunction(this[e]))this[e](b[e]);else this.attr(e,b[e])}else{if((b=R.getElementById(e[2]))&&b.parentNode){if(b.id!==e[2])return jb.find(d);this.length=1;this[0]=b}this.context=R;this.selector=d}return this}if(d.nodeType)return this.context=this[0]=d,this.length=1,this;if(u.isFunction(d))return"undefined"!==typeof a.ready?a.ready(d):d(u);void 0!==d.selector&&(this.selector=d.selector,this.context=d.context);
return u.makeArray(d,this)}).prototype=u.fn;var jb=u(R);var Gd=/^(?:parents|prev(?:Until|All))/,Pe={children:!0,contents:!0,next:!0,prev:!0};u.fn.extend({has:function(d){var b,a=u(d,this),e=a.length;return this.filter(function(){for(b=0;b<e;b++)if(u.contains(this,a[b]))return!0})},closest:function(d,b){for(var a,e=0,l=this.length,c=[],h=Fd.test(d)||"string"!==typeof d?u(d,b||this.context):0;e<l;e++)for(a=this[e];a&&a!==b;a=a.parentNode)if(11>a.nodeType&&(h?-1<h.index(a):1===a.nodeType&&u.find.matchesSelector(a,
d))){c.push(a);break}return this.pushStack(1<c.length?u.uniqueSort(c):c)},index:function(d){return d?"string"===typeof d?u.inArray(this[0],u(d)):u.inArray(d.jquery?d[0]:d,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,b){return this.pushStack(u.uniqueSort(u.merge(this.get(),u(d,b))))},addBack:function(d){return this.add(null==d?this.prevObject:this.prevObject.filter(d))}});u.each({parent:function(d){return(d=d.parentNode)&&11!==d.nodeType?d:null},parents:function(d){return Ed(d,
"parentNode")},parentsUntil:function(d,b,a){return Ed(d,"parentNode",a)},next:function(d){return a(d,"nextSibling")},prev:function(d){return a(d,"previousSibling")},nextAll:function(d){return Ed(d,"nextSibling")},prevAll:function(d){return Ed(d,"previousSibling")},nextUntil:function(d,b,a){return Ed(d,"nextSibling",a)},prevUntil:function(d,b,a){return Ed(d,"previousSibling",a)},siblings:function(d){return be((d.parentNode||{}).firstChild,d)},children:function(d){return be(d.firstChild)},contents:function(d){return u.nodeName(d,
"iframe")?d.contentDocument||d.contentWindow.document:u.merge([],d.childNodes)}},function(d,b){u.fn[d]=function(a,e){var l=u.map(this,b,a);"Until"!==d.slice(-5)&&(e=a);e&&"string"===typeof e&&(l=u.filter(e,l));1<this.length&&(Pe[d]||(l=u.uniqueSort(l)),Gd.test(d)&&(l=l.reverse()));return this.pushStack(l)}});var lc=/\S+/g;u.Callbacks=function(d){d="string"===typeof d?h(d):u.extend({},d);var b,a,e,l,c=[],f=[],m=-1,n=function(){l=d.once;for(e=b=!0;f.length;m=-1)for(a=f.shift();++m<c.length;)!1===c[m].apply(a[0],
a[1])&&d.stopOnFalse&&(m=c.length,a=!1);d.memory||(a=!1);b=!1;l&&(c=a?[]:"")},z={add:function(){c&&(a&&!b&&(m=c.length-1,f.push(a)),function If(b){u.each(b,function(b,a){u.isFunction(a)?d.unique&&z.has(a)||c.push(a):a&&a.length&&"string"!==u.type(a)&&If(a)})}(arguments),a&&!b&&n());return this},remove:function(){u.each(arguments,function(d,b){for(var a;-1<(a=u.inArray(b,c,a));)c.splice(a,1),a<=m&&m--});return this},has:function(d){return d?-1<u.inArray(d,c):0<c.length},empty:function(){c&&(c=[]);
return this},disable:function(){l=f=[];c=a="";return this},disabled:function(){return!c},lock:function(){l=!0;a||z.disable();return this},locked:function(){return!!l},fireWith:function(d,a){l||(a=a||[],a=[d,a.slice?a.slice():a],f.push(a),b||n());return this},fire:function(){z.fireWith(this,arguments);return this},fired:function(){return!!e}};return z};u.extend({Deferred:function(d){var b=[["resolve","done",u.Callbacks("once memory"),"resolved"],["reject","fail",u.Callbacks("once memory"),"rejected"],
["notify","progress",u.Callbacks("memory")]],a="pending",e={state:function(){return a},always:function(){l.done(arguments).fail(arguments);return this},then:function(){var d=arguments;return u.Deferred(function(a){u.each(b,function(b,c){var h=u.isFunction(d[b])&&d[b];l[c[1]](function(){var d=h&&h.apply(this,arguments);if(d&&u.isFunction(d.promise))d.promise().progress(a.notify).done(a.resolve).fail(a.reject);else a[c[0]+"With"](this===e?a.promise():this,h?[d]:arguments)})});d=null}).promise()},promise:function(d){return null!=
d?u.extend(d,e):e}},l={};e.pipe=e.then;u.each(b,function(d,c){var h=c[2],f=c[3];e[c[1]]=h.add;f&&h.add(function(){a=f},b[d^1][2].disable,b[2][2].lock);l[c[0]]=function(){l[c[0]+"With"](this===l?e:this,arguments);return this};l[c[0]+"With"]=h.fireWith});e.promise(l);d&&d.call(l,l);return l},when:function(d){var b=0,a=Aa.call(arguments),e=a.length,l=1!==e||d&&u.isFunction(d.promise)?e:0,c=1===l?d:u.Deferred(),h=function(d,b,a){return function(e){b[d]=this;a[d]=1<arguments.length?Aa.call(arguments):
e;a===m?c.notifyWith(b,a):--l||c.resolveWith(b,a)}},f;if(1<e){var m=Array(e);var n=Array(e);for(f=Array(e);b<e;b++)a[b]&&u.isFunction(a[b].promise)?a[b].promise().progress(h(b,n,m)).done(h(b,f,a)).fail(c.reject):--l}l||c.resolveWith(f,a);return c.promise()}});var Ic;u.fn.ready=function(d){u.ready.promise().done(d);return this};u.extend({isReady:!1,readyWait:1,holdReady:function(d){d?u.readyWait++:u.ready(!0)},ready:function(d){(!0===d?--u.readyWait:u.isReady)||(u.isReady=!0,!0!==d&&0<--u.readyWait||
(Ic.resolveWith(R,[u]),u.fn.triggerHandler&&(u(R).triggerHandler("ready"),u(R).off("ready"))))}});u.ready.promise=function(d){if(!Ic)if(Ic=u.Deferred(),"complete"===R.readyState||"loading"!==R.readyState&&!R.documentElement.doScroll)k.setTimeout(u.ready);else if(R.addEventListener)R.addEventListener("DOMContentLoaded",b),k.addEventListener("load",b);else{R.attachEvent("onreadystatechange",b);k.attachEvent("onload",b);var a=!1;try{a=null==k.frameElement&&R.documentElement}catch(kg){}a&&a.doScroll&&
function Ob(){if(!u.isReady){try{a.doScroll("left")}catch(kc){return k.setTimeout(Ob,50)}e();u.ready()}}()}return Ic.promise(d)};u.ready.promise();for(var Qe in u(Q))break;Q.ownFirst="0"===Qe;Q.inlineBlockNeedsLayout=!1;u(function(){var d;if((d=R.getElementsByTagName("body")[0])&&d.style){var b=R.createElement("div");var a=R.createElement("div");a.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";d.appendChild(a).appendChild(b);"undefined"!==typeof b.style.zoom&&(b.style.cssText=
"display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",Q.inlineBlockNeedsLayout=b=3===b.offsetWidth)&&(d.style.zoom=1);d.removeChild(a)}});(function(){var d=R.createElement("div");Q.deleteExpando=!0;try{delete d.test}catch(ta){Q.deleteExpando=!1}})();var Ad=function(d){var b=u.noData[(d.nodeName+" ").toLowerCase()],a=+d.nodeType||1;return 1!==a&&9!==a?!1:!b||!0!==b&&d.getAttribute("classid")===b},re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Uc=/([A-Z])/g;u.extend({cache:{},noData:{"applet ":!0,"embed ":!0,
"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(d){d=d.nodeType?u.cache[d[u.expando]]:d[u.expando];return!!d&&!n(d)},data:function(d,b,a){return r(d,b,a)},removeData:function(d,b){return w(d,b)},_data:function(d,b,a){return r(d,b,a,!0)},_removeData:function(d,b){return w(d,b,!0)}});u.fn.extend({data:function(d,b){var a,e=this[0],l=e&&e.attributes;if(void 0===d){if(this.length){var c=u.data(e);if(1===e.nodeType&&!u._data(e,"parsedAttrs")){for(a=l.length;a--;)if(l[a]){var h=
l[a].name;0===h.indexOf("data-")&&(h=u.camelCase(h.slice(5)),m(e,h,c[h]))}u._data(e,"parsedAttrs",!0)}}return c}return"object"===typeof d?this.each(function(){u.data(this,d)}):1<arguments.length?this.each(function(){u.data(this,d,b)}):e?m(e,d,u.data(e,d)):void 0},removeData:function(d){return this.each(function(){u.removeData(this,d)})}});u.extend({queue:function(d,b,a){if(d){b=(b||"fx")+"queue";var e=u._data(d,b);a&&(!e||u.isArray(a)?e=u._data(d,b,u.makeArray(a)):e.push(a));return e||[]}},dequeue:function(d,
b){b=b||"fx";var a=u.queue(d,b),e=a.length,l=a.shift(),c=u._queueHooks(d,b),h=function(){u.dequeue(d,b)};"inprogress"===l&&(l=a.shift(),e--);l&&("fx"===b&&a.unshift("inprogress"),delete c.stop,l.call(d,h,c));!e&&c&&c.empty.fire()},_queueHooks:function(d,b){var a=b+"queueHooks";return u._data(d,a)||u._data(d,a,{empty:u.Callbacks("once memory").add(function(){u._removeData(d,b+"queue");u._removeData(d,a)})})}});u.fn.extend({queue:function(d,b){var a=2;"string"!==typeof d&&(b=d,d="fx",a--);return arguments.length<
a?u.queue(this[0],d):void 0===b?this:this.each(function(){var a=u.queue(this,d,b);u._queueHooks(this,d);"fx"===d&&"inprogress"!==a[0]&&u.dequeue(this,d)})},dequeue:function(d){return this.each(function(){u.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,b){var a,e=1,l=u.Deferred(),c=this,h=this.length,f=function(){--e||l.resolveWith(c,[c])};"string"!==typeof d&&(b=d,d=void 0);for(d=d||"fx";h--;)(a=u._data(c[h],d+"queueHooks"))&&a.empty&&(e++,a.empty.add(f));
f();return l.promise(b)}});(function(){var d;Q.shrinkWrapBlocks=function(){if(null!=d)return d;d=!1;var b;if((b=R.getElementsByTagName("body")[0])&&b.style){var a=R.createElement("div");var e=R.createElement("div");e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";b.appendChild(e).appendChild(a);"undefined"!==typeof a.style.zoom&&(a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
a.appendChild(R.createElement("div")).style.width="5px",d=3!==a.offsetWidth);b.removeChild(e);return d}}})();var Sf=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,mc=new RegExp("^(?:([+-])=|)("+Sf+")([a-z%]*)$","i"),sb=["Top","Right","Bottom","Left"],Gc=function(d,b){d=b||d;return"none"===u.css(d,"display")||!u.contains(d.ownerDocument,d)},M=function(d,b,a,e,l,c,h){var f=0,m=d.length,n=null==a;if("object"===u.type(a))for(f in l=!0,a)M(d,b,f,a[f],!0,c,h);else if(void 0!==e&&(l=!0,u.isFunction(e)||(h=
!0),n&&(h?(b.call(d,e),b=null):(n=b,b=function(d,b,a){return n.call(u(d),a)})),b))for(;f<m;f++)b(d[f],a,h?e:e.call(d[f],f,b(d[f],a)));return l?d:n?b.call(d):m?b(d[0],a):c},$a=/^(?:checkbox|radio)$/i,xc=/<([\w:-]+)/,Vc=/^$|\/(?:java|ecma)script/i,Yd=/^\s+/;(function(){var d=R.createElement("div"),b=R.createDocumentFragment(),a=R.createElement("input");d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Q.leadingWhitespace=3===d.firstChild.nodeType;Q.tbody=!d.getElementsByTagName("tbody").length;
Q.htmlSerialize=!!d.getElementsByTagName("link").length;Q.html5Clone="<:nav></:nav>"!==R.createElement("nav").cloneNode(!0).outerHTML;a.type="checkbox";a.checked=!0;b.appendChild(a);Q.appendChecked=a.checked;d.innerHTML="<textarea>x</textarea>";Q.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue;b.appendChild(d);a=R.createElement("input");a.setAttribute("type","radio");a.setAttribute("checked","checked");a.setAttribute("name","t");d.appendChild(a);Q.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked;
Q.noCloneEvent=!!d.addEventListener;d[u.expando]=1;Q.attributes=!d.getAttribute(u.expando)})();var Hb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:Q.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};
Hb.optgroup=Hb.option;Hb.tbody=Hb.tfoot=Hb.colgroup=Hb.caption=Hb.thead;Hb.th=Hb.td;var N=/<|&#?\w+;/,Bd=/<tbody/i;(function(){var d,b=R.createElement("div");for(d in{submit:!0,change:!0,focusin:!0}){var a="on"+d;(Q[d]=a in k)||(b.setAttribute(a,"t"),Q[d]=!1===b.attributes[a].expando)}})();var Zc=/^(?:input|select|textarea)$/i,Tf=/^key/,Uf=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kd=/^(?:focusinfocus|focusoutblur)$/,da=/^([^.]*)(?:\.(.+)|)/;u.event={global:{},add:function(d,b,a,e,l){var c,
h,f,m,n;if(h=u._data(d)){if(a.handler){var z=a;a=z.handler;l=z.selector}a.guid||(a.guid=u.guid++);(c=h.events)||(c=h.events={});(f=h.handle)||(f=h.handle=function(d){return"undefined"===typeof u||d&&u.event.triggered===d.type?void 0:u.event.dispatch.apply(f.elem,arguments)},f.elem=d);b=(b||"").match(lc)||[""];for(h=b.length;h--;){var g=da.exec(b[h])||[];var r=m=g[1];var q=(g[2]||"").split(".").sort();r&&(g=u.event.special[r]||{},r=(l?g.delegateType:g.bindType)||r,g=u.event.special[r]||{},m=u.extend({type:r,
origType:m,data:e,handler:a,guid:a.guid,selector:l,needsContext:l&&u.expr.match.needsContext.test(l),namespace:q.join(".")},z),(n=c[r])||(n=c[r]=[],n.delegateCount=0,g.setup&&!1!==g.setup.call(d,e,q,f)||(d.addEventListener?d.addEventListener(r,f,!1):d.attachEvent&&d.attachEvent("on"+r,f))),g.add&&(g.add.call(d,m),m.handler.guid||(m.handler.guid=a.guid)),l?n.splice(n.delegateCount++,0,m):n.push(m),u.event.global[r]=!0)}d=null}},remove:function(d,b,a,e,l){var c,h,f,m,n,z=u.hasData(d)&&u._data(d);if(z&&
(m=z.events)){b=(b||"").match(lc)||[""];for(f=b.length;f--;){var g=da.exec(b[f])||[];var r=n=g[1];var q=(g[2]||"").split(".").sort();if(r){var k=u.event.special[r]||{};r=(e?k.delegateType:k.bindType)||r;var w=m[r]||[];g=g[2]&&new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=c=w.length;c--;){var v=w[c];!l&&n!==v.origType||a&&a.guid!==v.guid||g&&!g.test(v.namespace)||e&&e!==v.selector&&("**"!==e||!v.selector)||(w.splice(c,1),v.selector&&w.delegateCount--,k.remove&&k.remove.call(d,v))}h&&
!w.length&&(k.teardown&&!1!==k.teardown.call(d,q,z.handle)||u.removeEvent(d,r,z.handle),delete m[r])}else for(r in m)u.event.remove(d,r+b[f],a,e,!0)}u.isEmptyObject(m)&&(delete z.handle,u._removeData(d,"events"))}},trigger:function(d,b,a,e){var l,c,h=[a||R],f=nb.call(d,"type")?d.type:d;var m=nb.call(d,"namespace")?d.namespace.split("."):[];var n=l=a=a||R;if(3!==a.nodeType&&8!==a.nodeType&&!kd.test(f+u.event.triggered)){-1<f.indexOf(".")&&(m=f.split("."),f=m.shift(),m.sort());var z=0>f.indexOf(":")&&
"on"+f;d=d[u.expando]?d:new u.Event(f,"object"===typeof d&&d);d.isTrigger=e?2:3;d.namespace=m.join(".");d.rnamespace=d.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;d.result=void 0;d.target||(d.target=a);b=null==b?[d]:u.makeArray(b,[d]);m=u.event.special[f]||{};if(e||!m.trigger||!1!==m.trigger.apply(a,b)){if(!e&&!m.noBubble&&!u.isWindow(a)){var g=m.delegateType||f;kd.test(g+f)||(n=n.parentNode);for(;n;n=n.parentNode)h.push(n),l=n;l===(a.ownerDocument||R)&&h.push(l.defaultView||
l.parentWindow||k)}for(c=0;(n=h[c++])&&!d.isPropagationStopped();)d.type=1<c?g:m.bindType||f,(l=(u._data(n,"events")||{})[d.type]&&u._data(n,"handle"))&&l.apply(n,b),(l=z&&n[z])&&l.apply&&Ad(n)&&(d.result=l.apply(n,b),!1===d.result&&d.preventDefault());d.type=f;if(!(e||d.isDefaultPrevented()||m._default&&!1!==m._default.apply(h.pop(),b))&&Ad(a)&&z&&a[f]&&!u.isWindow(a)){(l=a[z])&&(a[z]=null);u.event.triggered=f;try{a[f]()}catch(Jf){}u.event.triggered=void 0;l&&(a[z]=l)}return d.result}}},dispatch:function(d){d=
u.event.fix(d);var b,a,e,l=Aa.call(arguments);var c=(u._data(this,"events")||{})[d.type]||[];var h=u.event.special[d.type]||{};l[0]=d;d.delegateTarget=this;if(!h.preDispatch||!1!==h.preDispatch.call(this,d)){var f=u.event.handlers.call(this,d,c);for(c=0;(e=f[c++])&&!d.isPropagationStopped();)for(d.currentTarget=e.elem,b=0;(a=e.handlers[b++])&&!d.isImmediatePropagationStopped();)if(!d.rnamespace||d.rnamespace.test(a.namespace))d.handleObj=a,d.data=a.data,a=((u.event.special[a.origType]||{}).handle||
a.handler).apply(e.elem,l),void 0!==a&&!1===(d.result=a)&&(d.preventDefault(),d.stopPropagation());h.postDispatch&&h.postDispatch.call(this,d);return d.result}},handlers:function(d,b){var a,e=[],l=b.delegateCount,c=d.target;if(l&&c.nodeType&&("click"!==d.type||isNaN(d.button)||1>d.button))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==d.type)){var h=[];for(a=0;a<l;a++){var f=b[a];var m=f.selector+" ";void 0===h[m]&&(h[m]=f.needsContext?-1<u(m,this).index(c):u.find(m,
this,null,[c]).length);h[m]&&h.push(f)}h.length&&e.push({elem:c,handlers:h})}l<b.length&&e.push({elem:this,handlers:b.slice(l)});return e},fix:function(d){if(d[u.expando])return d;var b=d.type;var a=d,e=this.fixHooks[b];e||(this.fixHooks[b]=e=Uf.test(b)?this.mouseHooks:Tf.test(b)?this.keyHooks:{});var l=e.props?this.props.concat(e.props):this.props;d=new u.Event(a);for(b=l.length;b--;){var c=l[b];d[c]=a[c]}d.target||(d.target=a.srcElement||R);3===d.target.nodeType&&(d.target=d.target.parentNode);
d.metaKey=!!d.metaKey;return e.filter?e.filter(d,a):d},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(d,b){null==d.which&&(d.which=null!=b.charCode?b.charCode:b.keyCode);return d}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(d,
b){var a=b.button,e=b.fromElement;if(null==d.pageX&&null!=b.clientX){var l=d.target.ownerDocument||R;var c=l.documentElement;l=l.body;d.pageX=b.clientX+(c&&c.scrollLeft||l&&l.scrollLeft||0)-(c&&c.clientLeft||l&&l.clientLeft||0);d.pageY=b.clientY+(c&&c.scrollTop||l&&l.scrollTop||0)-(c&&c.clientTop||l&&l.clientTop||0)}!d.relatedTarget&&e&&(d.relatedTarget=e===d.target?b.toElement:e);d.which||void 0===a||(d.which=a&1?1:a&2?3:a&4?2:0);return d}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
I()&&this.focus)try{return this.focus(),!1}catch(Wa){}},delegateType:"focusin"},blur:{trigger:function(){if(this===I()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(u.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(d){return u.nodeName(d.target,"a")}},beforeunload:{postDispatch:function(d){void 0!==d.result&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}},simulate:function(d,b,a){d=u.extend(new u.Event,
a,{type:d,isSimulated:!0});u.event.trigger(d,null,b);d.isDefaultPrevented()&&a.preventDefault()}};u.removeEvent=R.removeEventListener?function(d,b,a){d.removeEventListener&&d.removeEventListener(b,a)}:function(d,b,a){b="on"+b;d.detachEvent&&("undefined"===typeof d[b]&&(d[b]=null),d.detachEvent(b,a))};u.Event=function(d,b){if(!(this instanceof u.Event))return new u.Event(d,b);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||void 0===d.defaultPrevented&&!1===
d.returnValue?C:E):this.type=d;b&&u.extend(this,b);this.timeStamp=d&&d.timeStamp||u.now();this[u.expando]=!0};u.Event.prototype={constructor:u.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=C;d&&(d.preventDefault?d.preventDefault():d.returnValue=!1)},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=C;d&&!this.isSimulated&&(d.stopPropagation&&d.stopPropagation(),
d.cancelBubble=!0)},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=C;d&&d.stopImmediatePropagation&&d.stopImmediatePropagation();this.stopPropagation()}};u.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,b){u.event.special[d]={delegateType:b,bindType:b,handle:function(d){var a=d.relatedTarget,e=d.handleObj;if(!a||a!==this&&!u.contains(this,a)){d.type=e.origType;var l=e.handler.apply(this,
arguments);d.type=b}return l}}});Q.submit||(u.event.special.submit={setup:function(){if(u.nodeName(this,"form"))return!1;u.event.add(this,"click._submit keypress._submit",function(d){d=d.target;(d=u.nodeName(d,"input")||u.nodeName(d,"button")?u.prop(d,"form"):void 0)&&!u._data(d,"submit")&&(u.event.add(d,"submit._submit",function(d){d._submitBubble=!0}),u._data(d,"submit",!0))})},postDispatch:function(d){d._submitBubble&&(delete d._submitBubble,this.parentNode&&!d.isTrigger&&u.event.simulate("submit",
this.parentNode,d))},teardown:function(){if(u.nodeName(this,"form"))return!1;u.event.remove(this,"._submit")}});Q.change||(u.event.special.change={setup:function(){if(Zc.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)u.event.add(this,"propertychange._change",function(d){"checked"===d.originalEvent.propertyName&&(this._justChanged=!0)}),u.event.add(this,"click._change",function(d){this._justChanged&&!d.isTrigger&&(this._justChanged=!1);u.event.simulate("change",this,d)});return!1}u.event.add(this,
"beforeactivate._change",function(d){d=d.target;Zc.test(d.nodeName)&&!u._data(d,"change")&&(u.event.add(d,"change._change",function(d){!this.parentNode||d.isSimulated||d.isTrigger||u.event.simulate("change",this.parentNode,d)}),u._data(d,"change",!0))})},handle:function(d){var b=d.target;if(this!==b||d.isSimulated||d.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return d.handleObj.handler.apply(this,arguments)},teardown:function(){u.event.remove(this,"._change");return!Zc.test(this.nodeName)}});
Q.focusin||u.each({focus:"focusin",blur:"focusout"},function(d,b){var a=function(d){u.event.simulate(b,d.target,u.event.fix(d))};u.event.special[b]={setup:function(){var e=this.ownerDocument||this,l=u._data(e,b);l||e.addEventListener(d,a,!0);u._data(e,b,(l||0)+1)},teardown:function(){var e=this.ownerDocument||this,l=u._data(e,b)-1;l?u._data(e,b,l):(e.removeEventListener(d,a,!0),u._removeData(e,b))}}});u.fn.extend({on:function(d,b,a,e){return F(this,d,b,a,e)},one:function(d,b,a,e){return F(this,d,
b,a,e,1)},off:function(d,b,a){if(d&&d.preventDefault&&d.handleObj){var e=d.handleObj;u(d.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if("object"===typeof d){for(e in d)this.off(e,b,d[e]);return this}if(!1===b||"function"===typeof b)a=b,b=void 0;!1===a&&(a=E);return this.each(function(){u.event.remove(this,d,a,b)})},trigger:function(d,b){return this.each(function(){u.event.trigger(d,b,this)})},triggerHandler:function(d,b){var a=this[0];if(a)return u.event.trigger(d,
b,a,!0)}});var dc=/ jQuery\d+="(?:null|\d+)"/g,$c=/<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\s/>]/i,Db=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Re=/<script|<style|<link/i,Ka=/checked\s*(?:[^=]|=\s*.checked.)/i,Ke=/^true\/(.*)/,Ib=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,X=A(R).appendChild(R.createElement("div"));u.extend({htmlPrefilter:function(d){return d.replace(Db,
"<$1></$2>")},clone:function(b,a,e){var c,h,f=u.contains(b.ownerDocument,b);if(Q.html5Clone||u.isXMLDoc(b)||!$c.test("<"+b.nodeName+">"))var m=b.cloneNode(!0);else X.innerHTML=b.outerHTML,X.removeChild(m=X.firstChild);if(!(Q.noCloneEvent&&Q.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||u.isXMLDoc(b))){var n=y(m);var z=y(b);for(h=0;null!=(c=z[h]);++h)if(n[h]){var g=void 0,r=c,q=n[h];if(1===q.nodeType){var k=q.nodeName.toLowerCase();if(!Q.noCloneEvent&&q[u.expando]){c=u._data(q);for(g in c.events)u.removeEvent(q,
g,c.handle);q.removeAttribute(u.expando)}if("script"===k&&q.text!==r.text)L(q).text=r.text,d(q);else if("object"===k)q.parentNode&&(q.outerHTML=r.outerHTML),Q.html5Clone&&r.innerHTML&&!u.trim(q.innerHTML)&&(q.innerHTML=r.innerHTML);else if("input"===k&&$a.test(r.type))q.defaultChecked=q.checked=r.checked,q.value!==r.value&&(q.value=r.value);else if("option"===k)q.defaultSelected=q.selected=r.defaultSelected;else if("input"===k||"textarea"===k)q.defaultValue=r.defaultValue}}}if(a)if(e)for(z=z||y(b),
n=n||y(m),h=0;null!=(c=z[h]);h++)l(c,n[h]);else l(b,m);n=y(m,"script");0<n.length&&x(n,!f&&y(b,"script"));return m},cleanData:function(d,b){for(var a,e,l,c,h=0,f=u.expando,m=u.cache,n=Q.attributes,z=u.event.special;null!=(a=d[h]);h++)if(b||Ad(a))if(c=(l=a[f])&&m[l]){if(c.events)for(e in c.events)z[e]?u.event.remove(a,e):u.removeEvent(a,e,c.handle);m[l]&&(delete m[l],n||"undefined"===typeof a.removeAttribute?a[f]=void 0:a.removeAttribute(f),Ba.push(l))}}});u.fn.extend({domManip:z,detach:function(d){return G(this,
d,!0)},remove:function(d){return G(this,d)},text:function(d){return M(this,function(d){return void 0===d?u.text(this):this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(d))},null,d,arguments.length)},append:function(){return z(this,arguments,function(d){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||J(this,d).appendChild(d)})},prepend:function(){return z(this,arguments,function(d){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=J(this,d);b.insertBefore(d,
b.firstChild)}})},before:function(){return z(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return z(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,b=0;null!=(d=this[b]);b++){for(1===d.nodeType&&u.cleanData(y(d,!1));d.firstChild;)d.removeChild(d.firstChild);d.options&&u.nodeName(d,"select")&&(d.options.length=0)}return this},clone:function(d,b){d=null==d?!1:d;b=null==b?
d:b;return this.map(function(){return u.clone(this,d,b)})},html:function(d){return M(this,function(d){var b=this[0]||{},a=0,e=this.length;if(void 0===d)return 1===b.nodeType?b.innerHTML.replace(dc,""):void 0;if(!("string"!==typeof d||Re.test(d)||!Q.htmlSerialize&&$c.test(d)||!Q.leadingWhitespace&&Yd.test(d)||Hb[(xc.exec(d)||["",""])[1].toLowerCase()])){d=u.htmlPrefilter(d);try{for(;a<e;a++)b=this[a]||{},1===b.nodeType&&(u.cleanData(y(b,!1)),b.innerHTML=d);b=0}catch(Je){}}b&&this.empty().append(d)},
null,d,arguments.length)},replaceWith:function(){var d=[];return z(this,arguments,function(b){var a=this.parentNode;0>u.inArray(this,d)&&(u.cleanData(y(this)),a&&a.replaceChild(b,this))},d)}});u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,b){u.fn[d]=function(d){for(var a=0,e=[],l=u(d),c=l.length-1;a<=c;a++)d=a===c?this:this.clone(!0),u(l[a])[b](d),mb.apply(e,d.get());return this.pushStack(e)}});var ca,S={HTML:"block",BODY:"block"},
Ac=/^margin/,tb=new RegExp("^("+Sf+")(?!px)[a-z%]+$","i"),Ja=function(d,b,a,e){var l,c={};for(l in b)c[l]=d.style[l],d.style[l]=b[l];a=a.apply(d,e||[]);for(l in b)d.style[l]=c[l];return a},bb=R.documentElement;(function(){function d(){var d=R.documentElement;d.appendChild(f);m.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";b=e=h=!1;a=c=!0;if(k.getComputedStyle){var n=k.getComputedStyle(m);b="1%"!==
(n||{}).top;h="2px"===(n||{}).marginLeft;e="4px"===(n||{width:"4px"}).width;m.style.marginRight="50%";a="4px"===(n||{marginRight:"4px"}).marginRight;n=m.appendChild(R.createElement("div"));n.style.cssText=m.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";n.style.marginRight=n.style.width="0";m.style.width="1px";c=!parseFloat((k.getComputedStyle(n)||{}).marginRight);m.removeChild(n)}m.style.display="none";if(l=
0===m.getClientRects().length)if(m.style.display="",m.innerHTML="<table><tr><td></td><td>t</td></tr></table>",m.childNodes[0].style.borderCollapse="separate",n=m.getElementsByTagName("td"),n[0].style.cssText="margin:0;border:0;padding:0;display:none",l=0===n[0].offsetHeight)n[0].style.display="",n[1].style.display="none",l=0===n[0].offsetHeight;d.removeChild(f)}var b,a,e,l,c,h,f=R.createElement("div"),m=R.createElement("div");m.style&&(m.style.cssText="float:left;opacity:.5",Q.opacity="0.5"===m.style.opacity,
Q.cssFloat=!!m.style.cssFloat,m.style.backgroundClip="content-box",m.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===m.style.backgroundClip,f=R.createElement("div"),f.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",m.innerHTML="",f.appendChild(m),Q.boxSizing=""===m.style.boxSizing||""===m.style.MozBoxSizing||""===m.style.WebkitBoxSizing,u.extend(Q,{reliableHiddenOffsets:function(){null==b&&d();return l},boxSizingReliable:function(){null==
b&&d();return e},pixelMarginRight:function(){null==b&&d();return a},pixelPosition:function(){null==b&&d();return b},reliableMarginRight:function(){null==b&&d();return c},reliableMarginLeft:function(){null==b&&d();return h}}))})();var hb=/^(top|right|bottom|left)$/;if(k.getComputedStyle){var oc=function(d){var b=d.ownerDocument.defaultView;b&&b.opener||(b=k);return b.getComputedStyle(d)};var Zb=function(d,b,a){var e=d.style;var l=(a=a||oc(d))?a.getPropertyValue(b)||a[b]:void 0;""!==l&&void 0!==l||
u.contains(d.ownerDocument,d)||(l=u.style(d,b));if(a&&!Q.pixelMarginRight()&&tb.test(l)&&Ac.test(b)){d=e.width;b=e.minWidth;var c=e.maxWidth;e.minWidth=e.maxWidth=e.width=l;l=a.width;e.width=d;e.minWidth=b;e.maxWidth=c}return void 0===l?l:l+""}}else bb.currentStyle&&(oc=function(d){return d.currentStyle},Zb=function(d,b,a){var e,l,c=d.style;var h=(a=a||oc(d))?a[b]:void 0;null==h&&c&&c[b]&&(h=c[b]);if(tb.test(h)&&!hb.test(b)){a=c.left;if(l=(e=d.runtimeStyle)&&e.left)e.left=d.currentStyle.left;c.left=
"fontSize"===b?"1em":h;h=c.pixelLeft+"px";c.left=a;l&&(e.left=l)}return void 0===h?h:h+""||"auto"});var Ra=/alpha\([^)]*\)/i,cb=/opacity\s*=\s*([^)]*)/i,kb=/^(none|table(?!-c[ea]).+)/,nc=new RegExp("^("+Sf+")(.*)$","i"),xe={position:"absolute",visibility:"hidden",display:"block"},ce={letterSpacing:"0",fontWeight:"400"},Le=["Webkit","O","Moz","ms"],Pb=R.createElement("div").style;u.extend({cssHooks:{opacity:{get:function(d,b){if(b)return d=Zb(d,"opacity"),""===d?"1":d}}},cssNumber:{animationIterationCount:!0,
columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Q.cssFloat?"cssFloat":"styleFloat"},style:function(d,b,a,e){if(d&&3!==d.nodeType&&8!==d.nodeType&&d.style){var l,c=u.camelCase(b),h=d.style;b=u.cssProps[c]||(u.cssProps[c]=W(c)||c);var f=u.cssHooks[b]||u.cssHooks[c];if(void 0!==a){var m=typeof a;"string"===m&&(l=mc.exec(a))&&l[1]&&(a=v(d,b,l),m="number");if(null!=a&&a===a&&("number"===m&&
(a+=l&&l[3]||(u.cssNumber[c]?"":"px")),Q.clearCloneStyle||""!==a||0!==b.indexOf("background")||(h[b]="inherit"),!(f&&"set"in f)||void 0!==(a=f.set(d,a,e))))try{h[b]=a}catch(Gf){}}else return f&&"get"in f&&void 0!==(l=f.get(d,!1,e))?l:h[b]}},css:function(d,b,a,e){var l;var c=u.camelCase(b);b=u.cssProps[c]||(u.cssProps[c]=W(c)||c);(c=u.cssHooks[b]||u.cssHooks[c])&&"get"in c&&(l=c.get(d,!0,a));void 0===l&&(l=Zb(d,b,e));"normal"===l&&b in ce&&(l=ce[b]);return""===a||a?(d=parseFloat(l),!0===a||isFinite(d)?
d||0:l):l}});u.each(["height","width"],function(d,b){u.cssHooks[b]={get:function(d,a,e){if(a)return kb.test(u.css(d,"display"))&&0===d.offsetWidth?Ja(d,xe,function(){return aa(d,b,e)}):aa(d,b,e)},set:function(d,a,e){var l=e&&oc(d);return ea(d,a,e?Y(d,b,e,Q.boxSizing&&"border-box"===u.css(d,"boxSizing",!1,l),l):0)}}});Q.opacity||(u.cssHooks.opacity={get:function(d,b){return cb.test((b&&d.currentStyle?d.currentStyle.filter:d.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(d,b){var a=
d.style;d=d.currentStyle;var e=u.isNumeric(b)?"alpha(opacity="+100*b+")":"",l=d&&d.filter||a.filter||"";a.zoom=1;if((1<=b||""===b)&&""===u.trim(l.replace(Ra,""))&&a.removeAttribute&&(a.removeAttribute("filter"),""===b||d&&!d.filter))return;a.filter=Ra.test(l)?l.replace(Ra,e):l+" "+e}});u.cssHooks.marginRight=ja(Q.reliableMarginRight,function(d,b){if(b)return Ja(d,{display:"inline-block"},Zb,[d,"marginRight"])});u.cssHooks.marginLeft=ja(Q.reliableMarginLeft,function(d,b){if(b)return(parseFloat(Zb(d,
"marginLeft"))||(u.contains(d.ownerDocument,d)?d.getBoundingClientRect().left-Ja(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}):0))+"px"});u.each({margin:"",padding:"",border:"Width"},function(d,b){u.cssHooks[d+b]={expand:function(a){var e=0,l={};for(a="string"===typeof a?a.split(" "):[a];4>e;e++)l[d+sb[e]+b]=a[e]||a[e-2]||a[0];return l}};Ac.test(d)||(u.cssHooks[d+b].set=ea)});u.fn.extend({css:function(d,b){return M(this,function(d,b,a){var e,l={},c=0;if(u.isArray(b)){a=oc(d);
for(e=b.length;c<e;c++)l[b[c]]=u.css(d,b[c],!1,a);return l}return void 0!==a?u.style(d,b,a):u.css(d,b)},d,b,1<arguments.length)},show:function(){return Ea(this,!0)},hide:function(){return Ea(this)},toggle:function(d){return"boolean"===typeof d?d?this.show():this.hide():this.each(function(){Gc(this)?u(this).show():u(this).hide()})}});u.Tween=O;O.prototype={constructor:O,init:function(d,b,a,e,l,c){this.elem=d;this.prop=a;this.easing=l||u.easing._default;this.options=b;this.start=this.now=this.cur();
this.end=e;this.unit=c||(u.cssNumber[a]?"":"px")},cur:function(){var d=O.propHooks[this.prop];return d&&d.get?d.get(this):O.propHooks._default.get(this)},run:function(d){var b,a=O.propHooks[this.prop];this.pos=this.options.duration?b=u.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):b=d;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);a&&a.set?a.set(this):O.propHooks._default.set(this);return this}};O.prototype.init.prototype=
O.prototype;O.propHooks={_default:{get:function(d){return 1!==d.elem.nodeType||null!=d.elem[d.prop]&&null==d.elem.style[d.prop]?d.elem[d.prop]:(d=u.css(d.elem,d.prop,""))&&"auto"!==d?d:0},set:function(d){if(u.fx.step[d.prop])u.fx.step[d.prop](d);else 1!==d.elem.nodeType||null==d.elem.style[u.cssProps[d.prop]]&&!u.cssHooks[d.prop]?d.elem[d.prop]=d.now:u.style(d.elem,d.prop,d.now+d.unit)}}};O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=
d.now)}};u.easing={linear:function(d){return d},swing:function(d){return.5-Math.cos(d*Math.PI)/2},_default:"swing"};u.fx=O.prototype.init;u.fx.step={};var pc,ad,ld=/^(?:toggle|show|hide)$/,Da=/queueHooks$/;u.Animation=u.extend(ua,{tweeners:{"*":[function(d,b){var a=this.createTween(d,b);v(a.elem,d,mc.exec(b),a);return a}]},tweener:function(d,b){u.isFunction(d)?(b=d,d=["*"]):d=d.match(lc);for(var a,e=0,l=d.length;e<l;e++)a=d[e],ua.tweeners[a]=ua.tweeners[a]||[],ua.tweeners[a].unshift(b)},prefilters:[function(d,
b,a){var e,l=this,c={},h=d.style,f=d.nodeType&&Gc(d),m=u._data(d,"fxshow");if(!a.queue){var n=u._queueHooks(d,"fx");if(null==n.unqueued){n.unqueued=0;var z=n.empty.fire;n.empty.fire=function(){n.unqueued||z()}}n.unqueued++;l.always(function(){l.always(function(){n.unqueued--;u.queue(d,"fx").length||n.empty.fire()})})}if(1===d.nodeType&&("height"in b||"width"in b)){a.overflow=[h.overflow,h.overflowX,h.overflowY];var g=u.css(d,"display");var r="none"===g?u._data(d,"olddisplay")||T(d.nodeName):g;"inline"===
r&&"none"===u.css(d,"float")&&(Q.inlineBlockNeedsLayout&&"inline"!==T(d.nodeName)?h.zoom=1:h.display="inline-block")}a.overflow&&(h.overflow="hidden",Q.shrinkWrapBlocks()||l.always(function(){h.overflow=a.overflow[0];h.overflowX=a.overflow[1];h.overflowY=a.overflow[2]}));for(e in b)if(r=b[e],ld.exec(r)){delete b[e];var q=q||"toggle"===r;if(r===(f?"hide":"show"))if("show"===r&&m&&void 0!==m[e])f=!0;else continue;c[e]=m&&m[e]||u.style(d,e)}else g=void 0;if(u.isEmptyObject(c))"inline"===("none"===g?
T(d.nodeName):g)&&(h.display=g);else for(e in m?"hidden"in m&&(f=m.hidden):m=u._data(d,"fxshow",{}),q&&(m.hidden=!f),f?u(d).show():l.done(function(){u(d).hide()}),l.done(function(){var b;u._removeData(d,"fxshow");for(b in c)u.style(d,b,c[b])}),c)b=ma(f?m[e]:0,e,l),e in m||(m[e]=b.start,f&&(b.end=b.start,b.start="width"===e||"height"===e?1:0))}],prefilter:function(d,b){b?ua.prefilters.unshift(d):ua.prefilters.push(d)}});u.speed=function(d,b,a){var e=d&&"object"===typeof d?u.extend({},d):{complete:a||
!a&&b||u.isFunction(d)&&d,duration:d,easing:a&&b||b&&!u.isFunction(b)&&b};e.duration=u.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in u.fx.speeds?u.fx.speeds[e.duration]:u.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){u.isFunction(e.old)&&e.old.call(this);e.queue&&u.dequeue(this,e.queue)};return e};u.fn.extend({fadeTo:function(d,b,a,e){return this.filter(Gc).css("opacity",0).show().end().animate({opacity:b},d,a,e)},animate:function(d,
b,a,e){var l=u.isEmptyObject(d),c=u.speed(b,a,e);b=function(){var b=ua(this,u.extend({},d),c);(l||u._data(this,"finish"))&&b.stop(!0)};b.finish=b;return l||!1===c.queue?this.each(b):this.queue(c.queue,b)},stop:function(d,b,a){var e=function(d){var b=d.stop;delete d.stop;b(a)};"string"!==typeof d&&(a=b,b=d,d=void 0);b&&!1!==d&&this.queue(d||"fx",[]);return this.each(function(){var b=!0,l=null!=d&&d+"queueHooks",c=u.timers,h=u._data(this);if(l)h[l]&&h[l].stop&&e(h[l]);else for(l in h)h[l]&&h[l].stop&&
Da.test(l)&&e(h[l]);for(l=c.length;l--;)c[l].elem!==this||null!=d&&c[l].queue!==d||(c[l].anim.stop(a),b=!1,c.splice(l,1));!b&&a||u.dequeue(this,d)})},finish:function(d){!1!==d&&(d=d||"fx");return this.each(function(){var b=u._data(this),a=b[d+"queue"];var e=b[d+"queueHooks"];var l=u.timers,c=a?a.length:0;b.finish=!0;u.queue(this,d,[]);e&&e.stop&&e.stop.call(this,!0);for(e=l.length;e--;)l[e].elem===this&&l[e].queue===d&&(l[e].anim.stop(!0),l.splice(e,1));for(e=0;e<c;e++)a[e]&&a[e].finish&&a[e].finish.call(this);
delete b.finish})}});u.each(["toggle","show","hide"],function(d,b){var a=u.fn[b];u.fn[b]=function(d,e,l){return null==d||"boolean"===typeof d?a.apply(this,arguments):this.animate(xa(b,!0),d,e,l)}});u.each({slideDown:xa("show"),slideUp:xa("hide"),slideToggle:xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,b){u.fn[d]=function(d,a,e){return this.animate(b,d,a,e)}});u.timers=[];u.fx.tick=function(){var d=u.timers,b=0;for(pc=u.now();b<d.length;b++){var a=
d[b];a()||d[b]!==a||d.splice(b--,1)}d.length||u.fx.stop();pc=void 0};u.fx.timer=function(d){u.timers.push(d);d()?u.fx.start():u.timers.pop()};u.fx.interval=13;u.fx.start=function(){ad||(ad=k.setInterval(u.fx.tick,u.fx.interval))};u.fx.stop=function(){k.clearInterval(ad);ad=null};u.fx.speeds={slow:600,fast:200,_default:400};u.fn.delay=function(d,b){d=u.fx?u.fx.speeds[d]||d:d;return this.queue(b||"fx",function(b,a){var e=k.setTimeout(b,d);a.stop=function(){k.clearTimeout(e)}})};(function(){var d=R.createElement("input");
R.createElement("div");var b=R.createElement("select"),a=b.appendChild(R.createElement("option"));var e=R.createElement("div");e.setAttribute("className","t");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";e.getElementsByTagName("a");d.setAttribute("type","checkbox");e.appendChild(d);var l=e.getElementsByTagName("a")[0];l.style.cssText="top:1px";Q.getSetAttribute="t"!==e.className;Q.style=/top/.test(l.getAttribute("style"));Q.hrefNormalized="/a"===l.getAttribute("href");
Q.checkOn=!!d.value;Q.optSelected=a.selected;Q.enctype=!!R.createElement("form").enctype;b.disabled=!0;Q.optDisabled=!a.disabled;d=R.createElement("input");d.setAttribute("value","");Q.input=""===d.getAttribute("value");d.value="t";d.setAttribute("type","radio");Q.radioValue="t"===d.value})();var ye=/\r/g,Vf=/[\x20\t\r\n\f]+/g;u.fn.extend({val:function(d){var b,a,e=this[0];if(arguments.length){var l=u.isFunction(d);return this.each(function(a){1===this.nodeType&&(a=l?d.call(this,a,u(this).val()):
d,null==a?a="":"number"===typeof a?a+="":u.isArray(a)&&(a=u.map(a,function(d){return null==d?"":d+""})),b=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,a,"value")||(this.value=a))})}if(e){if((b=u.valHooks[e.type]||u.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(a=b.get(e,"value")))return a;a=e.value;return"string"===typeof a?a.replace(ye,""):null==a?"":a}}});u.extend({valHooks:{option:{get:function(d){var b=u.find.attr(d,"value");return null!=
b?b:u.trim(u.text(d)).replace(Vf," ")}},select:{get:function(d){for(var b,a=d.options,e=d.selectedIndex,l=(d="select-one"===d.type||0>e)?null:[],c=d?e+1:a.length,h=0>e?c:d?e:0;h<c;h++)if(b=a[h],!(!b.selected&&h!==e||(Q.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&u.nodeName(b.parentNode,"optgroup"))){b=u(b).val();if(d)return b;l.push(b)}return l},set:function(d,b){for(var a,e=d.options,l=u.makeArray(b),c=e.length;c--;)if(b=e[c],-1<u.inArray(u.valHooks.option.get(b),
l))try{b.selected=a=!0}catch(fd){b.scrollHeight}else b.selected=!1;a||(d.selectedIndex=-1);return e}}}});u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(d,b){if(u.isArray(b))return d.checked=-1<u.inArray(u(d).val(),b)}};Q.checkOn||(u.valHooks[this].get=function(d){return null===d.getAttribute("value")?"on":d.value})});var gb=u.expr.attrHandle,de=/^(?:checked|selected)$/i,ec=Q.getSetAttribute,Jc=Q.input;u.fn.extend({attr:function(d,b){return M(this,u.attr,d,b,1<arguments.length)},
removeAttr:function(d){return this.each(function(){u.removeAttr(this,d)})}});u.extend({attr:function(d,b,a){var e,l=d.nodeType;if(3!==l&&8!==l&&2!==l){if("undefined"===typeof d.getAttribute)return u.prop(d,b,a);if(1!==l||!u.isXMLDoc(d)){b=b.toLowerCase();var c=u.attrHooks[b]||(u.expr.match.bool.test(b)?vg:bd)}if(void 0!==a){if(null===a){u.removeAttr(d,b);return}if(c&&"set"in c&&void 0!==(e=c.set(d,a,b)))return e;d.setAttribute(b,a+"");return a}if(c&&"get"in c&&null!==(e=c.get(d,b)))return e;e=u.find.attr(d,
b);return null==e?void 0:e}},attrHooks:{type:{set:function(d,b){if(!Q.radioValue&&"radio"===b&&u.nodeName(d,"input")){var a=d.value;d.setAttribute("type",b);a&&(d.value=a);return b}}}},removeAttr:function(d,b){var a=0,e=b&&b.match(lc);if(e&&1===d.nodeType)for(;b=e[a++];){var l=u.propFix[b]||b;u.expr.match.bool.test(b)?Jc&&ec||!de.test(b)?d[l]=!1:d[u.camelCase("default-"+b)]=d[l]=!1:u.attr(d,b,"");d.removeAttribute(ec?b:l)}}});var vg={set:function(d,b,a){!1===b?u.removeAttr(d,a):Jc&&ec||!de.test(a)?
d.setAttribute(!ec&&u.propFix[a]||a,a):d[u.camelCase("default-"+a)]=d[a]=!0;return a}};u.each(u.expr.match.bool.source.match(/\w+/g),function(d,b){var a=gb[b]||u.find.attr;Jc&&ec||!de.test(b)?gb[b]=function(d,b,e){if(!e){var l=gb[b];gb[b]=c;var c=null!=a(d,b,e)?b.toLowerCase():null;gb[b]=l}return c}:gb[b]=function(d,b,a){if(!a)return d[u.camelCase("default-"+b)]?b.toLowerCase():null}});Jc&&ec||(u.attrHooks.value={set:function(d,b,a){if(u.nodeName(d,"input"))d.defaultValue=b;else return bd&&bd.set(d,
b,a)}});if(!ec){var bd={set:function(d,b,a){var e=d.getAttributeNode(a);e||d.setAttributeNode(e=d.ownerDocument.createAttribute(a));e.value=b+="";if("value"===a||b===d.getAttribute(a))return b}};gb.id=gb.name=gb.coords=function(d,b,a){var e;if(!a)return(e=d.getAttributeNode(b))&&""!==e.value?e.value:null};u.valHooks.button={get:function(d,b){if((d=d.getAttributeNode(b))&&d.specified)return d.value},set:bd.set};u.attrHooks.contenteditable={set:function(d,b,a){bd.set(d,""===b?!1:b,a)}};u.each(["width",
"height"],function(d,b){u.attrHooks[b]={set:function(d,a){if(""===a)return d.setAttribute(b,"auto"),a}}})}Q.style||(u.attrHooks.style={get:function(d){return d.style.cssText||void 0},set:function(d,b){return d.style.cssText=b+""}});var Wf=/^(?:input|select|textarea|button|object)$/i,fc=/^(?:a|area)$/i;u.fn.extend({prop:function(d,b){return M(this,u.prop,d,b,1<arguments.length)},removeProp:function(d){d=u.propFix[d]||d;return this.each(function(){try{this[d]=void 0,delete this[d]}catch(ta){}})}});
u.extend({prop:function(d,b,a){var e,l=d.nodeType;if(3!==l&&8!==l&&2!==l){if(1!==l||!u.isXMLDoc(d)){b=u.propFix[b]||b;var c=u.propHooks[b]}return void 0!==a?c&&"set"in c&&void 0!==(e=c.set(d,a,b))?e:d[b]=a:c&&"get"in c&&null!==(e=c.get(d,b))?e:d[b]}},propHooks:{tabIndex:{get:function(d){var b=u.find.attr(d,"tabindex");return b?parseInt(b,10):Wf.test(d.nodeName)||fc.test(d.nodeName)&&d.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Q.hrefNormalized||u.each(["href","src"],function(d,b){u.propHooks[b]=
{get:function(d){return d.getAttribute(b,4)}}});Q.optSelected||(u.propHooks.selected={get:function(d){if(d=d.parentNode)d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex;return null},set:function(d){if(d=d.parentNode)d.selectedIndex,d.parentNode&&d.parentNode.selectedIndex}});u.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){u.propFix[this.toLowerCase()]=this});Q.enctype||(u.propFix.enctype="encoding");var ee=
/[\t\r\n\f]/g;u.fn.extend({addClass:function(d){var b,a,e,l,c,h=0;if(u.isFunction(d))return this.each(function(b){u(this).addClass(d.call(this,b,Xa(this)))});if("string"===typeof d&&d)for(b=d.match(lc)||[];a=this[h++];){var f=Xa(a);if(e=1===a.nodeType&&(" "+f+" ").replace(ee," ")){for(c=0;l=b[c++];)0>e.indexOf(" "+l+" ")&&(e+=l+" ");e=u.trim(e);f!==e&&u.attr(a,"class",e)}}return this},removeClass:function(d){var b,a,e,l,c,h=0;if(u.isFunction(d))return this.each(function(b){u(this).removeClass(d.call(this,
b,Xa(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof d&&d)for(b=d.match(lc)||[];a=this[h++];){var f=Xa(a);if(e=1===a.nodeType&&(" "+f+" ").replace(ee," ")){for(c=0;l=b[c++];)for(;-1<e.indexOf(" "+l+" ");)e=e.replace(" "+l+" "," ");e=u.trim(e);f!==e&&u.attr(a,"class",e)}}return this},toggleClass:function(d,b){var a=typeof d;return"boolean"===typeof b&&"string"===a?b?this.addClass(d):this.removeClass(d):u.isFunction(d)?this.each(function(a){u(this).toggleClass(d.call(this,
a,Xa(this),b),b)}):this.each(function(){var b,e;if("string"===a){var l=0;var c=u(this);for(e=d.match(lc)||[];b=e[l++];)c.hasClass(b)?c.removeClass(b):c.addClass(b)}else if(void 0===d||"boolean"===a)(b=Xa(this))&&u._data(this,"__className__",b),u.attr(this,"class",b||!1===d?"":u._data(this,"__className__")||"")})},hasClass:function(d){var b,a=0;for(d=" "+d+" ";b=this[a++];)if(1===b.nodeType&&-1<(" "+Xa(b)+" ").replace(ee," ").indexOf(d))return!0;return!1}});u.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(d,b){u.fn[b]=function(d,a){return 0<arguments.length?this.on(b,null,d,a):this.trigger(b)}});u.fn.extend({hover:function(d,b){return this.mouseenter(d).mouseleave(b||d)}});var Se=k.location,P=u.now(),Gb=/\?/,md=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;u.parseJSON=function(d){if(k.JSON&&k.JSON.parse)return k.JSON.parse(d+"");var b,a=null,e=u.trim(d+"");return e&&!u.trim(e.replace(md,function(d,e,l,c){b&&
e&&(a=0);if(0===a)return d;b=l||e;a+=!c-!l;return""}))?Function("return "+e)():u.error("Invalid JSON: "+d)};u.parseXML=function(d){if(!d||"string"!==typeof d)return null;try{if(k.DOMParser){var b=new k.DOMParser;var a=b.parseFromString(d,"text/xml")}else a=new k.ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(d)}catch(Ob){a=void 0}a&&a.documentElement&&!a.getElementsByTagName("parsererror").length||u.error("Invalid XML: "+d);return a};var pf=/#.*$/,Te=/([?&])_=[^&]*/,fe=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
Kc=/^(?:GET|HEAD)$/,nd=/^\/\//,Hd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,sc={},se={},tc="*/".concat("*"),Qb=Se.href,od=Hd.exec(Qb.toLowerCase())||[];u.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Qb,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(od[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":u.parseJSON,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,b){return b?Fa(Fa(d,u.ajaxSettings),b):Fa(u.ajaxSettings,d)},ajaxPrefilter:fb(sc),ajaxTransport:fb(se),ajax:function(d,b){function a(d,b,a,e){var m=b;if(2!==x){x=2;c&&k.clearTimeout(c);
f=void 0;l=e||"";B.readyState=0<d?4:0;e=200<=d&&300>d||304===d;if(a){var v=n;for(var y=B,G,K,C,T,E=v.contents,J=v.dataTypes;"*"===J[0];)J.shift(),void 0===K&&(K=v.mimeType||y.getResponseHeader("Content-Type"));if(K)for(T in E)if(E[T]&&E[T].test(K)){J.unshift(T);break}if(J[0]in a)C=J[0];else{for(T in a){if(!J[0]||v.converters[T+" "+J[0]]){C=T;break}G||(G=T)}C=C||G}C?(C!==J[0]&&J.unshift(C),v=a[C]):v=void 0}a:{a=n;G=v;K=B;C=e;var W;y={};E=a.dataTypes.slice();if(E[1])for(I in a.converters)y[I.toLowerCase()]=
a.converters[I];for(T=E.shift();T;){a.responseFields[T]&&(K[a.responseFields[T]]=G);!Y&&C&&a.dataFilter&&(G=a.dataFilter(G,a.dataType));var Y=T;if(T=E.shift())if("*"===T)T=Y;else if("*"!==Y&&Y!==T){var I=y[Y+" "+T]||y["* "+T];if(!I)for(W in y)if(v=W.split(" "),v[1]===T&&(I=y[Y+" "+v[0]]||y["* "+v[0]])){!0===I?I=y[W]:!0!==y[W]&&(T=v[0],E.unshift(v[1]));break}if(!0!==I)if(I&&a["throws"])G=I(G);else try{G=I(G)}catch(ae){v={state:"parsererror",error:I?ae:"No conversion from "+Y+" to "+T};break a}}}v=
{state:"success",data:G}}if(e)if(n.ifModified&&((m=B.getResponseHeader("Last-Modified"))&&(u.lastModified[A]=m),(m=B.getResponseHeader("etag"))&&(u.etag[A]=m)),204===d||"HEAD"===n.type)m="nocontent";else if(304===d)m="notmodified";else{m=v.state;var F=v.data;var aa=v.error;e=!aa}else if(aa=m,d||!m)m="error",0>d&&(d=0);B.status=d;B.statusText=(b||m)+"";e?r.resolveWith(z,[F,m,B]):r.rejectWith(z,[B,m,aa]);B.statusCode(w);w=void 0;h&&g.trigger(e?"ajaxSuccess":"ajaxError",[B,n,e?F:aa]);q.fireWith(z,[B,
m]);h&&(g.trigger("ajaxComplete",[B,n]),--u.active||u.event.trigger("ajaxStop"))}}"object"===typeof d&&(b=d,d=void 0);b=b||{};var e,l,c,h,f,m,n=u.ajaxSetup({},b),z=n.context||n,g=n.context&&(z.nodeType||z.jquery)?u(z):u.event,r=u.Deferred(),q=u.Callbacks("once memory"),w=n.statusCode||{},v={},y={},x=0,G="canceled",B={readyState:0,getResponseHeader:function(d){var b;if(2===x){if(!m)for(m={};b=fe.exec(l);)m[b[1].toLowerCase()]=b[2];b=m[d.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===
x?l:null},setRequestHeader:function(d,b){var a=d.toLowerCase();x||(d=y[a]=y[a]||d,v[d]=b);return this},overrideMimeType:function(d){x||(n.mimeType=d);return this},statusCode:function(d){var b;if(d)if(2>x)for(b in d)w[b]=[w[b],d[b]];else B.always(d[B.status]);return this},abort:function(d){d=d||G;f&&f.abort(d);a(0,d);return this}};r.promise(B).complete=q.add;B.success=B.done;B.error=B.fail;n.url=((d||n.url||Qb)+"").replace(pf,"").replace(nd,od[1]+"//");n.type=b.method||b.type||n.method||n.type;n.dataTypes=
u.trim(n.dataType||"*").toLowerCase().match(lc)||[""];null==n.crossDomain&&(d=Hd.exec(n.url.toLowerCase()),n.crossDomain=!(!d||d[1]===od[1]&&d[2]===od[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(od[3]||("http:"===od[1]?"80":"443"))));n.data&&n.processData&&"string"!==typeof n.data&&(n.data=u.param(n.data,n.traditional));Ub(sc,n,b,B);if(2===x)return B;(h=u.event&&n.global)&&0===u.active++&&u.event.trigger("ajaxStart");n.type=n.type.toUpperCase();n.hasContent=!Kc.test(n.type);var A=n.url;n.hasContent||
(n.data&&(A=n.url+=(Gb.test(A)?"&":"?")+n.data,delete n.data),!1===n.cache&&(n.url=Te.test(A)?A.replace(Te,"$1_="+P++):A+(Gb.test(A)?"&":"?")+"_="+P++));n.ifModified&&(u.lastModified[A]&&B.setRequestHeader("If-Modified-Since",u.lastModified[A]),u.etag[A]&&B.setRequestHeader("If-None-Match",u.etag[A]));(n.data&&n.hasContent&&!1!==n.contentType||b.contentType)&&B.setRequestHeader("Content-Type",n.contentType);B.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+
("*"!==n.dataTypes[0]?", "+tc+"; q=0.01":""):n.accepts["*"]);for(e in n.headers)B.setRequestHeader(e,n.headers[e]);if(n.beforeSend&&(!1===n.beforeSend.call(z,B,n)||2===x))return B.abort();G="abort";for(e in{success:1,error:1,complete:1})B[e](n[e]);if(f=Ub(se,n,b,B)){B.readyState=1;h&&g.trigger("ajaxSend",[B,n]);if(2===x)return B;n.async&&0<n.timeout&&(c=k.setTimeout(function(){B.abort("timeout")},n.timeout));try{x=1,f.send(v,a)}catch(za){if(2>x)a(-1,za);else throw za;}}else a(-1,"No Transport");return B},
getJSON:function(d,b,a){return u.get(d,b,a,"json")},getScript:function(d,b){return u.get(d,void 0,b,"script")}});u.each(["get","post"],function(d,b){u[b]=function(d,a,e,l){u.isFunction(a)&&(l=l||e,e=a,a=void 0);return u.ajax(u.extend({url:d,type:b,dataType:l,data:a,success:e},u.isPlainObject(d)&&d))}});u._evalUrl=function(d){return u.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};u.fn.extend({wrapAll:function(d){if(u.isFunction(d))return this.each(function(b){u(this).wrapAll(d.call(this,
b))});if(this[0]){var b=u(d,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&1===d.firstChild.nodeType;)d=d.firstChild;return d}).append(this)}return this},wrapInner:function(d){return u.isFunction(d)?this.each(function(b){u(this).wrapInner(d.call(this,b))}):this.each(function(){var b=u(this),a=b.contents();a.length?a.wrapAll(d):b.append(d)})},wrap:function(d){var b=u.isFunction(d);return this.each(function(a){u(this).wrapAll(b?
d.call(this,a):d)})},unwrap:function(){return this.parent().each(function(){u.nodeName(this,"body")||u(this).replaceWith(this.childNodes)}).end()}});u.expr.filters.hidden=function(d){return Q.reliableHiddenOffsets()?0>=d.offsetWidth&&0>=d.offsetHeight&&!d.getClientRects().length:yc(d)};u.expr.filters.visible=function(d){return!u.expr.filters.hidden(d)};var Bc=/%20/g,te=/\[\]$/,Id=/\r?\n/g,qf=/^(?:submit|button|image|reset|file)$/i,pd=/^(?:input|select|textarea|keygen)/i;u.param=function(d,b){var a,
e=[],l=function(d,b){b=u.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(d)+"="+encodeURIComponent(b)};void 0===b&&(b=u.ajaxSettings&&u.ajaxSettings.traditional);if(u.isArray(d)||d.jquery&&!u.isPlainObject(d))u.each(d,function(){l(this.name,this.value)});else for(a in d)Oa(a,d[a],b,l);return e.join("&").replace(Bc,"+")};u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=u.prop(this,"elements");return d?
u.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!u(this).is(":disabled")&&pd.test(this.nodeName)&&!qf.test(d)&&(this.checked||!$a.test(d))}).map(function(d,b){d=u(this).val();return null==d?null:u.isArray(d)?u.map(d,function(d){return{name:b.name,value:d.replace(Id,"\r\n")}}):{name:b.name,value:d.replace(Id,"\r\n")}}).get()}});u.ajaxSettings.xhr=void 0!==k.ActiveXObject?function(){return this.isLocal?Jb():8<R.documentMode?xb():/^(get|post|head|put|delete|options)$/i.test(this.type)&&
xb()||Jb()}:xb;var Jd=0,Kd={},Rb=u.ajaxSettings.xhr();k.attachEvent&&k.attachEvent("onunload",function(){for(var d in Kd)Kd[d](void 0,!0)});Q.cors=!!Rb&&"withCredentials"in Rb;(Rb=Q.ajax=!!Rb)&&u.ajaxTransport(function(d){if(!d.crossDomain||Q.cors){var b;return{send:function(a,e){var l,c=d.xhr(),h=++Jd;c.open(d.type,d.url,d.async,d.username,d.password);if(d.xhrFields)for(l in d.xhrFields)c[l]=d.xhrFields[l];d.mimeType&&c.overrideMimeType&&c.overrideMimeType(d.mimeType);d.crossDomain||a["X-Requested-With"]||
(a["X-Requested-With"]="XMLHttpRequest");for(l in a)void 0!==a[l]&&c.setRequestHeader(l,a[l]+"");c.send(d.hasContent&&d.data||null);b=function(a,l){if(b&&(l||4===c.readyState))if(delete Kd[h],b=void 0,c.onreadystatechange=u.noop,l)4!==c.readyState&&c.abort();else{var f={};var m=c.status;"string"===typeof c.responseText&&(f.text=c.responseText);try{var n=c.statusText}catch(Jf){n=""}m||!d.isLocal||d.crossDomain?1223===m&&(m=204):m=f.text?200:404}f&&e(m,n,f,c.getAllResponseHeaders())};d.async?4===c.readyState?
k.setTimeout(b):c.onreadystatechange=Kd[h]=b:b()},abort:function(){b&&b(void 0,!0)}}}});u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){u.globalEval(d);return d}}});u.ajaxPrefilter("script",function(d){void 0===d.cache&&(d.cache=!1);d.crossDomain&&(d.type="GET",d.global=!1)});u.ajaxTransport("script",function(d){if(d.crossDomain){var b,a=R.head||
u("head")[0]||R.documentElement;return{send:function(e,l){b=R.createElement("script");b.async=!0;d.scriptCharset&&(b.charset=d.scriptCharset);b.src=d.url;b.onload=b.onreadystatechange=function(d,a){if(a||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,a||l(200,"success")};a.insertBefore(b,a.firstChild)},abort:function(){if(b)b.onload(void 0,!0)}}}});var Ld=[],Md=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var d=Ld.pop()||u.expando+"_"+P++;this[d]=!0;return d}});u.ajaxPrefilter("json jsonp",function(d,b,a){var e,l=!1!==d.jsonp&&(Md.test(d.url)?"url":"string"===typeof d.data&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&Md.test(d.data)&&"data");if(l||"jsonp"===d.dataTypes[0]){var c=d.jsonpCallback=u.isFunction(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback;l?d[l]=d[l].replace(Md,"$1"+c):!1!==d.jsonp&&(d.url+=(Gb.test(d.url)?"&":"?")+d.jsonp+"="+c);
d.converters["script json"]=function(){e||u.error(c+" was not called");return e[0]};d.dataTypes[0]="json";var h=k[c];k[c]=function(){e=arguments};a.always(function(){void 0===h?u(k).removeProp(c):k[c]=h;d[c]&&(d.jsonpCallback=b.jsonpCallback,Ld.push(c));e&&u.isFunction(h)&&h(e[0]);e=h=void 0});return"script"}});u.parseHTML=function(d,b,a){if(!d||"string"!==typeof d)return null;"boolean"===typeof b&&(a=b,b=!1);b=b||R;var e=Cb.exec(d);a=!a&&[];if(e)return[b.createElement(e[1])];e=B([d],b,a);a&&a.length&&
u(a).remove();return u.merge([],e.childNodes)};var qd=u.fn.load;u.fn.load=function(d,b,a){if("string"!==typeof d&&qd)return qd.apply(this,arguments);var e,l,c=this,h=d.indexOf(" ");if(-1<h){var f=u.trim(d.slice(h,d.length));d=d.slice(0,h)}u.isFunction(b)?(a=b,b=void 0):b&&"object"===typeof b&&(e="POST");0<c.length&&u.ajax({url:d,type:e||"GET",dataType:"html",data:b}).done(function(d){l=arguments;c.html(f?u("<div>").append(u.parseHTML(d)).find(f):d)}).always(a&&function(d,b){c.each(function(){a.apply(this,
l||[d.responseText,b,d])})});return this};u.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(d,b){u.fn[b]=function(d){return this.on(b,d)}});u.expr.filters.animated=function(d){return u.grep(u.timers,function(b){return d===b.elem}).length};u.offset={setOffset:function(d,b,a){var e=u.css(d,"position"),l=u(d),c={};"static"===e&&(d.style.position="relative");var h=l.offset();var f=u.css(d,"top");var m=u.css(d,"left");("absolute"===e||"fixed"===e)&&-1<u.inArray("auto",
[f,m])?(m=l.position(),f=m.top,m=m.left):(f=parseFloat(f)||0,m=parseFloat(m)||0);u.isFunction(b)&&(b=b.call(d,a,u.extend({},h)));null!=b.top&&(c.top=b.top-h.top+f);null!=b.left&&(c.left=b.left-h.left+m);"using"in b?b.using.call(d,c):l.css(c)}};u.fn.extend({offset:function(d){if(arguments.length)return void 0===d?this:this.each(function(b){u.offset.setOffset(this,d,b)});var b,a={top:0,left:0},e=(b=this[0])&&b.ownerDocument;if(e){var l=e.documentElement;if(!u.contains(l,b))return a;"undefined"!==typeof b.getBoundingClientRect&&
(a=b.getBoundingClientRect());b=Ha(e);return{top:a.top+(b.pageYOffset||l.scrollTop)-(l.clientTop||0),left:a.left+(b.pageXOffset||l.scrollLeft)-(l.clientLeft||0)}}},position:function(){if(this[0]){var d={top:0,left:0},b=this[0];if("fixed"===u.css(b,"position"))var a=b.getBoundingClientRect();else{var e=this.offsetParent();a=this.offset();u.nodeName(e[0],"html")||(d=e.offset());d.top+=u.css(e[0],"borderTopWidth",!0);d.left+=u.css(e[0],"borderLeftWidth",!0)}return{top:a.top-d.top-u.css(b,"marginTop",
!0),left:a.left-d.left-u.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&!u.nodeName(d,"html")&&"static"===u.css(d,"position");)d=d.offsetParent;return d||bb})}});u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,b){var a=/Y/.test(b);u.fn[d]=function(e){return M(this,function(d,e,l){var c=Ha(d);if(void 0===l)return c?b in c?c[b]:c.document.documentElement[e]:d[e];c?c.scrollTo(a?u(c).scrollLeft():l,a?l:u(c).scrollTop()):
d[e]=l},d,e,arguments.length,null)}});u.each(["top","left"],function(d,b){u.cssHooks[b]=ja(Q.pixelPosition,function(d,a){if(a)return a=Zb(d,b),tb.test(a)?u(d).position()[b]+"px":a})});u.each({Height:"height",Width:"width"},function(d,b){u.each({padding:"inner"+d,content:b,"":"outer"+d},function(a,e){u.fn[e]=function(e,l){var c=arguments.length&&(a||"boolean"!==typeof e),h=a||(!0===e||!0===l?"margin":"border");return M(this,function(b,a,e){return u.isWindow(b)?b.document.documentElement["client"+d]:
9===b.nodeType?(a=b.documentElement,Math.max(b.body["scroll"+d],a["scroll"+d],b.body["offset"+d],a["offset"+d],a["client"+d])):void 0===e?u.css(b,a,h):u.style(b,a,e,h)},b,c?e:void 0,c,null)}})});u.fn.extend({bind:function(d,b,a){return this.on(d,null,b,a)},unbind:function(d,b){return this.off(d,null,b)},delegate:function(d,b,a,e){return this.on(b,d,a,e)},undelegate:function(d,b,a){return 1===arguments.length?this.off(d,"**"):this.off(b,d||"**",a)}});u.fn.size=function(){return this.length};u.fn.andSelf=
u.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return u});var gc=k.jQuery,uc=k.$;u.noConflict=function(d){k.$===u&&(k.$=uc);d&&k.jQuery===u&&(k.jQuery=gc);return u};g||(k.jQuery=k.$=u);return u});/*
 jQuery UI - v1.10.4 - 2014-01-17
 http://jqueryui.com
 Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
 Copyright 2014 jQuery Foundation and other contributors; Licensed MIT  jQuery Color Animations v2.1.2
 https://github.com/jquery/jquery-color

 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 Date: Wed Jan 16 08:47:09 2013 -0600
*/
(function(k,g){function c(a,b){var e=a.nodeName.toLowerCase();if("area"===e){b=a.parentNode;e=b.name;if(!a.href||!e||"map"!==b.nodeName.toLowerCase())return!1;a=k("img[usemap=#"+e+"]")[0];return!!a&&f(a)}return(/input|select|textarea|button|object/.test(e)?!a.disabled:"a"===e?a.href||b:b)&&f(a)}function f(a){return k.expr.filters.visible(a)&&!k(a).parents().addBack().filter(function(){return"hidden"===k.css(this,"visibility")}).length}var a=0,h=/^ui-id-\d+$/;k.ui=k.ui||{};k.extend(k.ui,{version:"1.10.4",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});k.fn.extend({focus:function(a){return function(b,e){return"number"===typeof b?this.each(function(){var a=this;setTimeout(function(){k(a).focus();e&&e.call(a)},b)}):a.apply(this,arguments)}}(k.fn.focus),scrollParent:function(){var a=k.ui.ie&&
/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(k.css(this,"position"))&&/(auto|scroll)/.test(k.css(this,"overflow")+k.css(this,"overflow-y")+k.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(k.css(this,"overflow")+k.css(this,"overflow-y")+k.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?k(document):a},zIndex:function(a){if(a!==
g)return this.css("zIndex",a);if(this.length){a=k(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");if("absolute"===b||"relative"===b||"fixed"===b)if(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b)return b;a=a.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){h.test(this.id)&&k(this).removeAttr("id")})}});k.extend(k.expr[":"],{data:k.expr.createPseudo?k.expr.createPseudo(function(a){return function(b){return!!k.data(b,
a)}}):function(a,b,c){return!!k.data(a,c[3])},focusable:function(a){return c(a,!isNaN(k.attr(a,"tabindex")))},tabbable:function(a){var b=k.attr(a,"tabindex"),e=isNaN(b);return(e||0<=b)&&c(a,!e)}});k("<a>").outerWidth(1).jquery||k.each(["Width","Height"],function(a,b){function e(b,a,e,h){k.each(c,function(){a-=parseFloat(k.css(b,"padding"+this))||0;e&&(a-=parseFloat(k.css(b,"border"+this+"Width"))||0);h&&(a-=parseFloat(k.css(b,"margin"+this))||0)});return a}var c="Width"===b?["Left","Right"]:["Top",
"Bottom"],h=b.toLowerCase(),f={innerWidth:k.fn.innerWidth,innerHeight:k.fn.innerHeight,outerWidth:k.fn.outerWidth,outerHeight:k.fn.outerHeight};k.fn["inner"+b]=function(a){return a===g?f["inner"+b].call(this):this.each(function(){k(this).css(h,e(this,a)+"px")})};k.fn["outer"+b]=function(a,c){return"number"!==typeof a?f["outer"+b].call(this,a):this.each(function(){k(this).css(h,e(this,a,!0,c)+"px")})}});k.fn.addBack||(k.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});
k("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(k.fn.removeData=function(a){return function(b){return arguments.length?a.call(this,k.camelCase(b)):a.call(this)}}(k.fn.removeData));k.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());k.support.selectstart="onselectstart"in document.createElement("div");k.fn.extend({disableSelection:function(){return this.bind((k.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
k.extend(k.ui,{plugin:{add:function(a,b,c){var e;a=k.ui[a].prototype;for(e in c)a.plugins[e]=a.plugins[e]||[],a.plugins[e].push([b,c[e]])},call:function(a,b,c){var e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<e.length;b++)a.options[e[b][0]]&&e[b][1].apply(a.element,c)}},hasScroll:function(a,b){if("hidden"===k(a).css("overflow"))return!1;b=b&&"left"===b?"scrollLeft":"scrollTop";if(0<a[b])return!0;a[b]=1;var e=0<a[b];a[b]=0;return e}})})(jQuery);
(function(k,g){var c=0,f=Array.prototype.slice,a=k.cleanData;k.cleanData=function(c){for(var e=0,b;null!=(b=c[e]);e++)try{k(b).triggerHandler("remove")}catch(m){}a(c)};k.widget=function(a,e,b){var c={},h=a.split(".")[0];a=a.split(".")[1];var f=h+"-"+a;b||(b=e,e=k.Widget);k.expr[":"][f.toLowerCase()]=function(b){return!!k.data(b,f)};k[h]=k[h]||{};var g=k[h][a];var v=k[h][a]=function(b,a){if(!this._createWidget)return new v(b,a);arguments.length&&this._createWidget(b,a)};k.extend(v,g,{version:b.version,
_proto:k.extend({},b),_childConstructors:[]});var A=new e;A.options=k.widget.extend({},A.options);k.each(b,function(b,a){k.isFunction(a)?c[b]=function(){var c=function(){return e.prototype[b].apply(this,arguments)},h=function(a){return e.prototype[b].apply(this,a)};return function(){var b=this._super,e=this._superApply;this._super=c;this._superApply=h;var f=a.apply(this,arguments);this._super=b;this._superApply=e;return f}}():c[b]=a});v.prototype=k.widget.extend(A,{widgetEventPrefix:g?A.widgetEventPrefix||
a:a},c,{constructor:v,namespace:h,widgetName:a,widgetFullName:f});g?(k.each(g._childConstructors,function(b,a){b=a.prototype;k.widget(b.namespace+"."+b.widgetName,v,a._proto)}),delete g._childConstructors):e._childConstructors.push(v);k.widget.bridge(a,v)};k.widget.extend=function(a){for(var e=f.call(arguments,1),b=0,c=e.length,h,r;b<c;b++)for(h in e[b])r=e[b][h],e[b].hasOwnProperty(h)&&r!==g&&(k.isPlainObject(r)?a[h]=k.isPlainObject(a[h])?k.widget.extend({},a[h],r):k.widget.extend({},r):a[h]=r);
return a};k.widget.bridge=function(a,e){var b=e.prototype.widgetFullName||a;k.fn[a]=function(c){var h="string"===typeof c,m=f.call(arguments,1),w=this;c=!h&&m.length?k.widget.extend.apply(null,[c].concat(m)):c;h?this.each(function(){var e=k.data(this,b);if(!e)return k.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+c+"'");if(!k.isFunction(e[c])||"_"===c.charAt(0))return k.error("no such method '"+c+"' for "+a+" widget instance");var h=e[c].apply(e,m);if(h!==
e&&h!==g)return w=h&&h.jquery?w.pushStack(h.get()):h,!1}):this.each(function(){var a=k.data(this,b);a?a.option(c||{})._init():k.data(this,b,new e(c,this))});return w}};k.Widget=function(){};k.Widget._childConstructors=[];k.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,e){e=k(e||this.defaultElement||this)[0];this.element=k(e);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=k.widget.extend({},
this.options,this._getCreateOptions(),a);this.bindings=k();this.hoverable=k();this.focusable=k();e!==this&&(k.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(b){b.target===e&&this.destroy()}}),this.document=k(e.style?e.ownerDocument:e.document||e),this.window=k(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:k.noop,_getCreateEventData:k.noop,_create:k.noop,
_init:k.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(k.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:k.noop,widget:function(){return this.element},
option:function(a,e){var b=a,c;if(0===arguments.length)return k.widget.extend({},this.options);if("string"===typeof a){b={};var h=a.split(".");a=h.shift();if(h.length){var f=b[a]=k.widget.extend({},this.options[a]);for(c=0;c<h.length-1;c++)f[h[c]]=f[h[c]]||{},f=f[h[c]];a=h.pop();if(1===arguments.length)return f[a]===g?null:f[a];f[a]=e}else{if(1===arguments.length)return this.options[a]===g?null:this.options[a];b[a]=e}}this._setOptions(b);return this},_setOptions:function(a){for(var e in a)this._setOption(e,
a[e]);return this},_setOption:function(a,e){this.options[a]=e;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,e,b){var c,h=this;"boolean"!==typeof a&&(b=e,e=a,a=!1);b?(e=c=k(e),this.bindings=this.bindings.add(e)):
(b=e,e=this.element,c=this.widget());k.each(b,function(b,f){function m(){if(a||!0!==h.options.disabled&&!k(this).hasClass("ui-state-disabled"))return("string"===typeof f?h[f]:f).apply(h,arguments)}"string"!==typeof f&&(m.guid=f.guid=f.guid||m.guid||k.guid++);var n=b.match(/^(\w+)\s*(.*)$/);b=n[1]+h.eventNamespace;(n=n[2])?c.delegate(n,b,m):e.bind(b,m)})},_off:function(a,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(e).undelegate(e)},_delay:function(a,e){var b=
this;return setTimeout(function(){return("string"===typeof a?b[a]:a).apply(b,arguments)},e||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){k(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){k(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){k(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){k(a.currentTarget).removeClass("ui-state-focus")}})},
_trigger:function(a,e,b){var c,h=this.options[a];b=b||{};e=k.Event(e);e.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();e.target=this.element[0];if(a=e.originalEvent)for(c in a)c in e||(e[c]=a[c]);this.element.trigger(e,b);return!(k.isFunction(h)&&!1===h.apply(this.element[0],[e].concat(b))||e.isDefaultPrevented())}};k.each({show:"fadeIn",hide:"fadeOut"},function(a,e){k.Widget.prototype["_"+a]=function(b,c,h){"string"===typeof c&&(c={effect:c});var f=c?!0===c||"number"===
typeof c?e:c.effect||e:a;c=c||{};"number"===typeof c&&(c={duration:c});var m=!k.isEmptyObject(c);c.complete=h;c.delay&&b.delay(c.delay);if(m&&k.effects&&k.effects.effect[f])b[a](c);else if(f!==a&&b[f])b[f](c.duration,c.easing,h);else b.queue(function(e){k(this)[a]();h&&h.call(b[0]);e()})}})})(jQuery);
(function(k,g){var c=!1;k(document).mouseup(function(){c=!1});k.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(a){return c._mouseDown(a)}).bind("click."+this.widgetName,function(a){if(!0===k.data(a.target,c.widgetName+".preventClickEvent"))return k.removeData(a.target,c.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&k(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(f){if(!c){this._mouseStarted&&this._mouseUp(f);this._mouseDownEvent=f;var a=this,h=1===f.which,e="string"===typeof this.options.cancel&&f.target.nodeName?k(f.target).closest(this.options.cancel).length:!1;if(!h||e||!this._mouseCapture(f))return!0;this.mouseDelayMet=
!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=!1!==this._mouseStart(f),!this._mouseStarted))return f.preventDefault(),!0;!0===k.data(f.target,this.widgetName+".preventClickEvent")&&k.removeData(f.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(b){return a._mouseMove(b)};this._mouseUpDelegate=function(b){return a._mouseUp(b)};
k(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();return c=!0}},_mouseMove:function(c){if(k.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button)return this._mouseUp(c);if(this._mouseStarted)return this._mouseDrag(c),c.preventDefault();this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c))?this._mouseDrag(c):this._mouseUp(c));
return!this._mouseStarted},_mouseUp:function(c){k(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&k.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));return!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(k,g){k.widget("ui.draggable",k.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var f=this.options;if(this.helper||f.disabled||0<k(c.target).closest(".ui-resizable-handle").length)return!1;
this.handle=this._getHandle(c);if(!this.handle)return!1;k(!0===f.iframeFix?"iframe":f.iframeFix).each(function(){k("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(k(this).offset()).appendTo("body")});return!0},_mouseStart:function(c){var f=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
k.ui.ddmanager&&(k.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=!1;k.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);this._setContainment();if(!1===this._trigger("start",c))return this._clear(),!1;this._cacheHelperProportions();k.ui.ddmanager&&!f.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,c);this._mouseDrag(c,!0);k.ui.ddmanager&&k.ui.ddmanager.dragStart(this,c);return!0},
_mouseDrag:function(c,f){"fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!f){f=this._uiHash();if(!1===this._trigger("drag",c,f))return this._mouseUp({}),!1;this.position=f.position}this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");
k.ui.ddmanager&&k.ui.ddmanager.drag(this,c);return!1},_mouseStop:function(c){var f=this,a=!1;k.ui.ddmanager&&!this.options.dropBehaviour&&(a=k.ui.ddmanager.drop(this,c));this.dropped&&(a=this.dropped,this.dropped=!1);if("original"===this.options.helper&&!k.contains(this.element[0].ownerDocument,this.element[0]))return!1;"invalid"===this.options.revert&&!a||"valid"===this.options.revert&&a||!0===this.options.revert||k.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)?k(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==f._trigger("stop",c)&&f._clear()}):!1!==this._trigger("stop",c)&&this._clear();return!1},_mouseUp:function(c){k("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});k.ui.ddmanager&&k.ui.ddmanager.dragStop(this,c);return k.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(c){return this.options.handle?
!!k(c.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(c){var f=this.options;c=k.isFunction(f.helper)?k(f.helper.apply(this.element[0],[c])):"clone"===f.helper?this.element.clone().removeAttr("id"):this.element;c.parents("body").length||c.appendTo("parent"===f.appendTo?this.element[0].parentNode:f.appendTo);c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){"string"===
typeof c&&(c=c.split(" "));k.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){var c=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
k.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&k.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var c=this.element.position();
return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c;var f=this.options;if(f.containment)if("window"===f.containment)this.containment=[k(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,k(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,k(window).scrollLeft()+k(window).width()-this.helperProportions.width-this.margins.left,k(window).scrollTop()+(k(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];else if("document"===f.containment)this.containment=[0,0,k(document).width()-this.helperProportions.width-this.margins.left,(k(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(f.containment.constructor===Array)this.containment=f.containment;else{"parent"===f.containment&&(f.containment=this.helper[0].parentNode);var a=k(f.containment);if(c=a[0])f="hidden"!==a.css("overflow"),this.containment=[(parseInt(a.css("borderLeftWidth"),
10)||0)+(parseInt(a.css("paddingLeft"),10)||0),(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("paddingTop"),10)||0),(f?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a.css("borderRightWidth"),10)||0)-(parseInt(a.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a.css("borderBottomWidth"),10)||0)-(parseInt(a.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=a}else this.containment=null},_convertPositionTo:function(c,f){f||(f=this.position);c="absolute"===c?1:-1;var a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&k.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()});return{top:f.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():this.offset.scroll.top)*c,left:f.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*c}},_generatePosition:function(c){var f=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&k.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;var h=c.pageX;var e=c.pageY;this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),
left:a.scrollLeft()});if(this.originalPosition){if(this.containment){if(this.relative_container){var b=this.relative_container.offset();b=[this.containment[0]+b.left,this.containment[1]+b.top,this.containment[2]+b.left,this.containment[3]+b.top]}else b=this.containment;c.pageX-this.offset.click.left<b[0]&&(h=b[0]+this.offset.click.left);c.pageY-this.offset.click.top<b[1]&&(e=b[1]+this.offset.click.top);c.pageX-this.offset.click.left>b[2]&&(h=b[2]+this.offset.click.left);c.pageY-this.offset.click.top>
b[3]&&(e=b[3]+this.offset.click.top)}f.grid&&(e=f.grid[1]?this.originalPageY+Math.round((e-this.originalPageY)/f.grid[1])*f.grid[1]:this.originalPageY,e=b?e-this.offset.click.top>=b[1]||e-this.offset.click.top>b[3]?e:e-this.offset.click.top>=b[1]?e-f.grid[1]:e+f.grid[1]:e,h=f.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/f.grid[0])*f.grid[0]:this.originalPageX,h=b?h-this.offset.click.left>=b[0]||h-this.offset.click.left>b[2]?h:h-this.offset.click.left>=b[0]?h-f.grid[0]:h+f.grid[0]:
h)}return{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;
this.cancelHelperRemoval=!1},_trigger:function(c,f,a){a=a||this._uiHash();k.ui.plugin.call(this,c,[f,a]);"drag"===c&&(this.positionAbs=this._convertPositionTo("absolute"));return k.Widget.prototype._trigger.call(this,c,f,a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});k.ui.plugin.add("draggable","connectToSortable",{start:function(c,f){var a=k(this).data("ui-draggable"),h=a.options,e=k.extend({},
f,{item:a.element});a.sortables=[];k(h.connectToSortable).each(function(){var b=k.data(this,"ui-sortable");b&&!b.options.disabled&&(a.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",c,e))})},stop:function(c,f){var a=k(this).data("ui-draggable"),h=k.extend({},f,{item:a.element});k.each(a.sortables,function(){this.instance.isOver?(this.instance.isOver=0,a.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=
this.shouldRevert),this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"===a.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,h))})},drag:function(c,f){var a=k(this).data("ui-draggable"),h=this;k.each(a.sortables,function(){var e=!1,b=this;this.instance.positionAbs=a.positionAbs;this.instance.helperProportions=a.helperProportions;this.instance.offset.click=
a.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,k.each(a.sortables,function(){this.instance.positionAbs=a.positionAbs;this.instance.helperProportions=a.helperProportions;this.instance.offset.click=a.offset.click;this!==b&&this.instance._intersectsWith(this.instance.containerCache)&&k.contains(b.instance.element[0],this.instance.element[0])&&(e=!1);return e}));e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=k(h).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",
!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return f.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=a.offset.click.top,this.instance.offset.click.left=a.offset.click.left,this.instance.offset.parent.left-=a.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=a.offset.parent.top-this.instance.offset.parent.top,
a._trigger("toSortable",c),a.dropped=this.instance.element,a.currentItem=a.element,this.instance.fromOutside=a),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&
this.instance.placeholder.remove(),a._trigger("fromSortable",c),a.dropped=!1)})}});k.ui.plugin.add("draggable","cursor",{start:function(){var c=k("body"),f=k(this).data("ui-draggable").options;c.css("cursor")&&(f._cursor=c.css("cursor"));c.css("cursor",f.cursor)},stop:function(){var c=k(this).data("ui-draggable").options;c._cursor&&k("body").css("cursor",c._cursor)}});k.ui.plugin.add("draggable","opacity",{start:function(c,f){c=k(f.helper);f=k(this).data("ui-draggable").options;c.css("opacity")&&
(f._opacity=c.css("opacity"));c.css("opacity",f.opacity)},stop:function(c,f){c=k(this).data("ui-draggable").options;c._opacity&&k(f.helper).css("opacity",c._opacity)}});k.ui.plugin.add("draggable","scroll",{start:function(){var c=k(this).data("ui-draggable");c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName&&(c.overflowOffset=c.scrollParent.offset())},drag:function(c){var f=k(this).data("ui-draggable"),a=f.options,h=!1;f.scrollParent[0]!==document&&"HTML"!==f.scrollParent[0].tagName?
(a.axis&&"x"===a.axis||(f.overflowOffset.top+f.scrollParent[0].offsetHeight-c.pageY<a.scrollSensitivity?f.scrollParent[0].scrollTop=h=f.scrollParent[0].scrollTop+a.scrollSpeed:c.pageY-f.overflowOffset.top<a.scrollSensitivity&&(f.scrollParent[0].scrollTop=h=f.scrollParent[0].scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(f.overflowOffset.left+f.scrollParent[0].offsetWidth-c.pageX<a.scrollSensitivity?f.scrollParent[0].scrollLeft=h=f.scrollParent[0].scrollLeft+a.scrollSpeed:c.pageX-f.overflowOffset.left<
a.scrollSensitivity&&(f.scrollParent[0].scrollLeft=h=f.scrollParent[0].scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(c.pageY-k(document).scrollTop()<a.scrollSensitivity?h=k(document).scrollTop(k(document).scrollTop()-a.scrollSpeed):k(window).height()-(c.pageY-k(document).scrollTop())<a.scrollSensitivity&&(h=k(document).scrollTop(k(document).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(c.pageX-k(document).scrollLeft()<a.scrollSensitivity?h=k(document).scrollLeft(k(document).scrollLeft()-
a.scrollSpeed):k(window).width()-(c.pageX-k(document).scrollLeft())<a.scrollSensitivity&&(h=k(document).scrollLeft(k(document).scrollLeft()+a.scrollSpeed))));!1!==h&&k.ui.ddmanager&&!a.dropBehaviour&&k.ui.ddmanager.prepareOffsets(f,c)}});k.ui.plugin.add("draggable","snap",{start:function(){var c=k(this).data("ui-draggable"),f=c.options;c.snapElements=[];k(f.snap.constructor!==String?f.snap.items||":data(ui-draggable)":f.snap).each(function(){var a=k(this),h=a.offset();this!==c.element[0]&&c.snapElements.push({item:this,
width:a.outerWidth(),height:a.outerHeight(),top:h.top,left:h.left})})},drag:function(c,f){var a,h=k(this).data("ui-draggable"),e=h.options,b=e.snapTolerance,m=f.offset.left,n=m+h.helperProportions.width,g=f.offset.top,w=g+h.helperProportions.height;for(a=h.snapElements.length-1;0<=a;a--){var v=h.snapElements[a].left;var A=v+h.snapElements[a].width;var y=h.snapElements[a].top;var x=y+h.snapElements[a].height;if(n<v-b||m>A+b||w<y-b||g>x+b||!k.contains(h.snapElements[a].item.ownerDocument,h.snapElements[a].item))h.snapElements[a].snapping&&
h.options.snap.release&&h.options.snap.release.call(h.element,c,k.extend(h._uiHash(),{snapItem:h.snapElements[a].item})),h.snapElements[a].snapping=!1;else{if("inner"!==e.snapMode){var q=Math.abs(y-w)<=b;var B=Math.abs(x-g)<=b;var C=Math.abs(v-n)<=b;var E=Math.abs(A-m)<=b;q&&(f.position.top=h._convertPositionTo("relative",{top:y-h.helperProportions.height,left:0}).top-h.margins.top);B&&(f.position.top=h._convertPositionTo("relative",{top:x,left:0}).top-h.margins.top);C&&(f.position.left=h._convertPositionTo("relative",
{top:0,left:v-h.helperProportions.width}).left-h.margins.left);E&&(f.position.left=h._convertPositionTo("relative",{top:0,left:A}).left-h.margins.left)}var I=q||B||C||E;"outer"!==e.snapMode&&(q=Math.abs(y-g)<=b,B=Math.abs(x-w)<=b,C=Math.abs(v-m)<=b,E=Math.abs(A-n)<=b,q&&(f.position.top=h._convertPositionTo("relative",{top:y,left:0}).top-h.margins.top),B&&(f.position.top=h._convertPositionTo("relative",{top:x-h.helperProportions.height,left:0}).top-h.margins.top),C&&(f.position.left=h._convertPositionTo("relative",
{top:0,left:v}).left-h.margins.left),E&&(f.position.left=h._convertPositionTo("relative",{top:0,left:A-h.helperProportions.width}).left-h.margins.left));!h.snapElements[a].snapping&&(q||B||C||E||I)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,c,k.extend(h._uiHash(),{snapItem:h.snapElements[a].item}));h.snapElements[a].snapping=q||B||C||E||I}}}});k.ui.plugin.add("draggable","stack",{start:function(){var c=this.data("ui-draggable").options;c=k.makeArray(k(c.stack)).sort(function(a,c){return(parseInt(k(a).css("zIndex"),
10)||0)-(parseInt(k(c).css("zIndex"),10)||0)});if(c.length){var f=parseInt(k(c[0]).css("zIndex"),10)||0;k(c).each(function(a){k(this).css("zIndex",f+a)});this.css("zIndex",f+c.length)}}});k.ui.plugin.add("draggable","zIndex",{start:function(c,f){c=k(f.helper);f=k(this).data("ui-draggable").options;c.css("zIndex")&&(f._zIndex=c.css("zIndex"));c.css("zIndex",f.zIndex)},stop:function(c,f){c=k(this).data("ui-draggable").options;c._zIndex&&k(f.helper).css("zIndex",c._zIndex)}})})(jQuery);
(function(k,g){k.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c,f=this.options,a=f.accept;this.isover=!1;this.isout=!0;this.accept=k.isFunction(a)?a:function(c){return c.is(a)};this.proportions=function(){if(arguments.length)c=arguments[0];else return c?c:c={width:this.element[0].offsetWidth,
height:this.element[0].offsetHeight}};k.ui.ddmanager.droppables[f.scope]=k.ui.ddmanager.droppables[f.scope]||[];k.ui.ddmanager.droppables[f.scope].push(this);f.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var c=0,f=k.ui.ddmanager.droppables[this.options.scope];c<f.length;c++)f[c]===this&&f.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,f){"accept"===c&&(this.accept=k.isFunction(f)?f:function(a){return a.is(f)});k.Widget.prototype._setOption.apply(this,
arguments)},_activate:function(c){var f=k.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);f&&this._trigger("activate",c,this.ui(f))},_deactivate:function(c){var f=k.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);f&&this._trigger("deactivate",c,this.ui(f))},_over:function(c){var f=k.ui.ddmanager.current;f&&(f.currentItem||f.element)[0]!==this.element[0]&&this.accept.call(this.element[0],f.currentItem||
f.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",c,this.ui(f)))},_out:function(c){var f=k.ui.ddmanager.current;f&&(f.currentItem||f.element)[0]!==this.element[0]&&this.accept.call(this.element[0],f.currentItem||f.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(f)))},_drop:function(c,f){var a=f||k.ui.ddmanager.current,h=!1;if(!a||(a.currentItem||a.element)[0]===this.element[0])return!1;
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=k.data(this,"ui-droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope===a.options.scope&&e.accept.call(e.element[0],a.currentItem||a.element)&&k.ui.intersect(a,k.extend(e,{offset:e.element.offset()}),e.options.tolerance))return h=!0,!1});return h?!1:this.accept.call(this.element[0],a.currentItem||a.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&
this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,this.ui(a)),this.element):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}});k.ui.intersect=function(c,f,a){if(!f.offset)return!1;var h=(c.positionAbs||c.position.absolute).left,e=(c.positionAbs||c.position.absolute).top,b=h+c.helperProportions.width,m=e+c.helperProportions.height,n=f.offset.left,g=f.offset.top,k=n+f.proportions().width,v=g+f.proportions().height;
switch(a){case "fit":return n<=h&&b<=k&&g<=e&&m<=v;case "intersect":return n<h+c.helperProportions.width/2&&b-c.helperProportions.width/2<k&&g<e+c.helperProportions.height/2&&m-c.helperProportions.height/2<v;case "pointer":a=(c.positionAbs||c.position.absolute).left+(c.clickOffset||c.offset.click).left;c=(c.positionAbs||c.position.absolute).top+(c.clickOffset||c.offset.click).top;h=f.proportions().height;if(g=c>g&&c<g+h)f=f.proportions().width,g=a>n&&a<n+f;return g;case "touch":return(e>=g&&e<=v||
m>=g&&m<=v||e<g&&m>v)&&(h>=n&&h<=k||b>=n&&b<=k||h<n&&b>k);default:return!1}};k.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(c,f){var a,h=k.ui.ddmanager.droppables[c.options.scope]||[],e=f?f.type:null,b=(c.currentItem||c.element).find(":data(ui-droppable)").addBack();var m=0;a:for(;m<h.length;m++)if(!(h[m].options.disabled||c&&!h[m].accept.call(h[m].element[0],c.currentItem||c.element))){for(a=0;a<b.length;a++)if(b[a]===h[m].element[0]){h[m].proportions().height=0;continue a}h[m].visible=
"none"!==h[m].element.css("display");h[m].visible&&("mousedown"===e&&h[m]._activate.call(h[m],f),h[m].offset=h[m].element.offset(),h[m].proportions({width:h[m].element[0].offsetWidth,height:h[m].element[0].offsetHeight}))}},drop:function(c,f){var a=!1;k.each((k.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&k.ui.intersect(c,this,this.options.tolerance)&&(a=this._drop.call(this,f)||a),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],
c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,f)))});return a},dragStart:function(c,f){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||k.ui.ddmanager.prepareOffsets(c,f)})},drag:function(c,f){c.options.refreshPositions&&k.ui.ddmanager.prepareOffsets(c,f);k.each(k.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var a=k.ui.intersect(c,this,this.options.tolerance);
var h=!a&&this.isover?"isout":a&&!this.isover?"isover":null;if(h){if(this.options.greedy){var e=this.options.scope;a=this.element.parents(":data(ui-droppable)").filter(function(){return k.data(this,"ui-droppable").options.scope===e});if(a.length){var b=k.data(a[0],"ui-droppable");b.greedyChild="isover"===h}}b&&"isover"===h&&(b.isover=!1,b.isout=!0,b._out.call(b,f));this[h]=!0;this["isout"===h?"isover":"isout"]=!1;this["isover"===h?"_over":"_out"].call(this,f);b&&"isout"===h&&(b.isout=!1,b.isover=
!0,b._over.call(b,f))}}})},dragStop:function(c,f){c.element.parentsUntil("body").unbind("scroll.droppable");c.options.refreshPositions||k.ui.ddmanager.prepareOffsets(c,f)}}})(jQuery);
(function(k,g){function c(a){return parseInt(a,10)||0}function f(a){return!isNaN(parseInt(a,10))}k.widget("ui.resizable",k.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var a,c=this,e=this.options;this.element.addClass("ui-resizable");
k.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(k("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=e.handles||(k(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");
if(this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var b=this.handles.split(",");this.handles={};for(a=0;a<b.length;a++){var f=k.trim(b[a]);var n="ui-resizable-"+f;var g=k("<div class='ui-resizable-handle "+n+"'></div>");g.css({zIndex:e.zIndex});"se"===f&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[f]=".ui-resizable-"+f;this.element.append(g)}}this._renderAxis=function(b){var a;b=b||this.element;for(a in this.handles){this.handles[a].constructor===
String&&(this.handles[a]=k(this.handles[a],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var e=k(this.handles[a],this.element);var c=/sw|ne|nw|se|n|s/.test(a)?e.outerHeight():e.outerWidth();e=["padding",/ne|nw|n/.test(a)?"Top":/se|sw|s/.test(a)?"Bottom":/^e$/.test(a)?"Right":"Left"].join("");b.css(e,c);this._proportionallyResize()}k(this.handles[a])}};this._renderAxis(this.element);this._handles=k(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){c.resizing||(this.className&&(g=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),c.axis=g&&g[1]?g[1]:"se")});e.autoHide&&(this._handles.hide(),k(this.element).addClass("ui-resizable-autohide").mouseenter(function(){e.disabled||(k(this).removeClass("ui-resizable-autohide"),c._handles.show())}).mouseleave(function(){e.disabled||c.resizing||(k(this).addClass("ui-resizable-autohide"),c._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var a=function(a){k(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){a(this.element);var c=this.element;this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c);c.remove()}this.originalElement.css("resize",this.originalResizeStyle);a(this.originalElement);
return this},_mouseCapture:function(a){var c,e=!1;for(c in this.handles){var b=k(this.handles[c])[0];if(b===a.target||k.contains(b,a.target))e=!0}return!this.options.disabled&&e},_mouseStart:function(a){var h=this.options;var e=this.element.position();var b=this.element;this.resizing=!0;/absolute/.test(b.css("position"))?b.css({position:"absolute",top:b.css("top"),left:b.css("left")}):b.is(".ui-draggable")&&b.css({position:"absolute",top:e.top,left:e.left});this._renderProxy();e=c(this.helper.css("left"));
var f=c(this.helper.css("top"));h.containment&&(e+=k(h.containment).scrollLeft()||0,f+=k(h.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:e,top:f};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:b.width(),height:b.height()};this.originalSize=this._helper?{width:b.outerWidth(),height:b.outerHeight()}:{width:b.width(),height:b.height()};this.originalPosition={left:e,top:f};this.sizeDiff={width:b.outerWidth()-b.width(),height:b.outerHeight()-
b.height()};this.originalMousePosition={left:a.pageX,top:a.pageY};this.aspectRatio="number"===typeof h.aspectRatio?h.aspectRatio:this.originalSize.width/this.originalSize.height||1;h=k(".ui-resizable-"+this.axis).css("cursor");k("body").css("cursor","auto"===h?this.axis+"-resize":h);b.addClass("ui-resizable-resizing");this._propagate("start",a);return!0},_mouseDrag:function(a){var c=this.helper,e={};var b=this.originalMousePosition;var f=this.position.top,n=this.position.left,g=this.size.width,w=
this.size.height,v=this._change[this.axis];if(!v)return!1;b=v.apply(this,[a,a.pageX-b.left||0,a.pageY-b.top||0]);this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)b=this._updateRatio(b,a);b=this._respectSize(b,a);this._updateCache(b);this._propagate("resize",a);this.position.top!==f&&(e.top=this.position.top+"px");this.position.left!==n&&(e.left=this.position.left+"px");this.size.width!==g&&(e.width=this.size.width+"px");this.size.height!==w&&(e.height=this.size.height+"px");
c.css(e);!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();k.isEmptyObject(e)||this._trigger("resize",a,this.ui());return!1},_mouseStop:function(a){this.resizing=!1;var c,e=this.options;if(this._helper){var b=this._proportionallyResizeElements;b=(c=b.length&&/textarea/i.test(b[0].nodeName))&&k.ui.hasScroll(b[0],"left")?0:this.sizeDiff.height;c=c?0:this.sizeDiff.width;c={width:this.helper.width()-c,height:this.helper.height()-b};b=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null;var f=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;e.animate||this.element.css(k.extend(c,{top:f,left:b}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!e.animate&&this._proportionallyResize()}k("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",a);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(a){var c=
this.options;c={minWidth:f(c.minWidth)?c.minWidth:0,maxWidth:f(c.maxWidth)?c.maxWidth:Infinity,minHeight:f(c.minHeight)?c.minHeight:0,maxHeight:f(c.maxHeight)?c.maxHeight:Infinity};if(this._aspectRatio||a){a=c.minHeight*this.aspectRatio;var e=c.minWidth/this.aspectRatio;var b=c.maxHeight*this.aspectRatio;var m=c.maxWidth/this.aspectRatio;a>c.minWidth&&(c.minWidth=a);e>c.minHeight&&(c.minHeight=e);b<c.maxWidth&&(c.maxWidth=b);m<c.maxHeight&&(c.maxHeight=m)}this._vBoundaries=c},_updateCache:function(a){this.offset=
this.helper.offset();f(a.left)&&(this.position.left=a.left);f(a.top)&&(this.position.top=a.top);f(a.height)&&(this.size.height=a.height);f(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var c=this.position,e=this.size,b=this.axis;f(a.height)?a.width=a.height*this.aspectRatio:f(a.width)&&(a.height=a.width/this.aspectRatio);"sw"===b&&(a.left=c.left+(e.width-a.width),a.top=null);"nw"===b&&(a.top=c.top+(e.height-a.height),a.left=c.left+(e.width-a.width));return a},_respectSize:function(a){var c=
this._vBoundaries,e=this.axis,b=f(a.width)&&c.maxWidth&&c.maxWidth<a.width,m=f(a.height)&&c.maxHeight&&c.maxHeight<a.height,n=f(a.width)&&c.minWidth&&c.minWidth>a.width,g=f(a.height)&&c.minHeight&&c.minHeight>a.height,k=this.originalPosition.left+this.originalSize.width,v=this.position.top+this.size.height,A=/sw|nw|w/.test(e);e=/nw|ne|n/.test(e);n&&(a.width=c.minWidth);g&&(a.height=c.minHeight);b&&(a.width=c.maxWidth);m&&(a.height=c.maxHeight);n&&A&&(a.left=k-c.minWidth);b&&A&&(a.left=k-c.maxWidth);
g&&e&&(a.top=v-c.minHeight);m&&e&&(a.top=v-c.maxHeight);a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null;return a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,c,e=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){var b=this._proportionallyResizeElements[a];if(!this.borderDif){this.borderDif=[];var f=[b.css("borderTopWidth"),b.css("borderRightWidth"),b.css("borderBottomWidth"),b.css("borderLeftWidth")];
var n=[b.css("paddingTop"),b.css("paddingRight"),b.css("paddingBottom"),b.css("paddingLeft")];for(c=0;c<f.length;c++)this.borderDif[c]=(parseInt(f[c],10)||0)+(parseInt(n[c],10)||0)}b.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var a=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||k("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,c){return{width:this.originalSize.width+c}},w:function(a,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(a,c,e){return{top:this.originalPosition.top+e,height:this.originalSize.height-e}},s:function(a,c,e){return{height:this.originalSize.height+
e}},se:function(a,c,e){return k.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,c,e]))},sw:function(a,c,e){return k.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,c,e]))},ne:function(a,c,e){return k.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,c,e]))},nw:function(a,c,e){return k.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,c,e]))}},_propagate:function(a,c){k.ui.plugin.call(this,a,[c,this.ui()]);
"resize"!==a&&this._trigger(a,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});k.ui.plugin.add("resizable","animate",{stop:function(a){var c=k(this).data("ui-resizable"),e=c.options,b=c._proportionallyResizeElements,f=b.length&&/textarea/i.test(b[0].nodeName),n=f&&k.ui.hasScroll(b[0],"left")?0:c.sizeDiff.height;f=
{width:c.size.width-(f?0:c.sizeDiff.width),height:c.size.height-n};n=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null;var g=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(k.extend(f,g&&n?{top:g,left:n}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),
10)};b&&b.length&&k(b[0]).css({width:e.width,height:e.height});c._updateCache(e);c._propagate("resize",a)}})}});k.ui.plugin.add("resizable","containment",{start:function(){var a=k(this).data("ui-resizable"),h=a.element;var e=a.options.containment;if(h=e instanceof k?e.get(0):/parent/.test(e)?h.parent().get(0):e)if(a.containerElement=k(h),/document/.test(e)||e===document)a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:k(document),left:0,top:0,width:k(document).width(),
height:k(document).height()||document.body.parentNode.scrollHeight};else{var b=k(h);var f=[];k(["Top","Right","Left","Bottom"]).each(function(a,e){f[a]=c(b.css("padding"+e))});a.containerOffset=b.offset();a.containerPosition=b.position();a.containerSize={height:b.innerHeight()-f[3],width:b.innerWidth()-f[1]};e=a.containerOffset;var n=a.containerSize.height;var g=a.containerSize.width;g=k.ui.hasScroll(h,"left")?h.scrollWidth:g;n=k.ui.hasScroll(h)?h.scrollHeight:n;a.parentData={element:h,left:e.left,
top:e.top,width:g,height:n}}},resize:function(a){var c=k(this).data("ui-resizable");var e=c.options;var b=c.containerOffset;var f=c.position;a=c._aspectRatio||a.shiftKey;var n={top:0,left:0};var g=c.containerElement;g[0]!==document&&/static/.test(g.css("position"))&&(n=b);f.left<(c._helper?b.left:0)&&(c.size.width+=c._helper?c.position.left-b.left:c.position.left-n.left,a&&(c.size.height=c.size.width/c.aspectRatio),c.position.left=e.helper?b.left:0);f.top<(c._helper?b.top:0)&&(c.size.height+=c._helper?
c.position.top-b.top:c.position.top,a&&(c.size.width=c.size.height*c.aspectRatio),c.position.top=c._helper?b.top:0);c.offset.left=c.parentData.left+c.position.left;c.offset.top=c.parentData.top+c.position.top;e=Math.abs(c.offset.left-n.left+c.sizeDiff.width);b=Math.abs((c._helper?c.offset.top-n.top:c.offset.top-b.top)+c.sizeDiff.height);f=c.containerElement.get(0)===c.element.parent().get(0);n=/relative|absolute/.test(c.containerElement.css("position"));f&&n&&(e-=Math.abs(c.parentData.left));e+c.size.width>=
c.parentData.width&&(c.size.width=c.parentData.width-e,a&&(c.size.height=c.size.width/c.aspectRatio));b+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-b,a&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(){var a=k(this).data("ui-resizable"),c=a.options,e=a.containerOffset,b=a.containerPosition,f=a.containerElement,n=k(a.helper),g=n.offset(),w=n.outerWidth()-a.sizeDiff.width;n=n.outerHeight()-a.sizeDiff.height;a._helper&&!c.animate&&/relative/.test(f.css("position"))&&
k(this).css({left:g.left-b.left-e.left,width:w,height:n});a._helper&&!c.animate&&/static/.test(f.css("position"))&&k(this).css({left:g.left-b.left-e.left,width:w,height:n})}});k.ui.plugin.add("resizable","alsoResize",{start:function(){var a=k(this).data("ui-resizable").options,c=function(a){k(a).each(function(){var b=k(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!==typeof a.alsoResize||
a.alsoResize.parentNode?c(a.alsoResize):a.alsoResize.length?(a.alsoResize=a.alsoResize[0],c(a.alsoResize)):k.each(a.alsoResize,function(a){c(a)})},resize:function(a,c){a=k(this).data("ui-resizable");var e=a.options,b=a.originalSize,h=a.originalPosition,f={height:a.size.height-b.height||0,width:a.size.width-b.width||0,top:a.position.top-h.top||0,left:a.position.left-h.left||0},g=function(b,a){k(b).each(function(){var b=k(this),e=k(this).data("ui-resizable-alsoresize"),h={},m=a&&a.length?a:b.parents(c.originalElement[0]).length?
["width","height"]:["width","height","top","left"];k.each(m,function(b,a){(b=(e[a]||0)+(f[a]||0))&&0<=b&&(h[a]=b||null)});b.css(h)})};"object"!==typeof e.alsoResize||e.alsoResize.nodeType?g(e.alsoResize):k.each(e.alsoResize,function(b,a){g(b,a)})},stop:function(){k(this).removeData("resizable-alsoresize")}});k.ui.plugin.add("resizable","ghost",{start:function(){var a=k(this).data("ui-resizable"),c=a.options,e=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:.25,display:"block",position:"relative",
height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof c.ghost?c.ghost:"");a.ghost.appendTo(a.helper)},resize:function(){var a=k(this).data("ui-resizable");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=k(this).data("ui-resizable");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});k.ui.plugin.add("resizable","grid",{resize:function(){var a=k(this).data("ui-resizable"),
c=a.options,e=a.size,b=a.originalSize,f=a.originalPosition,n=a.axis,g="number"===typeof c.grid?[c.grid,c.grid]:c.grid,w=g[0]||1,v=g[1]||1,A=Math.round((e.width-b.width)/w)*w;e=Math.round((e.height-b.height)/v)*v;var y=b.width+A,x=b.height+e,q=c.maxWidth&&c.maxWidth<y,B=c.maxHeight&&c.maxHeight<x,C=c.minWidth&&c.minWidth>y,E=c.minHeight&&c.minHeight>x;c.grid=g;C&&(y+=w);E&&(x+=v);q&&(y-=w);B&&(x-=v);/^(se|s|e)$/.test(n)?(a.size.width=y,a.size.height=x):/^(ne)$/.test(n)?(a.size.width=y,a.size.height=
x,a.position.top=f.top-e):/^(sw)$/.test(n)?(a.size.width=y,a.size.height=x,a.position.left=f.left-A):(0<x-v?(a.size.height=x,a.position.top=f.top-e):(a.size.height=v,a.position.top=f.top+b.height-v),0<y-w?(a.size.width=y,a.position.left=f.left-A):(a.size.width=w,a.position.left=f.left+b.width-w))}})})(jQuery);
(function(k,g){k.widget("ui.selectable",k.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,f=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){c=k(f.options.filter,f.element[0]);c.addClass("ui-selectee");c.each(function(){var a=k(this),c=a.offset();k.data(this,"selectable-item",{element:this,$element:a,
left:c.left,top:c.top,right:c.left+a.outerWidth(),bottom:c.top+a.outerHeight(),startselected:!1,selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();this.helper=k("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(c){var f=this,a=this.options;this.opos=[c.pageX,c.pageY];this.options.disabled||(this.selectees=k(a.filter,this.element[0]),this._trigger("start",c),k(a.appendTo).append(this.helper),this.helper.css({left:c.pageX,top:c.pageY,width:0,height:0}),a.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var a=k.data(this,"selectable-item");a.startselected=!0;c.metaKey||c.ctrlKey||(a.$element.removeClass("ui-selected"),a.selected=!1,
a.$element.addClass("ui-unselecting"),a.unselecting=!0,f._trigger("unselecting",c,{unselecting:a.element}))}),k(c.target).parents().addBack().each(function(){var a=k.data(this,"selectable-item");if(a){var e=!c.metaKey&&!c.ctrlKey||!a.$element.hasClass("ui-selected");a.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting");a.unselecting=!e;a.selecting=e;(a.selected=e)?f._trigger("selecting",c,{selecting:a.element}):f._trigger("unselecting",c,{unselecting:a.element});
return!1}}))},_mouseDrag:function(c){this.dragged=!0;if(!this.options.disabled){var f=this,a=this.options,h=this.opos[0],e=this.opos[1],b=c.pageX,m=c.pageY;if(h>b){var n=b;b=h;h=n}e>m&&(n=m,m=e,e=n);this.helper.css({left:h,top:e,width:b-h,height:m-e});this.selectees.each(function(){var n=k.data(this,"selectable-item"),g=!1;n&&n.element!==f.element[0]&&("touch"===a.tolerance?g=!(n.left>b||n.right<h||n.top>m||n.bottom<e):"fit"===a.tolerance&&(g=n.left>h&&n.right<b&&n.top>e&&n.bottom<m),g?(n.selected&&
(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,f._trigger("selecting",c,{selecting:n.element}))):(n.selecting&&((c.metaKey||c.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),
n.unselecting=!0),f._trigger("unselecting",c,{unselecting:n.element}))),!n.selected||c.metaKey||c.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,f._trigger("unselecting",c,{unselecting:n.element}))))});return!1}},_mouseStop:function(c){var f=this;this.dragged=!1;k(".ui-unselecting",this.element[0]).each(function(){var a=k.data(this,"selectable-item");a.$element.removeClass("ui-unselecting");a.unselecting=!1;a.startselected=
!1;f._trigger("unselected",c,{unselected:a.element})});k(".ui-selecting",this.element[0]).each(function(){var a=k.data(this,"selectable-item");a.$element.removeClass("ui-selecting").addClass("ui-selected");a.selecting=!1;a.selected=!0;a.startselected=!0;f._trigger("selected",c,{selected:a.element})});this._trigger("stop",c);this.helper.remove();return!1}})})(jQuery);
(function(k,g){function c(a,c,e){return a>c&&a<c+e}function f(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}k.widget("ui.sortable",k.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,
scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===a.axis||f(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");
this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(a,c){"disabled"===a?(this.options[a]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):k.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,c){var e=null,b=!1,h=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(a);k(a.target).parents().each(function(){if(k.data(this,
h.widgetName+"-item")===h)return e=k(this),!1});k.data(a.target,h.widgetName+"-item")===h&&(e=k(a.target));if(!e||this.options.handle&&!c&&(k(this.options.handle,e).find("*").addBack().each(function(){this===a.target&&(b=!0)}),!b))return!1;this.currentItem=e;this._removeCurrentsFromItems();return!0},_mouseStart:function(a,c,e){c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();
this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};k.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();c.containment&&this._setContainment();if(c.cursor&&"auto"!==c.cursor){var b=this.document.find("body");this.storedCursor=b.css("cursor");b.css("cursor",c.cursor);this.storedStylesheet=k("<style>*{ cursor: "+c.cursor+" !important; }</style>").appendTo(b)}c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",c.opacity));c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("activate",a,this._uiHash(this));k.ui.ddmanager&&
(k.ui.ddmanager.current=this);k.ui.ddmanager&&!c.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,a);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);return!0},_mouseDrag:function(a){var c;var e=this.options;var b=!1;this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-a.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop+e.scrollSpeed:a.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=b=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=b=this.scrollParent[0].scrollLeft+e.scrollSpeed:a.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
b=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(a.pageY-k(document).scrollTop()<e.scrollSensitivity?b=k(document).scrollTop(k(document).scrollTop()-e.scrollSpeed):k(window).height()-(a.pageY-k(document).scrollTop())<e.scrollSensitivity&&(b=k(document).scrollTop(k(document).scrollTop()+e.scrollSpeed)),a.pageX-k(document).scrollLeft()<e.scrollSensitivity?b=k(document).scrollLeft(k(document).scrollLeft()-e.scrollSpeed):k(window).width()-(a.pageX-k(document).scrollLeft())<e.scrollSensitivity&&(b=k(document).scrollLeft(k(document).scrollLeft()+
e.scrollSpeed))),!1!==b&&k.ui.ddmanager&&!e.dropBehaviour&&k.ui.ddmanager.prepareOffsets(this,a));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(e=this.items.length-1;0<=e;e--){b=this.items[e];var f=b.item[0];if((c=this._intersectsWithPointer(b))&&b.instance===this.currentContainer&&f!==this.currentItem[0]&&
this.placeholder[1===c?"next":"prev"]()[0]!==f&&!k.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!k.contains(this.element[0],f):1)){this.direction=1===c?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(b))this._rearrange(a,b);else break;this._trigger("change",a,this._uiHash());break}}this._contactContainers(a);k.ui.ddmanager&&k.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(a,
c){if(a){k.ui.ddmanager&&!this.options.dropBehaviour&&k.ui.ddmanager.drop(this,a);if(this.options.revert){var e=this;c=this.placeholder.offset();var b=this.options.axis,h={};b&&"x"!==b||(h.left=c.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));b&&"y"!==b||(h.top=c.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;k(this.helper).animate(h,parseInt(this.options.revert,
10)||500,function(){e._clear(a)})}else this._clear(a,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;0<=a;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=
0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),k.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?k(this.domPosition.prev).after(this.currentItem):k(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(a){var c=this._getItemsAsjQuery(a&&a.connected),e=[];a=a||{};
k(c).each(function(){var b=(k(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);b&&e.push((a.key||b[1]+"[]")+"="+(a.key&&a.expression?b[1]:b[2]))});!e.length&&a.key&&e.push(a.key+"=");return e.join("&")},toArray:function(a){var c=this._getItemsAsjQuery(a&&a.connected),e=[];a=a||{};c.each(function(){e.push(k(a.item||this).attr(a.attribute||"id")||"")});return e},_intersectsWith:function(a){var c=this.positionAbs.left,e=c+this.helperProportions.width,b=this.positionAbs.top,
f=b+this.helperProportions.height,n=a.left,g=n+a.width,k=a.top,v=k+a.height,A=this.offset.click.top,y=this.offset.click.left;A="x"===this.options.axis||b+A>k&&b+A<v;y="y"===this.options.axis||c+y>n&&c+y<g;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?A&&y:n<c+this.helperProportions.width/2&&e-this.helperProportions.width/2<g&&k<b+this.helperProportions.height/
2&&f-this.helperProportions.height/2<v},_intersectsWithPointer:function(a){var h="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,a.left,a.width);h=h&&a;a=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();return h?this.floating?e&&"right"===e||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(a){var h=c(this.positionAbs.top+this.offset.click.top,
a.top+a.height/2,a.height);a=c(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var e=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection();return this.floating&&b?"right"===b&&a||"left"===b&&!a:e&&("down"===e&&h||"up"===e&&!h)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?
"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function c(){f.push(this)}var e,b,f=[],n=[],g=this._connectWith();if(g&&a)for(a=g.length-1;0<=a;a--){var w=k(g[a]);for(e=w.length-1;0<=e;e--)(b=k.data(w[e],this.widgetFullName))&&b!==this&&!b.options.disabled&&n.push([k.isFunction(b.options.items)?b.options.items.call(b.element):
k(b.options.items,b.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),b])}n.push([k.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):k(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(a=n.length-1;0<=a;a--)n[a][0].each(c);return k(f)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=k.grep(this.items,
function(c){for(var e=0;e<a.length;e++)if(a[e]===c.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[];this.containers=[this];var c,e,b,f,n=this.items,g=[[k.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):k(this.options.items,this.element),this]];if((f=this._connectWith())&&this.ready)for(c=f.length-1;0<=c;c--){var w=k(f[c]);for(e=w.length-1;0<=e;e--)(b=k.data(w[e],this.widgetFullName))&&b!==this&&!b.options.disabled&&(g.push([k.isFunction(b.options.items)?
b.options.items.call(b.element[0],a,{item:this.currentItem}):k(b.options.items,b.element),b]),this.containers.push(b))}for(c=g.length-1;0<=c;c--)for(a=g[c][1],w=g[c][0],e=0,f=w.length;e<f;e++)b=k(w[e]),b.data(this.widgetName+"-item",a),n.push({item:b,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c;for(c=this.items.length-1;0<=c;c--){var e=this.items[c];if(e.instance===this.currentContainer||
!this.currentContainer||e.item[0]===this.currentItem[0]){var b=this.options.toleranceElement?k(this.options.toleranceElement,e.item):e.item;a||(e.width=b.outerWidth(),e.height=b.outerHeight());b=b.offset();e.left=b.left;e.top=b.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;0<=c;c--)b=this.containers[c].element.offset(),this.containers[c].containerCache.left=b.left,this.containers[c].containerCache.top=
b.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(a){a=a||this;var c=a.options;if(!c.placeholder||c.placeholder.constructor===String){var e=c.placeholder;c.placeholder={element:function(){var b=a.currentItem[0].nodeName.toLowerCase(),c=k("<"+b+">",a.document[0]).addClass(e||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");
"tr"===b?a.currentItem.children().each(function(){k("<td>&#160;</td>",a.document[0]).attr("colspan",k(this).attr("colspan")||1).appendTo(c)}):"img"===b&&c.attr("src",a.currentItem.attr("src"));e||c.css("visibility","hidden");return c},update:function(b,h){if(!e||c.forcePlaceholderSize)h.height()||h.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),h.width()||h.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||
0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}}}a.placeholder=k(c.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);c.placeholder.update(a,a.placeholder)},_contactContainers:function(a){var h,e,b,m=e=null;for(h=this.containers.length-1;0<=h;h--)k.contains(this.currentItem[0],this.containers[h].element[0])||(this._intersectsWith(this.containers[h].containerCache)?e&&k.contains(this.containers[h].element[0],e.element[0])||(e=this.containers[h],m=h):this.containers[h].containerCache.over&&
(this.containers[h]._trigger("out",a,this._uiHash(this)),this.containers[h].containerCache.over=0));if(e)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",a,this._uiHash(this)),this.containers[m].containerCache.over=1);else{h=1E4;var n=null;var g=(b=e.floating||f(this.currentItem))?"left":"top";var w=b?"width":"height";var v=this.positionAbs[g]+this.offset.click[g];for(e=this.items.length-1;0<=e;e--)if(k.contains(this.containers[m].element[0],
this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(!b||c(this.positionAbs.top+this.offset.click.top,this.items[e].top,this.items[e].height))){var A=this.items[e].item.offset()[g];var y=!1;Math.abs(A-v)>Math.abs(A+this.items[e][w]-v)&&(y=!0,A+=this.items[e][w]);Math.abs(A-v)<h&&(h=Math.abs(A-v),n=this.items[e],this.direction=y?"up":"down")}(n||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[m]&&(n?this._rearrange(a,n,null,!0):this._rearrange(a,null,this.containers[m].element,
!0),this._trigger("change",a,this._uiHash()),this.containers[m]._trigger("change",a,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",a,this._uiHash(this)),this.containers[m].containerCache.over=1)}},_createHelper:function(a){var c=this.options;a=k.isFunction(c.helper)?k(c.helper.apply(this.element[0],[a,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;
a.parents("body").length||k("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);a[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});a[0].style.width&&!c.forceHelperSize||a.width(this.currentItem.width());a[0].style.height&&!c.forceHelperSize||a.height(this.currentItem.height());return a},
_adjustOffsetFromHelper:function(a){"string"===typeof a&&(a=a.split(" "));k.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=
this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&k.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&k.ui.ie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode);if("document"===a.containment||"window"===a.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,k("document"===a.containment?document:window).width()-this.helperProportions.width-this.margins.left,(k("document"===a.containment?document:window).height()||
document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)){var c=k(a.containment)[0];a=k(a.containment).offset();var e="hidden"!==k(c).css("overflow");this.containment=[a.left+(parseInt(k(c).css("borderLeftWidth"),10)||0)+(parseInt(k(c).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(k(c).css("borderTopWidth"),10)||0)+(parseInt(k(c).css("paddingTop"),10)||0)-this.margins.top,a.left+(e?Math.max(c.scrollWidth,
c.offsetWidth):c.offsetWidth)-(parseInt(k(c).css("borderLeftWidth"),10)||0)-(parseInt(k(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(k(c).css("borderTopWidth"),10)||0)-(parseInt(k(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,c){c||(c=this.position);a="absolute"===a?1:-1;var e="absolute"!==this.cssPosition||this.scrollParent[0]!==
document&&k.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,b=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():b?0:e.scrollTop())*a,left:c.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():b?0:e.scrollLeft())*a}},_generatePosition:function(a){var c=this.options;var e=a.pageX;var b=
a.pageY;var f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&k.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(f[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),
a.pageY-this.offset.click.top<this.containment[1]&&(b=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(b=this.containment[3]+this.offset.click.top)),c.grid&&(b=this.originalPageY+Math.round((b-this.originalPageY)/c.grid[1])*c.grid[1],b=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=
this.containment[1]?b-c.grid[1]:b+c.grid[1]:b,e=this.originalPageX+Math.round((e-this.originalPageX)/c.grid[0])*c.grid[0],e=this.containment?e-this.offset.click.left>=this.containment[0]&&e-this.offset.click.left<=this.containment[2]?e:e-this.offset.click.left>=this.containment[0]?e-c.grid[0]:e+c.grid[0]:e));return{top:b-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:f.scrollTop()),left:e-this.offset.click.left-
this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:f.scrollLeft())}},_rearrange:function(a,c,e,b){e?e[0].appendChild(this.placeholder[0]):c.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?c.item[0]:c.item[0].nextSibling);var f=this.counter=this.counter?++this.counter:1;this._delay(function(){f===this.counter&&this.refreshPositions(!b)})},_clear:function(a,c){function e(b,a,e){return function(c){e._trigger(b,
c,a._uiHash(a))}}this.reverting=!1;var b,f=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(b in this._storedCSS)if("auto"===this._storedCSS[b]||"static"===this._storedCSS[b])this._storedCSS[b]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&f.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});
!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||c||f.push(function(b){this._trigger("update",b,this._uiHash())});this===this.currentContainer||c||(f.push(function(b){this._trigger("remove",b,this._uiHash())}),f.push(function(b){return function(a){b._trigger("receive",a,this._uiHash(this))}}.call(this,this.currentContainer)),f.push(function(b){return function(a){b._trigger("update",a,this._uiHash(this))}}.call(this,
this.currentContainer)));for(b=this.containers.length-1;0<=b;b--)c||f.push(e("deactivate",this,this.containers[b])),this.containers[b].containerCache.over&&(f.push(e("out",this,this.containers[b])),this.containers[b].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);
this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",a,this._uiHash());for(b=0;b<f.length;b++)f[b].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1}c||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!c){for(b=0;b<f.length;b++)f[b].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!0},
_trigger:function(){!1===k.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(a){var c=a||this;return{helper:c.helper,placeholder:c.placeholder||k([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:a?a.element:null}}})})(jQuery);
(function(k,g){k.effects={effect:{}};(function(c,f){function a(b,a,e){var c=k[a.type]||{};if(null==b)return e||!a.def?null:a.def;b=c.floor?~~b:parseFloat(b);return isNaN(b)?a.def:c.mod?(b+c.mod)%c.mod:0>b?0:c.max<b?c.max:b}function h(b){var a=n(),e=a._rgba=[];b=b.toLowerCase();y(m,function(c,f){c=(c=f.re.exec(b))&&f.parse(c);f=f.space||"rgba";if(c)return c=a[f](c),a[g[f].cache]=c[g[f].cache],e=a._rgba=c._rgba,!1});return e.length?("0,0,0,0"===e.join()&&c.extend(e,x.transparent),a):x[b]}function e(b,
a,e){e=(e+1)%1;return 1>6*e?b+(a-b)*e*6:1>2*e?a:2>3*e?b+(a-b)*(2/3-e)*6:b}var b=/^([\-+])=\s*(\d+\.?\d*)/,m=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(b){return[b[1],b[2],b[3],b[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(b){return[2.55*b[1],2.55*b[2],2.55*b[3],b[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(b){return[parseInt(b[1],
16),parseInt(b[2],16),parseInt(b[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(b){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(b){return[b[1],b[2]/100,b[3]/100,b[4]]}}],n=c.Color=function(b,a,e,f){return new c.Color.fn.parse(b,a,e,f)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},k={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},v=n.support={},A=c("<p>")[0],y=c.each;A.style.cssText="background-color:rgba(1,1,1,.5)";v.rgba=-1<A.style.backgroundColor.indexOf("rgba");y(g,function(b,a){a.cache="_"+b;a.props.alpha={idx:3,type:"percent",def:1}});n.fn=c.extend(n.prototype,{parse:function(b,e,m,k){if(b===f)return this._rgba=[null,null,
null,null],this;if(b.jquery||b.nodeType)b=c(b).css(e),e=f;var q=this,r=c.type(b),w=this._rgba=[];e!==f&&(b=[b,e,m,k],r="array");if("string"===r)return this.parse(h(b)||x._default);if("array"===r)return y(g.rgba.props,function(e,d){w[d.idx]=a(b[d.idx],d)}),this;if("object"===r)return b instanceof n?y(g,function(a,d){b[d.cache]&&(q[d.cache]=b[d.cache].slice())}):y(g,function(e,d){var l=d.cache;y(d.props,function(e,c){if(!q[l]&&d.to){if("alpha"===e||null==b[e])return;q[l]=d.to(q._rgba)}q[l][c.idx]=a(b[e],
c,!0)});q[l]&&0>c.inArray(null,q[l].slice(0,3))&&(q[l][3]=1,d.from&&(q._rgba=d.from(q[l])))}),this},is:function(b){var a=n(b),e=!0,c=this;y(g,function(b,f){var h=a[f.cache];if(h){var m=c[f.cache]||f.to&&f.to(c._rgba)||[];y(f.props,function(d,b){if(null!=h[b.idx])return e=h[b.idx]===m[b.idx]})}return e});return e},_space:function(){var b=[],a=this;y(g,function(e,c){a[c.cache]&&b.push(e)});return b.pop()},transition:function(b,e){var c=n(b);b=c._space();var f=g[b],h=0===this.alpha()?n("transparent"):
this,m=h[f.cache]||f.to(h._rgba),q=m.slice();c=c[f.cache];y(f.props,function(b,d){b=d.idx;var l=m[b],f=c[b],h=k[d.type]||{};null!==f&&(null===l?q[b]=f:(h.mod&&(f-l>h.mod/2?l+=h.mod:l-f>h.mod/2&&(l-=h.mod)),q[b]=a((f-l)*e+l,d)))});return this[b](q)},blend:function(b){if(1===this._rgba[3])return this;var a=this._rgba.slice(),e=a.pop(),f=n(b)._rgba;return n(c.map(a,function(b,a){return(1-e)*f[a]+e*b}))},toRgbaString:function(){var b="rgba(",a=c.map(this._rgba,function(b,a){return null==b?2<a?1:0:b});
1===a[3]&&(a.pop(),b="rgb(");return b+a.join()+")"},toHslaString:function(){var b="hsla(",a=c.map(this.hsla(),function(b,a){null==b&&(b=2<a?1:0);a&&3>a&&(b=Math.round(100*b)+"%");return b});1===a[3]&&(a.pop(),b="hsl(");return b+a.join()+")"},toHexString:function(b){var a=this._rgba.slice(),e=a.pop();b&&a.push(~~(255*e));return"#"+c.map(a,function(b){b=(b||0).toString(16);return 1===b.length?"0"+b:b}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});n.fn.parse.prototype=
n.fn;g.hsla.to=function(b){if(null==b[0]||null==b[1]||null==b[2])return[null,null,null,b[3]];var a=b[0]/255,e=b[1]/255,c=b[2]/255;b=b[3];var f=Math.max(a,e,c),h=Math.min(a,e,c),m=f-h,n=f+h,d=.5*n;return[Math.round(h===f?0:a===f?60*(e-c)/m+360:e===f?60*(c-a)/m+120:60*(a-e)/m+240)%360,0===m?0:.5>=d?m/n:m/(2-n),d,null==b?1:b]};g.hsla.from=function(b){if(null==b[0]||null==b[1]||null==b[2])return[null,null,null,b[3]];var a=b[0]/360,c=b[1],f=b[2];b=b[3];c=.5>=f?f*(1+c):f+c-f*c;f=2*f-c;return[Math.round(255*
e(f,c,a+1/3)),Math.round(255*e(f,c,a)),Math.round(255*e(f,c,a-1/3)),b]};y(g,function(e,h){var m=h.props,g=h.cache,k=h.to,q=h.from;n.fn[e]=function(b){k&&!this[g]&&(this[g]=k(this._rgba));if(b===f)return this[g].slice();var e=c.type(b),d="array"===e||"object"===e?b:arguments,l=this[g].slice();y(m,function(b,c){b=d["object"===e?b:c.idx];null==b&&(b=l[c.idx]);l[c.idx]=a(b,c)});if(q){var h=n(q(l));h[g]=l;return h}return n(l)};y(m,function(a,f){n.fn[a]||(n.fn[a]=function(d){var l=c.type(d),h="alpha"===
a?this._hsla?"hsla":"rgba":e,m=this[h](),n=m[f.idx];if("undefined"===l)return n;"function"===l&&(d=d.call(this,n),l=c.type(d));if(null==d&&f.empty)return this;"string"===l&&(l=b.exec(d))&&(d=n+parseFloat(l[2])*("+"===l[1]?1:-1));m[f.idx]=d;return this[h](m)})})});n.hook=function(b){b=b.split(" ");y(b,function(b,a){c.cssHooks[a]={set:function(b,e){var f,m="";if("transparent"!==e&&("string"!==c.type(e)||(f=h(e)))){e=n(f||e);if(!v.rgba&&1!==e._rgba[3]){for(f="backgroundColor"===a?b.parentNode:b;(""===
m||"transparent"===m)&&f&&f.style;)try{m=c.css(f,"backgroundColor"),f=f.parentNode}catch(L){}e=e.blend(m&&"transparent"!==m?m:"_default")}e=e.toRgbaString()}try{b.style[a]=e}catch(L){}}};c.fx.step[a]=function(b){b.colorInit||(b.start=n(b.elem,a),b.end=n(b.end),b.colorInit=!0);c.cssHooks[a].set(b.elem,b.start.transition(b.end,b.pos))}})};n.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
c.cssHooks.borderColor={expand:function(b){var a={};y(["Top","Right","Bottom","Left"],function(e,c){a["border"+c+"Color"]=b});return a}};var x=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function c(a){var e=
a.ownerDocument.defaultView?a.ownerDocument.defaultView.getComputedStyle(a,null):a.currentStyle,b={};if(e&&e.length&&e[0]&&e[e[0]])for(a=e.length;a--;){var c=e[a];"string"===typeof e[c]&&(b[k.camelCase(c)]=e[c])}else for(c in e)"string"===typeof e[c]&&(b[c]=e[c]);return b}var f=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};k.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],
function(a,e){k.fx.step[e]=function(b){if("none"!==b.end&&!b.setAttr||1===b.pos&&!b.setAttr)jQuery.style(b.elem,e,b.end),b.setAttr=!0}});k.fn.addBack||(k.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});k.effects.animateClass=function(h,e,b,m){var n=k.speed(e,b,m);return this.queue(function(){var b=k(this),e=b.attr("class")||"",m=n.children?b.find("*").addBack():b;m=m.map(function(){return{el:k(this),start:c(this)}});var g=function(){k.each(f,function(a,
e){if(h[e])b[e+"Class"](h[e])})};g();m=m.map(function(){this.end=c(this.el[0]);var b=this.start,e=this.end,f={},h;for(h in e){var m=e[h];b[h]===m||a[h]||!k.fx.step[h]&&isNaN(parseFloat(m))||(f[h]=m)}this.diff=f;return this});b.attr("class",e);m=m.map(function(){var b=this,a=k.Deferred(),e=k.extend({},n,{queue:!1,complete:function(){a.resolve(b)}});this.el.animate(this.diff,e);return a.promise()});k.when.apply(k,m.get()).done(function(){g();k.each(arguments,function(){var b=this.el;k.each(this.diff,
function(a){b.css(a,"")})});n.complete.call(b[0])})})};k.fn.extend({addClass:function(a){return function(e,b,c,f){return b?k.effects.animateClass.call(this,{add:e},b,c,f):a.apply(this,arguments)}}(k.fn.addClass),removeClass:function(a){return function(e,b,c,f){return 1<arguments.length?k.effects.animateClass.call(this,{remove:e},b,c,f):a.apply(this,arguments)}}(k.fn.removeClass),toggleClass:function(a){return function(e,b,c,f,h){return"boolean"===typeof b||b===g?c?k.effects.animateClass.call(this,
b?{add:e}:{remove:e},c,f,h):a.apply(this,arguments):k.effects.animateClass.call(this,{toggle:e},b,c,f)}}(k.fn.toggleClass),switchClass:function(a,e,b,c,f){return k.effects.animateClass.call(this,{add:e,remove:a},b,c,f)}})})();(function(){function c(a,c,e,b){k.isPlainObject(a)&&(c=a,a=a.effect);a={effect:a};null==c&&(c={});k.isFunction(c)&&(b=c,e=null,c={});if("number"===typeof c||k.fx.speeds[c])b=e,e=c,c={};k.isFunction(e)&&(b=e,e=null);c&&k.extend(a,c);e=e||c.duration;a.duration=k.fx.off?0:"number"===
typeof e?e:e in k.fx.speeds?k.fx.speeds[e]:k.fx.speeds._default;a.complete=b||c.complete;return a}function f(a){return!a||"number"===typeof a||k.fx.speeds[a]||"string"===typeof a&&!k.effects.effect[a]||k.isFunction(a)||"object"===typeof a&&!a.effect?!0:!1}k.extend(k.effects,{version:"1.10.4",save:function(a,c){for(var e=0;e<c.length;e++)null!==c[e]&&a.data("ui-effects-"+c[e],a[0].style[c[e]])},restore:function(a,c){var e;for(e=0;e<c.length;e++)if(null!==c[e]){var b=a.data("ui-effects-"+c[e]);b===
g&&(b="");a.css(c[e],b)}},setMode:function(a,c){"toggle"===c&&(c=a.is(":hidden")?"show":"hide");return c},getBaseline:function(a,c){switch(a[0]){case "top":var e=0;break;case "middle":e=.5;break;case "bottom":e=1;break;default:e=a[0]/c.height}switch(a[1]){case "left":a=0;break;case "center":a=.5;break;case "right":a=1;break;default:a=a[1]/c.width}return{x:a,y:e}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var c={width:a.outerWidth(!0),height:a.outerHeight(!0),
"float":a.css("float")},e=k("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),b={width:a.width(),height:a.height()},f=document.activeElement;try{f.id}catch(n){f=document.body}a.wrap(e);(a[0]===f||k.contains(a[0],f))&&k(f).focus();e=a.parent();"static"===a.css("position")?(e.css({position:"relative"}),a.css({position:"relative"})):(k.extend(c,{position:a.css("position"),zIndex:a.css("z-index")}),k.each(["top","left","bottom",
"right"],function(b,e){c[e]=a.css(e);isNaN(parseInt(c[e],10))&&(c[e]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));a.css(b);return e.css(c).show()},removeWrapper:function(a){var c=document.activeElement;a.parent().is(".ui-effects-wrapper")&&(a.parent().replaceWith(a),(a[0]===c||k.contains(a[0],c))&&k(c).focus());return a},setTransition:function(a,c,e,b){b=b||{};k.each(c,function(c,f){c=a.cssUnit(f);0<c[0]&&(b[f]=c[0]*e+c[1])});return b}});k.fn.extend({effect:function(){function a(b){function a(){k.isFunction(c)&&
c.call(e[0]);k.isFunction(b)&&b()}var e=k(this),c=f.complete,h=f.mode;(e.is(":hidden")?"hide"===h:"show"===h)?(e[h](),a()):m.call(e[0],f,a)}var f=c.apply(this,arguments),e=f.mode,b=f.queue,m=k.effects.effect[f.effect];return k.fx.off||!m?e?this[e](f.duration,f.complete):this.each(function(){f.complete&&f.complete.call(this)}):!1===b?this.each(a):this.queue(b||"fx",a)},show:function(a){return function(h){if(f(h))return a.apply(this,arguments);var e=c.apply(this,arguments);e.mode="show";return this.effect.call(this,
e)}}(k.fn.show),hide:function(a){return function(h){if(f(h))return a.apply(this,arguments);var e=c.apply(this,arguments);e.mode="hide";return this.effect.call(this,e)}}(k.fn.hide),toggle:function(a){return function(h){if(f(h)||"boolean"===typeof h)return a.apply(this,arguments);var e=c.apply(this,arguments);e.mode="toggle";return this.effect.call(this,e)}}(k.fn.toggle),cssUnit:function(a){var c=this.css(a),e=[];k.each(["em","px","%","pt"],function(b,a){0<c.indexOf(a)&&(e=[parseFloat(c),a])});return e}})})();
(function(){var c={};k.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,a){c[a]=function(a){return Math.pow(a,f+2)}});k.extend(c,{Sine:function(c){return 1-Math.cos(c*Math.PI/2)},Circ:function(c){return 1-Math.sqrt(1-c*c)},Elastic:function(c){return 0===c||1===c?c:-Math.pow(2,8*(c-1))*Math.sin((80*(c-1)-7.5)*Math.PI/15)},Back:function(c){return c*c*(3*c-2)},Bounce:function(c){for(var a,f=4;c<((a=Math.pow(2,--f))-1)/11;);return 1/Math.pow(4,3-f)-7.5625*Math.pow((3*a-2)/22-c,2)}});k.each(c,function(c,
a){k.easing["easeIn"+c]=a;k.easing["easeOut"+c]=function(c){return 1-a(1-c)};k.easing["easeInOut"+c]=function(c){return.5>c?a(2*c)/2:1-a(-2*c+2)/2}})})()})(jQuery);
(function(k,g){var c=0,f={},a={};f.height=f.paddingTop=f.paddingBottom=f.borderTopWidth=f.borderBottomWidth="hide";a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show";k.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var a=this.options;
this.prevShow=this.prevHide=k();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");a.collapsible||!1!==a.active&&null!=a.active||(a.active=0);this._processPanels();0>a.active&&(a.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():k(),content:this.active.length?this.active.next():k()}},_createIcons:function(){var a=this.options.icons;a&&(k("<span>").addClass("ui-accordion-header-icon ui-icon "+
a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();var a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,c){"active"===a?this._activate(c):("event"===
a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(c)),this._super(a,c),"collapsible"!==a||c||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),c&&this._createIcons()),"disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!c))},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var c=k.ui.keyCode,b=this.headers.length,f=this.headers.index(a.target),h=!1;switch(a.keyCode){case c.RIGHT:case c.DOWN:h=this.headers[(f+
1)%b];break;case c.LEFT:case c.UP:h=this.headers[(f-1+b)%b];break;case c.SPACE:case c.ENTER:this._eventHandler(a);break;case c.HOME:h=this.headers[0];break;case c.END:h=this.headers[b-1]}h&&(k(a.target).attr("tabIndex",-1),k(h).attr("tabIndex",0),h.focus(),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===k.ui.keyCode.UP&&a.ctrlKey&&k(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels();!1===a.active&&!0===a.collapsible||!this.headers.length?(a.active=
!1,this.active=k()):!1===a.active?this._activate(0):this.active.length&&!k.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=k()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var a=this.options,e=a.heightStyle,b=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++c);this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(b){var a=k(this),c=a.attr("id"),e=a.next(),h=e.attr("id");c||(c=f+"-header-"+b,a.attr("id",c));h||(h=f+"-panel-"+
b,e.attr("id",h));a.attr("aria-controls",h);e.attr("aria-labelledby",c)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(a.event);if("fill"===e){var n=b.height();this.element.siblings(":visible").each(function(){var b=
k(this),a=b.css("position");"absolute"!==a&&"fixed"!==a&&(n-=b.outerHeight(!0))});this.headers.each(function(){n-=k(this).outerHeight(!0)});this.headers.next().each(function(){k(this).height(Math.max(0,n-k(this).innerHeight()+k(this).height()))}).css("overflow","auto")}else"auto"===e&&(n=0,this.headers.next().each(function(){n=Math.max(n,k(this).css("height","").height())}).height(n))},_activate:function(a){a=this._findActive(a)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,
currentTarget:a,preventDefault:k.noop}))},_findActive:function(a){return"number"===typeof a?this.headers.eq(a):k()},_setupEvents:function(a){var c={keydown:"_keydown"};a&&k.each(a.split(" "),function(b,a){c[a]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,c);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(a){var c=this.options,b=this.active,f=k(a.currentTarget),h=
f[0]===b[0],g=h&&c.collapsible,w=g?k():f.next(),v=b.next();w={oldHeader:b,oldPanel:v,newHeader:g?k():f,newPanel:w};a.preventDefault();h&&!c.collapsible||!1===this._trigger("beforeActivate",a,w)||(c.active=g?!1:this.headers.index(f),this.active=h?k():f,this._toggle(w),b.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&b.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),h||(f.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
c.icons&&f.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),f.next().addClass("ui-accordion-content-active")))},_toggle:function(a){var c=a.newPanel,b=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=c;this.prevHide=b;this.options.animate?this._animate(c,b,a):(b.hide(),c.show(),this._toggleComplete(a));b.attr({"aria-hidden":"true"});b.prev().attr("aria-selected","false");c.length&&b.length?b.prev().attr({tabIndex:-1,
"aria-expanded":"false"}):c.length&&this.headers.filter(function(){return 0===k(this).attr("tabIndex")}).attr("tabIndex",-1);c.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(c,e,b){var h,n,g=this,k=0,v=c.length&&(!e.length||c.index()<e.index()),A=this.options.animate||{};v=v&&A.down||A;var y=function(){g._toggleComplete(b)};"number"===typeof v&&(n=v);"string"===typeof v&&(h=v);h=h||v.easing||A.easing;n=n||v.duration||A.duration;
if(!e.length)return c.animate(a,n,h,y);if(!c.length)return e.animate(f,n,h,y);var x=c.show().outerHeight();e.animate(f,{duration:n,easing:h,step:function(b,a){a.now=Math.round(b)}});c.hide().animate(a,{duration:n,easing:h,complete:y,step:function(b,a){a.now=Math.round(b);"height"!==a.prop?k+=a.now:"content"!==g.options.heightStyle&&(a.now=Math.round(x-e.outerHeight()-k),k=0)}})},_toggleComplete:function(a){var c=a.oldPanel;c.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
c.length&&(c.parent()[0].className=c.parent()[0].className);this._trigger("activate",null,a)}})})(jQuery);
(function(k,g){k.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var c,f,a,h=this.element[0].nodeName.toLowerCase(),e="textarea"===h;h="input"===h;this.isMultiLine=e?!0:h?!1:this.element.prop("isContentEditable");this.valueMethod=
this.element[e||h?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(b){if(this.element.prop("readOnly"))f=a=c=!0;else{f=a=c=!1;var e=k.ui.keyCode;switch(b.keyCode){case e.PAGE_UP:c=!0;this._move("previousPage",b);break;case e.PAGE_DOWN:c=!0;this._move("nextPage",b);break;case e.UP:c=!0;this._keyEvent("previous",b);break;case e.DOWN:c=!0;this._keyEvent("next",b);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&
(c=!0,b.preventDefault(),this.menu.select(b));break;case e.TAB:this.menu.active&&this.menu.select(b);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(b),b.preventDefault());break;default:f=!0,this._searchTimeout(b)}}},keypress:function(b){if(c)c=!1,this.isMultiLine&&!this.menu.element.is(":visible")||b.preventDefault();else if(!f){var a=k.ui.keyCode;switch(b.keyCode){case a.PAGE_UP:this._move("previousPage",b);break;case a.PAGE_DOWN:this._move("nextPage",b);
break;case a.UP:this._keyEvent("previous",b);break;case a.DOWN:this._keyEvent("next",b)}}},input:function(b){a?(a=!1,b.preventDefault()):this._searchTimeout(b)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(b){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(b),this._change(b))}});this._initSource();this.menu=k("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,
{mousedown:function(b){b.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var a=this.menu.element[0];k(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(c){c.target===b.element[0]||c.target===a||k.contains(a,c.target)||b.close()})})},menufocus:function(b,a){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){k(b.target).trigger(b.originalEvent)});
return}a=a.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:a})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(a.value):this.liveRegion.text(a.value)},menuselect:function(b,a){var c=a.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=c}));!1!==this._trigger("select",b,{item:c})&&this._value(c.value);this.term=this._value();
this.close(b);this.selectedItem=c}});this.liveRegion=k("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(c,f){this._super(c,f);"source"===c&&this._initSource();
"appendTo"===c&&this.menu.element.appendTo(this._appendTo());"disabled"===c&&f&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;c&&(c=c.jquery||c.nodeType?k(c):this.document.find(c).eq(0));c||(c=this.element.closest(".ui-front"));c.length||(c=this.document[0].body);return c},_initSource:function(){var c=this;if(k.isArray(this.options.source)){var f=this.options.source;this.source=function(a,c){c(k.ui.autocomplete.filter(f,a.term))}}else if("string"===typeof this.options.source){var a=
this.options.source;this.source=function(f,e){c.xhr&&c.xhr.abort();c.xhr=k.ajax({url:a,data:f,dataType:"json",success:function(b){e(b)},error:function(){e([])}})}}else this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,f){c=null!=c?c:this._value();this.term=this._value();if(c.length<this.options.minLength)return this.close(f);
if(!1!==this._trigger("search",f))return this._search(c)},_search:function(c){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:c},this._response())},_response:function(){var c=++this.requestIndex;return k.proxy(function(f){c===this.requestIndex&&this.__response(f);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(c){c&&(c=this._normalize(c));this._trigger("response",null,{content:c});!this.options.disabled&&
c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0;this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:k.map(c,function(c){return"string"===typeof c?{label:c,
value:c}:k.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(c){var f=this.menu.element.empty();this._renderMenu(f,c);this.isNewMenu=!0;this.menu.refresh();f.show();this._resizeMenu();f.position(k.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,f){var a=this;k.each(f,function(f,e){a._renderItemData(c,
e)})},_renderItemData:function(c,f){return this._renderItem(c,f).data("ui-autocomplete-item",f)},_renderItem:function(c,f){return k("<li>").append(k("<a>").text(f.label)).appendTo(c)},_move:function(c,f){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c))this._value(this.term),this.menu.blur();else this.menu[c](f);else this.search(null,f)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,
arguments)},_keyEvent:function(c,f){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(c,f),f.preventDefault()}});k.extend(k.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,f){var a=new RegExp(k.ui.autocomplete.escapeRegex(f),"i");return k.grep(c,function(c){return a.test(c.label||c.value||c)})}});k.widget("ui.autocomplete",k.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+
(1<c?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){this._superApply(arguments);if(!this.options.disabled&&!this.cancelSearch){var f=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults;this.liveRegion.text(f)}}})})(jQuery);
(function(k,g){var c,f=function(){var a=k(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},a=function(a){var c=a.name,b=a.form,f=k([]);c&&(c=c.replace(/'/g,"\\'"),f=b?k(b).find("[name='"+c+"']"):k("[name='"+c+"']",a.ownerDocument).filter(function(){return!this.form}));return f};k.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,f);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var h=this,e=this.options,b="checkbox"===this.type||"radio"===this.type,m=b?"":"ui-state-active";null===e.label&&(e.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){e.disabled||this===c&&k(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){e.disabled||k(this).removeClass(m)}).bind("click"+this.eventNamespace,function(b){e.disabled&&(b.preventDefault(),b.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});
b&&this.element.bind("change"+this.eventNamespace,function(){h.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled)return!1;k(this).addClass("ui-state-active");h.buttonElement.attr("aria-pressed","true");var b=h.element[0];a(b).not(b).map(function(){return k(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(e.disabled)return!1;k(this).addClass("ui-state-active");c=this;h.document.one("mouseup",function(){c=null})}).bind("mouseup"+this.eventNamespace,function(){if(e.disabled)return!1;k(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){if(e.disabled)return!1;b.keyCode!==k.ui.keyCode.SPACE&&b.keyCode!==k.ui.keyCode.ENTER||k(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+
" blur"+this.eventNamespace,function(){k(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===k.ui.keyCode.SPACE&&k(this).click()}));this._setOption("disabled",e.disabled);this._resetButton()},_determineButtonType:function(){this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if("checkbox"===this.type||"radio"===this.type){var a=
this.element.parents().last();var c="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(c);this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(c),this.buttonElement.length||(this.buttonElement=a.find(c)));this.element.addClass("ui-helper-hidden-accessible");(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.prop("aria-pressed",a)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},
_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,c){this._super(a,
c);"disabled"===a?(this.element.prop("disabled",!!c),c&&this.buttonElement.removeClass("ui-state-focus")):this._resetButton()},refresh:function(){var c=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");c!==this.options.disabled&&this._setOption("disabled",c);"radio"===this.type?a(this.element[0]).each(function(){k(this).is(":checked")?k(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):k(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",
"false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
c=k("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),b=this.options.icons,f=b.primary&&b.secondary,n=[];b.primary||b.secondary?(this.options.text&&n.push("ui-button-text-icon"+(f?"s":b.primary?"-primary":"-secondary")),b.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+b.primary+"'></span>"),b.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+b.secondary+"'></span>"),this.options.text||(n.push(f?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||a.attr("title",k.trim(c)))):n.push("ui-button-text-only");a.addClass(n.join(" "))}}});k.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,c){"disabled"===a&&this.buttons.button("option",a,c);this._super(a,c)},refresh:function(){var a=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return k(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return k(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(k,g){function c(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};k.extend(this._defaults,this.regional[""]);this.dpDiv=f(k("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function f(a){return a.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){k(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&k(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&k(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){k.datepicker._isDisabledDatepicker(h.inline?a.parent()[0]:h.input[0])||(k(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),k(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&k(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&k(this).addClass("ui-datepicker-next-hover"))})}function a(a,b){k.extend(a,b);for(var c in b)null==b[c]&&(a[c]=b[c]);return a}k.extend(k.ui,{datepicker:{version:"1.10.4"}});var h;k.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(c){a(this._defaults,c||{});return this},_attachDatepicker:function(a,
b){var c=a.nodeName.toLowerCase();var e="div"===c||"span"===c;a.id||(this.uuid+=1,a.id="dp"+this.uuid);var f=this._newInst(k(a),e);f.settings=k.extend({},b||{});"input"===c?this._connectDatepicker(a,f):e&&this._inlineDatepicker(a,f)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?f(k("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(a,b){var c=k(a);b.append=k([]);b.trigger=k([]);c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(b),k.data(a,"datepicker",b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText");var e=this._get(b,"isRTL");b.append&&b.append.remove();c&&(b.append=k("<span class='"+this._appendClass+
"'>"+c+"</span>"),a[e?"before":"after"](b.append));a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");"focus"!==c&&"both"!==c||a.focus(this._showDatepicker);if("button"===c||"both"===c){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=k(this._get(b,"buttonImageOnly")?k("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):k("<button type='button'></button>").addClass(this._triggerClass).html(f?k("<img/>").attr({src:f,alt:c,
title:c}):c));a[e?"before":"after"](b.trigger);b.trigger.click(function(){k.datepicker._datepickerShowing&&k.datepicker._lastInput===a[0]?k.datepicker._hideDatepicker():(k.datepicker._datepickerShowing&&k.datepicker._lastInput!==a[0]&&k.datepicker._hideDatepicker(),k.datepicker._showDatepicker(a[0]));return!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,e,f=new Date(2009,11,20),h=this._get(a,"dateFormat");if(h.match(/[DM]/)){var g=function(a){for(e=c=b=0;e<a.length;e++)a[e].length>
b&&(b=a[e].length,c=e);return c};f.setMonth(g(this._get(a,h.match(/MM/)?"monthNames":"monthNamesShort")));f.setDate(g(this._get(a,h.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())}a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(a,b){var c=k(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv),k.data(a,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&
this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(c,b,f,h,g){c=this._dialogInst;c||(this.uuid+=1,c="dp"+this.uuid,this._dialogInput=k("<input type='text' id='"+c+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),k("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},k.data(this._dialogInput[0],"datepicker",c));a(c.settings,h||{});b=b&&b.constructor===Date?this._formatDate(c,
b):b;this._dialogInput.val(b);this._pos=g?g.length?g:[g.pageX,g.pageY]:null;if(!this._pos){b=document.documentElement.clientWidth;h=document.documentElement.clientHeight;g=document.documentElement.scrollLeft||document.body.scrollLeft;var e=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[b/2-100+g,h/2-150+e]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");c.settings.onSelect=f;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);
k.blockUI&&k.blockUI(this.dpDiv);k.data(this._dialogInput[0],"datepicker",c);return this},_destroyDatepicker:function(a){var b=k(a),c=k.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();k.removeData(a,"datepicker");"input"===e?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||
b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=k(a),c=k.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if("input"===e)a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===e||"span"===e)e=b.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=k.map(this._disabledInputs,function(b){return b===a?null:b})}},_disableDatepicker:function(a){var b=k(a),c=k.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if("input"===e)a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===e||"span"===e)e=b.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=k.map(this._disabledInputs,function(b){return b===a?null:b});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return k.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,b,f){var e=this._getInst(c);if(2===arguments.length&&"string"===typeof b)return"defaults"===
b?k.extend({},k.datepicker._defaults):e?"all"===b?k.extend({},e.settings):this._get(e,b):null;var h=b||{};"string"===typeof b&&(h={},h[b]=f);if(e){this._curInst===e&&this._hideDatepicker();var m=this._getDateDatepicker(c,!0);var v=this._getMinMaxDate(e,"min");var A=this._getMinMaxDate(e,"max");a(e.settings,h);null!==v&&h.dateFormat!==g&&h.minDate===g&&(e.settings.minDate=this._formatDate(e,v));null!==A&&h.dateFormat!==g&&h.maxDate===g&&(e.settings.maxDate=this._formatDate(e,A));"disabled"in h&&(h.disabled?
this._disableDatepicker(c):this._enableDatepicker(c));this._attachments(k(c),e);this._autoSize(e);this._setDate(e,m);this._updateAlternate(e);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a))this._setDate(a,b),this._updateDatepicker(a),this._updateAlternate(a)},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&
this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=k.datepicker._getInst(a.target);var c=!0;var e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if(k.datepicker._datepickerShowing)switch(a.keyCode){case 9:k.datepicker._hideDatepicker();c=!1;break;case 13:return c=k("td."+k.datepicker._dayOverClass+":not(."+k.datepicker._currentClass+")",b.dpDiv),c[0]&&k.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]),(a=k.datepicker._get(b,"onSelect"))?(c=
k.datepicker._formatDate(b),a.apply(b.input?b.input[0]:null,[c,b])):k.datepicker._hideDatepicker(),!1;case 27:k.datepicker._hideDatepicker();break;case 33:k.datepicker._adjustDate(a.target,a.ctrlKey?-k.datepicker._get(b,"stepBigMonths"):-k.datepicker._get(b,"stepMonths"),"M");break;case 34:k.datepicker._adjustDate(a.target,a.ctrlKey?+k.datepicker._get(b,"stepBigMonths"):+k.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&k.datepicker._clearDate(a.target);c=a.ctrlKey||a.metaKey;
break;case 36:(a.ctrlKey||a.metaKey)&&k.datepicker._gotoToday(a.target);c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&k.datepicker._adjustDate(a.target,e?1:-1,"D");c=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&k.datepicker._adjustDate(a.target,a.ctrlKey?-k.datepicker._get(b,"stepBigMonths"):-k.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&k.datepicker._adjustDate(a.target,-7,"D");c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&k.datepicker._adjustDate(a.target,
e?-1:1,"D");c=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&k.datepicker._adjustDate(a.target,a.ctrlKey?+k.datepicker._get(b,"stepBigMonths"):+k.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&k.datepicker._adjustDate(a.target,7,"D");c=a.ctrlKey||a.metaKey;break;default:c=!1}else 36===a.keyCode&&a.ctrlKey?k.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=k.datepicker._getInst(a.target);if(k.datepicker._get(b,
"constrainInput")){b=k.datepicker._possibleChars(k.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">c||!b||-1<b.indexOf(c)}},_doKeyUp:function(a){var b;a=k.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{if(b=k.datepicker.parseDate(k.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,k.datepicker._getFormatConfig(a)))k.datepicker._setDateFromField(a),k.datepicker._updateAlternate(a),k.datepicker._updateDatepicker(a)}catch(m){}return!0},
_showDatepicker:function(c){c=c.target||c;"input"!==c.nodeName.toLowerCase()&&(c=k("input",c.parentNode)[0]);if(!k.datepicker._isDisabledDatepicker(c)&&k.datepicker._lastInput!==c){var b=k.datepicker._getInst(c);k.datepicker._curInst&&k.datepicker._curInst!==b&&(k.datepicker._curInst.dpDiv.stop(!0,!0),b&&k.datepicker._datepickerShowing&&k.datepicker._hideDatepicker(k.datepicker._curInst.input[0]));var e=(e=k.datepicker._get(b,"beforeShow"))?e.apply(c,[c,b]):{};if(!1!==e){a(b.settings,e);b.lastVal=
null;k.datepicker._lastInput=c;k.datepicker._setDateFromField(b);k.datepicker._inDialog&&(c.value="");k.datepicker._pos||(k.datepicker._pos=k.datepicker._findPos(c),k.datepicker._pos[1]+=c.offsetHeight);var f=!1;k(c).parents().each(function(){f|="fixed"===k(this).css("position");return!f});e={left:k.datepicker._pos[0],top:k.datepicker._pos[1]};k.datepicker._pos=null;b.dpDiv.empty();b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});k.datepicker._updateDatepicker(b);e=k.datepicker._checkOffset(b,
e,f);b.dpDiv.css({position:k.datepicker._inDialog&&k.blockUI?"static":f?"fixed":"absolute",display:"none",left:e.left+"px",top:e.top+"px"});if(!b.inline){e=k.datepicker._get(b,"showAnim");var h=k.datepicker._get(b,"duration");b.dpDiv.zIndex(k(c).zIndex()+1);k.datepicker._datepickerShowing=!0;if(k.effects&&k.effects.effect[e])b.dpDiv.show(e,k.datepicker._get(b,"showOptions"),h);else b.dpDiv[e||"show"](e?h:null);k.datepicker._shouldFocusInput(b)&&b.input.focus();k.datepicker._curInst=b}}}},_updateDatepicker:function(a){this.maxRows=
4;h=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var b=this._getNumberOfMonths(a),c=b[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<c&&a.dpDiv.addClass("ui-datepicker-multi-"+c).css("width",17*c+"em");a.dpDiv[(1!==b[0]||1!==b[1]?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===k.datepicker._curInst&&
k.datepicker._datepickerShowing&&k.datepicker._shouldFocusInput(a)&&a.input.focus();if(a.yearshtml){var e=a.yearshtml;setTimeout(function(){e===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);e=a.yearshtml=null},0)}},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,m=
a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+(c?0:k(document).scrollLeft()),y=document.documentElement.clientHeight+(c?0:k(document).scrollTop());b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left===a.input.offset().left?k(document).scrollLeft():0;b.top-=c&&b.top===a.input.offset().top+m?k(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>y&&y>f?Math.abs(f+m):0);return b},_findPos:function(a){var b=this._getInst(a);
for(b=this._get(b,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||k.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];a=k(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(b&&(!a||b===k.data(a,"datepicker"))&&this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration");var e=function(){k.datepicker._tidyDialog(b)};if(k.effects&&(k.effects.effect[a]||k.effects[a]))b.dpDiv.hide(a,k.datepicker._get(b,"showOptions"),c,e);else b.dpDiv["slideDown"===
a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?c:null,e);a||e();this._datepickerShowing=!1;(a=this._get(b,"onClose"))&&a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),k.blockUI&&(k.unblockUI(),k("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(k.datepicker._curInst){a=
k(a.target);var b=k.datepicker._getInst(a[0]);(!(a[0].id===k.datepicker._mainDivId||0!==a.parents("#"+k.datepicker._mainDivId).length||a.hasClass(k.datepicker.markerClassName)||a.closest("."+k.datepicker._triggerClass).length||!k.datepicker._datepickerShowing||k.datepicker._inDialog&&k.blockUI)||a.hasClass(k.datepicker.markerClassName)&&k.datepicker._curInst!==b)&&k.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=k(a);var e=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(e,
b+("M"===c?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=k(a),c=this._getInst(b[0]);this._get(c,"gotoCurrent")&&c.currentDay?(c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear):(a=new Date,c.selectedDay=a.getDate(),c.drawMonth=c.selectedMonth=a.getMonth(),c.drawYear=c.selectedYear=a.getFullYear());this._notifyChange(c);this._adjustDate(b)},_selectMonthYear:function(a,b,c){a=k(a);var e=this._getInst(a[0]);
e["selected"+("M"===c?"Month":"Year")]=e["draw"+("M"===c?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_selectDay:function(a,b,c,f){var e=k(a);k(f).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(e=this._getInst(e[0]),e.selectedDay=e.currentDay=k("a",f).html(),e.selectedMonth=e.currentMonth=b,e.selectedYear=e.currentYear=c,this._selectDate(a,this._formatDate(e,e.currentDay,e.currentMonth,e.currentYear)))},_clearDate:function(a){a=
k(a);this._selectDate(a,"")},_selectDate:function(a,b){a=k(a);var c=this._getInst(a[0]);b=null!=b?b:this._formatDate(c);c.input&&c.input.val(b);this._updateAlternate(c);(a=this._get(c,"onSelect"))?a.apply(c.input?c.input[0]:null,[b,c]):c.input&&c.input.trigger("change");c.inline?this._updateDatepicker(c):(this._hideDatepicker(),this._lastInput=c.input[0],"object"!==typeof c.input[0]&&c.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,
"altFormat")||this._get(a,"dateFormat");var e=this._getDate(a);var f=this.formatDate(c,e,this._getFormatConfig(a));k(b).each(function(){k(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(a,b,c){if(null==a||null==b)throw"Invalid arguments";b="object"===typeof b?b.toString():b+
"";if(""===b)return null;var e,f=0;var h=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;h="string"!==typeof h?h:(new Date).getFullYear()%100+parseInt(h,10);var m=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort;var g=(c?c.dayNames:null)||this._defaults.dayNames,y=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,x=(c?c.monthNames:null)||this._defaults.monthNames,q=c=-1,B=-1,C=-1,E=!1,I=function(d){(d=e+1<a.length&&a.charAt(e+1)===d)&&e++;return d},F=function(d){var a=I(d);
d=new RegExp("^\\d{1,"+("@"===d?14:"!"===d?20:"y"===d&&a?4:"o"===d?3:2)+"}");d=b.substring(f).match(d);if(!d)throw"Missing number at position "+f;f+=d[0].length;return parseInt(d[0],10)},J=function(d,a,c){var e=-1;d=k.map(I(d)?c:a,function(d,a){return[[a,d]]}).sort(function(d,a){return-(d[1].length-a[1].length)});k.each(d,function(d,a){d=a[1];if(b.substr(f,d.length).toLowerCase()===d.toLowerCase())return e=a[0],f+=d.length,!1});if(-1!==e)return e+1;throw"Unknown name at position "+f;},L=function(){if(b.charAt(f)!==
a.charAt(e))throw"Unexpected literal at position "+f;f++};for(e=0;e<a.length;e++)if(E)"'"!==a.charAt(e)||I("'")?L():E=!1;else switch(a.charAt(e)){case "d":B=F("d");break;case "D":J("D",m,g);break;case "o":C=F("o");break;case "m":q=F("m");break;case "M":q=J("M",y,x);break;case "y":c=F("y");break;case "@":var d=new Date(F("@"));c=d.getFullYear();q=d.getMonth()+1;B=d.getDate();break;case "!":d=new Date((F("!")-this._ticksTo1970)/1E4);c=d.getFullYear();q=d.getMonth()+1;B=d.getDate();break;case "'":I("'")?
L():E=!0;break;default:L()}if(f<b.length&&(m=b.substr(f),!/^\s+/.test(m)))throw"Extra/unparsed characters found in date: "+m;-1===c?c=(new Date).getFullYear():100>c&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=h?0:-100));if(-1<C){q=1;B=C;do{h=this._getDaysInMonth(c,q-1);if(B<=h)break;q++;B-=h}while(1)}d=this._daylightSavingAdjust(new Date(c,q-1,B));if(d.getFullYear()!==c||d.getMonth()+1!==q||d.getDate()!==B)throw"Invalid date";return d},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",
RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var e,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,m=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;
var g=function(b){(b=e+1<a.length&&a.charAt(e+1)===b)&&e++;return b},k=function(a,b,c){b=""+b;if(g(a))for(;b.length<c;)b="0"+b;return b},x=function(a,b,c,e){return g(a)?e[b]:c[b]},q="",B=!1;if(b)for(e=0;e<a.length;e++)if(B)"'"!==a.charAt(e)||g("'")?q+=a.charAt(e):B=!1;else switch(a.charAt(e)){case "d":q+=k("d",b.getDate(),2);break;case "D":q+=x("D",b.getDay(),f,h);break;case "o":q+=k("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/
864E5),3);break;case "m":q+=k("m",b.getMonth()+1,2);break;case "M":q+=x("M",b.getMonth(),m,c);break;case "y":q+=g("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":q+=b.getTime();break;case "!":q+=1E4*b.getTime()+this._ticksTo1970;break;case "'":g("'")?q+="'":B=!0;break;default:q+=a.charAt(e)}return q},_possibleChars:function(a){var b,c="",e=!1,f=function(c){(c=b+1<a.length&&a.charAt(b+1)===c)&&b++;return c};for(b=0;b<a.length;b++)if(e)"'"!==a.charAt(b)||f("'")?c+=a.charAt(b):
e=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":f("'")?c+="'":e=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return a.settings[b]!==g?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f=this._getDefaultDate(a),h=f,g=this._getFormatConfig(a);try{h=this.parseDate(c,e,g)||f}catch(A){e=b?"":e}a.selectedDay=
h.getDate();a.drawMonth=a.selectedMonth=h.getMonth();a.drawYear=a.selectedYear=h.getFullYear();a.currentDay=e?h.getDate():0;a.currentMonth=e?h.getMonth():0;a.currentYear=e?h.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},f=function(b){try{return k.datepicker.parseDate(k.datepicker._get(a,
"dateFormat"),b,k.datepicker._getFormatConfig(a))}catch(B){}var c=(b.toLowerCase().match(/^c/)?k.datepicker._getDate(a):null)||new Date,e=c.getFullYear(),f=c.getMonth();c=c.getDate();for(var h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,m=h.exec(b);m;){switch(m[2]||"d"){case "d":case "D":c+=parseInt(m[1],10);break;case "w":case "W":c+=7*parseInt(m[1],10);break;case "m":case "M":f+=parseInt(m[1],10);c=Math.min(c,k.datepicker._getDaysInMonth(e,f));break;case "y":case "Y":e+=parseInt(m[1],10),c=Math.min(c,
k.datepicker._getDaysInMonth(e,f))}m=h.exec(b)}return new Date(e,f,c)};if(b=(b=null==b||""===b?c:"string"===typeof b?f(b):"number"===typeof b?isNaN(b)?c:e(b):new Date(b.getTime()))&&"Invalid Date"===b.toString()?c:b)b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,
this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();f===a.selectedMonth&&h===a.selectedYear||c||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(a){var b=
this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){k(this).bind(this.getAttribute("data-event"),{prev:function(){k.datepicker._adjustDate(c,-b,"M")},next:function(){k.datepicker._adjustDate(c,+b,"M")},hide:function(){k.datepicker._hideDatepicker()},today:function(){k.datepicker._gotoToday(c)},selectDay:function(){k.datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return!1},selectMonth:function(){k.datepicker._selectMonthYear(c,
this,"M");return!1},selectYear:function(){k.datepicker._selectMonthYear(c,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,e,f,h=new Date;h=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth(),h.getDate()));var g=this._get(a,"isRTL");var k=this._get(a,"showButtonPanel");var y=this._get(a,"hideIfNoPrevNext");var x=this._get(a,"navigationAsDateFormat");var q=this._getNumberOfMonths(a),B=this._get(a,"showCurrentAtPos");var C=this._get(a,"stepMonths");
var E=1!==q[0]||1!==q[1],I=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),F=this._getMinMaxDate(a,"min"),J=this._getMinMaxDate(a,"max");B=a.drawMonth-B;var L=a.drawYear;0>B&&(B+=12,L--);if(J){var d=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-q[0]*q[1]+1,J.getDate()));for(d=F&&d<F?F:d;this._daylightSavingAdjust(new Date(L,B,1))>d;)B--,0>B&&(B=11,L--)}a.drawMonth=B;a.drawYear=L;d=this._get(a,"prevText");d=x?this.formatDate(d,
this._daylightSavingAdjust(new Date(L,B-C,1)),this._getFormatConfig(a)):d;d=this._canAdjustMonth(a,-1,L,B)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+d+"'><span class='ui-icon ui-icon-circle-triangle-"+(g?"e":"w")+"'>"+d+"</span></a>":y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+d+"'><span class='ui-icon ui-icon-circle-triangle-"+(g?"e":"w")+"'>"+d+"</span></a>";var l=this._get(a,"nextText");l=x?this.formatDate(l,this._daylightSavingAdjust(new Date(L,
B+C,1)),this._getFormatConfig(a)):l;y=this._canAdjustMonth(a,1,L,B)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+l+"'><span class='ui-icon ui-icon-circle-triangle-"+(g?"w":"e")+"'>"+l+"</span></a>":y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+l+"'><span class='ui-icon ui-icon-circle-triangle-"+(g?"w":"e")+"'>"+l+"</span></a>";C=this._get(a,"currentText");l=this._get(a,"gotoCurrent")&&a.currentDay?I:h;C=x?this.formatDate(C,
l,this._getFormatConfig(a)):C;x=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";k=k?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(g?x:"")+(this._isInRange(a,l)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+C+"</button>":"")+(g?"":x)+"</div>":
"";x=parseInt(this._get(a,"firstDay"),10);x=isNaN(x)?0:x;C=this._get(a,"showWeek");l=this._get(a,"dayNames");var z=this._get(a,"dayNamesMin");var G=this._get(a,"monthNames");var K=this._get(a,"monthNamesShort");var T=this._get(a,"beforeShowDay");var ja=this._get(a,"showOtherMonths");var W=this._get(a,"selectOtherMonths");var Ea=this._getDefaultDate(a);var ea="";O;for(b=0;b<q[0];b++){var Y="";this.maxRows=4;for(c=0;c<q[1];c++){var aa=this._daylightSavingAdjust(new Date(L,B,a.selectedDay));var O=" ui-corner-all";
var fa="";if(E){fa+="<div class='ui-datepicker-group";if(1<q[1])switch(c){case 0:fa+=" ui-datepicker-group-first";O=" ui-corner-"+(g?"right":"left");break;case q[1]-1:fa+=" ui-datepicker-group-last";O=" ui-corner-"+(g?"left":"right");break;default:fa+=" ui-datepicker-group-middle",O=""}fa+="'>"}fa+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+O+"'>"+(/all|left/.test(O)&&0===b?g?y:d:"")+(/all|right/.test(O)&&0===b?g?d:y:"")+this._generateMonthYearHeader(a,B,L,F,J,0<b||0<c,
G,K)+"</div><table class='ui-datepicker-calendar'><thead><tr>";var xa=C?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(O=0;7>O;O++){var ma=(O+x)%7;xa+="<th"+(5<=(O+x+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+l[ma]+"'>"+z[ma]+"</span></th>"}fa+=xa+"</tr></thead><tbody>";xa=this._getDaysInMonth(L,B);L===a.selectedYear&&B===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,xa));O=(this._getFirstDayOfMonth(L,B)-x+7)%7;xa=Math.ceil((O+xa)/7);this.maxRows=
xa=E?this.maxRows>xa?this.maxRows:xa:xa;ma=this._daylightSavingAdjust(new Date(L,B,1-O));for(e=0;e<xa;e++){fa+="<tr>";var ha=C?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(ma)+"</td>":"";for(O=0;7>O;O++){var ua=T?T.apply(a.input?a.input[0]:null,[ma]):[!0,""];var Xa=(f=ma.getMonth()!==B)&&!W||!ua[0]||F&&ma<F||J&&ma>J;ha+="<td class='"+(5<=(O+x+6)%7?" ui-datepicker-week-end":"")+(f?" ui-datepicker-other-month":"")+(ma.getTime()===aa.getTime()&&B===a.selectedMonth&&a._keyEvent||
Ea.getTime()===ma.getTime()&&Ea.getTime()===aa.getTime()?" "+this._dayOverClass:"")+(Xa?" "+this._unselectableClass+" ui-state-disabled":"")+(f&&!ja?"":" "+ua[1]+(ma.getTime()===I.getTime()?" "+this._currentClass:"")+(ma.getTime()===h.getTime()?" ui-datepicker-today":""))+"'"+(f&&!ja||!ua[2]?"":" title='"+ua[2].replace(/'/g,"&#39;")+"'")+(Xa?"":" data-handler='selectDay' data-event='click' data-month='"+ma.getMonth()+"' data-year='"+ma.getFullYear()+"'")+">"+(f&&!ja?"&#xa0;":Xa?"<span class='ui-state-default'>"+
ma.getDate()+"</span>":"<a class='ui-state-default"+(ma.getTime()===h.getTime()?" ui-state-highlight":"")+(ma.getTime()===I.getTime()?" ui-state-active":"")+(f?" ui-priority-secondary":"")+"' href='#'>"+ma.getDate()+"</a>")+"</td>";ma.setDate(ma.getDate()+1);ma=this._daylightSavingAdjust(ma)}fa+=ha+"</tr>"}B++;11<B&&(B=0,L++);fa+="</tbody></table>"+(E?"</div>"+(0<q[0]&&c===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");Y+=fa}ea+=Y}a._keyEvent=!1;return ea+k},_generateMonthYearHeader:function(a,
b,c,f,h,g,k,A){var e,m=this._get(a,"changeMonth"),n=this._get(a,"changeYear"),r=this._get(a,"showMonthAfterYear"),w="<div class='ui-datepicker-title'>",v="";if(g||!m)v+="<span class='ui-datepicker-month'>"+k[b]+"</span>";else{k=f&&f.getFullYear()===c;var I=h&&h.getFullYear()===c;v+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(e=0;12>e;e++)(!k||e>=f.getMonth())&&(!I||e<=h.getMonth())&&(v+="<option value='"+e+"'"+(e===b?" selected='selected'":"")+">"+A[e]+
"</option>");v+="</select>"}r||(w+=v+(!g&&m&&n?"":"&#xa0;"));if(!a.yearshtml)if(a.yearshtml="",g||!n)w+="<span class='ui-datepicker-year'>"+c+"</span>";else{A=this._get(a,"yearRange").split(":");var F=(new Date).getFullYear();k=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?F+parseInt(a,10):parseInt(a,10);return isNaN(a)?F:a};b=k(A[0]);A=Math.max(b,k(A[1]||""));b=f?Math.max(b,f.getFullYear()):b;A=h?Math.min(A,h.getFullYear()):A;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=
A;b++)a.yearshtml+="<option value='"+b+"'"+(b===c?" selected='selected'":"")+">"+b+"</option>";a.yearshtml+="</select>";w+=a.yearshtml;a.yearshtml=null}w+=this._get(a,"yearSuffix");r&&(w+=(!g&&m&&n?"":"&#xa0;")+v);return w+"</div>"},_adjustInstDate:function(a,b,c){var e=a.drawYear+("Y"===c?b:0),f=a.drawMonth+("M"===c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+("D"===c?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=
e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();"M"!==c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:a},_getMinMaxDate:function(a,
b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,f){var e=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,f+(0>b?b:e[0]*e[1]),1));0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,
"min"),e=this._getMinMaxDate(a,"max"),f=null,h=null;if(a=this._get(a,"yearRange")){a=a.split(":");var g=(new Date).getFullYear();f=parseInt(a[0],10);h=parseInt(a[1],10);a[0].match(/[+\-].*/)&&(f+=g);a[1].match(/[+\-].*/)&&(h+=g)}return(!c||b.getTime()>=c.getTime())&&(!e||b.getTime()<=e.getTime())&&(!f||b.getFullYear()>=f)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b="string"!==typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,
dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,f){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"===typeof b?b:this._daylightSavingAdjust(new Date(f,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});
k.fn.datepicker=function(a){if(!this.length)return this;k.datepicker.initialized||(k(document).mousedown(k.datepicker._checkExternalClick),k.datepicker.initialized=!0);0===k("#"+k.datepicker._mainDivId).length&&k("body").append(k.datepicker.dpDiv);var b=Array.prototype.slice.call(arguments,1);return"string"===typeof a&&("isDisabled"===a||"getDate"===a||"widget"===a)||"option"===a&&2===arguments.length&&"string"===typeof arguments[1]?k.datepicker["_"+a+"Datepicker"].apply(k.datepicker,[this[0]].concat(b)):
this.each(function(){"string"===typeof a?k.datepicker["_"+a+"Datepicker"].apply(k.datepicker,[this].concat(b)):k.datepicker._attachDatepicker(this,a)})};k.datepicker=new c;k.datepicker.initialized=!1;k.datepicker.uuid=(new Date).getTime();k.datepicker.version="1.10.4"})(jQuery);
(function(k,g){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},f={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};k.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var c=k(this).css(a).offset().top;
0>c&&k(this).css("top",a.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&k.fn.draggable&&this._makeDraggable();this.options.resizable&&k.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=
this.options.appendTo;return a&&(a.jquery||a.nodeType)?k(a):this.document.find(a||"body").eq(0)},_destroy:function(){var a=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);var c=a.parent.children().eq(a.index);c.length&&c[0]!==this.element[0]?c.before(this.element):a.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:k.noop,enable:k.noop,close:function(a){var c,e=this;if(this._isOpen&&!1!==this._trigger("beforeClose",a)){this._isOpen=!1;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length)try{(c=this.document[0].activeElement)&&"body"!==c.nodeName.toLowerCase()&&k(c).blur()}catch(b){}this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",a)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},
_moveToTop:function(a,c){var e=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;e&&!c&&this._trigger("focus",a);return e},open:function(){var a=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=k(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable();a._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var a=
this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(a){function c(){var a=this.document[0].activeElement;this.uiDialog[0]===a||k.contains(this.uiDialog[0],a)||this._focusTabbable()}a.preventDefault();c.call(this);this._delay(c)},_createWrapper:function(){this.uiDialog=k("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(a){if(this.options.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===k.ui.keyCode.ESCAPE)a.preventDefault(),this.close(a);else if(a.keyCode===k.ui.keyCode.TAB){var c=this.uiDialog.find(":tabbable"),e=c.filter(":first");c=c.filter(":last");a.target!==c[0]&&a.target!==this.uiDialog[0]||a.shiftKey?a.target!==e[0]&&a.target!==this.uiDialog[0]||!a.shiftKey||
(c.focus(1),a.preventDefault()):(e.focus(1),a.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){this.uiDialogTitlebar=k("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(a){k(a.target).closest(".ui-dialog-titlebar-close")||
this.uiDialog.focus()}});this.uiDialogTitlebarClose=k("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});var a=k("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(a);this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||
a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=k("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=k("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var a=this,c=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();k.isEmptyObject(c)||k.isArray(c)&&!c.length?this.uiDialog.removeClass("ui-dialog-buttons"):
(k.each(c,function(c,b){b=k.isFunction(b)?{click:b,text:c}:b;b=k.extend({type:"button"},b);var e=b.click;b.click=function(){e.apply(a.element[0],arguments)};c={icons:b.icons,text:b.showText};delete b.icons;delete b.showText;k("<button></button>",b).button(c).appendTo(a.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function a(a){return{position:a.position,offset:a.offset}}var c=this,e=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(b,e){k(this).addClass("ui-dialog-dragging");c._blockFrames();c._trigger("dragStart",b,a(e))},drag:function(b,e){c._trigger("drag",b,a(e))},stop:function(b,f){e.position=[f.position.left-c.document.scrollLeft(),f.position.top-c.document.scrollTop()];k(this).removeClass("ui-dialog-dragging");c._unblockFrames();c._trigger("dragStop",b,a(f))}})},_makeResizable:function(){function a(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
position:a.position,size:a.size}}var c=this,e=this.options,b=e.resizable,f=this.uiDialog.css("position");b="string"===typeof b?b:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:this._minHeight(),handles:b,start:function(b,e){k(this).addClass("ui-dialog-resizing");c._blockFrames();c._trigger("resizeStart",b,a(e))},resize:function(b,e){c._trigger("resize",
b,a(e))},stop:function(b,f){e.height=k(this).height();e.width=k(this).width();k(this).removeClass("ui-dialog-resizing");c._unblockFrames();c._trigger("resizeStop",b,a(f))}}).css("position",f)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(a){var h=this,e=!1,b={};k.each(a,
function(a,g){h._setOption(a,g);a in c&&(e=!0);a in f&&(b[a]=g)});e&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",b)},_setOption:function(a,c){var e,b=this.uiDialog;"dialogClass"===a&&b.removeClass(this.options.dialogClass).addClass(c);"disabled"!==a&&(this._super(a,c),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+c}),"draggable"===
a&&((e=b.is(":data(ui-draggable)"))&&!c&&b.draggable("destroy"),!e&&c&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&((e=b.is(":data(ui-resizable)"))&&!c&&b.resizable("destroy"),e&&"string"===typeof c&&b.resizable("option","handles",c),e||!1===c||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});a.minWidth>a.width&&
(a.width=a.minWidth);var c=this.uiDialog.css({height:"auto",width:a.width}).outerHeight();var e=Math.max(0,a.minHeight-c);var b="number"===typeof a.maxHeight?Math.max(0,a.maxHeight-c):"none";"auto"===a.height?this.element.css({minHeight:e,maxHeight:b,height:"auto"}):this.element.height(Math.max(0,a.height-c));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=
k(this);return k("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return k(a.target).closest(".ui-dialog").length?!0:!!k(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=this,c=this.widgetFullName;k.ui.dialog.overlayInstances||this._delay(function(){k.ui.dialog.overlayInstances&&
this.document.bind("focusin.dialog",function(e){a._allowInteraction(e)||(e.preventDefault(),k(".ui-dialog:visible:last .ui-dialog-content").data(c)._focusTabbable())})});this.overlay=k("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});k.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(k.ui.dialog.overlayInstances--,k.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),
this.overlay.remove(),this.overlay=null)}});k.ui.dialog.overlayInstances=0;!1!==k.uiBackCompat&&k.widget("ui.dialog",k.ui.dialog,{_position:function(){var a=this.options.position,c=[],e=[0,0],b;if(a){if("string"===typeof a||"object"===typeof a&&"0"in a)c=a.split?a.split(" "):[a[0],a[1]],1===c.length&&(c[1]=c[0]),k.each(["left","top"],function(a,b){+c[a]===c[a]&&(e[a]=c[a],c[a]=b)}),a={my:c[0]+(0>e[0]?e[0]:"+"+e[0])+" "+c[1]+(0>e[1]?e[1]:"+"+e[1]),at:c.join(" ")};a=k.extend({},k.ui.dialog.prototype.options.position,
a)}else a=k.ui.dialog.prototype.options.position;(b=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(a);b||this.uiDialog.hide()}})})(jQuery);
(function(k,g){var c=/up|down|vertical/,f=/up|left|vertical|horizontal/;k.effects.effect.blind=function(a,h){var e=k(this),b="position top bottom left right height width".split(" "),g=k.effects.setMode(e,a.mode||"hide"),n=a.direction||"up",r=c.test(n),w=r?"height":"width",v=r?"top":"left";n=f.test(n);var A={},y="show"===g;e.parent().is(".ui-effects-wrapper")?k.effects.save(e.parent(),b):k.effects.save(e,b);e.show();var x=k.effects.createWrapper(e).css({overflow:"hidden"});var q=x[w]();var B=parseFloat(x.css(v))||
0;A[w]=y?q:0;n||(e.css(r?"bottom":"right",0).css(r?"top":"left","auto").css({position:"absolute"}),A[v]=y?B:q+B);y&&(x.css(w,0),n||x.css(v,B+q));x.animate(A,{duration:a.duration,easing:a.easing,queue:!1,complete:function(){"hide"===g&&e.hide();k.effects.restore(e,b);k.effects.removeWrapper(e);h()}})}})(jQuery);
(function(k,g){k.effects.effect.bounce=function(c,f){var a=k(this),h="position top bottom left right height width".split(" "),e=k.effects.setMode(a,c.mode||"effect"),b="hide"===e,g="show"===e,n=c.direction||"up";e=c.distance;var r=c.times||5,w=2*r+(g||b?1:0),v=c.duration/w;c=c.easing;var A="up"===n||"down"===n?"top":"left";n="up"===n||"left"===n;var y=a.queue(),x=y.length;(g||b)&&h.push("opacity");k.effects.save(a,h);a.show();k.effects.createWrapper(a);e||(e=a["top"===A?"outerHeight":"outerWidth"]()/
3);if(g){var q={opacity:1};q[A]=0;a.css("opacity",0).css(A,n?2*-e:2*e).animate(q,v,c)}b&&(e/=Math.pow(2,r-1));q={};for(g=q[A]=0;g<r;g++){var B={};B[A]=(n?"-=":"+=")+e;a.animate(B,v,c).animate(q,v,c);e=b?2*e:e/2}b&&(B={opacity:0},B[A]=(n?"-=":"+=")+e,a.animate(B,v,c));a.queue(function(){b&&a.hide();k.effects.restore(a,h);k.effects.removeWrapper(a);f()});1<x&&y.splice.apply(y,[1,0].concat(y.splice(x,w+1)));a.dequeue()}})(jQuery);
(function(k,g){k.effects.effect.clip=function(c,f){var a=k(this),h="position top bottom left right height width".split(" "),e="show"===k.effects.setMode(a,c.mode||"hide"),b="vertical"===(c.direction||"vertical"),g=b?"height":"width";b=b?"top":"left";var n={};k.effects.save(a,h);a.show();var r=k.effects.createWrapper(a).css({overflow:"hidden"});r="IMG"===a[0].tagName?r:a;var w=r[g]();e&&(r.css(g,0),r.css(b,w/2));n[g]=e?w:0;n[b]=e?0:w/2;r.animate(n,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){e||
a.hide();k.effects.restore(a,h);k.effects.removeWrapper(a);f()}})}})(jQuery);
(function(k,g){k.effects.effect.drop=function(c,f){var a=k(this),h="position top bottom left right opacity height width".split(" "),e=k.effects.setMode(a,c.mode||"hide"),b="show"===e,g=c.direction||"left",n="up"===g||"down"===g?"top":"left";g="up"===g||"left"===g?"pos":"neg";var r={opacity:b?1:0};k.effects.save(a,h);a.show();k.effects.createWrapper(a);var w=c.distance||a["top"===n?"outerHeight":"outerWidth"](!0)/2;b&&a.css("opacity",0).css(n,"pos"===g?-w:w);r[n]=(b?"pos"===g?"+=":"-=":"pos"===g?"-=":
"+=")+w;a.animate(r,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===e&&a.hide();k.effects.restore(a,h);k.effects.removeWrapper(a);f()}})}})(jQuery);
(function(k,g){k.effects.effect.explode=function(c,f){function a(){v.push(this);v.length===h*e&&(b.css({visibility:"visible"}),k(v).remove(),g||b.hide(),f())}var h=c.pieces?Math.round(Math.sqrt(c.pieces)):3,e=h,b=k(this),g="show"===k.effects.setMode(b,c.mode||"hide"),n=b.show().css("visibility","hidden").offset(),r=Math.ceil(b.outerWidth()/e),w=Math.ceil(b.outerHeight()/h),v=[],A,y;for(A=0;A<h;A++){var x=n.top+A*w;var q=A-(h-1)/2;for(y=0;y<e;y++){var B=n.left+y*r;var C=y-(e-1)/2;b.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-y*r,top:-A*w}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:w,left:B+(g?C*r:0),top:x+(g?q*w:0),opacity:g?0:1}).animate({left:B+(g?0:C*r),top:x+(g?0:q*w),opacity:g?1:0},c.duration||500,c.easing,a)}}}})(jQuery);(function(k,g){k.effects.effect.fade=function(c,f){var a=k(this),h=k.effects.setMode(a,c.mode||"toggle");a.animate({opacity:h},{queue:!1,duration:c.duration,easing:c.easing,complete:f})}})(jQuery);
(function(k,g){k.effects.effect.fold=function(c,f){var a=k(this),h="position top bottom left right height width".split(" "),e=k.effects.setMode(a,c.mode||"hide"),b="show"===e,g="hide"===e;e=c.size||15;var n=/([0-9]+)%/.exec(e),r=!!c.horizFirst,w=b!==r,v=w?["width","height"]:["height","width"],A=c.duration/2,y={},x={};k.effects.save(a,h);a.show();var q=k.effects.createWrapper(a).css({overflow:"hidden"});w=w?[q.width(),q.height()]:[q.height(),q.width()];n&&(e=parseInt(n[1],10)/100*w[g?0:1]);b&&q.css(r?
{height:0,width:e}:{height:e,width:0});y[v[0]]=b?w[0]:e;x[v[1]]=b?w[1]:0;q.animate(y,A,c.easing).animate(x,A,c.easing,function(){g&&a.hide();k.effects.restore(a,h);k.effects.removeWrapper(a);f()})}})(jQuery);
(function(k,g){k.effects.effect.highlight=function(c,f){var a=k(this),h=["backgroundImage","backgroundColor","opacity"],e=k.effects.setMode(a,c.mode||"show"),b={backgroundColor:a.css("backgroundColor")};"hide"===e&&(b.opacity=0);k.effects.save(a,h);a.show().css({backgroundImage:"none",backgroundColor:c.color||"#ffff99"}).animate(b,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===e&&a.hide();k.effects.restore(a,h);f()}})}})(jQuery);
(function(k,g){k.effects.effect.pulsate=function(c,f){var a=k(this),h=k.effects.setMode(a,c.mode||"show"),e="show"===h,b="hide"===h;h=2*(c.times||5)+(e||"hide"===h?1:0);var g=c.duration/h,n=0,r=a.queue(),w=r.length;if(e||!a.is(":visible"))a.css("opacity",0).show(),n=1;for(e=1;e<h;e++)a.animate({opacity:n},g,c.easing),n=1-n;a.animate({opacity:n},g,c.easing);a.queue(function(){b&&a.hide();f()});1<w&&r.splice.apply(r,[1,0].concat(r.splice(w,h+1)));a.dequeue()}})(jQuery);
(function(k,g){k.effects.effect.puff=function(c,f){var a=k(this),h=k.effects.setMode(a,c.mode||"hide"),e="hide"===h,b=parseInt(c.percent,10)||150,g=b/100,n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()};k.extend(c,{effect:"scale",queue:!1,fade:!0,mode:h,complete:f,percent:e?b:100,from:e?n:{height:n.height*g,width:n.width*g,outerHeight:n.outerHeight*g,outerWidth:n.outerWidth*g}});a.effect(c)};k.effects.effect.scale=function(c,f){var a=k(this),h=k.extend(!0,
{},c),e=k.effects.setMode(a,c.mode||"effect"),b=parseInt(c.percent,10)||(0===parseInt(c.percent,10)?0:"hide"===e?0:100),g=c.direction||"both",n=c.origin,r={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},w="horizontal"!==g?b/100:1;b="vertical"!==g?b/100:1;h.effect="size";h.queue=!1;h.complete=f;"effect"!==e&&(h.origin=n||["middle","center"],h.restore=!0);h.from=c.from||("show"===e?{height:0,width:0,outerHeight:0,outerWidth:0}:r);h.to={height:r.height*w,width:r.width*
b,outerHeight:r.outerHeight*w,outerWidth:r.outerWidth*b};h.fade&&("show"===e&&(h.from.opacity=0,h.to.opacity=1),"hide"===e&&(h.from.opacity=1,h.to.opacity=0));a.effect(h)};k.effects.effect.size=function(c,f){var a=k(this),h="position top bottom left right width height overflow opacity".split(" ");var e="position top bottom left right overflow opacity".split(" ");var b=["width","height","overflow"],g=["fontSize"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],r=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],w=k.effects.setMode(a,c.mode||"effect"),v=c.restore||"effect"!==w,A=c.scale||"both";var y=c.origin||["middle","center"];var x=a.css("position"),q=v?h:e,B={height:0,width:0,outerHeight:0,outerWidth:0};"show"===w&&a.show();e={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()};"toggle"===c.mode&&"show"===w?(a.from=c.to||B,a.to=c.from||e):(a.from=c.from||("show"===w?B:e),a.to=c.to||("hide"===w?B:e));var C=a.from.height/
e.height;var E=a.from.width/e.width;var I=a.to.height/e.height;var F=a.to.width/e.width;if("box"===A||"both"===A)C!==I&&(q=q.concat(n),a.from=k.effects.setTransition(a,n,C,a.from),a.to=k.effects.setTransition(a,n,I,a.to)),E!==F&&(q=q.concat(r),a.from=k.effects.setTransition(a,r,E,a.from),a.to=k.effects.setTransition(a,r,F,a.to));"content"!==A&&"both"!==A||C===I||(q=q.concat(g).concat(b),a.from=k.effects.setTransition(a,g,C,a.from),a.to=k.effects.setTransition(a,g,I,a.to));k.effects.save(a,q);a.show();
k.effects.createWrapper(a);a.css("overflow","hidden").css(a.from);y&&(y=k.effects.getBaseline(y,e),a.from.top=(e.outerHeight-a.outerHeight())*y.y,a.from.left=(e.outerWidth-a.outerWidth())*y.x,a.to.top=(e.outerHeight-a.to.outerHeight)*y.y,a.to.left=(e.outerWidth-a.to.outerWidth)*y.x);a.css(a.from);if("content"===A||"both"===A)n=n.concat(["marginTop","marginBottom"]).concat(g),r=r.concat(["marginLeft","marginRight"]),b=h.concat(n).concat(r),a.find("*[width]").each(function(){var a=k(this),e=a.height(),
d=a.width(),l=a.outerHeight(),f=a.outerWidth();v&&k.effects.save(a,b);a.from={height:e*C,width:d*E,outerHeight:l*C,outerWidth:f*E};a.to={height:e*I,width:d*F,outerHeight:e*I,outerWidth:d*F};C!==I&&(a.from=k.effects.setTransition(a,n,C,a.from),a.to=k.effects.setTransition(a,n,I,a.to));E!==F&&(a.from=k.effects.setTransition(a,r,E,a.from),a.to=k.effects.setTransition(a,r,F,a.to));a.css(a.from);a.animate(a.to,c.duration,c.easing,function(){v&&k.effects.restore(a,b)})});a.animate(a.to,{queue:!1,duration:c.duration,
easing:c.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity);"hide"===w&&a.hide();k.effects.restore(a,q);v||("static"===x?a.css({position:"relative",top:a.to.top,left:a.to.left}):k.each(["top","left"],function(b,c){a.css(c,function(d,c){d=parseInt(c,10);var e=b?a.to.left:a.to.top;return"auto"===c?e+"px":d+e+"px"})}));k.effects.removeWrapper(a);f()}})}})(jQuery);
(function(k,g){k.effects.effect.shake=function(c,f){var a=k(this),h="position top bottom left right height width".split(" "),e=k.effects.setMode(a,c.mode||"effect"),b=c.direction||"left",g=c.distance||20,n=c.times||3,r=2*n+1,w=Math.round(c.duration/r),v="up"===b||"down"===b?"top":"left",A="up"===b||"left"===b;b={};var y={},x={},q=a.queue(),B=q.length;k.effects.save(a,h);a.show();k.effects.createWrapper(a);b[v]=(A?"-=":"+=")+g;y[v]=(A?"+=":"-=")+2*g;x[v]=(A?"-=":"+=")+2*g;a.animate(b,w,c.easing);for(g=
1;g<n;g++)a.animate(y,w,c.easing).animate(x,w,c.easing);a.animate(y,w,c.easing).animate(b,w/2,c.easing).queue(function(){"hide"===e&&a.hide();k.effects.restore(a,h);k.effects.removeWrapper(a);f()});1<B&&q.splice.apply(q,[1,0].concat(q.splice(B,r+1)));a.dequeue()}})(jQuery);
(function(k,g){k.effects.effect.slide=function(c,f){var a=k(this),h="position top bottom left right width height".split(" "),e=k.effects.setMode(a,c.mode||"show"),b="show"===e,g=c.direction||"left",n="up"===g||"down"===g?"top":"left";g="up"===g||"left"===g;var r={};k.effects.save(a,h);a.show();var w=c.distance||a["top"===n?"outerHeight":"outerWidth"](!0);k.effects.createWrapper(a).css({overflow:"hidden"});b&&a.css(n,g?isNaN(w)?"-"+w:-w:w);r[n]=(b?g?"+=":"-=":g?"-=":"+=")+w;a.animate(r,{queue:!1,duration:c.duration,
easing:c.easing,complete:function(){"hide"===e&&a.hide();k.effects.restore(a,h);k.effects.removeWrapper(a);f()}})}})(jQuery);
(function(k,g){k.effects.effect.transfer=function(c,f){var a=k(this),h=k(c.to),e="fixed"===h.css("position"),b=k("body"),g=e?b.scrollTop():0;b=e?b.scrollLeft():0;var n=h.offset();h={top:n.top-g,left:n.left-b,height:h.innerHeight(),width:h.innerWidth()};n=a.offset();var r=k("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(c.className).css({top:n.top-g,left:n.left-b,height:a.innerHeight(),width:a.innerWidth(),position:e?"fixed":"absolute"}).animate(h,c.duration,c.easing,function(){r.remove();
f()})}})(jQuery);
(function(k,g){k.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,
k.proxy(function(c){this.options.disabled&&c.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(c){c.preventDefault()},"click .ui-state-disabled > a":function(c){c.preventDefault()},"click .ui-menu-item:has(a)":function(c){var f=k(c.target).closest(".ui-menu-item");!this.mouseHandled&&f.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||(this.mouseHandled=
!0),f.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&k(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var f=k(c.currentTarget);f.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,f)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,f){var a=this.active||
this.element.children(".ui-menu-item").eq(0);f||this.focus(c,a)},blur:function(c){this._delay(function(){k.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){k(c.target).closest(".ui-menu").length||this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=k(this);c.data("ui-menu-submenu-carat")&&c.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){function f(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var a=!0;switch(c.keyCode){case k.ui.keyCode.PAGE_UP:this.previousPage(c);break;case k.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case k.ui.keyCode.HOME:this._move("first","first",c);break;case k.ui.keyCode.END:this._move("last","last",c);break;case k.ui.keyCode.UP:this.previous(c);break;case k.ui.keyCode.DOWN:this.next(c);break;case k.ui.keyCode.LEFT:this.collapse(c);break;case k.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case k.ui.keyCode.ENTER:case k.ui.keyCode.SPACE:this._activate(c);
break;case k.ui.keyCode.ESCAPE:this.collapse(c);break;default:a=!1;var h=this.previousFilter||"";var e=String.fromCharCode(c.keyCode);var b=!1;clearTimeout(this.filterTimer);e===h?b=!0:e=h+e;var g=new RegExp("^"+f(e),"i");h=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(k(this).children("a").text())});h=b&&-1!==h.index(this.active.next())?this.active.nextAll(".ui-menu-item"):h;h.length||(e=String.fromCharCode(c.keyCode),g=new RegExp("^"+f(e),"i"),h=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(k(this).children("a").text())}));
h.length?(this.focus(c,h),1<h.length?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}a&&c.preventDefault()},_activate:function(c){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(c):this.select(c))},refresh:function(){var c=this.options.icons.submenu;var f=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);
f.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var a=k(this),f=a.prev("a"),e=k("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);f.attr("aria-haspopup","true").prepend(e);a.attr("aria-labelledby",f.attr("id"))});f=f.add(this.element);f.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,
role:this._itemRole()});f.children(":not(.ui-menu-item)").each(function(){var a=k(this);/[^\-\u2014\u2013\s]/.test(a.text())||a.addClass("ui-widget-content ui-menu-divider")});f.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!k.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,f){"icons"===c&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(f.submenu);
this._super(c,f)},focus:function(c,f){this.blur(c,c&&"focus"===c.type);this._scrollIntoView(f);this.active=f.first();var a=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",a.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");c&&"keydown"===c.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);a=f.children(".ui-menu");a.length&&c&&/^mouse/.test(c.type)&&
this._startOpening(a);this.activeMenu=f.parent();this._trigger("focus",c,{item:f})},_scrollIntoView:function(c){if(this._hasScroll()){var f=parseFloat(k.css(this.activeMenu[0],"borderTopWidth"))||0;var a=parseFloat(k.css(this.activeMenu[0],"paddingTop"))||0;f=c.offset().top-this.activeMenu.offset().top-f-a;a=this.activeMenu.scrollTop();var h=this.activeMenu.height();c=c.height();0>f?this.activeMenu.scrollTop(a+f):f+c>h&&this.activeMenu.scrollTop(a+f-h+c)}},blur:function(c,f){f||clearTimeout(this.timer);
this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",c,{item:this.active}))},_startOpening:function(c){clearTimeout(this.timer);"true"===c.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(c)},this.delay))},_open:function(c){var f=k.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded",
"true").position(f)},collapseAll:function(c,f){clearTimeout(this.timer);this.timer=this._delay(function(){var a=f?this.element:k(c&&c.target).closest(this.element.find(".ui-menu"));a.length||(a=this.element);this._close(a);this.blur(c);this.activeMenu=a},this.delay)},_close:function(c){c||(c=this.active?this.active.parent():this.element);c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(c){var f=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);f&&f.length&&(this._close(),this.focus(c,f))},expand:function(c){var f=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();f&&f.length&&(this._open(f.parent()),this._delay(function(){this.focus(c,f)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(c,f,a){var h;this.active&&(h="first"===c||"last"===c?this.active["first"===c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0));h&&h.length&&this.active||(h=this.activeMenu.children(".ui-menu-item")[f]());this.focus(a,h)},nextPage:function(c){var f;if(!this.active)this.next(c);else if(!this.isLastItem())if(this._hasScroll()){var a=this.active.offset().top;var h=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){f=
k(this);return 0>f.offset().top-a-h});this.focus(c,f)}else this.focus(c,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(c){var f;if(!this.active)this.next(c);else if(!this.isFirstItem())if(this._hasScroll()){var a=this.active.offset().top;var h=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){f=k(this);return 0<f.offset().top-a+h});this.focus(c,f)}else this.focus(c,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(c){this.active=this.active||k(c.target).closest(".ui-menu-item");var f={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,f)}})})(jQuery);
(function(k,g){function c(a,b,c){return[parseFloat(a[0])*(v.test(a[0])?b/100:1),parseFloat(a[1])*(v.test(a[1])?c/100:1)]}function f(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:k.isWindow(b)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}k.ui=k.ui||{};var a,h=Math.max,e=Math.abs,b=
Math.round,m=/left|center|right/,n=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,w=/^\w+/,v=/%$/,A=k.fn.position;k.position={scrollbarWidth:function(){if(a!==g)return a;var b=k("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");var c=b.children()[0];k("body").append(b);var e=c.offsetWidth;b.css("overflow","scroll");c=c.offsetWidth;e===c&&(c=b[0].clientWidth);b.remove();return a=e-c},getScrollInfo:function(a){var b=
a.isWindow||a.isDocument?"":a.element.css("overflow-x"),c=a.isWindow||a.isDocument?"":a.element.css("overflow-y");b="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth;return{width:"scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight?k.position.scrollbarWidth():0,height:b?k.position.scrollbarWidth():0}},getWithinInfo:function(a){a=k(a||window);var b=k.isWindow(a[0]);return{element:a,isWindow:b,isDocument:!!a[0]&&9===a[0].nodeType,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),
scrollTop:a.scrollTop(),width:b?a.width():a.outerWidth(),height:b?a.height():a.outerHeight()}}};k.fn.position=function(a){if(!a||!a.of)return A.apply(this,arguments);a=k.extend({},a);var g=k(a.of),q=k.position.getWithinInfo(a.within),v=k.position.getScrollInfo(q),y=(a.collision||"flip").split(" "),E={};var I=f(g);g[0].preventDefault&&(a.at="left top");var F=I.width;var J=I.height;var L=I.offset;var d=k.extend({},L);k.each(["my","at"],function(){var d=(a[this]||"").split(" ");1===d.length&&(d=m.test(d[0])?
d.concat(["center"]):n.test(d[0])?["center"].concat(d):["center","center"]);d[0]=m.test(d[0])?d[0]:"center";d[1]=n.test(d[1])?d[1]:"center";var b=r.exec(d[0]);var c=r.exec(d[1]);E[this]=[b?b[0]:0,c?c[0]:0];a[this]=[w.exec(d[0])[0],w.exec(d[1])[0]]});1===y.length&&(y[1]=y[0]);"right"===a.at[0]?d.left+=F:"center"===a.at[0]&&(d.left+=F/2);"bottom"===a.at[1]?d.top+=J:"center"===a.at[1]&&(d.top+=J/2);var l=c(E.at,F,J);d.left+=l[0];d.top+=l[1];return this.each(function(){var f,n=k(this),m=n.outerWidth(),
r=n.outerHeight(),w=parseInt(k.css(this,"marginLeft"),10)||0,x=parseInt(k.css(this,"marginTop"),10)||0,B=m+w+(parseInt(k.css(this,"marginRight"),10)||0)+v.width,A=r+x+(parseInt(k.css(this,"marginBottom"),10)||0)+v.height,C=k.extend({},d),I=c(E.my,n.outerWidth(),n.outerHeight());"right"===a.my[0]?C.left-=m:"center"===a.my[0]&&(C.left-=m/2);"bottom"===a.my[1]?C.top-=r:"center"===a.my[1]&&(C.top-=r/2);C.left+=I[0];C.top+=I[1];k.support.offsetFractions||(C.left=b(C.left),C.top=b(C.top));var O={marginLeft:w,
marginTop:x};k.each(["left","top"],function(d,b){if(k.ui.position[y[d]])k.ui.position[y[d]][b](C,{targetWidth:F,targetHeight:J,elemWidth:m,elemHeight:r,collisionPosition:O,collisionWidth:B,collisionHeight:A,offset:[l[0]+I[0],l[1]+I[1]],my:a.my,at:a.at,within:q,elem:n})});a.using&&(f=function(d){var b=L.left-C.left,c=b+F-m,l=L.top-C.top,f=l+J-r,z={target:{element:g,left:L.left,top:L.top,width:F,height:J},element:{element:n,left:C.left,top:C.top,width:m,height:r},horizontal:0>c?"left":0<b?"right":"center",
vertical:0>f?"top":0<l?"bottom":"middle"};F<m&&e(b+c)<F&&(z.horizontal="center");J<r&&e(l+f)<J&&(z.vertical="middle");h(e(b),e(c))>h(e(l),e(f))?z.important="horizontal":z.important="vertical";a.using.call(this,d,z)});n.offset(k.extend(C,{using:f}))})};k.ui.position={fit:{left:function(a,b){var c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft;c=e-g;var n=g+b.collisionWidth-f-e;b.collisionWidth>f?0<c&&0>=n?(b=a.left+c+b.collisionWidth-f-e,a.left+=
c-b):a.left=0<n&&0>=c?e:c>n?e+f-b.collisionWidth:e:a.left=0<c?a.left+c:0<n?a.left-n:h(a.left-g,a.left)},top:function(a,b){var c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop;c=e-g;var n=g+b.collisionHeight-f-e;b.collisionHeight>f?0<c&&0>=n?(b=a.top+c+b.collisionHeight-f-e,a.top+=c-b):a.top=0<n&&0>=c?e:c>n?e+f-b.collisionHeight:e:a.top=0<c?a.top+c:0<n?a.top-n:h(a.top-g,a.top)}},flip:{left:function(a,b){var c=b.within,f=c.offset.left+c.scrollLeft,
h=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,n=a.left-b.collisionPosition.marginLeft;c=n-g;var m=n+b.collisionWidth-h-g;n="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0;var k="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,r=-2*b.offset[0];if(0>c){if(b=a.left+n+k+r+b.collisionWidth-h-f,0>b||b<e(c))a.left+=n+k+r}else 0<m&&(b=a.left-b.collisionPosition.marginLeft+n+k+r-g,0<b||e(b)<m)&&(a.left+=n+k+r)},top:function(a,b){var c=b.within,f=c.offset.top+c.scrollTop,
h=c.height,g=c.isWindow?c.scrollTop:c.offset.top,n=a.top-b.collisionPosition.marginTop;c=n-g;var m=n+b.collisionHeight-h-g;n="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0;var k="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,r=-2*b.offset[1];0>c?(b=a.top+n+k+r+b.collisionHeight-h-f,a.top+n+k+r>c&&(0>b||b<e(c))&&(a.top+=n+k+r)):0<m&&(b=a.top-b.collisionPosition.marginTop+n+k+r-g,a.top+n+k+r>m&&(0<b||e(b)<m)&&(a.top+=n+k+r))}},flipfit:{left:function(){k.ui.position.flip.left.apply(this,
arguments);k.ui.position.fit.left.apply(this,arguments)},top:function(){k.ui.position.flip.top.apply(this,arguments);k.ui.position.fit.top.apply(this,arguments)}}};(function(){var a,b=document.getElementsByTagName("body")[0];var c=document.createElement("div");var e=document.createElement(b?"div":"body");var f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};b&&k.extend(f,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in f)e.style[a]=f[a];e.appendChild(c);f=b||
document.documentElement;f.insertBefore(e,f.firstChild);c.style.cssText="position: absolute; left: 10.7432222px;";c=k(c).offset().left;k.support.offsetFractions=10<c&&11>c;e.innerHTML="";f.removeChild(e)})()})(jQuery);
(function(k,g){k.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=k("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(c){if(c===g)return this.options.value;this.options.value=this._constrainedValue(c);this._refreshValue()},_constrainedValue:function(c){c===g&&(c=this.options.value);this.indeterminate=!1===c;"number"!==typeof c&&(c=0);return this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,c))},_setOptions:function(c){var f=c.value;delete c.value;this._super(c);this.options.value=this._constrainedValue(f);this._refreshValue()},_setOption:function(c,f){"max"===
c&&(f=Math.max(this.min,f));this._super(c,f)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var c=this.options.value,f=this._percentage();this.valueDiv.toggle(this.indeterminate||c>this.min).toggleClass("ui-corner-right",c===this.options.max).width(f.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=k("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":c}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==c&&(this.oldValue=c,this._trigger("change"));c===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(k,g){k.widget("ui.slider",k.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var c=this.options;var f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a=[];var h=c.values&&c.values.length||1;f.length>h&&(f.slice(h).remove(),f=f.slice(0,h));for(c=f.length;c<h;c++)a.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=f.add(k(a.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(a){k(this).data("ui-slider-handle-index",a)})},_createRange:function(){var c=this.options,f="";c.range?(!0===c.range&&(c.values?c.values.length&&2!==c.values.length?c.values=[c.values[0],c.values[0]]:k.isArray(c.values)&&(c.values=c.values.slice(0)):c.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=k("<div></div>").appendTo(this.element),f="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(f+("min"===c.range||"max"===c.range?" ui-slider-range-"+c.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c);this._on(c,this._handleEvents);this._hoverable(c);this._focusable(c)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(c){var f,a,h=this,e=this.options;if(e.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();var b=this._normValueFromMouse({x:c.pageX,y:c.pageY});var g=this._valueMax()-this._valueMin()+1;this.handles.each(function(c){var n=Math.abs(b-h.values(c));if(g>n||g===n&&(c===h._lastChangedValue||h.values(c)===e.min))g=n,f=k(this),a=c});if(!1===this._start(c,a))return!1;this._mouseSliding=
!0;this._handleIndex=a;f.addClass("ui-state-active").focus();var n=f.offset();this._clickOffset=k(c.target).parents().addBack().is(".ui-slider-handle")?{left:c.pageX-n.left-f.width()/2,top:c.pageY-n.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(c,a,b);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(c){var f=
this._normValueFromMouse({x:c.pageX,y:c.pageY});this._slide(c,this._handleIndex,f);return!1},_mouseStop:function(c){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(c,this._handleIndex);this._change(c,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(c){if("horizontal"===this.orientation){var f=
this.elementSize.width;c=c.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else f=this.elementSize.height,c=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);f=c/f;1<f&&(f=1);0>f&&(f=0);"vertical"===this.orientation&&(f=1-f);c=this._valueMax()-this._valueMin();f=this._valueMin()+f*c;return this._trimAlignValue(f)},_start:function(c,f){var a={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(f),
a.values=this.values());return this._trigger("start",c,a)},_slide:function(c,f,a){if(this.options.values&&this.options.values.length){var h=this.values(f?0:1);2===this.options.values.length&&!0===this.options.range&&(0===f&&a>h||1===f&&a<h)&&(a=h);a!==this.values(f)&&(h=this.values(),h[f]=a,c=this._trigger("slide",c,{handle:this.handles[f],value:a,values:h}),this.values(f?0:1),!1!==c&&this.values(f,a))}else a!==this.value()&&(c=this._trigger("slide",c,{handle:this.handles[f],value:a}),!1!==c&&this.value(a))},
_stop:function(c,f){var a={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(f),a.values=this.values());this._trigger("stop",c,a)},_change:function(c,f){if(!this._keySliding&&!this._mouseSliding){var a={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(f),a.values=this.values());this._lastChangedValue=f;this._trigger("change",c,a)}},value:function(c){if(arguments.length)this.options.value=
this._trimAlignValue(c),this._refreshValue(),this._change(null,0);else return this._value()},values:function(c,f){var a;if(1<arguments.length)this.options.values[c]=this._trimAlignValue(f),this._refreshValue(),this._change(null,c);else if(arguments.length)if(k.isArray(arguments[0])){var h=this.options.values;var e=arguments[0];for(a=0;a<h.length;a+=1)h[a]=this._trimAlignValue(e[a]),this._change(null,a);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(c):
this.value();else return this._values()},_setOption:function(c,f){var a,h=0;"range"===c&&!0===this.options.range&&("min"===f?(this.options.value=this._values(0),this.options.values=null):"max"===f&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));k.isArray(this.options.values)&&(h=this.options.values.length);k.Widget.prototype._setOption.apply(this,arguments);switch(c){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(a=0;a<h;a+=1)this._change(null,a);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},
_values:function(c){var f;if(arguments.length){var a=this.options.values[c];return a=this._trimAlignValue(a)}if(this.options.values&&this.options.values.length){a=this.options.values.slice();for(f=0;f<a.length;f+=1)a[f]=this._trimAlignValue(a[f]);return a}return[]},_trimAlignValue:function(c){if(c<=this._valueMin())return this._valueMin();if(c>=this._valueMax())return this._valueMax();var f=0<this.options.step?this.options.step:1,a=(c-this._valueMin())%f;c-=a;2*Math.abs(a)>=f&&(c+=0<a?f:-f);return parseFloat(c.toFixed(5))},
_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var c,f=this.options.range,a=this.options,h=this,e=this._animateOff?!1:a.animate,b={};if(this.options.values&&this.options.values.length)this.handles.each(function(f){w=(h.values(f)-h._valueMin())/(h._valueMax()-h._valueMin())*100;b["horizontal"===h.orientation?"left":"bottom"]=w+"%";k(this).stop(1,1)[e?"animate":"css"](b,a.animate);if(!0===h.options.range)if("horizontal"===h.orientation){if(0===
f)h.range.stop(1,1)[e?"animate":"css"]({left:w+"%"},a.animate);if(1===f)h.range[e?"animate":"css"]({width:w-c+"%"},{queue:!1,duration:a.animate})}else{if(0===f)h.range.stop(1,1)[e?"animate":"css"]({bottom:w+"%"},a.animate);if(1===f)h.range[e?"animate":"css"]({height:w-c+"%"},{queue:!1,duration:a.animate})}c=w});else{var g=this.value();var n=this._valueMin();var r=this._valueMax();var w=r!==n?(g-n)/(r-n)*100:0;b["horizontal"===this.orientation?"left":"bottom"]=w+"%";this.handle.stop(1,1)[e?"animate":
"css"](b,a.animate);if("min"===f&&"horizontal"===this.orientation)this.range.stop(1,1)[e?"animate":"css"]({width:w+"%"},a.animate);if("max"===f&&"horizontal"===this.orientation)this.range[e?"animate":"css"]({width:100-w+"%"},{queue:!1,duration:a.animate});if("min"===f&&"vertical"===this.orientation)this.range.stop(1,1)[e?"animate":"css"]({height:w+"%"},a.animate);if("max"===f&&"vertical"===this.orientation)this.range[e?"animate":"css"]({height:100-w+"%"},{queue:!1,duration:a.animate})}},_handleEvents:{keydown:function(c){var f,
a=k(c.target).data("ui-slider-handle-index");switch(c.keyCode){case k.ui.keyCode.HOME:case k.ui.keyCode.END:case k.ui.keyCode.PAGE_UP:case k.ui.keyCode.PAGE_DOWN:case k.ui.keyCode.UP:case k.ui.keyCode.RIGHT:case k.ui.keyCode.DOWN:case k.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding){this._keySliding=!0;k(c.target).addClass("ui-state-active");var h=this._start(c,a);if(!1===h)return}}var e=this.options.step;h=this.options.values&&this.options.values.length?f=this.values(a):f=this.value();
switch(c.keyCode){case k.ui.keyCode.HOME:f=this._valueMin();break;case k.ui.keyCode.END:f=this._valueMax();break;case k.ui.keyCode.PAGE_UP:f=this._trimAlignValue(h+(this._valueMax()-this._valueMin())/5);break;case k.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(h-(this._valueMax()-this._valueMin())/5);break;case k.ui.keyCode.UP:case k.ui.keyCode.RIGHT:if(h===this._valueMax())return;f=this._trimAlignValue(h+e);break;case k.ui.keyCode.DOWN:case k.ui.keyCode.LEFT:if(h===this._valueMin())return;f=this._trimAlignValue(h-
e)}this._slide(c,a,f)},click:function(c){c.preventDefault()},keyup:function(c){var f=k(c.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(c,f),this._change(c,f),k(c.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(k){function g(c){return function(){var f=this.element.val();c.apply(this,arguments);this._refresh();f!==this.element.val()&&this._trigger("change")}}k.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},f=this.element;k.each(["min","max","step"],function(a,h){a=f.attr(h);void 0!==a&&a.length&&(c[h]=a)});return c},_events:{keydown:function(c){this._start(c)&&this._keydown(c)&&c.preventDefault()},
keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",c))},mousewheel:function(c,f){if(f){if(!this.spinning&&!this._start(c))return!1;this._spin((0<f?1:-1)*this.options.step,c);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(c)},100);c.preventDefault()}},"mousedown .ui-spinner-button":function(c){function f(){this.element[0]!==
this.document[0].activeElement&&(this.element.focus(),this.previous=a,this._delay(function(){this.previous=a}))}var a=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();c.preventDefault();f.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;f.call(this)});!1!==this._start(c)&&this._repeat(null,k(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(k(c.currentTarget).hasClass("ui-state-active")){if(!1===
this._start(c))return!1;this._repeat(null,k(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*c.height())&&0<c.height()&&
c.height(c.height());this.options.disabled&&this.disable()},_keydown:function(c){var f=this.options,a=k.ui.keyCode;switch(c.keyCode){case a.UP:return this._repeat(null,1,c),!0;case a.DOWN:return this._repeat(null,-1,c),!0;case a.PAGE_UP:return this._repeat(null,f.page,c),!0;case a.PAGE_DOWN:return this._repeat(null,-f.page,c),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){if(!this.spinning&&!1===this._trigger("start",c))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(c,f,a){c=c||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,f,a)},c);this._spin(f*this.options.step,a)},_spin:function(c,f){var a=this.value()||0;this.counter||
(this.counter=1);a=this._adjustValue(a+c*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",f,{value:a})||(this._value(a),this.counter++)},_increment:function(c){var f=this.options.incremental;return f?k.isFunction(f)?f(c):Math.floor(c*c*c/5E4-c*c/500+17*c/200+1):1},_precision:function(){var c=this._precisionOf(this.options.step);null!==this.options.min&&(c=Math.max(c,this._precisionOf(this.options.min)));return c},_precisionOf:function(c){c=c.toString();var f=c.indexOf(".");
return-1===f?0:c.length-f-1},_adjustValue:function(c){var f=this.options;var a=null!==f.min?f.min:0;c=a+Math.round((c-a)/f.step)*f.step;c=parseFloat(c.toFixed(this._precision()));return null!==f.max&&c>f.max?f.max:null!==f.min&&c<f.min?f.min:c},_stop:function(c){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",c))},_setOption:function(c,f){if("culture"===c||"numberFormat"===c){var a=this._parse(this.element.val());this.options[c]=
f;this.element.val(this._format(a))}else"max"!==c&&"min"!==c&&"step"!==c||"string"!==typeof f||(f=this._parse(f)),"icons"===c&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(f.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(f.down)),this._super(c,f),"disabled"===c&&(f?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:g(function(c){this._super(c);
this._value(this.element.val())}),_parse:function(c){"string"===typeof c&&""!==c&&(c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c);return""===c||isNaN(c)?null:c},_format:function(c){return""===c?"":window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(c,f){if(""!==c){var a=this._parse(c);null!==a&&(f||(a=this._adjustValue(a)),c=this._format(a))}this.element.val(c);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:g(function(c){this._stepUp(c)}),_stepUp:function(c){this._start()&&(this._spin((c||1)*this.options.step),
this._stop())},stepDown:g(function(c){this._stepDown(c)}),_stepDown:function(c){this._start()&&(this._spin((c||1)*-this.options.step),this._stop())},pageUp:g(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:g(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){if(!arguments.length)return this._parse(this.element.val());g(this._value).call(this,c)},widget:function(){return this.uiSpinner}})})(jQuery);
(function(k,g){function c(c){c=c.cloneNode(!1);return 1<c.hash.length&&decodeURIComponent(c.href.replace(a,""))===decodeURIComponent(location.href.replace(a,""))}var f=0,a=/#.*$/;k.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var a=this,c=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(a){k(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){k(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();c.active=this._initialActive();k.isArray(c.disabled)&&(c.disabled=k.unique(c.disabled.concat(k.map(this.tabs.filter(".ui-state-disabled"),function(b){return a.tabs.index(b)}))).sort());this.active=!1!==this.options.active&&
this.anchors.length?this._findActive(c.active):k();this._refresh();this.active.length&&this.load(c.active)},_initialActive:function(){var a=this.options.active,c=this.options.collapsible,b=location.hash.substring(1);null===a&&(b&&this.tabs.each(function(c,e){if(k(e).attr("aria-controls")===b)return a=c,!1}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===a||-1===a)&&(a=this.tabs.length?0:!1);!1!==a&&(a=this.tabs.index(this.tabs.eq(a)),-1===a&&(a=c?!1:0));!c&&!1===a&&this.anchors.length&&
(a=0);return a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):k()}},_tabKeydown:function(a){var c=k(this.document[0].activeElement).closest("li"),b=this.tabs.index(c),f=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case k.ui.keyCode.RIGHT:case k.ui.keyCode.DOWN:b++;break;case k.ui.keyCode.UP:case k.ui.keyCode.LEFT:f=!1;b--;break;case k.ui.keyCode.END:b=this.anchors.length-1;break;case k.ui.keyCode.HOME:b=0;break;case k.ui.keyCode.SPACE:a.preventDefault();
clearTimeout(this.activating);this._activate(b);return;case k.ui.keyCode.ENTER:a.preventDefault();clearTimeout(this.activating);this._activate(b===this.options.active?!1:b);return;default:return}a.preventDefault();clearTimeout(this.activating);b=this._focusNextTab(b,f);a.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(b).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",b)},this.delay))}},_panelKeydown:function(a){!this._handlePageNav(a)&&a.ctrlKey&&a.keyCode===
k.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){if(a.altKey&&a.keyCode===k.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(a.altKey&&a.keyCode===k.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(a,c){function b(){a>e&&(a=0);0>a&&(a=e);return a}for(var e=this.tabs.length-1;-1!==k.inArray(b(),this.options.disabled);)a=c?a+1:a-1;return a},_focusNextTab:function(a,
c){a=this._findNextTab(a,c);this.tabs.eq(a).focus();return a},_setOption:function(a,c){"active"===a?this._activate(c):"disabled"===a?this._setupDisabled(c):(this._super(a,c),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",c),c||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(c),"heightStyle"===a&&this._setupHeightStyle(c))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++f},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,
"\\$&"):""},refresh:function(){var a=this.options,c=this.tablist.children(":has(a[href])");a.disabled=k.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)});this._processTabs();!1!==a.active&&this.anchors.length?this.active.length&&!k.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=k()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=k());this._refresh()},
_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return k("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
k();this.anchors.each(function(e,b){var f=k(b).uniqueId().attr("id"),h=k(b).closest("li"),g=h.attr("aria-controls");if(c(b)){b=b.hash;var w=a.element.find(a._sanitizeSelector(b))}else{var v=a._tabId(h);b="#"+v;w=a.element.find(b);w.length||(w=a._createPanel(v),w.insertAfter(a.panels[e-1]||a.tablist));w.attr("aria-live","polite")}w.length&&(a.panels=a.panels.add(w));g&&h.data("ui-tabs-aria-controls",g);h.attr({"aria-controls":b.substring(1),"aria-labelledby":f});w.attr("aria-labelledby",f)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return k("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(a){k.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var c=0,b;b=this.tabs[c];c++)!0===a||-1!==k.inArray(c,a)?k(b).addClass("ui-state-disabled").attr("aria-disabled","true"):k(b).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=a},_setupEvents:function(a){var c={click:function(a){a.preventDefault()}};a&&k.each(a.split(" "),function(a,e){c[e]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,c);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(a){var c=this.element.parent();if("fill"===a){var b=c.height();b-=this.element.outerHeight()-
this.element.height();this.element.siblings(":visible").each(function(){var a=k(this),c=a.css("position");"absolute"!==c&&"fixed"!==c&&(b-=a.outerHeight(!0))});this.element.children().not(this.panels).each(function(){b-=k(this).outerHeight(!0)});this.panels.each(function(){k(this).height(Math.max(0,b-k(this).innerHeight()+k(this).height()))}).css("overflow","auto")}else"auto"===a&&(b=0,this.panels.each(function(){b=Math.max(b,k(this).height("").height())}).height(b))},_eventHandler:function(a){var c=
this.options,b=this.active,f=k(a.currentTarget).closest("li"),h=f[0]===b[0],g=h&&c.collapsible,w=g?k():this._getPanelForTab(f),v=b.length?this._getPanelForTab(b):k();b={oldTab:b,oldPanel:v,newTab:g?k():f,newPanel:w};a.preventDefault();f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||h&&!c.collapsible||!1===this._trigger("beforeActivate",a,b)||(c.active=g?!1:this.tabs.index(f),this.active=h?k():f,this.xhr&&this.xhr.abort(),v.length||w.length||k.error("jQuery UI Tabs: Mismatching fragment identifier."),
w.length&&this.load(this.tabs.index(f),a),this._toggle(a,b))},_toggle:function(a,c){function b(){f.running=!1;f._trigger("activate",a,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active");h.length&&f.options.show?f._show(h,f.options.show,b):(h.show(),b())}var f=this,h=c.newPanel,g=c.oldPanel;this.running=!0;g.length&&this.options.hide?this._hide(g,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
g.hide(),e());g.attr({"aria-expanded":"false","aria-hidden":"true"});c.oldTab.attr("aria-selected","false");h.length&&g.length?c.oldTab.attr("tabIndex",-1):h.length&&this.tabs.filter(function(){return 0===k(this).attr("tabIndex")}).attr("tabIndex",-1);h.attr({"aria-expanded":"true","aria-hidden":"false"});c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(a){a=this._findActive(a);a[0]!==this.active[0]&&(a.length||(a=this.active),a=a.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,
currentTarget:a,preventDefault:k.noop}))},_findActive:function(a){return!1===a?k():this.tabs.eq(a)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']")));return a},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){k.data(this,"ui-tabs-destroy")?k(this).remove():k(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var a=k(this),c=a.data("ui-tabs-aria-controls");
c?a.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):a.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var c=this.options.disabled;!1!==c&&(a===g?c=!1:(a=this._getIndex(a),c=k.isArray(c)?k.map(c,function(b){return b!==a?b:null}):k.map(this.tabs,function(b,c){return c!==a?c:null})),this._setupDisabled(c))},disable:function(a){var c=this.options.disabled;if(!0!==c){if(a===g)c=!0;else{a=this._getIndex(a);
if(-1!==k.inArray(a,c))return;c=k.isArray(c)?k.merge([a],c).sort():[a]}this._setupDisabled(c)}},load:function(a,e){a=this._getIndex(a);var b=this,f=this.tabs.eq(a);a=f.find(".ui-tabs-anchor");var h=this._getPanelForTab(f),g={tab:f,panel:h};c(a[0])||(this.xhr=k.ajax(this._ajaxSettings(a,e,g)))&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a);b._trigger("load",e,g)},1)}).complete(function(a,c){setTimeout(function(){"abort"===
c&&b.panels.stop(!1,!0);f.removeClass("ui-tabs-loading");h.removeAttr("aria-busy");a===b.xhr&&delete b.xhr},1)}))},_ajaxSettings:function(a,c,b){var e=this;return{url:a.attr("href"),beforeSend:function(a,f){return e._trigger("beforeLoad",c,k.extend({jqXHR:a,ajaxSettings:f},b))}}},_getPanelForTab:function(a){a=k(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}})})(jQuery);
(function(k){function g(a,c){var e=(a.attr("aria-describedby")||"").split(/\s+/);e.push(c);a.data("ui-tooltip-id",c).attr("aria-describedby",k.trim(e.join(" ")))}function c(a){var c=a.data("ui-tooltip-id"),e=(a.attr("aria-describedby")||"").split(/\s+/);c=k.inArray(c,e);-1!==c&&e.splice(c,1);a.removeData("ui-tooltip-id");(e=k.trim(e.join(" ")))?a.attr("aria-describedby",e):a.removeAttr("aria-describedby")}var f=0;k.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var a=k(this).attr("title")||
"";return k("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(a,c){var e=this;"disabled"===a?(this[c?"_disable":"_enable"](),this.options[a]=c):(this._super(a,c),"content"===a&&k.each(this.tooltips,function(a,
c){e._updateContent(c)}))},_disable:function(){var a=this;k.each(this.tooltips,function(c,e){c=k.Event("blur");c.target=c.currentTarget=e[0];a.close(c,!0)});this.element.find(this.options.items).addBack().each(function(){var a=k(this);a.is("[title]")&&a.data("ui-tooltip-title",a.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var a=k(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(a){var c=
this,e=k(a?a.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),a&&"mouseover"===a.type&&e.parents().each(function(){var a=k(this);if(a.data("ui-tooltip-open")){var e=k.Event("blur");e.target=e.currentTarget=this;c.close(e,!0)}a.attr("title")&&(a.uniqueId(),c.parents[this.id]={element:this,title:a.attr("title")},a.attr("title",""))}),this._updateContent(e,a))},_updateContent:function(a,
c){var e=this.options.content;var b=this,f=c?c.type:null;if("string"===typeof e)return this._open(c,a,e);(e=e.call(a[0],function(e){a.data("ui-tooltip-open")&&b._delay(function(){c&&(c.type=f);this._open(c,a,e)})}))&&this._open(c,a,e)},_open:function(a,c,e){function b(a){f.of=a;h.is(":hidden")||h.position(f)}var f=k.extend({},this.options.position);if(e){var h=this._find(c);if(h.length)h.find(".ui-tooltip-content").html(e);else{c.is("[title]")&&(a&&"mouseover"===a.type?c.attr("title",""):c.removeAttr("title"));
h=this._tooltip(c);g(c,h.attr("id"));h.find(".ui-tooltip-content").html(e);this.options.track&&a&&/^mouse/.test(a.type)?(this._on(this.document,{mousemove:b}),b(a)):h.position(k.extend({of:c},this.options.position));h.hide();this._show(h,this.options.show);if(this.options.show&&this.options.show.delay)var r=this.delayedShow=setInterval(function(){h.is(":visible")&&(b(f.of),clearInterval(r))},k.fx.interval);this._trigger("open",a,{tooltip:h});e={keyup:function(a){a.keyCode===k.ui.keyCode.ESCAPE&&(a=
k.Event(a),a.currentTarget=c[0],this.close(a,!0))},remove:function(){this._removeTooltip(h)}};a&&"mouseover"!==a.type||(e.mouseleave="close");a&&"focusin"!==a.type||(e.focusout="close");this._on(!0,c,e)}}},close:function(a){var f=this,e=k(a?a.currentTarget:this.element),b=this._find(e);this.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),c(e),b.stop(!0),this._hide(b,this.options.hide,function(){f._removeTooltip(k(this))}),e.removeData("ui-tooltip-open"),
this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),a&&"mouseleave"===a.type&&k.each(this.parents,function(a,b){k(b.element).attr("title",b.title);delete f.parents[a]}),this.closing=!0,this._trigger("close",a,{tooltip:b}),this.closing=!1)},_tooltip:function(a){var c="ui-tooltip-"+f++,e=k("<div>").attr({id:c,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));k("<div>").addClass("ui-tooltip-content").appendTo(e);
e.appendTo(this.document[0].body);this.tooltips[c]=a;return e},_find:function(a){return(a=a.data("ui-tooltip-id"))?k("#"+a):k()},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;k.each(this.tooltips,function(c,e){var b=k.Event("blur");b.target=b.currentTarget=e[0];a.close(b,!0);k("#"+c).remove();e.data("ui-tooltip-title")&&(e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))})}})})(jQuery);/*

 handlebars v4.0.8

Copyright (C) 2011-2016 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
(function(k,g){"object"===typeof exports&&"object"===typeof module?module.exports=g():"function"===typeof define&&define.amd?define([],g):"object"===typeof exports?exports.Handlebars=g():k.Handlebars=g()})(this,function(){return function(k){function g(f){if(c[f])return c[f].exports;var a=c[f]={exports:{},id:f,loaded:!1};k[f].call(a.exports,a,a.exports,g);a.loaded=!0;return a.exports}var c={};g.m=k;g.c=c;g.p="";return g(0)}([function(k,g,c){function f(){var a=w();a.compile=function(b,c){return n.compile(b,
c,a)};a.precompile=function(b,c){return n.precompile(b,c,a)};a.AST=b["default"];a.Compiler=n.Compiler;a.JavaScriptCompiler=r["default"];a.Parser=m.parser;a.parse=m.parse;return a}var a=c(1)["default"];g.__esModule=!0;var h=c(2);h=a(h);var e=c(35),b=a(e),m=c(36),n=c(41);e=c(42);var r=a(e);e=c(39);e=a(e);c=c(34);a=a(c);var w=h["default"].create;h=f();h.create=f;a["default"](h);h.Visitor=e["default"];h["default"]=h;g["default"]=h;k.exports=g["default"]},function(k,g){g["default"]=function(c){return c&&
c.__esModule?c:{"default":c}};g.__esModule=!0},function(k,g,c){function f(){var a=new b.HandlebarsEnvironment;r.extend(a,b);a.SafeString=m["default"];a.Exception=n["default"];a.Utils=r;a.escapeExpression=r.escapeExpression;a.VM=w;a.template=function(b){return w.template(b,a)};return a}var a=c(3)["default"],h=c(1)["default"];g.__esModule=!0;var e=c(4),b=a(e);e=c(21);var m=h(e);e=c(6);var n=h(e);e=c(5);var r=a(e);e=c(22);var w=a(e);c=c(34);h=h(c);c=f();c.create=f;h["default"](c);c["default"]=c;g["default"]=
c;k.exports=g["default"]},function(k,g){g["default"]=function(c){if(c&&c.__esModule)return c;var f={};if(null!=c)for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(f[a]=c[a]);f["default"]=c;return f};g.__esModule=!0},function(k,g,c){function f(a,c,e){this.helpers=a||{};this.partials=c||{};this.decorators=e||{};b.registerDefaultHelpers(this);m.registerDefaultDecorators(this)}k=c(1)["default"];g.__esModule=!0;g.HandlebarsEnvironment=f;var a=c(5),h=c(6),e=k(h),b=c(10),m=c(18);c=c(20);c=k(c);
g.VERSION="4.0.8";g.COMPILER_REVISION=7;g.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};f.prototype={constructor:f,logger:c["default"],log:c["default"].log,registerHelper:function(b,c){if("[object Object]"===a.toString.call(b)){if(c)throw new e["default"]("Arg not supported with multiple helpers");a.extend(this.helpers,b)}else this.helpers[b]=c},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(b,
c){if("[object Object]"===a.toString.call(b))a.extend(this.partials,b);else{if("undefined"===typeof c)throw new e["default"]('Attempting to register a partial called "'+b+'" as undefined');this.partials[b]=c}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(b,c){if("[object Object]"===a.toString.call(b)){if(c)throw new e["default"]("Arg not supported with multiple decorators");a.extend(this.decorators,b)}else this.decorators[b]=c},unregisterDecorator:function(a){delete this.decorators[a]}};
g.log=c["default"].log;g.createFrame=a.createFrame;g.logger=c["default"]},function(k,g){function c(b){return a[b]}function f(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}g.__esModule=!0;g.extend=f;g.indexOf=function(a,b){for(var c=0,e=a.length;c<e;c++)if(a[c]===b)return c;return-1};g.escapeExpression=function(a){if("string"!==typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+
"";a=""+a}return e.test(a)?a.replace(h,c):a};g.isEmpty=function(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0};g.createFrame=function(a){var b=f({},a);b._parent=a;return b};g.blockParams=function(a,b){a.path=b;return a};g.appendContextPath=function(a,b){return(a?a+".":"")+b};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,e=/[&<>"'`=]/,b=Object.prototype.toString;g.toString=b;k=function(a){return"function"===typeof a};k(/x/)&&(g.isFunction=
k=function(a){return"function"===typeof a&&"[object Function]"===b.call(a)});g.isFunction=k;var m=Array.isArray||function(a){return a&&"object"===typeof a?"[object Array]"===b.call(a):!1};g.isArray=m},function(k,g,c){function f(c,b){b=b&&b.loc;var e=void 0,g=void 0;b&&(e=b.start.line,g=b.start.column,c+=" - "+e+":"+g);c=Error.prototype.constructor.call(this,c);for(var k=0;k<h.length;k++)this[h[k]]=c[h[k]];Error.captureStackTrace&&Error.captureStackTrace(this,f);try{b&&(this.lineNumber=e,a?Object.defineProperty(this,
"column",{value:g,enumerable:!0}):this.column=g)}catch(w){}}var a=c(7)["default"];g.__esModule=!0;var h="description fileName lineNumber message name number stack".split(" ");f.prototype=Error();g["default"]=f;k.exports=g["default"]},function(k,g,c){k.exports={"default":c(8),__esModule:!0}},function(k,g,c){var f=c(9);k.exports=function(a,c,e){return f.setDesc(a,c,e)}},function(k,g){g=Object;k.exports={create:g.create,getProto:g.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:g.getOwnPropertyDescriptor,
setDesc:g.defineProperty,setDescs:g.defineProperties,getKeys:g.keys,getNames:g.getOwnPropertyNames,getSymbols:g.getOwnPropertySymbols,each:[].forEach}},function(k,g,c){k=c(1)["default"];g.__esModule=!0;g.registerDefaultHelpers=function(c){f["default"](c);a["default"](c);h["default"](c);e["default"](c);b["default"](c);m["default"](c);n["default"](c)};g=c(11);var f=k(g);g=c(12);var a=k(g);g=c(13);var h=k(g);g=c(14);var e=k(g);g=c(15);var b=k(g);g=c(16);var m=k(g);c=c(17);var n=k(c)},function(k,g,c){g.__esModule=
!0;var f=c(5);g["default"]=function(a){a.registerHelper("blockHelperMissing",function(c,e){var b=e.inverse,h=e.fn;if(!0===c)return h(this);if(!1===c||null==c)return b(this);if(f.isArray(c))return 0<c.length?(e.ids&&(e.ids=[e.name]),a.helpers.each(c,e)):b(this);e.data&&e.ids&&(b=f.createFrame(e.data),b.contextPath=f.appendContextPath(e.data.contextPath,e.name),e={data:b});return h(c,e)})};k.exports=g["default"]},function(k,g,c){var f=c(1)["default"];g.__esModule=!0;var a=c(5);c=c(6);var h=f(c);g["default"]=
function(c){c.registerHelper("each",function(b,c){function e(c,e,h){y&&(y.key=c,y.index=e,y.first=0===e,y.last=!!h,x&&(y.contextPath=x+c));k+=f(b[c],{data:y,blockParams:a.blockParams([b[c],c],[x+c,null])})}if(!c)throw new h["default"]("Must pass iterator to #each");var f=c.fn,g=c.inverse,m=0,k="",y=void 0,x=void 0;c.data&&c.ids&&(x=a.appendContextPath(c.data.contextPath,c.ids[0])+".");a.isFunction(b)&&(b=b.call(this));c.data&&(y=a.createFrame(c.data));if(b&&"object"===typeof b)if(a.isArray(b))for(var q=
b.length;m<q;m++)m in b&&e(m,m,m===b.length-1);else{c=void 0;for(q in b)b.hasOwnProperty(q)&&(void 0!==c&&e(c,m-1),c=q,m++);void 0!==c&&e(c,m-1,!0)}0===m&&(k=g(this));return k})};k.exports=g["default"]},function(k,g,c){var f=c(1)["default"];g.__esModule=!0;c=c(6);var a=f(c);g["default"]=function(c){c.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new a["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');})};k.exports=g["default"]},function(k,g,c){g.__esModule=
!0;var f=c(5);g["default"]=function(a){a.registerHelper("if",function(a,c){f.isFunction(a)&&(a=a.call(this));return!c.hash.includeZero&&!a||f.isEmpty(a)?c.inverse(this):c.fn(this)});a.registerHelper("unless",function(c,e){return a.helpers["if"].call(this,c,{fn:e.inverse,inverse:e.fn,hash:e.hash})})};k.exports=g["default"]},function(k,g){g.__esModule=!0;g["default"]=function(c){c.registerHelper("log",function(){for(var f=[void 0],a=arguments[arguments.length-1],g=0;g<arguments.length-1;g++)f.push(arguments[g]);
g=1;null!=a.hash.level?g=a.hash.level:a.data&&null!=a.data.level&&(g=a.data.level);f[0]=g;c.log.apply(c,f)})};k.exports=g["default"]},function(k,g){g.__esModule=!0;g["default"]=function(c){c.registerHelper("lookup",function(c,a){return c&&c[a]})};k.exports=g["default"]},function(k,g,c){g.__esModule=!0;var f=c(5);g["default"]=function(a){a.registerHelper("with",function(a,c){f.isFunction(a)&&(a=a.call(this));var b=c.fn;if(f.isEmpty(a))return c.inverse(this);var e=c.data;c.data&&c.ids&&(e=f.createFrame(c.data),
e.contextPath=f.appendContextPath(c.data.contextPath,c.ids[0]));return b(a,{data:e,blockParams:f.blockParams([a],[e&&e.contextPath])})})};k.exports=g["default"]},function(k,g,c){k=c(1)["default"];g.__esModule=!0;g.registerDefaultDecorators=function(a){f["default"](a)};g=c(19);var f=k(g)},function(k,g,c){g.__esModule=!0;var f=c(5);g["default"]=function(a){a.registerDecorator("inline",function(a,c,b,g){var e=a;c.partials||(c.partials={},e=function(e,g){var h=b.partials;b.partials=f.extend({},h,c.partials);
e=a(e,g);b.partials=h;return e});c.partials[g.args[0]]=g.fn;return e})};k.exports=g["default"]},function(k,g,c){g.__esModule=!0;var f=c(5),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(c){if("string"===typeof c){var e=f.indexOf(a.methodMap,c.toLowerCase());c=0<=e?e:parseInt(c,10)}return c},log:function(c){c=a.lookupLevel(c);if("undefined"!==typeof console&&a.lookupLevel(a.level)<=c){var e=a.methodMap[c];console[e]||(e="log");for(var b=arguments.length,f=Array(1<b?
b-1:0),g=1;g<b;g++)f[g-1]=arguments[g];console[e].apply(console,f)}}};g["default"]=a;k.exports=g["default"]},function(k,g){function c(c){this.string=c}g.__esModule=!0;c.prototype.toString=c.prototype.toHTML=function(){return""+this.string};g["default"]=c;k.exports=g["default"]},function(k,g,c){function f(a,b,c,f,g,h,n){function m(b){var e=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],g=n;!n||b==n[0]||b===a.nullContext&&null===n[0]||(g=[b].concat(n));return c(a,b,a.helpers,a.partials,
e.data||f,h&&[e.blockParams].concat(h),g)}m=e(c,m,a,n,f,h);m.program=b;m.depth=n?n.length:0;m.blockParams=g||0;return m}function a(){return""}function h(a,b){b&&"root"in b||(b=b?w.createFrame(b):{},b.root=a);return b}function e(a,b,c,e,f,g){if(a.decorator){var h={};b=a.decorator(b,h,c,e&&e[0],f,g,e);n.extend(b,h)}return b}var b=c(23)["default"],m=c(3)["default"];k=c(1)["default"];g.__esModule=!0;g.checkRevision=function(a){var b=a&&a[0]||1,c=w.COMPILER_REVISION;if(b!==c){if(b<c)throw new r["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+
w.REVISION_CHANGES[c]+") or downgrade your runtime to an older version ("+w.REVISION_CHANGES[b]+").");throw new r["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").");}};g.template=function(a,c){function g(b){function c(b){return""+a.main(m,b,m.helpers,m.partials,n,q,k)}var f=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],n=f.data;g._setup(f);!f.partial&&a.useData&&(n=h(b,n));var k=
void 0,q=a.useBlockParams?[]:void 0;a.useDepths&&(k=f.depths?b!=f.depths[0]?[b].concat(f.depths):f.depths:[b]);c=e(a.main,c,m,f.depths||[],n,q);return c(b,f)}if(!c)throw new r["default"]("No environment passed to template");if(!a||!a.main)throw new r["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d;c.VM.checkRevision(a.compiler);var m={strict:function(a,b){if(!(b in a))throw new r["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,
e=0;e<c;e++)if(a[e]&&null!=a[e][b])return a[e][b]},lambda:function(a,b){return"function"===typeof a?a.call(b):a},escapeExpression:n.escapeExpression,invokePartial:function(b,e,f){f.hash&&(e=n.extend({},e,f.hash),f.ids&&(f.ids[0]=!0));b=c.VM.resolvePartial.call(this,b,e,f);var g=c.VM.invokePartial.call(this,b,e,f);null==g&&c.compile&&(f.partials[f.name]=c.compile(b,a.compilerOptions,c),g=f.partials[f.name](e,f));if(null!=g){if(f.indent){b=g.split("\n");e=0;for(g=b.length;e<g&&(b[e]||e+1!==g);e++)b[e]=
f.indent+b[e];g=b.join("\n")}return g}throw new r["default"]("The partial "+f.name+" could not be compiled when running in runtime-only mode");},fn:function(b){var c=a[b];c.decorator=a[b+"_d"];return c},programs:[],program:function(a,b,c,e,g){var h=this.programs[a],n=this.fn(a);b||g||e||c?h=f(this,a,n,b,c,e,g):h||(h=this.programs[a]=f(this,a,n));return h},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;a&&b&&a!==b&&(c=n.extend({},b,a));return c},nullContext:b({}),
noop:c.VM.noop,compilerInfo:a.compiler};g.isTop=!0;g._setup=function(b){if(b.partial)m.helpers=b.helpers,m.partials=b.partials,m.decorators=b.decorators;else if(m.helpers=m.merge(b.helpers,c.helpers),a.usePartial&&(m.partials=m.merge(b.partials,c.partials)),a.usePartial||a.useDecorators)m.decorators=m.merge(b.decorators,c.decorators)};g._child=function(b,c,e,g){if(a.useBlockParams&&!e)throw new r["default"]("must pass block params");if(a.useDepths&&!g)throw new r["default"]("must pass parent depths");
return f(m,b,a[b],c,0,e,g)};return g};g.wrapProgram=f;g.resolvePartial=function(a,b,c){a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name];return a};g.invokePartial=function(b,c,e){var f=e.data&&e.data["partial-block"];e.partial=!0;e.ids&&(e.data.contextPath=e.ids[0]||e.data.contextPath);var g=void 0;e.fn&&e.fn!==a&&function(){e.data=w.createFrame(e.data);var a=e.fn;g=e.data["partial-block"]=function(b){var c=1>=arguments.length||void 0===
arguments[1]?{}:arguments[1];c.data=w.createFrame(c.data);c.data["partial-block"]=f;return a(b,c)};a.partials&&(e.partials=n.extend({},e.partials,a.partials))}();void 0===b&&g&&(b=g);if(void 0===b)throw new r["default"]("The partial "+e.name+" could not be found");if(b instanceof Function)return b(c,e)};g.noop=a;g=c(5);var n=m(g);g=c(6);var r=k(g),w=c(4)},function(k,g,c){k.exports={"default":c(24),__esModule:!0}},function(k,g,c){c(25);k.exports=c(30).Object.seal},function(k,g,c){var f=c(26);c(27)("seal",
function(a){return function(c){return a&&f(c)?a(c):c}})},function(k,g){k.exports=function(c){return"object"===typeof c?null!==c:"function"===typeof c}},function(k,g,c){var f=c(28),a=c(30),h=c(33);k.exports=function(c,b){var e=(a.Object||{})[c]||Object[c],g={};g[c]=b(e);f(f.S+f.F*h(function(){e(1)}),"Object",g)}},function(k,g,c){var f=c(29),a=c(30),h=c(31),e=function(b,c,g){var n=b&e.F,m=b&e.G,k=b&e.S,A=b&e.P,y=b&e.B;b&=e.W;var x=m?a:a[c]||(a[c]={});k=m?f:k?f[c]:(f[c]||{}).prototype;var q;m&&(g=c);
for(q in g)if(c=!n&&k&&q in k,!(c&&q in x)){var B=c?k[q]:g[q];x[q]=m&&"function"!=typeof k[q]?g[q]:y&&c?h(B,f):b&&k[q]==B?function(a){var b=function(b){return this instanceof a?new a(b):a(b)};b.prototype=a.prototype;return b}(B):A&&"function"==typeof B?h(Function.call,B):B;A&&((x.prototype||(x.prototype={}))[q]=B)}};e.F=1;e.G=2;e.S=4;e.P=8;e.B=16;e.W=32;k.exports=e},function(k,g){k=k.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();
"number"==typeof __g&&(__g=k)},function(k,g){k=k.exports={version:"1.2.6"};"number"==typeof __e&&(__e=k)},function(k,g,c){var f=c(32);k.exports=function(a,c,e){f(a);if(void 0===c)return a;switch(e){case 1:return function(b){return a.call(c,b)};case 2:return function(b,e){return a.call(c,b,e)};case 3:return function(b,e,f){return a.call(c,b,e,f)}}return function(){return a.apply(c,arguments)}}},function(k,g){k.exports=function(c){if("function"!=typeof c)throw TypeError(c+" is not a function!");return c}},
function(k,g){k.exports=function(c){try{return!!c()}catch(f){return!0}}},function(k,g){(function(c){g.__esModule=!0;g["default"]=function(f){var a="undefined"!==typeof c?c:window,g=a.Handlebars;f.noConflict=function(){a.Handlebars===f&&(a.Handlebars=g);return f}};k.exports=g["default"]}).call(g,function(){return this}())},function(k,g){g.__esModule=!0;var c={helpers:{helperExpression:function(c){return"SubExpression"===c.type||("MustacheStatement"===c.type||"BlockStatement"===c.type)&&!!(c.params&&
c.params.length||c.hash)},scopedId:function(c){return/^\.|this\b/.test(c.original)},simpleId:function(f){return 1===f.parts.length&&!c.helpers.scopedId(f)&&!f.depth}}};g["default"]=c;k.exports=g["default"]},function(k,g,c){var f=c(1)["default"];k=c(3)["default"];g.__esModule=!0;g.parse=function(a,c){if("Program"===a.type)return a;h["default"].yy=b;b.locInfo=function(a){return new b.SourceLocation(c&&c.srcName,a)};return(new e["default"](c)).accept(h["default"].parse(a))};var a=c(37),h=f(a);a=c(38);
var e=f(a);f=c(40);k=k(f);c=c(5);g.parser=h["default"];var b={};c.extend(b,k)},function(k,g){g.__esModule=!0;var c=function(){function c(){this.yy={}}var a={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,
openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,
mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,
path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",
77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,
1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,f,g,h,k){a=h.length-1;switch(g){case 1:return h[a-1];case 2:this.$=f.prepareProgram(h[a]);break;case 3:this.$=h[a];break;case 4:this.$=h[a];break;case 5:this.$=
h[a];break;case 6:this.$=h[a];break;case 7:this.$=h[a];break;case 8:this.$=h[a];break;case 9:this.$={type:"CommentStatement",value:f.stripComment(h[a]),strip:f.stripFlags(h[a],h[a]),loc:f.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:h[a],value:h[a],loc:f.locInfo(this._$)};break;case 11:this.$=f.prepareRawBlock(h[a-2],h[a-1],h[a],this._$);break;case 12:this.$={path:h[a-3],params:h[a-2],hash:h[a-1]};break;case 13:this.$=f.prepareBlock(h[a-3],h[a-2],h[a-1],h[a],!1,this._$);
break;case 14:this.$=f.prepareBlock(h[a-3],h[a-2],h[a-1],h[a],!0,this._$);break;case 15:this.$={open:h[a-5],path:h[a-4],params:h[a-3],hash:h[a-2],blockParams:h[a-1],strip:f.stripFlags(h[a-5],h[a])};break;case 16:this.$={path:h[a-4],params:h[a-3],hash:h[a-2],blockParams:h[a-1],strip:f.stripFlags(h[a-5],h[a])};break;case 17:this.$={path:h[a-4],params:h[a-3],hash:h[a-2],blockParams:h[a-1],strip:f.stripFlags(h[a-5],h[a])};break;case 18:this.$={strip:f.stripFlags(h[a-1],h[a-1]),program:h[a]};break;case 19:g=
f.prepareBlock(h[a-2],h[a-1],h[a],h[a],!1,this._$);f=f.prepareProgram([g],h[a-1].loc);f.chained=!0;this.$={strip:h[a-2].strip,program:f,chain:!0};break;case 20:this.$=h[a];break;case 21:this.$={path:h[a-1],strip:f.stripFlags(h[a-2],h[a])};break;case 22:this.$=f.prepareMustache(h[a-3],h[a-2],h[a-1],h[a-4],f.stripFlags(h[a-4],h[a]),this._$);break;case 23:this.$=f.prepareMustache(h[a-3],h[a-2],h[a-1],h[a-4],f.stripFlags(h[a-4],h[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:h[a-3],
params:h[a-2],hash:h[a-1],indent:"",strip:f.stripFlags(h[a-4],h[a]),loc:f.locInfo(this._$)};break;case 25:this.$=f.preparePartialBlock(h[a-2],h[a-1],h[a],this._$);break;case 26:this.$={path:h[a-3],params:h[a-2],hash:h[a-1],strip:f.stripFlags(h[a-4],h[a])};break;case 27:this.$=h[a];break;case 28:this.$=h[a];break;case 29:this.$={type:"SubExpression",path:h[a-3],params:h[a-2],hash:h[a-1],loc:f.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:h[a],loc:f.locInfo(this._$)};break;case 31:this.$=
{type:"HashPair",key:f.id(h[a-2]),value:h[a],loc:f.locInfo(this._$)};break;case 32:this.$=f.id(h[a-1]);break;case 33:this.$=h[a];break;case 34:this.$=h[a];break;case 35:this.$={type:"StringLiteral",value:h[a],original:h[a],loc:f.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(h[a]),original:Number(h[a]),loc:f.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===h[a],original:"true"===h[a],loc:f.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",
original:void 0,value:void 0,loc:f.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:f.locInfo(this._$)};break;case 40:this.$=h[a];break;case 41:this.$=h[a];break;case 42:this.$=f.preparePath(!0,h[a],this._$);break;case 43:this.$=f.preparePath(!1,h[a],this._$);break;case 44:h[a-2].push({part:f.id(h[a]),original:h[a],separator:h[a-1]});this.$=h[a-2];break;case 45:this.$=[{part:f.id(h[a]),original:h[a]}];break;case 46:this.$=[];break;case 47:h[a-1].push(h[a]);break;
case 48:this.$=[h[a]];break;case 49:h[a-1].push(h[a]);break;case 50:this.$=[];break;case 51:h[a-1].push(h[a]);break;case 58:this.$=[];break;case 59:h[a-1].push(h[a]);break;case 64:this.$=[];break;case 65:h[a-1].push(h[a]);break;case 70:this.$=[];break;case 71:h[a-1].push(h[a]);break;case 78:this.$=[];break;case 79:h[a-1].push(h[a]);break;case 82:this.$=[];break;case 83:h[a-1].push(h[a]);break;case 86:this.$=[];break;case 87:h[a-1].push(h[a]);break;case 90:this.$=[];break;case 91:h[a-1].push(h[a]);
break;case 94:this.$=[];break;case 95:h[a-1].push(h[a]);break;case 98:this.$=[h[a]];break;case 99:h[a-1].push(h[a]);break;case 100:this.$=[h[a]];break;case 101:h[a-1].push(h[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},
{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,
6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,
28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],
82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,
35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],
80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,
38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,
45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],
83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,
90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,
34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],
47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],
82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,
32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,
28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,
83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,
14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,
75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},
{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,
34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],
29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,
15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,
93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw Error(a);},parse:function(a){var b=[0],c=[null],e=[],f=this.table,h="",g=0,k=0,y=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;e.push(a);var x=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);
for(var q,B,C,E,I={},F,J;;){C=b[b.length-1];if(this.defaultActions[C])E=this.defaultActions[C];else{if(null===q||"undefined"==typeof q)q=this.lexer.lex()||1,"number"!==typeof q&&(q=this.symbols_[q]||q);E=f[C]&&f[C][q]}if(!("undefined"!==typeof E&&E.length&&E[0]||y)){J=[];for(F in f[C])this.terminals_[F]&&2<F&&J.push("'"+this.terminals_[F]+"'");var L=this.lexer.showPosition?"Parse error on line "+(g+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+J.join(", ")+", got '"+(this.terminals_[q]||q)+"'":
"Parse error on line "+(g+1)+": Unexpected "+(1==q?"end of input":"'"+(this.terminals_[q]||q)+"'");this.parseError(L,{text:this.lexer.match,token:this.terminals_[q]||q,line:this.lexer.yylineno,loc:a,expected:J})}if(E[0]instanceof Array&&1<E.length)throw Error("Parse Error: multiple actions possible at state: "+C+", token: "+q);switch(E[0]){case 1:b.push(q);c.push(this.lexer.yytext);e.push(this.lexer.yylloc);b.push(E[1]);q=null;B?(q=B,B=null):(k=this.lexer.yyleng,h=this.lexer.yytext,g=this.lexer.yylineno,
a=this.lexer.yylloc,0<y&&y--);break;case 2:J=this.productions_[E[1]][1];I.$=c[c.length-J];I._$={first_line:e[e.length-(J||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(J||1)].first_column,last_column:e[e.length-1].last_column};x&&(I._$.range=[e[e.length-(J||1)].range[0],e[e.length-1].range[1]]);C=this.performAction.call(I,h,k,g,this.yy,E[1],c,e);if("undefined"!==typeof C)return C;J&&(b=b.slice(0,-2*J),c=c.slice(0,-1*J),e=e.slice(0,-1*J));b.push(this.productions_[E[1]][0]);
c.push(I.$);e.push(I._$);E=f[b[b.length-2]][b[b.length-1]];b.push(E);break;case 3:return!0}}}},g=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);
this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b-1);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);
this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===a.length?this.yylloc.first_column:0)+a[a.length-c.length].length-c[0].length:this.yylloc.first_column-b};this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]);return this},more:function(){this._more=
!0;return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var a;this._more||(this.match=this.yytext="");for(var b=this._currentRules(),c=0;c<b.length;c++)if((a=this._input.match(this.rules[b[c]]))&&(!f||a[0].length>f[0].length)){var f=a;var h=c;if(!this.options.flex)break}if(f){if(a=f[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=a.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+
f[0].length};this.yytext+=f[0];this.match+=f[0];this.matches=f;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(f[0].length);this.matched+=f[0];f=this.performAction.call(this,this.yy,this,b[h],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(f)return f}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},options:{},performAction:function(a,b,c,f){function e(a,
c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:"\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu");if(b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:this.popState();if("raw"===this.conditionStack[this.conditionStack.length-1])return 15;b.yytext=b.yytext.substr(5,b.yyleng-9);return"END_RAW_BLOCK";case 5:return 15;case 6:return this.popState(),
14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext);this.popState();this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;
case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,
/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,
/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,
29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}}}();a.lexer=g;c.prototype=a;a.Parser=c;return new c}();g["default"]=c;k.exports=g["default"]},function(k,g,c){function f(){this.options=0>=arguments.length||void 0===arguments[0]?{}:arguments[0]}function a(a,b,c){void 0===b&&(b=a.length);var e=a[b-1];a=a[b-2];if(!e)return c;if("ContentStatement"===e.type)return(a||
!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(e.original)}function h(a,b,c){void 0===b&&(b=-1);var e=a[b+1];a=a[b+2];if(!e)return c;if("ContentStatement"===e.type)return(a||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(e.original)}function e(a,b,c){!(a=a[null==b?0:b+1])||"ContentStatement"!==a.type||!c&&a.rightStripped||(b=a.value,a.value=a.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),a.rightStripped=a.value!==b)}function b(a,b,c){if((a=a[null==b?a.length-1:b-1])&&"ContentStatement"===a.type&&(c||!a.leftStripped))return b=
a.value,a.value=a.value.replace(c?/\s+$/:/[ \t]+$/,""),a.leftStripped=a.value!==b,a.leftStripped}var m=c(1)["default"];g.__esModule=!0;c=c(39);m=m(c);f.prototype=new m["default"];f.prototype.Program=function(c){var f=!this.options.ignoreStandalone,g=!this.isRootSeen;this.isRootSeen=!0;for(var m=c.body,k=0,n=m.length;k<n;k++){var x=m[k],q=this.accept(x);if(q){var B=a(m,k,g),C=h(m,k,g),E=q.openStandalone&&B,I=q.closeStandalone&&C;B=q.inlineStandalone&&B&&C;q.close&&e(m,k,!0);q.open&&b(m,k,!0);f&&B&&
(e(m,k),b(m,k)&&"PartialStatement"===x.type&&(x.indent=/([ \t]+$)/.exec(m[k-1].original)[1]));f&&E&&(e((x.program||x.inverse).body),b(m,k));f&&I&&(e(m,k),b((x.inverse||x.program).body))}}return c};f.prototype.BlockStatement=f.prototype.DecoratorBlock=f.prototype.PartialBlockStatement=function(c){this.accept(c.program);this.accept(c.inverse);var f=c.program||c.inverse,g=c.program&&c.inverse,m=g,k=g;if(g&&g.chained)for(m=g.body[0].program;k.chained;)k=k.body[k.body.length-1].program;var n={open:c.openStrip.open,
close:c.closeStrip.close,openStandalone:h(f.body),closeStandalone:a((m||f).body)};c.openStrip.close&&e(f.body,null,!0);g?(g=c.inverseStrip,g.open&&b(f.body,null,!0),g.close&&e(m.body,null,!0),c.closeStrip.open&&b(k.body,null,!0),!this.options.ignoreStandalone&&a(f.body)&&h(m.body)&&(b(f.body),e(m.body))):c.closeStrip.open&&b(f.body,null,!0);return n};f.prototype.Decorator=f.prototype.MustacheStatement=function(a){return a.strip};f.prototype.PartialStatement=f.prototype.CommentStatement=function(a){a=
a.strip||{};return{inlineStandalone:!0,open:a.open,close:a.close}};g["default"]=f;k.exports=g["default"]},function(k,g,c){function f(){this.parents=[]}function a(a){this.acceptRequired(a,"path");this.acceptArray(a.params);this.acceptKey(a,"hash")}function h(b){a.call(this,b);this.acceptKey(b,"program");this.acceptKey(b,"inverse")}function e(a){this.acceptRequired(a,"name");this.acceptArray(a.params);this.acceptKey(a,"hash")}var b=c(1)["default"];g.__esModule=!0;c=c(6);var m=b(c);f.prototype={constructor:f,
mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!f.prototype[c.type])throw new m["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){this.acceptKey(a,b);if(!a[b])throw new m["default"](a.type+" requires "+b);},acceptArray:function(a){for(var b=0,c=a.length;b<c;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new m["default"]("Unknown type: "+
a.type,a);this.current&&this.parents.unshift(this.current);this.current=a;var b=this[a.type](a);this.current=this.parents.shift();if(!this.mutating||b)return b;if(!1!==b)return a}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:a,Decorator:a,BlockStatement:h,DecoratorBlock:h,PartialStatement:e,PartialBlockStatement:function(a){e.call(this,a);this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:a,PathExpression:function(){},StringLiteral:function(){},
NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}};g["default"]=f;k.exports=g["default"]},function(k,g,c){function f(c,e){e=e.path?e.path.original:e;if(c.path.original!==e)throw new a["default"](c.path.original+" doesn't match "+e,{loc:c.path.loc});}k=c(1)["default"];g.__esModule=!0;g.SourceLocation=function(a,c){this.source=a;this.start={line:c.first_line,
column:c.first_column};this.end={line:c.last_line,column:c.last_column}};g.id=function(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a};g.stripFlags=function(a,c){return{open:"~"===a.charAt(2),close:"~"===c.charAt(c.length-3)}};g.stripComment=function(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")};g.preparePath=function(c,e,b){b=this.locInfo(b);for(var f=c?"@":"",h=[],g=0,k=0,v=e.length;k<v;k++){var A=e[k].part,y=e[k].original!==A;f+=(e[k].separator||"")+A;if(y||".."!==A&&
"."!==A&&"this"!==A)h.push(A);else{if(0<h.length)throw new a["default"]("Invalid path: "+f,{loc:b});".."===A&&g++}}return{type:"PathExpression",data:c,depth:g,parts:h,original:f,loc:b}};g.prepareMustache=function(a,c,b,f,g,k){var e=f.charAt(3)||f.charAt(2);e="{"!==e&&"&"!==e;return{type:/\*/.test(f)?"Decorator":"MustacheStatement",path:a,params:c,hash:b,escaped:e,strip:g,loc:this.locInfo(k)}};g.prepareRawBlock=function(a,c,b,g){f(a,b);g=this.locInfo(g);return{type:"BlockStatement",path:a.path,params:a.params,
hash:a.hash,program:{type:"Program",body:c,strip:{},loc:g},openStrip:{},inverseStrip:{},closeStrip:{},loc:g}};g.prepareBlock=function(c,e,b,g,k,r){g&&g.path&&f(c,g);var h=/\*/.test(c.open);e.blockParams=c.blockParams;var m=void 0,n=void 0;if(b){if(h)throw new a["default"]("Unexpected inverse block on decorator",b);b.chain&&(b.program.body[0].closeStrip=g.strip);n=b.strip;m=b.program}k&&(k=m,m=e,e=k);return{type:h?"DecoratorBlock":"BlockStatement",path:c.path,params:c.params,hash:c.hash,program:e,
inverse:m,openStrip:c.strip,inverseStrip:n,closeStrip:g&&g.strip,loc:this.locInfo(r)}};g.prepareProgram=function(a,c){if(!c&&a.length){var b=a[0].loc,e=a[a.length-1].loc;b&&e&&(c={source:b.source,start:{line:b.start.line,column:b.start.column},end:{line:e.end.line,column:e.end.column}})}return{type:"Program",body:a,strip:{},loc:c}};g.preparePartialBlock=function(a,c,b,g){f(a,b);return{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:c,openStrip:a.strip,closeStrip:b&&b.strip,
loc:this.locInfo(g)}};g=c(6);var a=k(g)},function(k,g,c){function f(){}function a(c,e){if(c===e)return!0;if(b.isArray(c)&&b.isArray(e)&&c.length===e.length){for(var f=0;f<c.length;f++)if(!a(c[f],e[f]))return!1;return!0}}function h(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}k=c(1)["default"];g.__esModule=!0;g.Compiler=f;g.precompile=function(a,b,c){if(null==a||"string"!==typeof a&&"Program"!==a.type)throw new e["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+
a);b=b||{};"data"in b||(b.data=!0);b.compat&&(b.useDepths=!0);a=c.parse(a,b);a=(new c.Compiler).compile(a,b);return(new c.JavaScriptCompiler).compile(a,b)};g.compile=function(a,b,c){function f(){var e=c.parse(a,b);e=(new c.Compiler).compile(e,b);e=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(e)}function g(a,b){h||(h=f());return h.call(this,a,b)}void 0===b&&(b={});if(null==a||"string"!==typeof a&&"Program"!==a.type)throw new e["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+
a);"data"in b||(b.data=!0);b.compat&&(b.useDepths=!0);var h=void 0;g._setup=function(a){h||(h=f());return h._setup(a)};g._child=function(a,b,c,e){h||(h=f());return h._child(a,b,c,e)};return g};g=c(6);var e=k(g),b=c(5);c=c(35);var m=k(c),n=[].slice;f.prototype={compiler:f,equals:function(b){var c=this.opcodes.length;if(b.opcodes.length!==c)return!1;for(var e=0;e<c;e++){var f=this.opcodes[e],g=b.opcodes[e];if(f.opcode!==g.opcode||!a(f.args,g.args))return!1}c=this.children.length;for(e=0;e<c;e++)if(!this.children[e].equals(b.children[e]))return!1;
return!0},guid:0,compile:function(a,b){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=b;this.stringParams=b.stringParams;this.trackIds=b.trackIds;b.blockParams=b.blockParams||[];var c=b.knownHelpers;b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0};if(c)for(var e in c)e in c&&(b.knownHelpers[e]=c[e]);return this.accept(a)},compileProgram:function(a){a=(new this.compiler).compile(a,this.options);var b=this.guid++;this.usePartial=
this.usePartial||a.usePartial;this.children[b]=a;this.useDepths=this.useDepths||a.useDepths;return b},accept:function(a){if(!this[a.type])throw new e["default"]("Unknown type: "+a.type,a);this.sourceNode.unshift(a);a=this[a.type](a);this.sourceNode.shift();return a},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,e=0;e<c;e++)this.accept(b[e]);this.options.blockParams.shift();this.isSimple=1===c;this.blockParams=a.blockParams?a.blockParams.length:0;return this},
BlockStatement:function(a){h(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b);c=c&&this.compileProgram(c);var e=this.classifySexpr(a);"helper"===e?this.helperSexpr(a,b,c):"simple"===e?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},
DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program);b=this.setupFullMustacheParams(a,b,void 0);a=a.path;this.useDecorators=!0;this.opcode("registerDecorator",b.length,a.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(1<c.length)throw new e["default"]("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",
parts:[],depth:0}));c=a.name.original;var f="SubExpression"===a.name.type;f&&this.accept(a.name);this.setupFullMustacheParams(a,b,void 0,!0);a=a.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a="");this.opcode("invokePartial",f,c,a);this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a);a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},
ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){h(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){a=a.path;var e=a.parts[0],f=null!=b||null!=c;this.opcode("getContext",a.depth);this.opcode("pushProgram",b);this.opcode("pushProgram",c);a.strict=!0;this.accept(a);this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){a=
a.path;a.strict=!0;this.accept(a);this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){b=this.setupFullMustacheParams(a,b,c);c=a.path;var f=c.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",b.length,f);else{if(this.options.knownHelpersOnly)throw new e["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);c.strict=!0;c.falsy=!0;this.accept(c);this.opcode("invokeHelper",b.length,c.original,m["default"].helpers.simpleId(c))}},PathExpression:function(a){this.addDepth(a.depth);
this.opcode("getContext",a.depth);var b=a.parts[0],c=m["default"].helpers.scopedId(a),e=!a.depth&&!c&&this.blockParamIndex(b);e?this.opcode("lookupBlockParam",e,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",
a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){a=a.pairs;var b=0,c=a.length;for(this.opcode("pushHash");b<c;b++)this.pushParam(a[b].value);for(;b--;)this.opcode("assignToHash",a[b].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:n.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=m["default"].helpers.simpleId(a.path),
c=b&&!!this.blockParamIndex(a.path.parts[0]),e=!c&&m["default"].helpers.helperExpression(a);(b=!c&&(e||b))&&!e&&(c=this.options,c.knownHelpers[a.path.parts[0]]?e=!0:c.knownHelpersOnly&&(b=!1));return e?"helper":b?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;b<c;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",
a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;!a.parts||m["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0]));c?(b=a.parts.slice(1).join("."),this.opcode("pushId","BlockParam",c,b)):(b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b))}this.accept(a)}},setupFullMustacheParams:function(a,b,c,e){var f=a.params;this.pushParams(f);
this.opcode("pushProgram",b);this.opcode("pushProgram",c);a.hash?this.accept(a.hash):this.opcode("emptyHash",e);return f},blockParamIndex:function(a){for(var c=0,e=this.options.blockParams.length;c<e;c++){var f=this.options.blockParams[c],g=f&&b.indexOf(f,a);if(f&&0<=g)return[c,g]}}}},function(k,g,c){function f(a){this.value=a}function a(){}function h(a,b,c,e){var f=b.popStack(),g=0,h=c.length;for(a&&h--;g<h;g++)f=b.nameLookup(f,c[g],e);return a?[b.aliasable("container.strict"),"(",f,", ",b.quotedString(c[g]),
")"]:f}var e=c(1)["default"];g.__esModule=!0;var b=c(4),m=c(6),n=e(m),r=c(5);c=c(43);var w=e(c);a.prototype={nameLookup:function(b,c){return a.isValidJavaScriptVariableName(c)?[b,".",c]:[b,"[",JSON.stringify(c),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=b.COMPILER_REVISION;return[a,b.REVISION_CHANGES[a]]},appendToBuffer:function(a,b,c){r.isArray(a)||(a=[a]);a=this.source.wrap(a,b);if(this.environment.isSimple)return["return ",
a,";"];if(c)return["buffer += ",a,";"];a.appendToBuffer=!0;return a},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,e){this.environment=a;this.options=b;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!e;this.name=this.environment.name;this.isChild=!!c;this.context=c||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];
this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(a,b);this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||a.useBlockParams;var f=a.opcodes,g=void 0;a=0;for(c=f.length;a<c;a++){var h=f[a];this.source.currentLocation=h.loc;g=g||h.loc;this[h.opcode].apply(this,h.args)}this.source.currentLocation=g;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new n["default"]("Compile completed with content left on stack");
this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),e?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));a=this.createFunctionContext(e);
if(this.isChild)return a;f={compiler:this.compilerInfo(),main:a};this.decorators&&(f.main_d=this.decorators,f.useDecorators=!0);a=this.context;h=a.programs;g=a.decorators;a=0;for(c=h.length;a<c;a++)h[a]&&(f[a]=h[a],g[a]&&(f[a+"_d"]=g[a],f.useDecorators=!0));this.environment.usePartial&&(f.usePartial=!0);this.options.data&&(f.useData=!0);this.useDepths&&(f.useDepths=!0);this.useBlockParams&&(f.useBlockParams=!0);this.options.compat&&(f.compat=!0);e?f.compilerOptions=this.options:(f.compiler=JSON.stringify(f.compiler),
this.source.currentLocation={start:{line:1,column:0}},f=this.objectLiteral(f),b.srcName?(f=f.toStringWithSourceMap({file:b.destName}),f.map=f.map&&f.map.toString()):f=f.toString());return f},preamble:function(){this.lastContext=0;this.source=new w["default"](this.options.srcName);this.decorators=new w["default"](this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);0<c.length&&(b+=", "+c.join(", "));c=0;for(var e in this.aliases){var f=this.aliases[e];
this.aliases.hasOwnProperty(e)&&f.children&&1<f.referenceCount&&(b+=", alias"+ ++c+"="+e,f.children[0]="alias"+c)}e=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&e.push("blockParams");this.useDepths&&e.push("depths");b=this.mergeSource(b);return a?(e.push(b),Function.apply(this,e)):this.source.wrap(["function(",e.join(","),") {\n  ",b,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,e=void 0,f=void 0,g=void 0,h=void 0;this.source.each(function(a){a.appendToBuffer?
(g?a.prepend("  + "):g=a,h=a):(g&&(f?g.prepend("buffer += "):e=!0,h.add(";"),g=h=void 0),f=!0,b||(c=!1))});c?g?(g.prepend("return "),h.add(";")):f||this.source.push('return "";'):(a+=", buffer = "+(e?"":this.initializeBuffer()),g?(g.prepend("return buffer + "),h.add(";")):this.source.push("return buffer;"));a&&this.source.prepend("var "+a.substring(2)+(e?"":";\n"));return this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,
0,c);a=this.popStack();c.splice(1,0,a);this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0);this.flushInline();var c=this.topStack();b.splice(1,0,c);this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation;
this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),
")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,e){var f=0;e||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[f++]));this.resolvePath("context",a,f,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0;this.push(["blockParams[",a[0],"][",a[1],"]"]);this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+
a+")"):this.pushStackLiteral("data");this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,e,f){var g=this;if(this.options.strict||this.options.assumeObjects)this.push(h(this.options.strict&&f,this,b,a));else for(f=b.length;c<f;c++)this.replaceStack(function(f){var h=g.nameLookup(f,b[c],a);return e?[" && ",h]:[" != null ? ",h," : ",f]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,
b){this.pushContext();this.pushString(b);"SubExpression"!==b&&("string"===typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}");this.stringParams&&(this.push("{}"),this.push("{}"));this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(a.ids));
this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types)));this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator");a=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",
this.decorators.functionCall(c,"",["fn","props","container",a])," || fn;"])},invokeHelper:function(a,b,c){var e=this.popStack();a=this.setupHelper(a,b);c=["("].concat(c?[a.name," || "]:"",e);this.options.strict||c.push(" || ",this.aliasable("helpers.helperMissing"));c.push(")");this.push(this.source.functionCall(c,"call",a.callParams))},invokeKnownHelper:function(a,b){a=this.setupHelper(a,b);this.push(this.source.functionCall(a.name,"call",a.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");
var c=this.popStack();this.emptyHash();b=this.setupHelper(0,a,b);a=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",a,"helper")," || ",c,")"];this.options.strict||(a[0]="(helper = ",a.push(" != null ? helper : ",this.aliasable("helpers.helperMissing")));this.push(["(",a,b.paramsInit?["),(",b.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",b.callParams)," : helper))"])},invokePartial:function(a,b,c){var e=[],f=this.setupParams(b,
1,e);a&&(b=this.popStack(),delete f.name);c&&(f.indent=JSON.stringify(c));f.helpers="helpers";f.partials="partials";f.decorators="container.decorators";a?e.unshift(b):e.unshift(this.nameLookup("partials",b,"partial"));this.options.compat&&(f.depths="depths");f=this.objectLiteral(f);e.push(f);this.push(this.source.functionCall("container.invokePartial","",e))},assignToHash:function(a){var b=this.popStack(),c=void 0,e=void 0,f=void 0;this.trackIds&&(f=this.popStack());this.stringParams&&(e=this.popStack(),
c=this.popStack());var g=this.hash;c&&(g.contexts[a]=c);e&&(g.types[a]=e);f&&(g.ids[a]=f);g.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:a,compileChildren:function(a,b){a=a.children;for(var c,e,f=0,g=a.length;f<g;f++){c=a[f];e=new this.compiler;var h=this.matchExistingProgram(c);
null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=e.compile(c,b,this.context,!this.precompile),this.context.decorators[h]=e.decorators,this.context.environments[h]=c,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams,c.useDepths=this.useDepths,c.useBlockParams=this.useBlockParams):(c.index=h.index,c.name="program"+h.index,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=
this.useBlockParams||h.useBlockParams)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var e=this.context.environments[b];if(e&&e.equals(a))return e}},programExpression:function(a){a=this.environment.children[a];a=[a.index,"data",a.blockParams];(this.useBlockParams||this.useDepths)&&a.push("blockParams");this.useDepths&&a.push("depths");return"container.program("+a.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},
push:function(a){a instanceof f||(a=this.source.wrap(a));this.inlineStack.push(a);return a},pushStackLiteral:function(a){this.push(new f(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0);a&&this.source.push(a)},replaceStack:function(a){var b=void 0,c=void 0;if(!this.isInline())throw new n["default"]("replaceStack on non-inline");var e=this.popStack(!0);if(e instanceof
f){var g=[e.value];e=["(",g];c=!0}else b=!0,g=this.incrStack(),e=["((",this.push(g)," = ",e,")"],g=this.topStack();a=a.call(this,g);c||this.popStack();b&&this.stackSlot--;this.push(e.concat(a,")"))},incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var e=
a[b];if(e instanceof f)this.compileStack.push(e);else{var g=this.incrStack();this.pushSource([g," = ",e,";"]);this.compileStack.push(g)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof f)return c.value;if(!b){if(!this.stackSlot)throw new n["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack;a=a[a.length-
1];return a instanceof f?a.value:a},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];if(b)return b.referenceCount++,b;b=this.aliases[a]=this.source.wrap(a);b.aliasable=!0;b.referenceCount=1;return b},setupHelper:function(a,b,c){var e=[];a=this.setupHelperArgs(b,a,e,c);b=this.nameLookup("helpers",b,"helper");
c=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:e,paramsInit:a,name:b,callParams:[c].concat(e)}},setupParams:function(a,b,c){var e={},f=[],g=[],h=[],k=!c;k&&(c=[]);e.name=this.quotedString(a);e.hash=this.popStack();this.trackIds&&(e.hashIds=this.popStack());this.stringParams&&(e.hashTypes=this.popStack(),e.hashContexts=this.popStack());a=this.popStack();var m=this.popStack();if(m||a)e.fn=m||"container.noop",e.inverse=a||"container.noop";
for(a=b;a--;)b=this.popStack(),c[a]=b,this.trackIds&&(h[a]=this.popStack()),this.stringParams&&(g[a]=this.popStack(),f[a]=this.popStack());k&&(e.args=this.source.generateArray(c));this.trackIds&&(e.ids=this.source.generateArray(h));this.stringParams&&(e.types=this.source.generateArray(g),e.contexts=this.source.generateArray(f));this.options.data&&(e.data="data");this.useBlockParams&&(e.blockParams="blockParams");return e},setupHelperArgs:function(a,b,c,e){a=this.setupParams(a,b,c);a=this.objectLiteral(a);
return e?(this.useRegister("options"),c.push("options"),["options=",a]):c?(c.push(a),""):a}};(function(){for(var b="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),
c=a.RESERVED_WORDS={},e=0,f=b.length;e<f;e++)c[b[e]]=!0})();a.isValidJavaScriptVariableName=function(b){return!a.RESERVED_WORDS[b]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(b)};g["default"]=a;k.exports=g["default"]},function(k,g,c){function f(a,c,e){if(h.isArray(a)){for(var b=[],f=0,g=a.length;f<g;f++)b.push(c.wrap(a[f],e));return b}return"boolean"===typeof a||"number"===typeof a?a+"":a}function a(a){this.srcFile=a;this.source=[]}g.__esModule=!0;var h=c(5),e=void 0;e||(e=function(a,c,e,f){this.src="";f&&
this.add(f)},e.prototype={add:function(a){h.isArray(a)&&(a=a.join(""));this.src+=a},prepend:function(a){h.isArray(a)&&(a=a.join(""));this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});a.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,c){this.source.unshift(this.wrap(a,c))},push:function(a,c){this.source.push(this.wrap(a,c))},merge:function(){var a=this.empty();this.each(function(b){a.add(["  ",b,"\n"])});
return a},each:function(a){for(var b=0,c=this.source.length;b<c;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new e(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=1>=arguments.length||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];if(a instanceof e)return a;a=f(a,this,b);return new e(b.start.line,b.start.column,this.srcFile,a)},functionCall:function(a,c,e){e=this.generateList(e);return this.wrap([a,c?"."+c+"(":"(",e,")"])},
quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[],c;for(c in a)if(a.hasOwnProperty(c)){var e=f(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}a=this.generateList(b);a.prepend("{");a.add("}");return a},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;c<e;c++)c&&b.add(","),b.add(f(a[c],this));return b},
generateArray:function(a){a=this.generateList(a);a.prepend("[");a.add("]");return a}};g["default"]=a;k.exports=g["default"]}])});/*
 SlickQuiz jQuery Plugin
 http://github.com/jewlofthelotus/SlickQuiz

 @updated August 9, 2014
 @version 1.5.164

 @author Julie Cameron - http://www.juliecameron.com
 @copyright (c) 2013 Quicken Loans - http://www.quickenloans.com
 @license MIT
*/
(function(k){k.slickQuiz=function(g,c){var f=this,a=k(g),h="#"+a.attr("id");g={checkAnswerText:"Check My Answer!",nextQuestionText:"Next &raquo;",backButtonText:"&laquo; Back",tryAgainText:"",questionCountText:"Question %current of %total",preventUnansweredText:"You must select at least one answer.",questionTemplateText:"%count. %text",scoreTemplateText:"%score / %total",nameTemplateText:"<span>Quiz: </span>%name",skipStartButton:!0,numberOfQuestions:null,randomSortQuestions:!1,randomSortAnswers:!0,
preventUnanswered:!1,disableScore:!1,disableRanking:!0,quizTime:0,displayDetailResult:!0,questionMode:"deferredfeedback",perQuestionResponseMessaging:void 0!=c.questionMode&&"deferredfeedback"!=c.questionMode?!0:!1,perQuestionResponseAnswers:void 0!=c.questionMode&&"deferredfeedback"!=c.questionMode?!0:!1,completionResponseMessaging:void 0!=c.questionMode&&"deferredfeedback"!=c.questionMode?!1:c.displayDetailResult,displayQuestionCount:!1,displayQuestionNumber:!0,submitQuestionText:"Submit",questionPerPage:50,
resultDisplayDetailed:!0,animationCallbacks:{setupQuiz:function(){},startQuiz:function(){},resetQuiz:function(){},checkAnswer:function(){},nextQuestion:function(){},backToQuestion:function(){},completeQuiz:function(){}},events:{onStartQuiz:function(a){},onCompleteQuiz:function(a){}}};var e="nextQuestion",b="."+e,m=h+" .startQuiz",n=h+" .quizName",r=h+" .quizArea",w=h+" .quizResults",v=h+" .quizResultsCopy",A=h+" .quizHeader",y=h+" .quizScore",x=h+" .quizLevel",q=k(m),B=k(n),C=k(r),E=k(w),I=k(v),F=
k(A);k(y);var J=k(x),L=0,d=0;n="";c&&"undefined"!=typeof c.disableNext&&("undefined"==typeof c.preventUnanswered&&(c.preventUnanswered=c.disableNext),n+="The 'disableNext' option has been deprecated, please use 'preventUnanswered' in it's place.\n\n");c&&"undefined"!=typeof c.disableResponseMessaging&&("undefined"==typeof c.preventUnanswered&&(c.perQuestionResponseMessaging=c.disableResponseMessaging),n+="The 'disableResponseMessaging' option has been deprecated, please use 'perQuestionResponseMessaging' and 'completionResponseMessaging' in it's place.\n\n");
c&&"undefined"!=typeof c.randomSort&&("undefined"==typeof c.randomSortQuestions&&(c.randomSortQuestions=c.randomSort),"undefined"==typeof c.randomSortAnswers&&(c.randomSortAnswers=c.randomSort),n+="The 'randomSort' option has been deprecated, please use 'randomSortQuestions' and 'randomSortAnswers' in it's place.\n\n");""!==n&&("undefined"!=typeof console?console.warn(n):alert(n));f.config=k.extend(g,c);var l=k.parseJSON(f.config.json?f.config.json:"undefined"!=typeof quizJSON?quizJSON:null),z=f.config.randomSortQuestions?
l.questions.sort(function(){return Math.round(Math.random())-.5}):l.questions,G=z.length;f.config.numberOfQuestions&&G>=f.config.numberOfQuestions&&(z=z.slice(0,f.config.numberOfQuestions),G=z.length);var K={getKey:function(a){var d=[];for(i=0;i<a;i++)d[i]=k.Deferred();return d},turnKeyAndGo:function(a,d){k.when.apply(null,a).then(function(){d()})},getKeyNotch:function(a,d){return function(){a[d-1].resolve()}}};f.method={setupQuiz:function(a){console.log("quiz data setup quiz");var d=K.getKey(3);
var b=K.getKeyNotch;f.config.quizTime&&0<f.config.quizTime?k("#timeText").html('Time remaining <span id="qztime">'+f.config.quizTime+"</span>"):k("#timeText").html('Elapsed time <span id="qztime">00:00:00</span>');B.hide().html(f.config.nameTemplateText.replace("%name",l.info.name)).fadeIn(1E3,b(d,1));F.hide().prepend(k('<div class="quizDescription">'+l.info.main+"</div>")).fadeIn(1E3,b(d,2));f.config.tryAgainText&&""!==f.config.tryAgainText&&I.append('<p><a class="button tryAgain" href="#">'+f.config.tryAgainText+
"</a></p>");var c=k('<ol class="questions"></ol>'),g=1;for(i in z)if(z.hasOwnProperty(i)){var h=z[i];var m=k('<li data-id="'+h.qid+'" class="question" id="question'+(g-1)+'"></li>');f.config.displayQuestionCount&&m.append('<div class="questionCount">'+f.config.questionCountText.replace("%current",'<span class="current">'+g+"</span>").replace("%total",'<span class="total">'+G+"</span>")+"</div>");var n="";n=f.config.displayQuestionNumber?f.config.questionTemplateText.replace("%count",g).replace("%text",
h.q):h.q;m.append('<div class="quesname"> <span class= "unflagged" title="flag this question for future reference"></span><span class="questext">'+n+"</span></div>");var r=0;for(i in h.a)h.a.hasOwnProperty(i)&&(answer=h.a[i],answer.correct&&r++);n=k('<ul class="answers"></ul>');var x=f.config.randomSortAnswers?h.a.sort(function(){return Math.round(Math.random())-.5}):h.a,y=h.select_any?h.select_any:!1,w=h.force_checkbox?h.force_checkbox:!1,v="question"+(g-1);r=1<r&&!y||w?"checkbox":"radio";g==l.questions.length&&
(e+=" lastQuestion");for(i in x)x.hasOwnProperty(i)&&(answer=x[i],optionId=v+"_"+i.toString(),y='<input id="'+optionId+'" class="ansck" name="'+v+'" type="'+r+'" /> ',w='<label for="'+optionId+'">'+answer.option+"</label>",y=k("<li></li>").append(y).append(w),n.append(y));m.append(n);if(f.config.perQuestionResponseMessaging||f.config.completionResponseMessaging)n=k('<ul class="responses"></ul>'),n.append('<li class="correct">'+h.correct+"</li>"),n.append('<li class="incorrect">'+h.incorrect+"</li>"),
m.append(n);f.config.backButtonText&&""!==f.config.backButtonText&&m.append('<a href="#" class="button backToQuestion">'+f.config.backButtonText+"</a>");f.config.perQuestionResponseMessaging&&(m.append('<a href="#" class="button '+e+'">'+f.config.nextQuestionText+"</a>"),m.append('<a href="#" class="button checkAnswer">'+f.config.checkAnswerText+"</a>"));1>f.config.questionPerPage&&(f.config.questionPerPage=l.questions.length);g==l.questions.length?m.append('<a href="#" class="button '+e+' checkAnswer">'+
f.config.submitQuestionText+"</a>"):g!=f.config.questionPerPage&&0!=g%f.config.questionPerPage||m.append('<a href="#" class="button '+e+'" style = "display: list-item">'+f.config.nextQuestionText+"</a>");g<=f.config.questionPerPage?(m.show(),h=k(' <a href="#question'+(g-1)+'" class="qnbutton notyetanswered free thispage" title="Not yet answered" id="navquestion'+(g-1)+'">'+g+"</a>")):h=k(' <a href="#question'+(g-1)+'" class="qnbutton notyetanswered free" title="Not yet answered" id="navquestion'+
(g-1)+'">'+g+"</a>");k("div#exam_navblock .content .qn_buttons").append(h);c.append(m);g++}C.append(c);f.config.skipStartButton||0==q.length?(q.hide(),f.method.startQuiz.apply(this,[{callback:f.config.animationCallbacks.startQuiz}]),b(d,3).apply(null,[])):q.fadeIn(500,b(d,3));K.turnKeyAndGo(d,a&&a.callback?a.callback:function(){})},startQuiz:function(a){function d(a){var d=k(h+" .questions li").first();d.length&&d.fadeIn(500,function(){a&&a.callback&&a.callback()})}var b=K.getKey(1);var c=K.getKeyNotch;
f.config.skipStartButton||0==q.length?d({callback:c(b,1)}):q.fadeOut(300,function(){d({callback:c(b,1)})});K.turnKeyAndGo(b,a&&a.callback?a.callback:function(){});f.config.events&&f.config.events.onStartQuiz&&f.config.events.onStartQuiz.apply(null,[]);if((a=JSON.parse(localStorage.getItem("quizSt")))&&null!=a.qtime){var l=a.qtime.split(":");l=parseInt(l[2])+60*parseInt(l[1])+3600*parseInt(l[0]);a=l-1}else{a=virtualclass.vutil.UTCtoLocalTimeToSeconds(f.config.ptm);var e=(new Date).getTime();a=f.config.quizTime-
(e-a)/1E3}f.config.quizTime&&0<f.config.quizTime?(a=a?a:f.config.quizTime,l=document.querySelector("#qztime"),f.method.startTimer(a,l,"desc","vmQuiz")):(a=l?l:0,l=document.querySelector("#qztime"),f.method.startTimer(a,l,"asc","vmQuiz"))},resetQuiz:function(a,d){var c=K.getKey(1);var l=K.getKeyNotch;E.fadeOut(300,function(){k(h+" input").prop("checked",!1).prop("disabled",!1);J.attr("class","quizLevel");k(h+" .question").removeClass("correctResponse").removeClass("incorrectResponse");k(h+" .answers li").removeClass("correct").removeClass("incorrect");
k(h+" .question,"+h+" .responses,"+h+" .responses li,"+h+" "+b+","+h+" .backToQuestion").hide();k(h+" .questionCount,"+h+" .answers,"+h+" .checkAnswer").show();C.append(k(h+" .questions")).show();l(c,1).apply(null,[]);f.method.startQuiz({callback:f.config.animationCallbacks.startQuiz},E)});K.turnKeyAndGo(c,d&&d.callback?d.callback:function(){})},checkAnswer:function(a,d){var b=K.getKey(2);var c=K.getKeyNotch;var l=k(k(a).parents(".question")[0]),e=l.find(".answers li"),g=e.find("input:checked"),m=
parseInt(l.attr("id").replace(/(question)/,""),10),n=parseInt(l.attr("data-id")),q=z[m].a;m=z[m].select_any?z[m].select_any:!1;e.addClass("incorrect");var G=[];for(i in q)if(q.hasOwnProperty(i)){var r=q[i],x=parseInt(i,10);r.correct?(G.push(x),"interactive"==f.config.questionMode&&e.eq(x).removeClass("incorrect").addClass("correct")):(-1<k.inArray(x,G)&&G.pop(x),e.eq(x).removeClass("wrong"))}var y=[];g.each(function(){var a=k(this).attr("id");y.push(parseInt(a.replace(/(question\d{1,}_)/,""),10))});
if(f.config.preventUnanswered&&0===y.length)return alert(f.config.preventUnansweredText),!1;g=f.method.compareAnswers(G,y,m);k("a#nav"+l.attr("id")+".qnbutton").removeClass("notyetanswered").removeAttr("title");g?(l.addClass("correctResponse"),"deferredfeedback"!=f.config.questionMode&&e.eq(y[0]).removeClass("incorrect").addClass("correct"),k("a#nav"+l.attr("id")+".qnbutton").removeClass("incorrect").addClass("correct"),f.method.sendQzdata(n,!0)):(l.removeClass("correctResponse"),"deferredfeedback"!=
f.config.questionMode&&e.eq(y[0]).addClass("wrong"),k("a#nav"+l.attr("id")+".qnbutton").removeClass("correct").addClass("incorrect"),0<k(h+" .answers").find("input:checked").length&&f.method.sendQzdata(n,!1));l.find(".responses li").hide();l.find(g?".correct":".incorrect").show();f.config.perQuestionResponseMessaging?("adaptive"!=f.config.questionMode&&(k(a).hide(),l.find(".answers li input[type=radio]").attr("disabled",!0)),f.config.perQuestionResponseAnswers||l.find(".answers").hide(),l.find(".responses").show(),
l.find(".backToQuestion").length||c(b,2).apply(null,[])):(c(b,1).apply(null,[]),c(b,2).apply(null,[]));K.turnKeyAndGo(b,d&&d.callback?d.callback:function(){})},nextQuestion:function(a,d){var b=K.getKey(1);var c=K.getKeyNotch;var e=k(k(a).parents(".question")[0]);a=e.next(".question");var g=e.find("input:checked");if(f.config.preventUnanswered&&0===g.length)return!1;k("a#navquestion0.qnbutton").removeClass("thispage");k("a#navquestion0.qnbutton").nextAll(".qnbutton").removeClass("thispage");a.length?
e.fadeOut(300,function(){e.prevAll(".question").hide();if(e.nextAll(".question").length>f.config.questionPerPage){var a=parseInt(e.prevAll(".question").length)+parseInt(f.config.questionPerPage)+1;e.nextUntil("li#question"+a+".question").show();k("li#question"+(a-1)+".question").find(".backToQuestion").show().end().fadeIn(500,c(b,1));k("a#nav"+e[0].id+".qnbutton").nextUntil("a#navquestion"+a+".qnbutton").addClass("thispage")}else e.nextAll(".question").show(),k("li#question"+(l.questions.length-1)+
".question").find(".backToQuestion").show().end().length||c(b,1).apply(null,[]),k("a#nav"+e[0].id+".qnbutton").nextAll(".qnbutton").addClass("thispage")}):(c(b,1).apply(null,[]),f.method.completeQuiz({callback:f.config.animationCallbacks.completeQuiz}));K.turnKeyAndGo(b,d&&d.callback?d.callback:function(){})},backToQuestion:function(a,d){var c=K.getKey(2);var l=K.getKeyNotch;var e=k(k(a).parents(".question")[0]),g=e.find(".answers");k("a#navquestion0.qnbutton").removeClass("thispage");k("a#navquestion0.qnbutton").nextAll(".qnbutton").removeClass("thispage");
if("block"===g.css("display")){var h=e.prev(".question");k("li#question0.question").nextAll(".question").hide();if(e.prevAll(".question").length>=f.config.questionPerPage){a=1+Number(e.attr("id").replace(/^\D+/g,""));var z=a%f.config.questionPerPage;a=0<z?a-z:a-f.config.questionPerPage;a>f.config.questionPerPage?(k("li#question"+a+".question").prevUntil("li#question"+(a-1-f.config.questionPerPage)+".question").show(),k("a#navquestion"+a+".qnbutton").prevUntil("a#navquestion"+(a-1-f.config.questionPerPage)+
".qnbutton").addClass("thispage")):(k("li#question"+a+".question").prevAll(".question").show(),k("a#navquestion"+a+".qnbutton").prevAll(".qnbutton").addClass("thispage"))}else e.prevAll(".question").show();e.fadeOut(300,function(){h.removeClass("correctResponse").removeClass("incorrectResponse");h.find(".responses, .responses li").hide();h.find(".answers").show();h.find(".checkAnswer").show();l(c,2).apply(null,[])})}else e.find(".responses").fadeOut(300,function(){e.removeClass("correctResponse").removeClass("incorrectResponse");
e.find(".responses li").hide();g.fadeIn(500,l(c,1));e.find(".checkAnswer").fadeIn(500,l(c,2));e.find(b).hide();"question0"!=e.attr("id")?e.find(".backToQuestion").show():e.find(".backToQuestion").hide()});K.turnKeyAndGo(c,d&&d.callback?d.callback:function(){})},diaplayQuestion:function(a,d){K.getKey(1);d=k("li"+a.hash+".question");d.next(".question");d=d.find("input:checked");if(f.config.preventUnanswered&&0===d.length)return!1;d=1+Number(a.id.replace(/^\D+/g,""));if(d>f.config.questionPerPage){var b=
0<d%f.config.questionPerPage?parseInt(d/f.config.questionPerPage)+1:parseInt(d/f.config.questionPerPage);d=f.config.questionPerPage*(b-1);b*=f.config.questionPerPage;k("li#question0.question").hide();k("li#question0").nextAll(".question").hide();k("a#navquestion0.qnbutton").nextAll(".qnbutton").removeClass("thispage");k("a#navquestion0.qnbutton").removeClass("thispage");d>=f.config.questionPerPage?(k("li#question"+(d-1)+".question").nextUntil("li#question"+b+".question").show(),k("a#navquestion"+
(d-1)+".qnbutton").nextUntil("a#navquestion"+b+".qnbutton").addClass("thispage")):(k("li#question0.question").nextUntil("li#question"+f.config.questionPerPage+".question").show(),k("a#navquestion0.qnbutton").addClass("thispage"),k("a#navquestion0.qnbutton").nextUntil("a#navquestion"+f.config.questionPerPage+".qnbutton").addClass("thispage"))}else k("li#question0").nextAll(".question").hide(),k("a#navquestion0.qnbutton").nextAll(".qnbutton").removeClass("thispage"),k("li#question0.question").show(),
k("li#question0.question").nextUntil("li#question"+f.config.questionPerPage+".question").show(),k("a#navquestion0.qnbutton").addClass("thispage"),k("a#navquestion0.qnbutton").nextUntil("a#navquestion"+f.config.questionPerPage+".qnbutton").addClass("thispage");window.location.href=a.hash},flagQuestion:function(a,d){d=k(k(a).parents(".question")[0]);k("a#nav"+d.attr("id")+".qnbutton").toggleClass("trafficlight");k(a).toggleClass("flagged")},startTimer:function(a,b,c,l){function e(){g="asc"==c?a+((Date.now()-
f)/1E3|0):a-((Date.now()-f)/1E3|0);h=g/3600|0;z=g%3600/60|0;k=g%60|0;h=10>h?"0"+h:h;z=10>z?"0"+z:z;k=10>k?"0"+k:k;b.textContent=h+":"+z+":"+k;d=h+":"+z+":"+k;0>=g&&(f=0,"undefined"!=typeof L&&clearInterval(L))}c="undefined"!==typeof c?c:"desc";var f=Date.now(),g,h,z,k;"asc"!==c&&e();L=setInterval(e,1E3)},completeQuiz:function(a){var b=K.getKey(1);var c=K.getKeyNotch;var e=k(h+" .answers").find("input:checked").length,g=(Number(l.info.results)/G).toFixed(3),z=k(h+" .correctResponse").length,m=z*g,
n=parseInt(l.info.results);f.config.disableScore?k(y).remove():k(y+" span").html(f.config.scoreTemplateText.replace("%score",m.toFixed(2)).replace("%total",n.toFixed(2)));if(f.config.disableRanking)k(x).remove();else{var q=[l.info.level1,l.info.level2,l.info.level3,l.info.level4,l.info.level5];g=f.method.calculateLevel(m);q=k.isNumeric(g)?q[g]:"";k(x+" span").html(q);k(x).addClass("level"+g)}C.fadeOut(0,function(){console.log("quiz data complete quiz");clearInterval(L);if(f.config.completionResponseMessaging)k(h+
" .qnbutton").addClass("show"),k(h+" input").prop("disabled",!0),k(h+" .button:not(.tryAgain), "+h+" .questionCount").hide(),k(h+" .question, "+h+" .answers, "+h+" .responses").show(),E.append(k(h+" .questions")).fadeIn(500,c(b,1));else{if(f.config.quizTime&&0<f.config.quizTime){var a=d.split(":");a=3600*+a[0]+60*+a[1]+ +a[2];a=parseInt(f.config.quizTime)-a;var g=virtualclass.quiz.convertSecToTime(a)}else g=d;k(h+" .navblock").hide();E.prepend(k("<h4>Questions attempted: <span>"+e+"</span></h4>"));
E.prepend(k("<h4>Correct answers: <span>"+z+"</span></h4>"));E.prepend(k("<h4>Maximum mark: <span>"+n.toFixed(2)+"</span></h4>"));E.prepend(k("<h4>Time taken: <span>"+g+"</span></h4>"));k(h+" #timeText").hide();E.prepend(k("<h4>Total no of questions: <span>"+G+"</span></h4>"));E.fadeIn(500,c(b,1))}if(!roles.hasControls()){console.log("quiz submit init from "+virtualclass.gObj.uid);var q=100*+m/+l.info.results,r=virtualclass.vutil.whoIsTeacher();virtualclass.quiz.hasOwnProperty("timeQuizComplete")&&
clearTimeout(virtualclass.quiz.timeQuizComplete);virtualclass.quiz.timeQuizComplete=setTimeout(function(){console.log("quiz submit from "+virtualclass.gObj.uid);ioAdapter.mustSendUser({quiz:{quizMsg:"quizsubmitted",timetaken:g,quesattemptd:e,correctans:z,score:q.toFixed(2),user:virtualclass.gObj.uid},cf:"quiz"},r)},300);a={noofqus:G,timetaken:g,quesattemptd:e,correctans:z,score:m,maxmarks:l.info.results};virtualclass.quiz.quizSt.screen="quizsubmitted";localStorage.setItem("qRep",JSON.stringify({grade:a,
attemp:null}))}});K.turnKeyAndGo(b,a&&a.callback?a.callback:function(){});f.config.events&&f.config.events.onCompleteQuiz&&f.config.events.onCompleteQuiz.apply(null,[{questionCount:G,score:m}])},compareAnswers:function(a,d,b){return b?-1<k.inArray(d[0],a):0===k(a).not(d).length&&0===k(d).not(a).length},calculateLevel:function(a){a=(a/G).toFixed(2);var d=null;f.method.inRange(0,.2,a)?d=4:f.method.inRange(.21,.4,a)?d=3:f.method.inRange(.41,.6,a)?d=2:f.method.inRange(.61,.8,a)?d=1:f.method.inRange(.81,
1,a)&&(d=0);return d},inRange:function(a,d,b){return b>=a&&b<=d},sendQzdata:function(a,d){if(!roles.hasControls()){var b=virtualclass.vutil.whoIsTeacher();ioAdapter.mustSendUser({quiz:{quizMsg:"quizAttempt",quizid:l.info.quiz,questionId:a,ans:d,user:virtualclass.gObj.uid},cf:"quiz"},b)}}};f.init=function(){f.method.setupQuiz.apply(null,[{callback:f.config.animationCallbacks.setupQuiz}]);q.on("click",function(a){a.preventDefault();this.disabled||k(this).hasClass("disabled")||f.method.startQuiz.apply(null,
[{callback:f.config.animationCallbacks.startQuiz}])});k(h+" .tryAgain").on("click",function(a){a.preventDefault();f.method.resetQuiz(this,{callback:f.config.animationCallbacks.resetQuiz})});k(h+" .checkAnswer").on("click",function(a){a.preventDefault();f.method.checkAnswer(this,{callback:f.config.animationCallbacks.checkAnswer})});if(!f.config.perQuestionResponseMessaging)k(h+" .ansck").on("click",function(a){f.method.checkAnswer(this,{callback:f.config.animationCallbacks.checkAnswer})});k("#exam_navblock .qn_buttons a").on("click",
function(a){a.preventDefault();"none"==k("li"+this.hash+".question").css("display")?f.method.diaplayQuestion(this,{callback:f.config.animationCallbacks.diaplayQuestion}):window.location.href=this.hash});k(h+" .quesname span.unflagged").on("click",function(a){a.preventDefault();f.method.flagQuestion(this,{callback:f.config.animationCallbacks.flagQuestion})});k(h+" .backToQuestion").on("click",function(a){a.preventDefault();f.method.backToQuestion(this,{callback:f.config.animationCallbacks.backToQuestion})});
k(h+" "+b).on("click",function(a){a.preventDefault();f.method.nextQuestion(this,{callback:f.config.animationCallbacks.nextQuestion})});var d=a.attr("id")+"-name";B.attr("id",d);a.attr({"aria-labelledby":d,"aria-live":"polite","aria-relevant":"additions",role:"form"});k(m+', [href = "#"]').attr("role","button")};f.init()};k.fn.slickQuiz=function(g){return this.each(function(){if(void 0===k(this).data("slickQuiz")){var c=new k.slickQuiz(this,g);k(this).data("slickQuiz",c)}})}})(jQuery);!function(){function k(a,d){return a<d?-1:a>d?1:a>=d?0:NaN}function g(a){return null===a?NaN:+a}function c(a){return!isNaN(a)}function f(a){return{left:function(d,b,c,e){3>arguments.length&&(c=0);4>arguments.length&&(e=d.length);for(;c<e;){var l=c+e>>>1;0>a(d[l],b)?c=l+1:e=l}return c},right:function(d,b,c,e){3>arguments.length&&(c=0);4>arguments.length&&(e=d.length);for(;c<e;){var l=c+e>>>1;0<a(d[l],b)?e=l:c=l+1}return c}}}function a(a){return a.length}function h(a,d){for(var b in d)Object.defineProperty(a.prototype,
b,{value:d[b],enumerable:!1})}function e(){this._=Object.create(null)}function b(a){return"__proto__"===(a+="")||"\x00"===a[0]?"\x00"+a:a}function m(a){return"\x00"===(a+="")[0]?a.slice(1):a}function n(a){return b(a)in this._}function r(a){return(a=b(a))in this._&&delete this._[a]}function w(){var a=[],d;for(d in this._)a.push(m(d));return a}function v(){var a=0,d;for(d in this._)++a;return a}function A(){for(var a in this._)return!1;return!0}function y(){this._=Object.create(null)}function x(a,d,
b){return function(){var c=b.apply(d,arguments);return c===d?a:c}}function q(a,d){if(d in a)return d;d=d.charAt(0).toUpperCase()+d.slice(1);for(var b=0,c=rf.length;b<c;++b){var e=rf[b]+d;if(e in a)return e}}function B(){}function C(){}function E(a){function d(){for(var d=b,c=-1,e=d.length,l;++c<e;)(l=d[c].on)&&l.apply(this,arguments);return a}var b=[],c=new e;d.on=function(d,e){var l=c.get(d),f;if(2>arguments.length)return l&&l.on;l&&(l.on=null,b=b.slice(0,f=b.indexOf(l)).concat(b.slice(f+1)),c.remove(d));
e&&b.push(c.set(d,{on:e}));return a};return d}function I(){D.event.preventDefault()}function F(){for(var a=D.event,d;d=a.sourceEvent;)a=d;return a}function J(a){for(var d=new C,b=0,c=arguments.length;++b<c;)d[arguments[b]]=E(d);d.of=function(b,c){return function(e){try{var l=e.sourceEvent=D.event;e.target=a;D.event=e;d[e.type].apply(b,c)}finally{D.event=l}}};return d}function L(a){rd(a,La);return a}function d(a){return"function"===typeof a?a:function(){return Lc(a,this)}}function l(a){return"function"===
typeof a?a:function(){return Xf(a,this)}}function z(a,d){function b(){this.removeAttribute(a)}function c(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,d)}function l(){this.setAttributeNS(a.space,a.local,d)}function f(){var b=d.apply(this,arguments);null==b?this.removeAttribute(a):this.setAttribute(a,b)}function p(){var b=d.apply(this,arguments);null==b?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,b)}a=D.ns.qualify(a);return null==d?a.local?
c:b:"function"===typeof d?a.local?p:f:a.local?l:e}function G(a){return new RegExp("(?:^|\\s+)"+D.requote(a)+"(?:\\s+|$)","g")}function K(a,d){function b(){for(var b=-1;++b<e;)a[b](this,d)}function c(){for(var b=-1,c=d.apply(this,arguments);++b<e;)a[b](this,c)}a=(a+"").trim().split(/^|\s+/).map(T);var e=a.length;return"function"===typeof d?c:b}function T(a){var d=G(a);return function(b,c){if(e=b.classList)return c?e.add(a):e.remove(a);var e=b.getAttribute("class")||"";c?(d.lastIndex=0,d.test(e)||b.setAttribute("class",
(e+" "+a).trim().replace(/\s+/g," "))):b.setAttribute("class",e.replace(d," ").trim().replace(/\s+/g," "))}}function ja(a,d,b){function c(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,d,b)}function l(){var c=d.apply(this,arguments);null==c?this.style.removeProperty(a):this.style.setProperty(a,c,b)}return null==d?c:"function"===typeof d?l:e}function W(a,d){function b(){delete this[a]}function c(){this[a]=d}function e(){var b=d.apply(this,arguments);null==b?delete this[a]:this[a]=
b}return null==d?b:"function"===typeof d?e:c}function Ea(a){return"function"===typeof a?a:(a=D.ns.qualify(a)).local?function(){return this.ownerDocument.createElementNS(a.space,a.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,a)}}function ea(){var a=this.parentNode;a&&a.removeChild(this)}function Y(a){return function(){return cd(this,a)}}function aa(a){arguments.length||(a=k);return function(d,b){return d&&b?a(d.__data__,b.__data__):!d-!b}}function O(a,d){for(var b=
0,c=a.length;b<c;b++)for(var e=a[b],l=0,f=e.length,p;l<f;l++)(p=e[l])&&d(p,l,b);return a}function fa(a){rd(a,ze);return a}function xa(a){var d,b;return function(c,e,l){c=a[l].update;var f=c.length;l!=b&&(b=l,d=0);for(e>=d&&(d=e+1);!(e=c[d])&&++d<f;);return e}}function ma(a){(a=a.__transition__)&&++a.active}function ha(a,d,b){function c(){var d=this[f];d&&(this.removeEventListener(a,d,d.$),delete this[f])}function e(){var e=U(d,sd(arguments));c.call(this);this.addEventListener(a,this[f]=e,e.$=b);e._=
d}function l(){var d=new RegExp("^__on([^.]+)"+D.requote(a)+"$"),b,c;for(c in this)if(b=c.match(d)){var e=this[c];this.removeEventListener(b[1],e,e.$);delete this[c]}}var f="__on"+a,p=a.indexOf("."),U=ua;0<p&&(a=a.slice(0,p));var g=Sg.get(a);g&&(a=g,U=Xa);return p?d?e:c:d?B:l}function ua(a,d){return function(b){var c=D.event;D.event=b;d[0]=this.__data__;try{a.apply(this,d)}finally{D.event=c}}}function Xa(a,d){var b=ua(a,d);return function(a){var d=a.relatedTarget;d&&(d===this||d.compareDocumentPosition(this)&
8)||b.call(this,a)}}function fb(){var a=".dragsuppress-"+ ++Tg,d="click"+a,b=D.select(Vb).on("touchmove"+a,I).on("dragstart"+a,I).on("selectstart"+a,I);if(he){var c=Eb.style;var e=c[he];c[he]="none"}return function(l){b.on(a,null);he&&(c[he]=e);if(l){var f=function(){b.on(d,null)};b.on(d,function(){I();f()},!0);setTimeout(f,0)}}}function Ub(a,d){d.changedTouches&&(d=d.changedTouches[0]);var b=a.ownerSVGElement||a;if(b.createSVGPoint){var c=b.createSVGPoint();if(0>Sb&&(Vb.scrollX||Vb.scrollY)){b=D.select("body").append("svg").style({position:"absolute",
top:0,left:0,margin:0,padding:0,border:"none"},"important");var e=b[0][0].getScreenCTM();Sb=!(e.f||e.e);b.remove()}Sb?(c.x=d.pageX,c.y=d.pageY):(c.x=d.clientX,c.y=d.clientY);c=c.matrixTransform(a.getScreenCTM().inverse());return[c.x,c.y]}b=a.getBoundingClientRect();return[d.clientX-b.left-a.clientLeft,d.clientY-b.top-a.clientTop]}function Fa(){return D.event.changedTouches[0].identifier}function yc(){return D.event.target}function Oa(){return Vb}function xb(a,d,b){return(d[0]-a[0])*(b[1]-a[1])-(d[1]-
a[1])*(b[0]-a[0])}function Jb(a){return 1<a?0:-1>a?na:Math.acos(a)}function Ha(a){return 1<a?Ga:-1>a?-Ga:Math.asin(a)}function Ba(a){return((a=Math.exp(a))+1/a)/2}function R(a){return(a=Math.sin(a/2))*a}function Aa(){}function Ca(a,d,b){return this instanceof Ca?void(this.h=+a,this.s=+d,this.l=+b):2>arguments.length?a instanceof Ca?new Ca(a.h,a.s,a.l):Ed(""+a,be,Ca):new Ca(a,d,b)}function mb(a,d,b){function c(a){360<a?a-=360:0>a&&(a+=360);return 60>a?l+(e-l)*a/60:180>a?e:240>a?l+(e-l)*(240-a)/60:
l}a=isNaN(a)?0:0>(a%=360)?a+360:a;d=isNaN(d)?0:0>d?0:1<d?1:d;b=0>b?0:1<b?1:b;var e=.5>=b?b*(1+d):b+d-b*d;var l=2*b-e;return new vb(Math.round(255*c(a+120)),Math.round(255*c(a)),Math.round(255*c(a-120)))}function ab(a,d,b){return this instanceof ab?void(this.h=+a,this.c=+d,this.l=+b):2>arguments.length?a instanceof ab?new ab(a.h,a.c,a.l):a instanceof ib?Q(a.l,a.a,a.b):Q((a=Fd((a=D.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ab(a,d,b)}function ya(a,d,b){isNaN(a)&&(a=0);isNaN(d)&&(d=0);return new ib(b,Math.cos(a*=
oa)*d,Math.sin(a)*d)}function ib(a,d,b){return this instanceof ib?void(this.l=+a,this.a=+d,this.b=+b):2>arguments.length?a instanceof ib?new ib(a.l,a.a,a.b):a instanceof ab?ya(a.h,a.c,a.l):Fd((a=vb(a)).r,a.g,a.b):new ib(a,d,b)}function nb(a,d,b){a=(a+16)/116;b=a-b/200;d=u(a+d/500)*t;a=u(a)*H;b=u(b)*la;return new vb(pa(3.2404542*d-1.5371385*a-.4985314*b),pa(-.969266*d+1.8760108*a+.041556*b),pa(.0556434*d-.2040259*a+1.0572252*b))}function Q(a,d,b){return 0<a?new ab(Math.atan2(b,d)*db,Math.sqrt(d*d+
b*b),a):new ab(NaN,NaN,a)}function u(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function yb(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function pa(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function vb(a,d,b){return this instanceof vb?void(this.r=~~a,this.g=~~d,this.b=~~b):2>arguments.length?a instanceof vb?new vb(a.r,a.g,a.b):Ed(""+a,vb,mb):new vb(a,d,b)}function Wc(a){return new vb(a>>16,a>>8&255,a&255)+""}function cc(a){return 16>a?"0"+Math.max(0,a).toString(16):
Math.min(255,a).toString(16)}function Ed(a,d,b){var c=0,e=0,l=0,f;if(f=/([a-z]+)\((.*)\)/i.exec(a)){var p=f[2].split(",");switch(f[1]){case "hsl":return b(parseFloat(p[0]),parseFloat(p[1])/100,parseFloat(p[2])/100);case "rgb":return d(Pa(p[0]),Pa(p[1]),Pa(p[2]))}}if(b=va.get(a))return d(b.r,b.g,b.b);null==a||"#"!==a.charAt(0)||isNaN(b=parseInt(a.slice(1),16))||(4===a.length?(c=(b&3840)>>4,c|=c>>4,e=b&240,e|=e>>4,l=b&15,l|=l<<4):7===a.length&&(c=(b&16711680)>>16,e=(b&65280)>>8,l=b&255));return d(c,
e,l)}function be(a,d,b){var c=Math.min(a/=255,d/=255,b/=255),e=Math.max(a,d,b),l=e-c,f=(e+c)/2;l?(c=.5>f?l/(e+c):l/(2-e-c),a=60*(a==e?(d-b)/l+(d<b?6:0):d==e?(b-a)/l+2:(a-d)/l+4)):(a=NaN,c=0<f&&1>f?0:a);return new Ca(a,c,f)}function Fd(a,d,b){a=Cb(a);d=Cb(d);b=Cb(b);var c=yb((.4124564*a+.3575761*d+.1804375*b)/t),e=yb((.2126729*a+.7151522*d+.072175*b)/H);a=yb((.0193339*a+.119192*d+.9503041*b)/la);return ib(116*e-16,500*(c-e),200*(e-a))}function Cb(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/
1.055,2.4)}function Pa(a){var d=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*d):d}function Na(a){return"function"===typeof a?a:function(){return a}}function jb(a){return a}function Gd(a){return function(d,b,c){2===arguments.length&&"function"===typeof b&&(c=b,b=null);return Pe(d,b,a,c)}}function Pe(a,d,b,c){function e(){var a=g.status,d;if(d=!a)d=(d=g.responseType)&&"text"!==d?g.response:g.responseText;if(d||200<=a&&300>a||304===a){try{var c=b.call(l,g)}catch(ii){f.error.call(l,
ii);return}f.load.call(l,c)}else f.error.call(l,g)}var l={},f=D.dispatch("beforesend","progress","load","error"),p={},g=new XMLHttpRequest,U=null;!Vb.XDomainRequest||"withCredentials"in g||!/^(http(s)?:)?\/\//.test(a)||(g=new XDomainRequest);"onload"in g?g.onload=g.onerror=e:g.onreadystatechange=function(){3<g.readyState&&e()};g.onprogress=function(a){var d=D.event;D.event=a;try{f.progress.call(l,g)}finally{D.event=d}};l.header=function(a,d){a=(a+"").toLowerCase();if(2>arguments.length)return p[a];
null==d?delete p[a]:p[a]=d+"";return l};l.mimeType=function(a){if(!arguments.length)return d;d=null==a?null:a+"";return l};l.responseType=function(a){if(!arguments.length)return U;U=a;return l};l.response=function(a){b=a;return l};["get","post"].forEach(function(a){l[a]=function(){return l.send.apply(l,[a].concat(sd(arguments)))}});l.send=function(b,c,e){2===arguments.length&&"function"===typeof c&&(e=c,c=null);g.open(b,a,!0);null==d||"accept"in p||(p.accept=d+",*/*");if(g.setRequestHeader)for(var h in p)g.setRequestHeader(h,
p[h]);null!=d&&g.overrideMimeType&&g.overrideMimeType(d);null!=U&&(g.responseType=U);if(null!=e)l.on("error",e).on("load",function(a){e(null,a)});f.beforesend.call(l,g);g.send(null==c?null:c);return l};l.abort=function(){g.abort();return l};D.rebind(l,f,"on");return null==c?l:l.get(lc(c))}function lc(a){return 1===a.length?function(d,b){a(null==d?b:null)}:a}function Ic(){var a=Qe();a=Ad()-a;24<a?(isFinite(a)&&(clearTimeout(Yf),Yf=setTimeout(Ic,a)),Ue=0):(Ue=1,Ug(Ic))}function Qe(){var a=Date.now();
for(Nd=wg;Nd;)a>=Nd.t&&(Nd.f=Nd.c(a-Nd.t)),Nd=Nd.n;return a}function Ad(){for(var a,d=wg,b=Infinity;d;)d.f?d=a?a.n=d.n:wg=d.n:(d.t<b&&(b=d.t),d=(a=d).n);td=a;return b}function re(a,d){return d-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Uc(a){var d=a.decimal,b=a.thousands,c=a.grouping,e=a.currency,l=c&&b?function(a,d){for(var e=a.length,l=[],f=0,p=c[0],g=0;0<e&&0<p;){g+p+1>d&&(p=Math.max(1,d-g));l.push(a.substring(e-=p,e+p));if((g+=p+1)>d)break;p=c[f=(f+1)%c.length]}return l.reverse().join(b)}:
jb;return function(a){a=Lh.exec(a);var b=a[1]||" ",c=a[2]||">",f=a[3]||"-",p=a[4]||"",g=a[5],h=+a[6],U=a[7],t=a[8],z=a[9],k=1,m="",n="",rb=!1,q=!0;t&&(t=+t.substring(1));if(g||"0"===b&&"="===c)g=b="0",c="=";switch(z){case "n":U=!0;z="g";break;case "%":k=100;n="%";z="f";break;case "p":k=100;n="%";z="r";break;case "b":case "o":case "x":case "X":"#"===p&&(m="0"+z.toLowerCase());case "c":q=!1;case "d":rb=!0;t=0;break;case "s":k=-1,z="r"}"$"===p&&(m=e[0],n=e[1]);"r"!=z||t||(z="g");if(null!=t)if("g"==z)t=
Math.max(1,Math.min(21,t));else if("e"==z||"f"==z)t=Math.max(0,Math.min(20,t));z=Eh.get(z)||Sf;var H=g&&U;return function(a){var e=n;if(rb&&a%1)return"";var p=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===f?"":f;0>k?(e=D.formatPrefix(a,t),a=e.scale(a),e=e.symbol+n):a*=k;a=z(a,t);var G=a.lastIndexOf(".");if(0>G)if(G=q?a.lastIndexOf("e"):-1,0>G){var r=a;a=""}else r=a.substring(0,G),a=a.substring(G);else r=a.substring(0,G),a=d+a.substring(G+1);!g&&U&&(r=l(r,Infinity));G=m.length+r.length+a.length+(H?0:p.length);
var x=G<h?Array(G=h-G+1).join(b):"";H&&(r=l(x+r,x.length?h-a.length:Infinity));p+=m;a=r+a;return("<"===c?p+a+x:">"===c?x+p+a:"^"===c?x.substring(0,G>>=1)+p+a+x.substring(G):p+(H?a:x+a))+e}}}function Sf(a){return a+""}function mc(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function sb(a,d,b){function c(d){var b=a(d),c=l(b,1);return d-b<c-d?b:c}function e(b){d(b=a(new Cc(b-1)),1);return b}function l(a,b){d(a=new Cc(+a),b);return a}function f(a,c,l){a=e(a);var p=
[];if(1<l)for(;a<c;)b(a)%l||p.push(new Date(+a)),d(a,1);else for(;a<c;)p.push(new Date(+a)),d(a,1);return p}a.floor=a;a.round=c;a.ceil=e;a.offset=l;a.range=f;var p=a.utc=Gc(a);p.floor=p;p.round=Gc(c);p.ceil=Gc(e);p.offset=Gc(l);p.range=function(a,d,b){try{Cc=mc;var c=new mc;c._=a;return f(c,d,b)}finally{Cc=Date}};return a}function Gc(a){return function(d,b){try{Cc=mc;var c=new mc;c._=d;return a(c,b)._}finally{Cc=Date}}}function M(a){function d(a){function d(d){for(var b=[],e=-1,l=0,p,f;++e<c;)if(37===
a.charCodeAt(e)){b.push(a.slice(l,e));null!=(p=Zf[l=a.charAt(++e)])&&(l=a.charAt(++e));if(f=x[l])l=f(d,null==p?"e"===l?" ":"0":p);b.push(l);l=e+1}b.push(a.slice(l,e));return b.join("")}var c=a.length;d.parse=function(d){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(b(c,a,d,0)!=d.length)return null;"p"in c&&(c.H=c.H%12+12*c.p);d=null!=c.Z&&Cc!==mc;var e=new (d?mc:Cc);"j"in c?e.setFullYear(c.y,0,c.j):"w"in c&&("W"in c||"U"in c)?(e.setFullYear(c.y,0,1),e.setFullYear(c.y,0,"W"in c?(c.w+6)%7+7*c.W-
(e.getDay()+5)%7:c.w+7*c.U-(e.getDay()+6)%7)):e.setFullYear(c.y,c.m,c.d);e.setHours(c.H+(c.Z/100|0),c.M+c.Z%100,c.S,c.L);return d?e._:e};d.toString=function(){return a};return d}function b(a,d,b,c){for(var e,l=0,p=d.length,f=b.length;l<p;){if(c>=f)return-1;e=d.charCodeAt(l++);if(37===e){if(e=d.charAt(l++),e=K[e in Zf?d.charAt(l++):e],!e||0>(c=e(a,b,c)))return-1}else if(e!=b.charCodeAt(c++))return-1}return c}var c=a.dateTime,e=a.date,l=a.time,p=a.periods,f=a.days,g=a.shortDays,h=a.months,U=a.shortMonths;
d.utc=function(a){function b(a){try{Cc=mc;var d=new Cc;d._=a;return c(d)}finally{Cc=Date}}var c=d(a);b.parse=function(a){try{Cc=mc;var d=c.parse(a);return d&&d._}finally{Cc=Date}};b.toString=c.toString;return b};d.multi=d.utc.multi=Ib;var t=D.map(),z=xc(f),k=Vc(f),m=xc(g),n=Vc(g),q=xc(h),H=Vc(h),G=xc(U),r=Vc(U);p.forEach(function(a,d){t.set(a.toLowerCase(),d)});var x={a:function(a){return g[a.getDay()]},A:function(a){return f[a.getDay()]},b:function(a){return U[a.getMonth()]},B:function(a){return h[a.getMonth()]},
c:d(c),d:function(a,d){return $a(a.getDate(),d,2)},e:function(a,d){return $a(a.getDate(),d,2)},H:function(a,d){return $a(a.getHours(),d,2)},I:function(a,d){return $a(a.getHours()%12||12,d,2)},j:function(a,d){return $a(1+Z.dayOfYear(a),d,3)},L:function(a,d){return $a(a.getMilliseconds(),d,3)},m:function(a,d){return $a(a.getMonth()+1,d,2)},M:function(a,d){return $a(a.getMinutes(),d,2)},p:function(a){return p[+(12<=a.getHours())]},S:function(a,d){return $a(a.getSeconds(),d,2)},U:function(a,d){return $a(Z.sundayOfYear(a),
d,2)},w:function(a){return a.getDay()},W:function(a,d){return $a(Z.mondayOfYear(a),d,2)},x:d(e),X:d(l),y:function(a,d){return $a(a.getFullYear()%100,d,2)},Y:function(a,d){return $a(a.getFullYear()%1E4,d,4)},Z:Ka,"%":function(){return"%"}},K={a:function(a,d,b){m.lastIndex=0;return(d=m.exec(d.slice(b)))?(a.w=n.get(d[0].toLowerCase()),b+d[0].length):-1},A:function(a,d,b){z.lastIndex=0;return(d=z.exec(d.slice(b)))?(a.w=k.get(d[0].toLowerCase()),b+d[0].length):-1},b:function(a,d,b){G.lastIndex=0;return(d=
G.exec(d.slice(b)))?(a.m=r.get(d[0].toLowerCase()),b+d[0].length):-1},B:function(a,d,b){q.lastIndex=0;return(d=q.exec(d.slice(b)))?(a.m=H.get(d[0].toLowerCase()),b+d[0].length):-1},c:function(a,d,c){return b(a,x.c.toString(),d,c)},d:kd,e:kd,H:dc,I:dc,j:da,L:Re,m:Uf,M:$c,p:function(a,d,b){d=t.get(d.slice(b,b+=2).toLowerCase());return null==d?-1:(a.p=d,b)},S:Db,U:Hb,w:Yd,W:N,x:function(a,d,c){return b(a,x.x.toString(),d,c)},X:function(a,d,c){return b(a,x.X.toString(),d,c)},y:Zc,Y:Bd,Z:Tf,"%":Ke};return d}
function $a(a,d,b){var c=0>a?"-":"";a=(c?-a:a)+"";var e=a.length;return c+(e<b?Array(b-e+1).join(d)+a:a)}function xc(a){return new RegExp("^(?:"+a.map(D.requote).join("|")+")","i")}function Vc(a){for(var d=new e,b=-1,c=a.length;++b<c;)d.set(a[b].toLowerCase(),b);return d}function Yd(a,d,b){eb.lastIndex=0;return(d=eb.exec(d.slice(b,b+1)))?(a.w=+d[0],b+d[0].length):-1}function Hb(a,d,b){eb.lastIndex=0;return(d=eb.exec(d.slice(b)))?(a.U=+d[0],b+d[0].length):-1}function N(a,d,b){eb.lastIndex=0;return(d=
eb.exec(d.slice(b)))?(a.W=+d[0],b+d[0].length):-1}function Bd(a,d,b){eb.lastIndex=0;return(d=eb.exec(d.slice(b,b+4)))?(a.y=+d[0],b+d[0].length):-1}function Zc(a,d,b){eb.lastIndex=0;if(d=eb.exec(d.slice(b,b+2))){var c=+d[0];a=(a.y=c+(68<c?1900:2E3),b+d[0].length)}else a=-1;return a}function Tf(a,d,b){return/^[+-]\d{4}$/.test(d=d.slice(b,b+5))?(a.Z=-d,b+5):-1}function Uf(a,d,b){eb.lastIndex=0;return(d=eb.exec(d.slice(b,b+2)))?(a.m=d[0]-1,b+d[0].length):-1}function kd(a,d,b){eb.lastIndex=0;return(d=
eb.exec(d.slice(b,b+2)))?(a.d=+d[0],b+d[0].length):-1}function da(a,d,b){eb.lastIndex=0;return(d=eb.exec(d.slice(b,b+3)))?(a.j=+d[0],b+d[0].length):-1}function dc(a,d,b){eb.lastIndex=0;return(d=eb.exec(d.slice(b,b+2)))?(a.H=+d[0],b+d[0].length):-1}function $c(a,d,b){eb.lastIndex=0;return(d=eb.exec(d.slice(b,b+2)))?(a.M=+d[0],b+d[0].length):-1}function Db(a,d,b){eb.lastIndex=0;return(d=eb.exec(d.slice(b,b+2)))?(a.S=+d[0],b+d[0].length):-1}function Re(a,d,b){eb.lastIndex=0;return(d=eb.exec(d.slice(b,
b+3)))?(a.L=+d[0],b+d[0].length):-1}function Ka(a){var d=a.getTimezoneOffset();a=0<d?"-":"+";var b=ia(d)/60|0;d=ia(d)%60;return a+$a(b,"0",2)+$a(d,"0",2)}function Ke(a,d,b){$f.lastIndex=0;return(a=$f.exec(d.slice(b,b+1)))?b+a[0].length:-1}function Ib(a){for(var d=a.length,b=-1;++b<d;)a[b][0]=this(a[b][0]);return function(d){for(var b=0,c=a[b];!c[1](d);)c=a[++b];return c[0](d)}}function X(){}function ca(a,d,b){var c=b.s=a+d,e=c-a;b.t=a-(c-e)+(d-e)}function S(a,d){if(a&&Fh.hasOwnProperty(a.type))Fh[a.type](a,
d)}function Ac(a,d,b){var c=-1;b=a.length-b;for(d.lineStart();++c<b;){var e=a[c];d.point(e[0],e[1],e[2])}d.lineEnd()}function tb(a,d){var b=-1,c=a.length;for(d.polygonStart();++b<c;)Ac(a[b],d,1);d.polygonEnd()}function Ja(){function a(a,d){a*=oa;d=d*oa/2+na/4;var b=a-c,p=0<=b?1:-1;b*=p;var f=Math.cos(d);d=Math.sin(d);var g=l*d;ag.add(Math.atan2(g*p*Math.sin(b),e*f+g*Math.cos(b)));c=a;e=f;l=d}var d,b,c,e,l;Mc.point=function(p,f){Mc.point=a;c=(d=p)*oa;e=Math.cos(f=(b=f)*oa/2+na/4);l=Math.sin(f)};Mc.lineEnd=
function(){a(d,b)}}function bb(a){var d=a[0];a=a[1];var b=Math.cos(a);return[b*Math.cos(d),b*Math.sin(d),Math.sin(a)]}function hb(a,d){return a[0]*d[0]+a[1]*d[1]+a[2]*d[2]}function oc(a,d){return[a[1]*d[2]-a[2]*d[1],a[2]*d[0]-a[0]*d[2],a[0]*d[1]-a[1]*d[0]]}function Zb(a,d){a[0]+=d[0];a[1]+=d[1];a[2]+=d[2]}function Ra(a,d){return[a[0]*d,a[1]*d,a[2]*d]}function cb(a){var d=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=d;a[1]/=d;a[2]/=d}function kb(a){return[Math.atan2(a[1],a[0]),Ha(a[2])]}function nc(a,
d){return 1E-6>ia(a[0]-d[0])&&1E-6>ia(a[1]-d[1])}function xe(a,d){a*=oa;var b=Math.cos(d*=oa);ce(b*Math.cos(a),b*Math.sin(a),Math.sin(d))}function ce(a,d,b){++hc;Ve+=(a-Ve)/hc;ie+=(d-ie)/hc;Ae+=(b-Ae)/hc}function Le(){function a(a,e){a*=oa;var l=Math.cos(e*=oa),p=l*Math.cos(a);a=l*Math.sin(a);e=Math.sin(e);var f=Math.atan2(Math.sqrt((f=b*e-c*a)*f+(f=c*p-d*e)*f+(f=d*a-b*p)*f),d*p+b*a+c*e);We+=f;je+=f*(d+(d=p));ke+=f*(b+(b=a));ud+=f*(c+(c=e));ce(d,b,c)}var d,b,c;Wb.point=function(e,l){e*=oa;var f=Math.cos(l*=
oa);d=f*Math.cos(e);b=f*Math.sin(e);c=Math.sin(l);Wb.point=a;ce(d,b,c)}}function Pb(){Wb.point=xe}function pc(){function a(a,d){a*=oa;var b=Math.cos(d*=oa),f=b*Math.cos(a);a=b*Math.sin(a);d=Math.sin(d);b=e*d-l*a;var p=l*f-c*d,g=c*a-e*f,h=Math.sqrt(b*b+p*p+g*g),U=c*f+e*a+l*d,t=h&&-Jb(U)/h;h=Math.atan2(h,U);Nc+=t*b;sf+=t*p;Ya+=t*g;We+=h;je+=h*(c+(c=f));ke+=h*(e+(e=a));ud+=h*(l+(l=d));ce(c,e,l)}var d,b,c,e,l;Wb.point=function(f,p){d=f;b=p;Wb.point=a;f*=oa;var g=Math.cos(p*=oa);c=g*Math.cos(f);e=g*Math.sin(f);
l=Math.sin(p);ce(c,e,l)};Wb.lineEnd=function(){a(d,b);Wb.lineEnd=Pb;Wb.point=xe}}function ad(a,d){function b(b,c){return b=a(b,c),d(b[0],b[1])}a.invert&&d.invert&&(b.invert=function(b,c){return b=d.invert(b,c),b&&a.invert(b[0],b[1])});return b}function ld(){return!0}function Da(a,d,b,c,e){var l=[],f=[];a.forEach(function(a){if(!(0>=(d=a.length-1))){var d,b=a[0],c=a[d];if(nc(b,c)){e.lineStart();for(c=0;c<d;++c)e.point((b=a[c])[0],b[1]);e.lineEnd()}else d=new Vf(b,a,null,!0),b=new Vf(b,null,d,!1),d.o=
b,l.push(d),f.push(b),d=new Vf(c,a,null,!1),b=new Vf(c,null,d,!0),d.o=b,l.push(d),f.push(b)}});f.sort(d);ye(l);ye(f);if(l.length){a=0;d=b;for(b=f.length;a<b;++a)f[a].e=d=!d;d=l[0];for(var p,g;;){for(var h=d,U=!0;h.v;)if((h=h.n)===d)return;p=h.z;e.lineStart();do{h.v=h.o.v=!0;if(h.e){if(U)for(a=0,b=p.length;a<b;++a)e.point((g=p[a])[0],g[1]);else c(h.x,h.n.x,1,e);h=h.n}else{if(U)for(p=h.p.z,a=p.length-1;0<=a;--a)e.point((g=p[a])[0],g[1]);else c(h.x,h.p.x,-1,e);h=h.p}h=h.o;p=h.z;U=!U}while(!h.v);e.lineEnd()}}}
function ye(a){if(d=a.length){for(var d,b=0,c=a[0],e;++b<d;)c.n=e=a[b],e.p=c,c=e;c.n=e=a[0];e.p=c}}function Vf(a,d,b,c){this.x=a;this.z=d;this.o=b;this.e=c;this.v=!1;this.n=this.p=null}function gb(a,d,b,c){return function(e,l){function f(d,b){var c=e(d,b);a(d=c[0],b=c[1])&&l.point(d,b)}function p(a,d){a=e(a,d);k.point(a[0],a[1])}function g(){n.point=p;k.lineStart()}function h(){n.point=f;k.lineEnd()}function U(a,d){x.push([a,d]);a=e(a,d);G.point(a[0],a[1])}function t(){G.lineStart();x=[]}function z(){U(x[0][0],
x[0][1]);G.lineEnd();var a=G.clean(),d=H.buffer();var b=d.length;x.pop();r.push(x);x=null;if(b)if(a&1){a=d[0];b=a.length-1;d=-1;var c;if(0<b){rb||(l.polygonStart(),rb=!0);for(l.lineStart();++d<b;)l.point((c=a[d])[0],c[1]);l.lineEnd()}}else 1<b&&a&2&&d.push(d.pop().concat(d.shift())),q.push(d.filter(de))}var k=d(l),m=e.invert(c[0],c[1]),n={point:f,lineStart:g,lineEnd:h,polygonStart:function(){n.point=U;n.lineStart=t;n.lineEnd=z;q=[];r=[]},polygonEnd:function(){n.point=f;n.lineStart=g;n.lineEnd=h;q=
D.merge(q);var a=m;var d=r;var c=a[0],e=a[1],p=[Math.sin(c),-Math.cos(c),0],U=0,t=0;ag.reset();for(var z=0,k=d.length;z<k;++z){var H=d[z],G=H.length;if(G){var x=H[0],K=x[0];a=x[1]/2+na/4;for(var y=Math.sin(a),la=Math.cos(a),w=1;;){w===G&&(w=0);a=H[w];var B=a[0],v=a[1]/2+na/4,A=Math.sin(v);v=Math.cos(v);var ge=B-K,Ta=0<=ge?1:-1,C=Ta*ge,T=C>na;y*=A;ag.add(Math.atan2(y*Ta*Math.sin(C),la*v+y*Math.cos(C)));U+=T?ge+Ta*Sa:ge;T^K>=c^B>=c&&(x=oc(bb(x),bb(a)),cb(x),K=oc(p,x),cb(K),K=(T^0<=ge?-1:1)*Ha(K[2]),
e>K||e===K&&(x[0]||x[1]))&&(t+=T^0<=ge?1:-1);if(!w++)break;K=B;y=A;la=v;x=a}}}d=(-1E-6>U||1E-6>U&&0>ag)^t&1;q.length?(rb||(l.polygonStart(),rb=!0),Da(q,Jc,d,b,l)):d&&(rb||(l.polygonStart(),rb=!0),l.lineStart(),b(null,null,1,l),l.lineEnd());rb&&(l.polygonEnd(),rb=!1);q=r=null},sphere:function(){l.polygonStart();l.lineStart();b(null,null,1,l);l.lineEnd();l.polygonEnd()}},q,H=ec(),G=d(H),rb=!1,r,x;return n}}function de(a){return 1<a.length}function ec(){var a=[],d;return{lineStart:function(){a.push(d=
[])},point:function(a,b){d.push([a,b])},lineEnd:B,buffer:function(){var b=a;a=[];d=null;return b},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}function Jc(a,d){return(0>(a=a.x)[0]?a[1]-Ga-1E-6:Ga-a[1])-(0>(d=d.x)[0]?d[1]-Ga-1E-6:Ga-d[1])}function vg(a){function d(a,d){return Math.cos(a)*Math.cos(d)>e}function b(a,d,b){var c=bb(a),l=bb(d),f=[1,0,0];l=oc(c,l);var p=hb(l,l);c=l[0];var g=p-c*c;if(!g)return!b&&a;p=e*p/g;g=-e*c/g;c=oc(f,l);f=Ra(f,p);l=Ra(l,g);Zb(f,l);l=hb(f,c);p=hb(c,
c);g=l*l-p*(hb(f,f)-1);if(!(0>g)){var h=Math.sqrt(g);g=Ra(c,(-l-h)/p);Zb(g,f);g=kb(g);if(!b)return g;b=a[0];var U=d[0];a=a[1];d=d[1];if(U<b){var t=b;b=U;U=t}var z=U-b,k=1E-6>ia(z-na);!k&&d<a&&(t=a,a=d,d=t);if(k||1E-6>z?k?0<a+d^g[1]<(1E-6>ia(g[0]-b)?a:d):a<=g[1]&&g[1]<=d:z>na^(b<=g[0]&&g[0]<=U))return d=Ra(c,(-l+h)/p),Zb(d,f),[g,kb(d)]}}function c(d,b){var c=l?a:na-a,e=0;d<-c?e|=1:d>c&&(e|=2);b<-c?e|=4:b>c&&(e|=8);return e}var e=Math.cos(a),l=0<e,f=1E-6<ia(e),p=Kd(a,6*oa);return gb(d,function(a){var e,
p,g,h,U;return{lineStart:function(){h=g=!1;U=1},point:function(t,z){var k=[t,z],m=d(t,z);z=l?m?0:c(t,z):m?c(t+(0>t?na:-na),z):0;!e&&(h=g=m)&&a.lineStart();m!==g&&(t=b(e,k),nc(e,t)||nc(k,t))&&(k[0]+=1E-6,k[1]+=1E-6,m=d(k[0],k[1]));if(m!==g)U=0,m?(a.lineStart(),t=b(k,e),a.point(t[0],t[1])):(t=b(e,k),a.point(t[0],t[1]),a.lineEnd()),e=t;else if(f&&e&&l^m){var n;z&p||!(n=b(k,e,!0))||(U=0,l?(a.lineStart(),a.point(n[0][0],n[0][1]),a.point(n[1][0],n[1][1]),a.lineEnd()):(a.point(n[1][0],n[1][1]),a.lineEnd(),
a.lineStart(),a.point(n[0][0],n[0][1])))}!m||e&&nc(e,k)||a.point(k[0],k[1]);e=k;g=m;p=z},lineEnd:function(){g&&a.lineEnd();e=null},clean:function(){return U|(h&&g)<<1}}},p,l?[0,-a]:[-na,a-na])}function bd(a,d,b,c){return function(e){var l=e.a,f=e.b,p=l.x;l=l.y;var g=0,h=1,U=f.x-p;f=f.y-l;var t=a-p;if(U||!(0<t)){t/=U;if(0>U){if(t<g)return;t<h&&(h=t)}else if(0<U){if(t>h)return;t>g&&(g=t)}t=b-p;if(U||!(0>t)){t/=U;if(0>U){if(t>h)return;t>g&&(g=t)}else if(0<U){if(t<g)return;t<h&&(h=t)}t=d-l;if(f||!(0<
t)){t/=f;if(0>f){if(t<g)return;t<h&&(h=t)}else if(0<f){if(t>h)return;t>g&&(g=t)}t=c-l;if(f||!(0>t)){t/=f;if(0>f){if(t>h)return;t>g&&(g=t)}else if(0<f){if(t<g)return;t<h&&(h=t)}0<g&&(e.a={x:p+g*U,y:l+g*f});1>h&&(e.b={x:p+h*U,y:l+h*f});return e}}}}}}function Wf(a,d,b,c){function e(c,e){return 1E-6>ia(c[0]-a)?0<e?0:3:1E-6>ia(c[0]-b)?0<e?2:1:1E-6>ia(c[1]-d)?0<e?1:0:0<e?3:2}function l(a,d){return f(a.x,d.x)}function f(a,d){var b=e(a,1),c=e(d,1);return b!==c?b-c:0===b?d[1]-a[1]:1===b?a[0]-d[0]:2===b?a[1]-
d[1]:d[0]-a[0]}return function(p){function g(l,p,g,h){var t=0,U=0;if(null==l||(t=e(l,g))!==(U=e(p,g))||0>f(l,p)^0<g){do h.point(0===t||3===t?a:b,1<t?c:d);while((t=(t+g+4)%4)!==U)}else h.point(p[0],p[1])}function h(e,l){a<=e&&e<=b&&d<=l&&l<=c&&p.point(e,l)}function t(e,l){e=Math.max(-1E9,Math.min(1E9,e));l=Math.max(-1E9,Math.min(1E9,l));var f=a<=e&&e<=b&&d<=l&&l<=c;n&&q.push([e,l]);if(la)G=e,rb=l,x=f,la=!1,f&&(p.lineStart(),p.point(e,l));else if(f&&y)p.point(e,l);else{var g={a:{x:r,y:K},b:{x:e,y:l}};
k(g)?(y||(p.lineStart(),p.point(g.a.x,g.a.y)),p.point(g.b.x,g.b.y),f||p.lineEnd(),w=!1):f&&(p.lineStart(),p.point(e,l),w=!1)}r=e;K=l;y=f}var U=p,z=ec(),k=bd(a,d,b,c),m,n,q,H={point:h,lineStart:function(){H.point=t;n&&n.push(q=[]);la=!0;y=!1;r=K=NaN},lineEnd:function(){m&&(t(G,rb),x&&y&&z.rejoin(),m.push(z.buffer()));H.point=h;y&&p.lineEnd()},polygonStart:function(){p=z;m=[];n=[];w=!0},polygonEnd:function(){p=U;m=D.merge(m);var d=[a,c];for(var b=0,e=n.length,f=d[1],h=0;h<e;++h)for(var t=1,z=n[h],k=
z.length,H=z[0],G;t<k;++t)G=z[t],H[1]<=f?G[1]>f&&0<xb(H,G,d)&&++b:G[1]<=f&&0>xb(H,G,d)&&--b,H=G;d=0!==b;b=w&&d;e=m.length;if(b||e)p.polygonStart(),b&&(p.lineStart(),g(null,null,1,p),p.lineEnd()),e&&Da(m,l,d,g,p),p.polygonEnd();m=n=q=null}},G,rb,x,r,K,y,la,w;return H}}function fc(a){var d=0,b=na/3,c=Qb(a);a=c(d,b);a.parallels=function(a){return arguments.length?c(d=a[0]*na/180,b=a[1]*na/180):[d/na*180,b/na*180]};return a}function ee(a,d){function b(a,d){d=Math.sqrt(e-2*c*Math.sin(d))/c;return[d*Math.sin(a*=
c),l-d*Math.cos(a)]}a=Math.sin(a);var c=(a+Math.sin(d))/2,e=1+a*(2*c-a),l=Math.sqrt(e)/c;b.invert=function(a,d){d=l-d;return[Math.atan2(a,d)/c,Ha((e-(a*a+d*d)*c*c)/(2*c))]};return b}function Se(){function a(a,d){Od+=e*a-c*d;c=a;e=d}var d,b,c,e;dd.point=function(l,p){dd.point=a;d=c=l;b=e=p};dd.lineEnd=function(){a(d,b)}}function P(){function a(a,d){p.push("M",a,",",d,l)}function d(a,d){p.push("M",a,",",d);f.point=b}function b(a,d){p.push("L",a,",",d)}function c(){f.point=a}function e(){p.push("Z")}
var l=Gb(4.5),p=[],f={point:a,lineStart:function(){f.point=d},lineEnd:c,polygonStart:function(){f.lineEnd=e},polygonEnd:function(){f.lineEnd=c;f.point=a},pointRadius:function(a){l=Gb(a);return f},result:function(){if(p.length){var a=p.join("");p=[];return a}}};return f}function Gb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function md(a,d){Ve+=a;ie+=d;++Ae}function pf(){function a(a,c){var e=a-d,l=c-b;e=Math.sqrt(e*e+l*l);je+=e*(d+a)/2;ke+=e*(b+c)/2;ud+=e;md(d=a,
b=c)}var d,b;Tb.point=function(c,e){Tb.point=a;md(d=c,b=e)}}function Te(){Tb.point=md}function fe(){function a(a,d){var b=a-c,l=d-e;b=Math.sqrt(b*b+l*l);je+=b*(c+a)/2;ke+=b*(e+d)/2;ud+=b;b=e*a-c*d;Nc+=b*(c+a);sf+=b*(e+d);Ya+=3*b;md(c=a,e=d)}var d,b,c,e;Tb.point=function(l,p){Tb.point=a;md(d=c=l,b=e=p)};Tb.lineEnd=function(){a(d,b)}}function Kc(a){function d(d,b){a.moveTo(d+p,b);a.arc(d,b,p,0,Sa)}function b(d,b){a.moveTo(d,b);f.point=c}function c(d,b){a.lineTo(d,b)}function e(){f.point=d}function l(){a.closePath()}
var p=4.5,f={point:d,lineStart:function(){f.point=b},lineEnd:e,polygonStart:function(){f.lineEnd=l},polygonEnd:function(){f.lineEnd=e;f.point=d},pointRadius:function(a){p=a;return f},result:B};return f}function nd(a){function d(a){return(p?c:b)(a)}function b(d){return se(d,function(b,c){b=a(b,c);d.point(b[0],b[1])})}function c(d){function b(b,c){b=a(b,c);d.point(b[0],b[1])}function c(){G=NaN;y.point=l;d.lineStart()}function l(b,c){var l=bb([b,c]);c=a(b,c);e(G,rb,H,x,r,K,G=c[0],rb=c[1],H=b,x=l[0],
r=l[1],K=l[2],p,d);d.point(G,rb)}function f(){y.point=b;d.lineEnd()}function g(){c();y.point=h;y.lineEnd=t}function h(a,d){l(U=a,d);z=G;k=rb;m=x;n=r;q=K;y.point=l}function t(){e(G,rb,H,x,r,K,z,k,U,m,n,q,p,d);y.lineEnd=f;f()}var U,z,k,m,n,q,H,G,rb,x,r,K,y={point:b,lineStart:c,lineEnd:f,polygonStart:function(){d.polygonStart();y.lineStart=g},polygonEnd:function(){d.polygonEnd();y.lineStart=c}};return y}function e(d,b,c,p,g,h,t,U,z,k,m,n,q,H){var G=t-d,rb=U-b,x=G*G+rb*rb;if(x>4*l&&q--){var r=p+k,K=g+
m,y=h+n,la=Math.sqrt(r*r+K*K+y*y),w=Math.asin(y/=la),B=1E-6>ia(ia(y)-1)||1E-6>ia(c-z)?(c+z)/2:Math.atan2(K,r),v=a(B,w);w=v[0];v=v[1];var A=w-d,Ta=v-b,ge=rb*A-G*Ta;if(ge*ge/x>l||.3<ia((G*A+rb*Ta)/x-.5)||p*k+g*m+h*n<f)e(d,b,c,p,g,h,w,v,B,r/=la,K/=la,y,q,H),H.point(w,v),e(w,v,B,r,K,y,t,U,z,k,m,n,q,H)}}var l=.5,f=Math.cos(30*oa),p=16;d.precision=function(a){if(!arguments.length)return Math.sqrt(l);p=0<(l=a*a)&&16;return d};return d}function Hd(a){var d=nd(function(d,b){return a([d*db,b*db])});return function(a){return od(d(a))}}
function sc(a){this.stream=a}function se(a,d){return{point:d,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function tc(a){return Qb(function(){return a})()}function Qb(a){function d(a){a=f(a[0]*oa,a[1]*oa);return[a[0]*h+H,G-a[1]*h]}function b(a){return(a=f.invert((a[0]-H)/h,(G-a[1])/h))&&[a[0]*db,a[1]*db]}function c(){f=ad(p=Id(m,n,q),l);var a=l(z,k);H=t-a[0]*h;G=U+
a[1]*h;return e()}function e(){w&&(w.valid=!1,w=null);return d}var l,p,f,g=nd(function(a,d){a=l(a,d);return[a[0]*h+H,G-a[1]*h]}),h=150,t=480,U=250,z=0,k=0,m=0,n=0,q=0,H,G,x=Be,r=jb,K=null,y=null,w;d.stream=function(a){w&&(w.valid=!1);w=od(x(p,g(r(a))));w.valid=!0;return w};d.clipAngle=function(a){if(!arguments.length)return K;x=null==a?(K=a,Be):vg((K=+a)*oa);return e()};d.clipExtent=function(a){if(!arguments.length)return y;r=(y=a)?Wf(a[0][0],a[0][1],a[1][0],a[1][1]):jb;return e()};d.scale=function(a){if(!arguments.length)return h;
h=+a;return c()};d.translate=function(a){if(!arguments.length)return[t,U];t=+a[0];U=+a[1];return c()};d.center=function(a){if(!arguments.length)return[z*db,k*db];z=a[0]%360*oa;k=a[1]%360*oa;return c()};d.rotate=function(a){if(!arguments.length)return[m*db,n*db,q*db];m=a[0]%360*oa;n=a[1]%360*oa;q=2<a.length?a[2]%360*oa:0;return c()};D.rebind(d,g,"precision");return function(){l=a.apply(this,arguments);d.invert=l.invert&&b;return c()}}function od(a){return se(a,function(d,b){a.point(d*oa,b*oa)})}function Bc(a,
d){return[a,d]}function te(a,d){return[a>na?a-Sa:a<-na?a+Sa:a,d]}function Id(a,d,b){return a?d||b?ad(pd(a),Jd(d,b)):pd(a):d||b?Jd(d,b):te}function qf(a){return function(d,b){return d+=a,[d>na?d-Sa:d<-na?d+Sa:d,b]}}function pd(a){var d=qf(a);d.invert=qf(-a);return d}function Jd(a,d){function b(a,d){var b=Math.cos(d),f=Math.cos(a)*b;a=Math.sin(a)*b;d=Math.sin(d);b=d*c+f*e;return[Math.atan2(a*l-b*p,f*c-d*e),Ha(b*l+a*p)]}var c=Math.cos(a),e=Math.sin(a),l=Math.cos(d),p=Math.sin(d);b.invert=function(a,
d){var b=Math.cos(d),f=Math.cos(a)*b;a=Math.sin(a)*b;d=Math.sin(d);b=d*l-a*p;return[Math.atan2(a*l+d*p,f*c+b*e),Ha(b*c-f*e)]};return b}function Kd(a,d){var b=Math.cos(a),c=Math.sin(a);return function(e,l,p,f){var g=p*d;if(null!=e){if(e=Rb(b,e),l=Rb(b,l),0<p?e<l:e>l)e+=p*Sa}else e=a+p*Sa,l=a-.5*g;for(var h;0<p?e>l:e<l;e-=g)f.point((h=kb([b,-c*Math.cos(e),-c*Math.sin(e)]))[0],h[1])}}function Rb(a,d){d=bb(d);d[0]-=a;cb(d);a=Jb(-d[1]);return((0>-d[2]?-a:a)+2*Math.PI-1E-6)%(2*Math.PI)}function Ld(a,d,
b){var c=D.range(a,d-1E-6,b).concat(d);return function(a){return c.map(function(d){return[a,d]})}}function Md(a,d,b){var c=D.range(a,d-1E-6,b).concat(d);return function(a){return c.map(function(d){return[d,a]})}}function qd(a){return a.source}function gc(a){return a.target}function uc(a,d,b,c){var e=Math.cos(d),l=Math.sin(d),p=Math.cos(c),f=Math.sin(c),g=e*Math.cos(a),h=e*Math.sin(a),t=p*Math.cos(b),U=p*Math.sin(b),z=2*Math.asin(Math.sqrt(R(c-d)+e*p*R(b-a))),k=1/Math.sin(z);b=z?function(a){var d=
Math.sin(a*=z)*k;a=Math.sin(z-a)*k;var b=a*g+d*t,c=a*h+d*U;return[Math.atan2(c,b)*db,Math.atan2(a*l+d*f,Math.sqrt(b*b+c*c))*db]}:function(){return[a*db,d*db]};b.distance=z;return b}function Wa(a,d){function b(d,b){var c=Math.cos(b),e=a(Math.cos(d)*c);return[e*c*Math.sin(d),e*Math.sin(b)]}b.invert=function(a,b){var c=Math.sqrt(a*a+b*b),e=d(c),l=Math.sin(e);return[Math.atan2(a*l,c*Math.cos(e)),Math.asin(c&&b*l/c)]};return b}function ta(a,d){function b(a,d){0<l?d<-Ga+1E-6&&(d=-Ga+1E-6):d>Ga-1E-6&&(d=
Ga-1E-6);d=l/Math.pow(Math.tan(na/4+d/2),e);return[d*Math.sin(e*a),l-d*Math.cos(e*a)]}var c=Math.cos(a),e=a===d?Math.sin(a):Math.log(c/Math.cos(d))/Math.log(Math.tan(na/4+d/2)/Math.tan(na/4+a/2)),l=c*Math.pow(Math.tan(na/4+a/2),e)/e;if(!e)return Ob;b.invert=function(a,d){d=l-d;return[Math.atan2(a,d)/e,2*Math.atan(Math.pow(l/((0<e?1:0>e?-1:0)*Math.sqrt(a*a+d*d)),1/e))-Ga]};return b}function kg(a,d){function b(a,d){d=l-d;return[d*Math.sin(e*a),l-d*Math.cos(e*a)]}var c=Math.cos(a),e=a===d?Math.sin(a):
(c-Math.cos(d))/(d-a),l=c/e+a;if(1E-6>ia(e))return Bc;b.invert=function(a,d){d=l-d;return[Math.atan2(a,d)/e,l-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+d*d)]};return b}function Ob(a,d){return[a,Math.log(Math.tan(na/4+d/2))]}function kc(a){var d=tc(a),b=d.scale,c=d.translate,e=d.clipExtent,l;d.scale=function(){var a=b.apply(d,arguments);return a===d?l?d.clipExtent(null):d:a};d.translate=function(){var a=c.apply(d,arguments);return a===d?l?d.clipExtent(null):d:a};d.clipExtent=function(a){var p=e.apply(d,arguments);
if(p===d){if(l=null==a){var f=na*b(),g=c();e([[g[0]-f,g[1]-f],[g[0]+f,g[1]+f]])}}else l&&(p=null);return p};return d.clipExtent(null)}function Je(a,d){return[Math.log(Math.tan(na/4+d/2)),-a]}function fd(a){return a[0]}function lg(a){return a[1]}function hf(a){for(var d=a.length,b=[0,1],c=2,e=2;e<d;e++){for(;1<c&&0>=xb(a[b[c-2]],a[b[c-1]],a[e]);)--c;b[c++]=e}return b.slice(0,c)}function Gf(a,d){return a[0]-d[0]||a[1]-d[1]}function Hf(a,d,b){return(b[0]-d[0])*(a[1]-d[1])<(b[1]-d[1])*(a[0]-d[0])}function If(a,
d,b,c){var e=a[0],l=b[0],p=d[0]-e,f=c[0]-l;a=a[1];b=b[1];d=d[1]-a;c=c[1]-b;l=(f*(a-b)-c*(e-l))/(c*p-f*d);return[e+l*p,a+l*d]}function Jf(a){var d=a[0];a=a[a.length-1];return!(d[0]-a[0]||d[1]-a[1])}function Dh(){lf(this);this.edge=this.site=this.circle=null}function mg(a){var d=tf.pop()||new Dh;d.site=a;return d}function pg(a){za(a);le.remove(a);tf.push(a);lf(a)}function qg(a,d){var b=a.site,c=b.x,e=b.y,l=e-d;if(!l)return c;a=a.P;if(!a)return-Infinity;b=a.site;a=b.x;b=b.y;d=b-d;if(!d)return a;var p=
a-c,f=1/l-1/d,g=p/d;return f?(-g+Math.sqrt(g*g-2*f*(p*p/(-2*d)-b+d/2+e-l/2)))/f+c:(c+a)/2}function id(a){this.site=a;this.edges=[]}function Mf(a,d){return d.angle-a.angle}function Cd(){lf(this);this.x=this.y=this.arc=this.site=this.cy=null}function $d(a){var d=a.P,b=a.N;if(d&&b){var c=d.site;d=a.site;var e=b.site;if(c!==e){b=d.x;var l=d.y,p=c.x-b,f=c.y-l;c=e.x-b;e=e.y-l;var g=2*(p*e-f*c);if(!(-1E-12<=g)){var h=p*p+f*f,t=c*c+e*e;f=(e*h-f*t)/g;p=(p*t-c*h)/g;e=p+l;l=ji.pop()||new Cd;l.arc=a;l.site=d;
l.x=f+b;l.y=e+Math.sqrt(f*f+p*p);l.cy=e;a.circle=l;a=null;for(d=lh._;d;)if(l.y<d.y||l.y===d.y&&l.x<=d.x)if(d.L)d=d.L;else{a=d.P;break}else if(d.R)d=d.R;else{a=d;break}lh.insert(a,l);a||(Wh=l)}}}}function za(a){var d=a.circle;d&&(d.P||(Wh=d.N),lh.remove(d),ji.push(d),lf(d),a.circle=null)}function nf(a,d){var b=a.b;if(b)return!0;var c=a.a;b=d[0][0];var e=d[1][0],l=d[0][1];d=d[1][1];var p=a.l,f=a.r,g=p.x;p=p.y;var h=f.x;f=f.y;var t=(g+h)/2;if(f===p){if(t<b||t>=e)return;if(g>h){if(!c)c={x:t,y:l};else if(c.y>=
d)return;b={x:t,y:d}}else{if(!c)c={x:t,y:d};else if(c.y<l)return;b={x:t,y:l}}}else{var z=(g-h)/(f-p);t=(p+f)/2-z*t;if(-1>z||1<z)if(g>h){if(!c)c={x:(l-t)/z,y:l};else if(c.y>=d)return;b={x:(d-t)/z,y:d}}else{if(!c)c={x:(d-t)/z,y:d};else if(c.y<l)return;b={x:(l-t)/z,y:l}}else if(p<f){if(!c)c={x:b,y:z*b+t};else if(c.x>=e)return;b={x:e,y:z*e+t}}else{if(!c)c={x:e,y:z*e+t};else if(c.x<b)return;b={x:b,y:z*b+t}}}a.a=c;a.b=b;return!0}function Zd(a,d){this.l=a;this.r=d;this.a=this.b=null}function Dd(a,d,b,c){var e=
new Zd(a,d);vd.push(e);b&&gd(e,a,d,b);c&&gd(e,d,a,c);mh[a.i].edges.push(new Nf(e,a,d));mh[d.i].edges.push(new Nf(e,d,a));return e}function ih(a,d,b){a=new Zd(a,null);a.a=d;a.b=b;vd.push(a);return a}function gd(a,d,b,c){a.a||a.b?a.l===b?a.b=c:a.a=c:(a.a=c,a.l=d,a.r=b)}function Nf(a,d,b){var c=a.a,e=a.b;this.edge=a;this.site=d;this.angle=b?Math.atan2(b.y-d.y,b.x-d.x):a.l===d?Math.atan2(e.x-c.x,c.y-e.y):Math.atan2(c.x-e.x,e.y-c.y)}function Yc(){this._=null}function lf(a){a.U=a.C=a.L=a.R=a.P=a.N=null}
function mf(a,d){var b=d.R,c=d.U;c?c.L===d?c.L=b:c.R=b:a._=b;b.U=c;d.U=b;d.R=b.L;d.R&&(d.R.U=d);b.L=d}function kf(a,d){var b=d.L,c=d.U;c?c.L===d?c.L=b:c.R=b:a._=b;b.U=c;d.U=b;d.L=b.R;d.L&&(d.L.U=d);b.R=d}function og(a){for(;a.L;)a=a.L;return a}function Ne(a,d){var b=a.sort(jh).pop(),c;vd=[];mh=Array(a.length);le=new Yc;for(lh=new Yc;;){var e=Wh;if(b&&(!e||b.y<e.y||b.y===e.y&&b.x<e.x)){if(b.x!==c||b.y!==l){mh[b.i]=new id(b);var l=c=void 0;e=b;for(var p=e.x,f=e.y,g=le._;g;){var h=qg(g,f)-p;if(1E-6<
h)g=g.L;else{var t=g;var z=f;var k=t.N;k?z=qg(k,z):(t=t.site,z=t.y===z?t.x:Infinity);z=p-z;if(1E-6<z){if(!g.R){l=g;break}g=g.R}else{-1E-6<h?(l=g.P,c=g):-1E-6<z?(l=g,c=g.N):l=c=g;break}}}h=mg(e);le.insert(l,h);if(l||c)if(l===c)za(l),c=mg(l.site),le.insert(h,c),h.edge=c.edge=Dd(l.site,h.site),$d(l),$d(c);else if(c){za(l);za(c);p=l.site;g=p.x;z=p.y;t=e.x-g;k=e.y-z;f=c.site;var U=f.x-g,m=f.y-z,n=2*(t*m-k*U),q=t*t+k*k,H=U*U+m*m;g={x:(m*q-k*H)/n+g,y:(t*H-U*q)/n+z};gd(c.edge,p,f,g);h.edge=Dd(p,e,null,g);
c.edge=Dd(e,f,null,g);$d(l);$d(c)}else h.edge=Dd(l.site,h.site);c=b.x;l=b.y}b=a.pop()}else if(e){f=e.arc;e=f.circle;p=e.x;g=e.cy;e={x:p,y:g};t=f.P;z=f.N;h=[f];pg(f);for(f=t;f.circle&&1E-6>ia(p-f.circle.x)&&1E-6>ia(g-f.circle.cy);)t=f.P,h.unshift(f),pg(f),f=t;h.unshift(f);za(f);for(t=z;t.circle&&1E-6>ia(p-t.circle.x)&&1E-6>ia(g-t.circle.cy);)z=t.N,h.push(t),pg(t),t=z;h.push(t);za(t);g=h.length;for(p=1;p<g;++p)t=h[p],f=h[p-1],gd(t.edge,f.site,t.site,e);f=h[0];t=h[g-1];t.edge=Dd(f.site,t.site,null,e);
$d(f);$d(t)}else break}if(d){a=vd;b=bd(d[0][0],d[0][1],d[1][0],d[1][1]);for(c=a.length;c--;)if(l=a[c],!nf(l,d)||!b(l)||1E-6>ia(l.a.x-l.b.x)&&1E-6>ia(l.a.y-l.b.y))l.a=l.b=null,a.splice(c,1);a=d[0][0];b=d[1][0];c=d[0][1];d=d[1][1];p=mh;for(f=p.length;f--;)if((g=p[f])&&g.prepare())for(t=g.edges,k=t.length,z=0;z<k;)if(U=t[z].end(),e=U.x,h=U.y,m=t[++z%k].start(),l=m.x,m=m.y,1E-6<ia(e-l)||1E-6<ia(h-m))t.splice(z,0,new Nf(ih(g.site,U,1E-6>ia(e-a)&&1E-6<d-h?{x:a,y:1E-6>ia(l-a)?m:d}:1E-6>ia(h-d)&&1E-6<b-e?
{x:1E-6>ia(m-d)?l:b,y:d}:1E-6>ia(e-b)&&1E-6<h-c?{x:b,y:1E-6>ia(l-b)?m:c}:1E-6>ia(h-c)&&1E-6<e-a?{x:1E-6>ia(m-c)?l:a,y:c}:null),g.site,null)),++k}d={cells:mh,edges:vd};le=lh=vd=mh=null;return d}function jh(a,d){return d.y-a.y||d.x-a.x}function Pg(a){return a.x}function Mg(a){return a.y}function Of(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Oe(a,d,b,c,e,l){if(!a(d,b,c,e,l)){var f=.5*(b+e),p=.5*(c+l);d=d.nodes;d[0]&&Oe(a,d[0],b,c,f,p);d[1]&&Oe(a,d[1],f,c,e,p);d[2]&&Oe(a,d[2],b,p,f,
l);d[3]&&Oe(a,d[3],f,p,e,l)}}function ae(a,d,b,c,e,l,f){var p=Infinity,g;(function Kh(a,h,t,z,k){var m;if(!(h>l||t>f||z<c||k<e)){if(m=a.point){var U=d-m[0],n=b-m[1];U=U*U+n*n;U<p&&(U=Math.sqrt(p=U),c=d-U,e=b-U,l=d+U,f=b+U,g=m)}m=a.nodes;U=.5*(h+z);n=.5*(t+k);for(var q=(b>=n)<<1|d>=U,H=q+4;q<H;++q)if(a=m[q&3])switch(q&3){case 0:Kh(a,h,t,U,n);break;case 1:Kh(a,U,t,z,n);break;case 2:Kh(a,h,n,U,k);break;case 3:Kh(a,U,n,z,k)}}})(a,c,e,l,f);return g}function sg(a,d){a=D.rgb(a);d=D.rgb(d);var b=a.r,c=a.g,
e=a.b,l=d.r-b,f=d.g-c,p=d.b-e;return function(a){return"#"+cc(Math.round(b+l*a))+cc(Math.round(c+f*a))+cc(Math.round(e+p*a))}}function Qg(a,d){var b={},c={},e;for(e in a)e in d?b[e]=Lb(a[e],d[e]):c[e]=a[e];for(e in d)e in a||(c[e]=d[e]);return function(a){for(e in b)c[e]=b[e](a);return c}}function ob(a,d){a=+a;d=+d;return function(b){return a*(1-b)+d*b}}function of(a,d){var b=Xh.lastIndex=Gh.lastIndex=0,c,e,l,f=-1,p=[],g=[];a+="";for(d+="";(c=Xh.exec(a))&&(e=Gh.exec(d));)(l=e.index)>b&&(l=d.slice(b,
l),p[f]?p[f]+=l:p[++f]=l),(c=c[0])===(e=e[0])?p[f]?p[f]+=e:p[++f]=e:(p[++f]=null,g.push({i:f,x:ob(c,e)})),b=Gh.lastIndex;b<d.length&&(l=d.slice(b),p[f]?p[f]+=l:p[++f]=l);return 2>p.length?g[0]?(d=g[0].x,function(a){return d(a)+""}):function(){return d}:(d=g.length,function(a){for(var b=0,c;b<d;++b)p[(c=g[b]).i]=c.x(a);return p.join("")})}function Lb(a,d){for(var b=D.interpolators.length,c;0<=--b&&!(c=D.interpolators[b](a,d)););return c}function Pf(a,d){var b=[],c=[],e=a.length,l=d.length,f=Math.min(a.length,
d.length),p;for(p=0;p<f;++p)b.push(Lb(a[p],d[p]));for(;p<e;++p)c[p]=a[p];for(;p<l;++p)c[p]=d[p];return function(a){for(p=0;p<f;++p)c[p]=b[p](a);return c}}function qa(a){return function(d){return 0>=d?0:1<=d?1:a(d)}}function Hc(a){return function(d){return 1-a(1-d)}}function Qa(a){return function(d){return.5*(.5>d?a(2*d):2-a(2-2*d))}}function rc(a){return a*a}function Ia(a){return a*a*a}function we(a){if(0>=a)return 0;if(1<=a)return 1;var d=a*a,b=d*a;return 4*(.5>a?b:3*(a-d)+b-.75)}function zc(a){return 1-
Math.cos(a*Ga)}function jd(a){return Math.pow(2,10*(a-1))}function Qf(a){return 1-Math.sqrt(1-a*a)}function tg(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Lf(a,d){d-=a;return function(b){return Math.round(a+d*b)}}function Ng(a){var d=[a.a,a.b],b=[a.c,a.d],c=ve(d),e=d[0]*b[0]+d[1]*b[1],l=-e;b[0]+=l*d[0];b[1]+=l*d[1];l=ve(b)||0;d[0]*b[1]<b[0]*d[1]&&(d[0]*=-1,d[1]*=-1,c*=-1,e*=-1);this.rotate=(c?
Math.atan2(d[1],d[0]):Math.atan2(-b[0],b[1]))*db;this.translate=[a.e,a.f];this.scale=[c,l];this.skew=l?Math.atan2(e,l)*db:0}function ve(a){var d=Math.sqrt(a[0]*a[0]+a[1]*a[1]);d&&(a[0]/=d,a[1]/=d);return d}function ug(a,d){var b=[],c=[],e=D.transform(a),l=D.transform(d);d=e.translate;a=l.translate;var p=e.rotate,f=l.rotate,g=e.skew,h=l.skew;e=e.scale;l=l.scale;d[0]!=a[0]||d[1]!=a[1]?(b.push("translate(",null,",",null,")"),c.push({i:1,x:ob(d[0],a[0])},{i:3,x:ob(d[1],a[1])})):a[0]||a[1]?b.push("translate("+
a+")"):b.push("");p!=f?(180<p-f?f+=360:180<f-p&&(p+=360),c.push({i:b.push(b.pop()+"rotate(",null,")")-2,x:ob(p,f)})):f&&b.push(b.pop()+"rotate("+f+")");g!=h?c.push({i:b.push(b.pop()+"skewX(",null,")")-2,x:ob(g,h)}):h&&b.push(b.pop()+"skewX("+h+")");if(e[0]!=l[0]||e[1]!=l[1]){var t=b.push(b.pop()+"scale(",null,",",null,")");c.push({i:t-4,x:ob(e[0],l[0])},{i:t-2,x:ob(e[1],l[1])})}else 1==l[0]&&1==l[1]||b.push(b.pop()+"scale("+l+")");t=c.length;return function(a){for(var d=-1,e;++d<t;)b[(e=c[d]).i]=
e.x(a);return b.join("")}}function wh(a,d){d=(d-=a=+a)||1/d;return function(b){return(b-a)/d}}function Rf(a,d){d=(d-=a=+a)||1/d;return function(b){return Math.max(0,Math.min(1,(b-a)/d))}}function Lg(a){var d=a.source;a=a.target;var b=a;if(d===b)var c=d;else{c=Rg(d);b=Rg(b);for(var e=c.pop(),l=b.pop(),p=null;e===l;)p=e,e=c.pop(),l=b.pop();c=p}for(b=[d];d!==c;)d=d.parent,b.push(d);for(d=b.length;a!==c;)b.splice(d,0,a),a=a.parent;return b}function Rg(a){for(var d=[],b=a.parent;null!=b;)d.push(a),a=b,
b=b.parent;d.push(a);return d}function th(a){a.fixed|=2}function kh(a){a.fixed&=-7}function uh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function ac(a){a.fixed&=-5}function qb(a,d,b){var c=0,e=0;a.charge=0;if(!a.leaf)for(var l=a.nodes,p=l.length,f=-1,g;++f<p;)g=l[f],null!=g&&(qb(g,d,b),a.charge+=g.charge,c+=g.charge*g.cx,e+=g.charge*g.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),d*=b[a.point.index],a.charge+=a.pointCharge=d,c+=d*a.point.x,e+=d*a.point.y);a.cx=c/a.charge;a.cy=
e/a.charge}function Kb(a,d){D.rebind(a,d,"sort","children","value");a.nodes=a;a.links=hh;return a}function ue(a,d){for(var b,c,e=[a];null!=(a=e.pop());)if(d(a),(b=a.children)&&(c=b.length))for(;0<=--c;)e.push(b[c])}function wb(a,d){for(var b,c,e=[a],l=[];null!=(a=e.pop());)if(l.push(a),(b=a.children)&&(c=b.length))for(a=-1;++a<c;)e.push(b[a]);for(;null!=(a=l.pop());)d(a)}function jf(a){return a.children}function Kf(a){return a.value}function Kg(a,d){return d.value-a.value}function hh(a){return D.merge(a.map(function(a){return(a.children||
[]).map(function(d){return{source:a,target:d}})}))}function Ua(a){return a.x}function $b(a){return a.y}function ng(a,d,b){a.y0=d;a.y=b}function Me(a){return D.range(a.length)}function sa(a){var d=-1;a=a[0].length;for(var b=[];++d<a;)b[d]=0;return b}function hd(a){for(var d=1,b=0,c=a[0][1],e,l=a.length;d<l;++d)(e=a[d][1])>c&&(b=d,c=e);return b}function rg(a){return a.reduce(Og,0)}function Og(a,d){return a+d[1]}function vh(a,d){return pb(a,Math.ceil(Math.log(d.length)/Math.LN2+1))}function pb(a,d){var b=
-1,c=+a[0];a=(a[1]-c)/d;for(var e=[];++b<=d;)e[b]=a*b+c;return e}function ka(a){return[D.min(a),D.max(a)]}function qc(a,d){return a.value-d.value}function bc(a,d){var b=a._pack_next;a._pack_next=d;d._pack_prev=a;d._pack_next=b;b._pack_prev=d}function Xc(a,d){a._pack_next=d;d._pack_prev=a}function Bb(a,d){var b=d.x-a.x,c=d.y-a.y;a=a.r+d.r;return.999*a*a>b*b+c*c}function wd(a){function d(a){c=Math.min(a.x-a.r,c);e=Math.max(a.x+a.r,e);l=Math.min(a.y-a.r,l);p=Math.max(a.y+a.r,p)}if((b=a.children)&&(t=
b.length)){var b,c=Infinity,e=-Infinity,l=Infinity,p=-Infinity,f,g,h,t;b.forEach(uf);var z=b[0];z.x=-z.r;z.y=0;d(z);if(1<t){var k=b[1];k.x=k.r;k.y=0;d(k);if(2<t){var m=b[2];yg(z,k,m);d(m);bc(z,m);z._pack_prev=m;bc(m,k);k=z._pack_next;for(f=3;f<t;f++){yg(z,k,m=b[f]);var n=0,U=1,q=1;for(g=k._pack_next;g!==k;g=g._pack_next,U++)if(Bb(g,m)){n=1;break}if(1==n)for(h=z._pack_prev;h!==g._pack_prev&&!Bb(h,m);h=h._pack_prev,q++);n?(U<q||U==q&&k.r<z.r?Xc(z,k=g):Xc(z=h,k),f--):(bc(z,m),k=m,d(m))}}}z=(c+e)/2;k=
(l+p)/2;for(f=g=0;f<t;f++)m=b[f],m.x-=z,m.y-=k,g=Math.max(g,m.r+Math.sqrt(m.x*m.x+m.y*m.y));a.r=g;b.forEach(zg)}}function uf(a){a._pack_next=a._pack_prev=a}function zg(a){delete a._pack_next;delete a._pack_prev}function Mb(a,d,b,c){var e=a.children;a.x=d+=c*a.x;a.y=b+=c*a.y;a.r*=c;if(e){a=-1;for(var l=e.length;++a<l;)Mb(e[a],d,b,c)}}function yg(a,d,b){var c=a.r+b.r,e=d.x-a.x,l=d.y-a.y;if(c&&(e||l)){var p=d.r+b.r,f=e*e+l*l;p*=p;c*=c;d=.5+(c-p)/(2*f);p=Math.sqrt(Math.max(0,2*p*(c+f)-(c-=f)*c-p*p))/
(2*f);b.x=a.x+d*e+p*l;b.y=a.y+d*l-p*e}else b.x=a.x+c,b.y=a.y}function bg(a,d){return a.parent==d.parent?1:2}function Xe(a){var d=a.children;return d.length?d[0]:a.t}function vf(a){var d=a.children,b;return(b=d.length)?d[b-1]:a.t}function cg(a){return 1+D.max(a,function(a){return a.y})}function dg(a){return a.reduce(function(a,d){return a+d.x},0)/a.length}function Ag(a){var d=a.children;return d&&d.length?Ag(d[0]):a}function me(a){var d=a.children,b;return d&&(b=d.length)?me(d[b-1]):a}function wf(a){return{x:a.x,
y:a.y,dx:a.dx,dy:a.dy}}function xf(a,d){var b=a.x+d[3],c=a.y+d[0],e=a.dx-d[1]-d[3];a=a.dy-d[0]-d[2];0>e&&(b+=e/2,e=0);0>a&&(c+=a/2,a=0);return{x:b,y:c,dx:e,dy:a}}function Pd(a){var d=a[0];a=a[a.length-1];return d<a?[d,a]:[a,d]}function xd(a){return a.rangeExtent?a.rangeExtent():Pd(a.range())}function Vg(a,d,b,c){var e=b(a[0],a[1]),l=c(d[0],d[1]);return function(a){return l(e(a))}}function yf(a,d){var b=0,c=a.length-1,e=a[b],l=a[c];if(l<e){var p=b;b=c;c=p;p=e;e=l;l=p}a[b]=d.floor(e);a[c]=d.ceil(l);
return a}function Ma(a){return a?{floor:function(d){return Math.floor(d/a)*a},ceil:function(d){return Math.ceil(d/a)*a}}:ki}function Za(a,d,b,c){var e=[],l=[],p=0,f=Math.min(a.length,d.length)-1;a[f]<a[0]&&(a=a.slice().reverse(),d=d.slice().reverse());for(;++p<=f;)e.push(b(a[p-1],a[p])),l.push(c(d[p-1],d[p]));return function(d){var b=D.bisect(a,d,1,f)-1;return l[b](e[b](d))}}function zb(a,d,b,c){function e(){var e=2<Math.min(a.length,d.length)?Za:Vg,g=c?Rf:wh;p=e(a,d,g,b);f=e(d,a,g,Lb);return l}function l(a){return p(a)}
var p,f;l.invert=function(a){return f(a)};l.domain=function(d){if(!arguments.length)return a;a=d.map(Number);return e()};l.range=function(a){if(!arguments.length)return d;d=a;return e()};l.rangeRound=function(a){return l.range(a).interpolate(Lf)};l.clamp=function(a){if(!arguments.length)return c;c=a;return e()};l.interpolate=function(a){if(!arguments.length)return b;b=a;return e()};l.ticks=function(d){return D.range.apply(D,Qd(a,d))};l.tickFormat=function(d,b){return Xb(a,d,b)};l.nice=function(d){yf(a,
Ma(Qd(a,d)[2]));return e()};l.copy=function(){return zb(a,d,b,c)};return e()}function Bg(a,d){return D.rebind(a,d,"range","rangeRound","interpolate","clamp")}function Qd(a,d){null==d&&(d=10);a=Pd(a);var b=a[1]-a[0],c=Math.pow(10,Math.floor(Math.log(b/d)/Math.LN10));d=d/b*c;.15>=d?c*=10:.35>=d?c*=5:.75>=d&&(c*=2);a[0]=Math.ceil(a[0]/c)*c;a[1]=Math.floor(a[1]/c)*c+.5*c;a[2]=c;return a}function Xb(a,d,b){a=Qd(a,d);if(b){d=Lh.exec(b);d.shift();if("s"===d[8]){var c=D.formatPrefix(Math.max(ia(a[0]),ia(a[1])));
d[7]||(d[7]="."+Rd(c.scale(a[2])));d[8]="f";b=D.format(d.join(""));return function(a){return b(c.scale(a))+c.symbol}}d[7]||(d[7]="."+xh(d[8],a));b=d.join("")}else b=",."+Rd(a[2])+"f";return D.format(b)}function Rd(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function xh(a,d){var b=Rd(d[2]);return a in li?Math.abs(b-Rd(Math.max(ia(d[0]),ia(d[1]))))+ +("e"!==a):b-2*("%"===a)}function zf(a,d,b,c){function e(a){return(b?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(d)}function l(a){return b?Math.pow(d,
a):-Math.pow(d,-a)}function p(d){return a(e(d))}p.invert=function(d){return l(a.invert(d))};p.domain=function(d){if(!arguments.length)return c;b=0<=d[0];a.domain((c=d.map(Number)).map(e));return p};p.base=function(b){if(!arguments.length)return d;d=+b;a.domain(c.map(e));return p};p.nice=function(){var d=yf(c.map(e),b?Math:Mi);a.domain(d);c=d.map(l);return p};p.ticks=function(){var a=Pd(c),p=[],f=a[0];a=a[1];var g=Math.floor(e(f)),h=Math.ceil(e(a)),t=d%1?2:d;if(isFinite(h-g)){if(b){for(;g<h;g++)for(var z=
1;z<t;z++)p.push(l(g)*z);p.push(l(g))}else for(p.push(l(g));g++<h;)for(z=t-1;0<z;z--)p.push(l(g)*z);for(g=0;p[g]<f;g++);for(h=p.length;p[h-1]>a;h--);p=p.slice(g,h)}return p};p.tickFormat=function(a,d){if(!arguments.length)return mi;2>arguments.length?d=mi:"function"!==typeof d&&(d=D.format(d));var c=Math.max(.1,a/p.ticks().length),f=b?(g=1E-12,Math.ceil):(g=-1E-12,Math.floor),g;return function(a){return a/l(f(e(a)+g))<=c?d(a):""}};p.copy=function(){return zf(a.copy(),d,b,c)};return Bg(p,a)}function Ye(a,
d,b){function c(d){return a(e(d))}var e=yd(d),l=yd(1/d);c.invert=function(d){return l(a.invert(d))};c.domain=function(d){if(!arguments.length)return b;a.domain((b=d.map(Number)).map(e));return c};c.ticks=function(a){return D.range.apply(D,Qd(b,a))};c.tickFormat=function(a,d){return Xb(b,a,d)};c.nice=function(a){return c.domain(yf(b,Ma(Qd(b,a)[2])))};c.exponent=function(p){if(!arguments.length)return d;e=yd(d=p);l=yd(1/d);a.domain(b.map(e));return c};c.copy=function(){return Ye(a.copy(),d,b)};return Bg(c,
a)}function yd(a){return function(d){return 0>d?-Math.pow(-d,a):Math.pow(d,a)}}function Oc(a,d){function b(b){return p[((l.get(b)||("range"===d.t?l.set(b,a.push(b)):NaN))-1)%p.length]}function c(d,b){return D.range(a.length).map(function(a){return d+b*a})}var l,p,f;b.domain=function(c){if(!arguments.length)return a;a=[];l=new e;for(var p=-1,f=c.length,g;++p<f;)l.has(g=c[p])||l.set(g,a.push(g));return b[d.t].apply(b,d.a)};b.range=function(a){if(!arguments.length)return p;p=a;f=0;d={t:"range",a:arguments};
return b};b.rangePoints=function(e,l){2>arguments.length&&(l=0);var g=e[0],h=e[1];h=2>a.length?(g=(g+h)/2,0):(h-g)/(a.length-1+l);p=c(g+h*l/2,h);f=0;d={t:"rangePoints",a:arguments};return b};b.rangeRoundPoints=function(e,l){2>arguments.length&&(l=0);var g=e[0],h=e[1],t=2>a.length?(g=h=Math.round((g+h)/2),0):(h-g)/(a.length-1+l)|0;p=c(g+Math.round(t*l/2+(h-g-(a.length-1+l)*t)/2),t);f=0;d={t:"rangeRoundPoints",a:arguments};return b};b.rangeBands=function(e,l,g){2>arguments.length&&(l=0);3>arguments.length&&
(g=l);var h=e[1]<e[0],t=e[h-0],z=(e[1-h]-t)/(a.length-l+2*g);p=c(t+z*g,z);h&&p.reverse();f=z*(1-l);d={t:"rangeBands",a:arguments};return b};b.rangeRoundBands=function(e,l,g){2>arguments.length&&(l=0);3>arguments.length&&(g=l);var h=e[1]<e[0],t=e[h-0],z=e[1-h],k=Math.floor((z-t)/(a.length-l+2*g));p=c(t+Math.round((z-t-(a.length-l)*k)/2),k);h&&p.reverse();f=Math.round(k*(1-l));d={t:"rangeRoundBands",a:arguments};return b};b.rangeBand=function(){return f};b.rangeExtent=function(){return Pd(d.a[0])};
b.copy=function(){return Oc(a,d)};return b.domain(a)}function Cg(a,d){function b(){var b=0,c=d.length;for(l=[];++b<c;)l[b-1]=D.quantile(a,b/c);return e}function e(a){if(!isNaN(a=+a))return d[D.bisect(l,a)]}var l;e.domain=function(d){if(!arguments.length)return a;a=d.map(g).filter(c).sort(k);return b()};e.range=function(a){if(!arguments.length)return d;d=a;return b()};e.quantiles=function(){return l};e.invertExtent=function(b){b=d.indexOf(b);return 0>b?[NaN,NaN]:[0<b?l[b-1]:a[0],b<l.length?l[b]:a[a.length-
1]]};e.copy=function(){return Cg(a,d)};return b()}function vc(a,d,b){function c(d){return b[Math.max(0,Math.min(p,Math.floor(l*(d-a))))]}function e(){l=b.length/(d-a);p=b.length-1;return c}var l,p;c.domain=function(b){if(!arguments.length)return[a,d];a=+b[0];d=+b[b.length-1];return e()};c.range=function(a){if(!arguments.length)return b;b=a;return e()};c.invertExtent=function(d){d=b.indexOf(d);d=0>d?NaN:d/l+a;return[d,d+1/l]};c.copy=function(){return vc(a,d,b)};return e()}function Ze(a,d){function b(b){if(b<=
b)return d[D.bisect(a,b)]}b.domain=function(d){if(!arguments.length)return a;a=d;return b};b.range=function(a){if(!arguments.length)return d;d=a;return b};b.invertExtent=function(b){b=d.indexOf(b);return[a[b-1],a[b]]};b.copy=function(){return Ze(a,d)};return b}function Af(a){function d(a){return+a}d.invert=d;d.domain=d.range=function(b){if(!arguments.length)return a;a=b.map(d);return d};d.ticks=function(d){return D.range.apply(D,Qd(a,d))};d.tickFormat=function(d,b){return Xb(a,d,b)};d.copy=function(){return Af(a)};
return d}function Wg(){return 0}function Ce(a){return a.innerRadius}function V(a){return a.outerRadius}function wa(a){return a.startAngle}function Pc(a){return a.endAngle}function eg(a){return a&&a.padAngle}function Sd(a,d,b,c){return 0<(a-b)*d-(d-c)*a?0:1}function Td(a,d,b,c,e){var l=a[0]-d[0],p=a[1]-d[1];e=(e?c:-c)/Math.sqrt(l*l+p*p);p*=e;l*=-e;var f=a[0]+p,g=a[1]+l,h=d[0]+p,t=d[1]+l;a=(f+h)/2;d=(g+t)/2;e=h-f;var z=t-g,k=e*e+z*z;c=b-c;t=f*t-h*g;var m=(0>z?-1:1)*Math.sqrt(c*c*k-t*t);f=(t*z-e*m)/
k;g=(-t*e-z*m)/k;h=(t*z+e*m)/k;e=(-t*e+z*m)/k;z=f-a;k=g-d;a=h-a;d=e-d;z*z+k*k>a*a+d*d&&(f=h,g=e);return[[f-p,g-l],[f*b/c,g*b/c]]}function Xg(a){function d(d){function p(){g.push("M",l(a(h),f))}for(var g=[],h=[],t=-1,z=d.length,k,m=Na(b),n=Na(c);++t<z;)e.call(this,k=d[t],t)?h.push([+m.call(this,k,t),+n.call(this,k,t)]):h.length&&(p(),h=[]);h.length&&p();return g.length?g.join(""):null}var b=fd,c=lg,e=ld,l=ic,p=l.key,f=.7;d.x=function(a){if(!arguments.length)return b;b=a;return d};d.y=function(a){if(!arguments.length)return c;
c=a;return d};d.defined=function(a){if(!arguments.length)return e;e=a;return d};d.interpolate=function(a){if(!arguments.length)return p;p="function"===typeof a?l=a:(l=Ud.get(a)||ic).key;return d};d.tension=function(a){if(!arguments.length)return f;f=a;return d};return d}function ic(a){return a.join("L")}function $e(a){for(var d=0,b=a.length,c=a[0],e=[c[0],",",c[1]];++d<b;)e.push("V",(c=a[d])[1],"H",c[0]);return e.join("")}function Vd(a){for(var d=0,b=a.length,c=a[0],e=[c[0],",",c[1]];++d<b;)e.push("H",
(c=a[d])[0],"V",c[1]);return e.join("")}function De(a,d){if(1>d.length||a.length!=d.length&&a.length!=d.length+2)return ic(a);var b=a.length!=d.length,c="",e=a[0],l=a[1],p=d[0],f=p,g=1;b&&(c+="Q"+(l[0]-2*p[0]/3)+","+(l[1]-2*p[1]/3)+","+l[0]+","+l[1],e=a[1],g=2);if(1<d.length)for(f=d[1],l=a[g],g++,c+="C"+(e[0]+p[0])+","+(e[1]+p[1])+","+(l[0]-f[0])+","+(l[1]-f[1])+","+l[0]+","+l[1],e=2;e<d.length;e++,g++)l=a[g],f=d[e],c+="S"+(l[0]-f[0])+","+(l[1]-f[1])+","+l[0]+","+l[1];b&&(a=a[g],c+="Q"+(l[0]+2*f[0]/
3)+","+(l[1]+2*f[1]/3)+","+a[0]+","+a[1]);return c}function Yb(a,d){var b=[];d=(1-d)/2;for(var c,e=a[0],l=a[1],p=1,f=a.length;++p<f;)c=e,e=l,l=a[p],b.push([d*(l[0]-c[0]),d*(l[1]-c[1])]);return b}function Yg(a){if(3>a.length)return ic(a);var d=1,b=a.length,c=a[0],e=c[0],l=c[1],p=[e,e,e,(c=a[1])[0]],f=[l,l,l,c[1]];e=[e,",",l,"L",Qc(Dg,p),",",Qc(Dg,f)];for(a.push(a[b-1]);++d<=b;)c=a[d],p.shift(),p.push(c[0]),f.shift(),f.push(c[1]),fg(e,p,f);a.pop();e.push("L",c);return e.join("")}function Qc(a,d){return a[0]*
d[0]+a[1]*d[1]+a[2]*d[2]+a[3]*d[3]}function fg(a,d,b){a.push("C",Qc(ni,d),",",Qc(ni,b),",",Qc(oi,d),",",Qc(oi,b),",",Qc(Dg,d),",",Qc(Dg,b))}function Va(a,d){return(d[1]-a[1])/(d[0]-a[0])}function Eg(a){for(var d,b=-1,c=a.length,e,l;++b<c;)d=a[b],e=d[0],l=d[1]-Ga,d[0]=e*Math.cos(l),d[1]=e*Math.sin(l);return a}function Ee(a){function d(d){function g(){k.push("M",f(a(n),z),t,h(a(m.reverse()),z),"Z")}for(var k=[],m=[],n=[],q=-1,H=d.length,G,U=Na(b),x=Na(e),r=b===c?function(){return y}:Na(c),K=e===l?function(){return w}:
Na(l),y,w;++q<H;)p.call(this,G=d[q],q)?(m.push([y=+U.call(this,G,q),w=+x.call(this,G,q)]),n.push([+r.call(this,G,q),+K.call(this,G,q)])):m.length&&(g(),m=[],n=[]);m.length&&g();return k.length?k.join(""):null}var b=fd,c=fd,e=0,l=lg,p=ld,f=ic,g=f.key,h=f,t="L",z=.7;d.x=function(a){if(!arguments.length)return c;b=c=a;return d};d.x0=function(a){if(!arguments.length)return b;b=a;return d};d.x1=function(a){if(!arguments.length)return c;c=a;return d};d.y=function(a){if(!arguments.length)return l;e=l=a;
return d};d.y0=function(a){if(!arguments.length)return e;e=a;return d};d.y1=function(a){if(!arguments.length)return l;l=a;return d};d.defined=function(a){if(!arguments.length)return p;p=a;return d};d.interpolate=function(a){if(!arguments.length)return g;g="function"===typeof a?f=a:(f=Ud.get(a)||ic).key;h=f.reverse||f;t=f.closed?"M":"L";return d};d.tension=function(a){if(!arguments.length)return z;z=a;return d};return d}function af(a){return a.radius}function nh(a){return[a.x,a.y]}function Fg(a){return function(){var d=
a.apply(this,arguments),b=d[0];d=d[1]-Ga;return[b*Math.cos(d),b*Math.sin(d)]}}function Bf(){return 64}function oh(){return"circle"}function Fe(a){a=Math.sqrt(a/na);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Rc(a,d,b){rd(a,Nb);a.namespace=d;a.id=b;return a}function Zg(a,d,b,c){var e=a.id,l=a.namespace;return O(a,"function"===typeof b?function(a,p,f){a[l][e].tween.set(d,c(b.call(a,a.__data__,p,f)))}:(b=c(b),function(a){a[l][e].tween.set(d,b)}))}function gg(a){null==
a&&(a="");return function(){this.textContent=a}}function ne(a){return null==a?"__transition__":"__transition_"+a+"__"}function ba(a,d,b,c,l){var p=a[b]||(a[b]={active:0,count:0}),f=p[c];if(!f){var g=l.time;f=p[c]={tween:new e,time:g,delay:l.delay,duration:l.duration,ease:l.ease};l=null;++p.count;D.timer(function(e){function l(b){if(p.active>c)return t(!1);p.active=c;f.event&&f.event.start.call(a,z,d);f.tween.forEach(function(b,c){(c=c.call(a,z,d))&&H.push(c)});n=f.ease;m=f.duration;D.timer(function(){q.c=
h(b||1)?ld:h;return 1},0,g)}function h(d){if(p.active!==c)return t(!1);d/=m;for(var b=n(d),e=H.length;0<e;)H[--e].call(a,b);if(1<=d)return t(!0)}function t(e){f.event&&f.event[e?"end":"interrupt"].call(a,z,d);--p.count?delete p[c]:delete a[b];return 1}var z=a.__data__,k=f.delay,m,n,q=Nd,H=[];q.t=k+g;if(k<=e)return l(e-k);q.c=l},0,g)}}function Gg(a,d,b){a.attr("transform",function(a){var c=d(a);return"translate("+(isFinite(c)?c:b(a))+",0)"})}function $g(a,d,b){a.attr("transform",function(a){var c=
d(a);return"translate(0,"+(isFinite(c)?c:b(a))+")"})}function bf(a){return a.toISOString()}function hg(a,d,b){function c(d){return a(d)}function e(a,b){var c=(a[1]-a[0])/b,e=D.bisect(ah,c);return e==ah.length?[d.year,Qd(a.map(function(a){return a/31536E6}),b)[2]]:e?d[c/ah[e-1]<ah[e]/c?e-1:e]:[Ni,Qd(a,b)[2]]}c.invert=function(d){return Dc(a.invert(d))};c.domain=function(d){if(!arguments.length)return a.domain().map(Dc);a.domain(d);return c};c.nice=function(a,d){function b(b){return!isNaN(b)&&!a.range(b,
Dc(+b+1),d).length}var l=c.domain(),p=Pd(l);if(p=null==a?e(p,10):"number"===typeof a&&e(p,a))a=p[0],d=p[1];return c.domain(yf(l,1<d?{floor:function(d){for(;b(d=a.floor(d));)d=Dc(d-1);return d},ceil:function(d){for(;b(d=a.ceil(d));)d=Dc(+d+1);return d}}:a))};c.ticks=function(a,d){var b=Pd(c.domain()),l=null==a?e(b,10):"number"===typeof a?e(b,a):!a.range&&[{range:a},d];l&&(a=l[0],d=l[1]);return a.range(b[0],Dc(+b[1]+1),1>d?1:d)};c.tickFormat=function(){return b};c.copy=function(){return hg(a.copy(),
d,b)};return Bg(c,a)}function Dc(a){return new Date(a)}function Ge(a){return JSON.parse(a.responseText)}function Fb(a){var d=Sc.createRange();d.selectNode(Sc.body);return d.createContextualFragment(a.responseText)}var D={version:"3.5.0"};Date.now||(Date.now=function(){return+new Date});var Wd=[].slice,sd=function(a){return Wd.call(a)},Sc=document,Eb=Sc.documentElement,Vb=window;try{sd(Eb.childNodes)[0].nodeType}catch(U){sd=function(a){for(var d=a.length,b=Array(d);d--;)b[d]=a[d];return b}}try{Sc.createElement("div").style.setProperty("opacity",
0,"")}catch(U){var wc=Vb.Element.prototype,jc=wc.setAttribute,ph=wc.setAttributeNS,Cf=Vb.CSSStyleDeclaration.prototype,ra=Cf.setProperty;wc.setAttribute=function(a,d){jc.call(this,a,d+"")};wc.setAttributeNS=function(a,d,b){ph.call(this,a,d,b+"")};Cf.setProperty=function(a,d,b){ra.call(this,a,d+"",b)}}D.ascending=k;D.descending=function(a,d){return d<a?-1:d>a?1:d>=a?0:NaN};D.min=function(a,d){var b=-1,c=a.length,e;if(1===arguments.length){for(;++b<c;)if(null!=(e=a[b])&&e>=e){var l=e;break}for(;++b<
c;)null!=(e=a[b])&&l>e&&(l=e)}else{for(;++b<c;)if(null!=(e=d.call(a,a[b],b))&&e>=e){l=e;break}for(;++b<c;)null!=(e=d.call(a,a[b],b))&&l>e&&(l=e)}return l};D.max=function(a,d){var b=-1,c=a.length,e;if(1===arguments.length){for(;++b<c;)if(null!=(e=a[b])&&e>=e){var l=e;break}for(;++b<c;)null!=(e=a[b])&&e>l&&(l=e)}else{for(;++b<c;)if(null!=(e=d.call(a,a[b],b))&&e>=e){l=e;break}for(;++b<c;)null!=(e=d.call(a,a[b],b))&&e>l&&(l=e)}return l};D.extent=function(a,d){var b=-1,c=a.length,e,l;if(1===arguments.length){for(;++b<
c;)if(null!=(e=a[b])&&e>=e){var p=l=e;break}for(;++b<c;)null!=(e=a[b])&&(p>e&&(p=e),l<e&&(l=e))}else{for(;++b<c;)if(null!=(e=d.call(a,a[b],b))&&e>=e){p=l=e;break}for(;++b<c;)null!=(e=d.call(a,a[b],b))&&(p>e&&(p=e),l<e&&(l=e))}return[p,l]};D.sum=function(a,d){var b=0,c=a.length,e,l=-1;if(1===arguments.length)for(;++l<c;)isNaN(e=+a[l])||(b+=e);else for(;++l<c;)isNaN(e=+d.call(a,a[l],l))||(b+=e);return b};D.mean=function(a,d){var b=0,c=a.length,e,l=-1,p=c;if(1===arguments.length)for(;++l<c;)isNaN(e=
g(a[l]))?--p:b+=e;else for(;++l<c;)isNaN(e=g(d.call(a,a[l],l)))?--p:b+=e;if(p)return b/p};D.quantile=function(a,d){var b=(a.length-1)*d+1;d=Math.floor(b);var c=+a[d-1];return(b-=d)?c+b*(a[d]-c):c};D.median=function(a,d){var b=[],c=a.length,e,l=-1;if(1===arguments.length)for(;++l<c;)isNaN(e=g(a[l]))||b.push(e);else for(;++l<c;)isNaN(e=g(d.call(a,a[l],l)))||b.push(e);if(b.length)return D.quantile(b.sort(k),.5)};var Ec=f(k);D.bisectLeft=Ec.left;D.bisect=D.bisectRight=Ec.right;D.bisector=function(a){return f(1===
a.length?function(d,b){return k(a(d),b)}:a)};D.shuffle=function(a,d,b){3>(c=arguments.length)&&(b=a.length,2>c&&(d=0));for(var c=b-d,e,l;c;)l=Math.random()*c--|0,e=a[c+d],a[c+d]=a[l+d],a[l+d]=e;return a};D.permute=function(a,d){for(var b=d.length,c=Array(b);b--;)c[b]=a[d[b]];return c};D.pairs=function(a){for(var d=0,b=a.length-1,c=a[0],e=Array(0>b?0:b);d<b;)e[d]=[c,c=a[++d]];return e};D.zip=function(){if(!(l=arguments.length))return[];for(var d=-1,b=D.min(arguments,a),c=Array(b);++d<b;)for(var e=
-1,l,p=c[d]=Array(l);++e<l;)p[e]=arguments[e][d];return c};D.transpose=function(a){return D.zip.apply(D,a)};D.keys=function(a){var d=[],b;for(b in a)d.push(b);return d};D.values=function(a){var d=[],b;for(b in a)d.push(a[b]);return d};D.entries=function(a){var d=[],b;for(b in a)d.push({key:b,value:a[b]});return d};D.merge=function(a){var d=a.length;var b=-1;for(var c=0,e,l;++b<d;)c+=a[b].length;for(e=Array(c);0<=--d;)for(l=a[d],b=l.length;0<=--b;)e[--c]=l[b];return e};var ia=Math.abs;D.range=function(a,
d,b){3>arguments.length&&(b=1,2>arguments.length&&(d=a,a=0));if(Infinity===(d-a)/b)throw Error("infinite range");var c=[];var e=ia(b);for(var l=1;e*l%1;)l*=10;e=l;l=-1;var p;a*=e;d*=e;b*=e;if(0>b)for(;(p=a+b*++l)>d;)c.push(p/e);else for(;(p=a+b*++l)<d;)c.push(p/e);return c};D.map=function(a,d){var b=new e;if(a instanceof e)a.forEach(function(a,d){b.set(a,d)});else if(Array.isArray(a)){var c=-1,l=a.length,p;if(1===arguments.length)for(;++c<l;)b.set(c,a[c]);else for(;++c<l;)b.set(d.call(a,p=a[c],c),
p)}else for(c in a)b.set(c,a[c]);return b};h(e,{has:n,get:function(a){return this._[b(a)]},set:function(a,d){return this._[b(a)]=d},remove:r,keys:w,values:function(){var a=[],d;for(d in this._)a.push(this._[d]);return a},entries:function(){var a=[],d;for(d in this._)a.push({key:m(d),value:this._[d]});return a},size:v,empty:A,forEach:function(a){for(var d in this._)a.call(this,m(d),this._[d])}});D.nest=function(){function a(d,l,g){if(g>=c.length)return f?f.call(b,l):p?l.sort(p):l;for(var h=-1,t=l.length,
z=c[g++],k,m,n=new e,q;++h<t;)(q=n.get(k=z(m=l[h])))?q.push(m):n.set(k,[m]);d?(m=d(),l=function(b,c){m.set(b,a(d,c,g))}):(m={},l=function(b,c){m[b]=a(d,c,g)});n.forEach(l);return m}function d(a,b){if(b>=c.length)return a;var e=[],p=l[b++];a.forEach(function(a,c){e.push({key:a,values:d(c,b)})});return p?e.sort(function(a,d){return p(a.key,d.key)}):e}var b={},c=[],l=[],p,f;b.map=function(d,b){return a(b,d,0)};b.entries=function(b){return d(a(D.map,b,0),0)};b.key=function(a){c.push(a);return b};b.sortKeys=
function(a){l[c.length-1]=a;return b};b.sortValues=function(a){p=a;return b};b.rollup=function(a){f=a;return b};return b};D.set=function(a){var d=new y;if(a)for(var b=0,c=a.length;b<c;++b)d.add(a[b]);return d};h(y,{has:n,add:function(a){this._[b(a+="")]=!0;return a},remove:r,values:w,size:v,empty:A,forEach:function(a){for(var d in this._)a.call(this,m(d))}});D.behavior={};D.rebind=function(a,d){for(var b=1,c=arguments.length,e;++b<c;)a[e=arguments[b]]=x(a,d,d[e]);return a};var rf="webkit ms moz Moz o O".split(" ");
D.dispatch=function(){for(var a=new C,d=-1,b=arguments.length;++d<b;)a[arguments[d]]=E(a);return a};C.prototype.on=function(a,d){var b=a.indexOf("."),c="";0<=b&&(c=a.slice(b+1),a=a.slice(0,b));if(a)return 2>arguments.length?this[a].on(c):this[a].on(c,d);if(2===arguments.length){if(null==d)for(a in this)if(this.hasOwnProperty(a))this[a].on(c,null);return this}};D.event=null;D.requote=function(a){return a.replace(Df,"\\$&")};var Df=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,rd={}.__proto__?function(a,d){a.__proto__=
d}:function(a,d){for(var b in d)a[b]=d[b]},Lc=function(a,d){return d.querySelector(a)},Xf=function(a,d){return d.querySelectorAll(a)},zd=Eb.matches||Eb[q(Eb,"matchesSelector")],cd=function(a,d){return zd.call(a,d)};"function"===typeof Sizzle&&(Lc=function(a,d){return Sizzle(a,d)[0]||null},Xf=Sizzle,cd=Sizzle.matchesSelector);D.selection=function(){return bh};var La=D.selection.prototype=[];La.select=function(a){var b=[],c,e,l,p;a=d(a);for(var f=-1,g=this.length;++f<g;){b.push(c=[]);c.parentNode=(l=
this[f]).parentNode;for(var h=-1,t=l.length;++h<t;)(p=l[h])?(c.push(e=a.call(p,p.__data__,h,f)),e&&"__data__"in p&&(e.__data__=p.__data__)):c.push(null)}return L(b)};La.selectAll=function(a){var d=[],b,c;a=l(a);for(var e=-1,p=this.length;++e<p;)for(var f=this[e],g=-1,h=f.length;++g<h;)if(c=f[g])d.push(b=sd(a.call(c,c.__data__,g,e))),b.parentNode=c;return L(d)};var cf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",
xmlns:"http://www.w3.org/2000/xmlns/"};D.ns={prefix:cf,qualify:function(a){var d=a.indexOf(":"),b=a;0<=d&&(b=a.slice(0,d),a=a.slice(d+1));return cf.hasOwnProperty(b)?{space:cf[b],local:a}:a}};La.attr=function(a,d){if(2>arguments.length){if("string"===typeof a){var b=this.node();a=D.ns.qualify(a);return a.local?b.getAttributeNS(a.space,a.local):b.getAttribute(a)}for(d in a)this.each(z(d,a[d]));return this}return this.each(z(a,d))};La.classed=function(a,d){if(2>arguments.length){if("string"===typeof a){var b=
this.node(),c=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(d=b.classList)for(;++e<c;){if(!d.contains(a[e]))return!1}else for(d=b.getAttribute("class");++e<c;)if(!G(a[e]).test(d))return!1;return!0}for(d in a)this.each(K(d,a[d]));return this}return this.each(K(a,d))};La.style=function(a,d,b){var c=arguments.length;if(3>c){if("string"!==typeof a){2>c&&(d="");for(b in a)this.each(ja(b,a[b],d));return this}if(2>c)return Vb.getComputedStyle(this.node(),null).getPropertyValue(a);b=""}return this.each(ja(a,
d,b))};La.property=function(a,d){if(2>arguments.length){if("string"===typeof a)return this.node()[a];for(d in a)this.each(W(d,a[d]));return this}return this.each(W(a,d))};La.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var d=a.apply(this,arguments);this.textContent=null==d?"":d}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};La.html=function(a){return arguments.length?this.each("function"===typeof a?function(){var d=
a.apply(this,arguments);this.innerHTML=null==d?"":d}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};La.append=function(a){a=Ea(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};La.insert=function(a,b){a=Ea(a);b=d(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};La.remove=function(){return this.each(ea)};La.data=function(a,d){function b(a,b){var c,l=a.length,
p=b.length,f=Math.min(l,p),z=Array(p),k=Array(p),m=Array(l),n,q;if(d){f=new e;var H=Array(l),G;for(c=-1;++c<l;)f.has(G=d.call(n=a[c],n.__data__,c))?m[c]=n:f.set(G,n),H[c]=G;for(c=-1;++c<p;)(n=f.get(G=d.call(b,q=b[c],c)))?!0!==n&&(z[c]=n,n.__data__=q):k[c]={__data__:q},f.set(G,!0);for(c=-1;++c<l;)!0!==f.get(H[c])&&(m[c]=a[c])}else{for(c=-1;++c<f;)n=a[c],q=b[c],n?(n.__data__=q,z[c]=n):k[c]={__data__:q};for(;c<p;++c)k[c]={__data__:b[c]};for(;c<l;++c)m[c]=a[c]}k.update=z;k.parentNode=z.parentNode=m.parentNode=
a.parentNode;g.push(k);h.push(z);t.push(m)}var c=-1,l=this.length,p,f;if(!arguments.length){for(a=Array(l=(p=this[0]).length);++c<l;)if(f=p[c])a[c]=f.__data__;return a}var g=fa([]),h=L([]),t=L([]);if("function"===typeof a)for(;++c<l;)b(p=this[c],a.call(p,p.parentNode.__data__,c));else for(;++c<l;)b(p=this[c],a);h.enter=function(){return g};h.exit=function(){return t};return h};La.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};La.filter=function(a){var d=
[],b,c,e;"function"!==typeof a&&(a=Y(a));for(var l=0,p=this.length;l<p;l++){d.push(b=[]);b.parentNode=(c=this[l]).parentNode;for(var f=0,g=c.length;f<g;f++)(e=c[f])&&a.call(e,e.__data__,f,l)&&b.push(e)}return L(d)};La.order=function(){for(var a=-1,d=this.length;++a<d;)for(var b=this[a],c=b.length-1,e=b[c],l;0<=--c;)if(l=b[c])e&&e!==l.nextSibling&&e.parentNode.insertBefore(l,e),e=l;return this};La.sort=function(a){a=aa.apply(this,arguments);for(var d=-1,b=this.length;++d<b;)this[d].sort(a);return this.order()};
La.each=function(a){return O(this,function(d,b,c){a.call(d,d.__data__,b,c)})};La.call=function(a){var d=sd(arguments);a.apply(d[0]=this,d);return this};La.empty=function(){return!this.node()};La.node=function(){for(var a=0,d=this.length;a<d;a++)for(var b=this[a],c=0,e=b.length;c<e;c++){var l=b[c];if(l)return l}return null};La.size=function(){var a=0;O(this,function(){++a});return a};var ze=[];D.selection.enter=fa;D.selection.enter.prototype=ze;ze.append=La.append;ze.empty=La.empty;ze.node=La.node;
ze.call=La.call;ze.size=La.size;ze.select=function(a){for(var d=[],b,c,e,l,p,f=-1,g=this.length;++f<g;){e=(l=this[f]).update;d.push(b=[]);b.parentNode=l.parentNode;for(var h=-1,t=l.length;++h<t;)(p=l[h])?(b.push(e[h]=c=a.call(l.parentNode,p.__data__,h,f)),c.__data__=p.__data__):b.push(null)}return L(d)};ze.insert=function(a,d){2>arguments.length&&(d=xa(this));return La.insert.call(this,a,d)};La.transition=function(a){var d=qh||++Yh;a=ne(a);for(var b=[],c,e,l=Hg||{time:Date.now(),ease:we,delay:0,duration:250},
p=-1,f=this.length;++p<f;){b.push(c=[]);for(var g=this[p],h=-1,t=g.length;++h<t;)(e=g[h])&&ba(e,h,a,d,l),c.push(e)}return Rc(b,a,d)};La.interrupt=function(a){var d=ne(a);return this.each(function(){var a=this[d];a&&++a.active})};D.select=function(a){a=["string"===typeof a?Lc(a,Sc):a];a.parentNode=Eb;return L([a])};D.selectAll=function(a){a=sd("string"===typeof a?Xf(a,Sc):a);a.parentNode=Eb;return L([a])};var bh=D.select(Eb);La.on=function(a,d,b){var c=arguments.length;if(3>c){if("string"!==typeof a){2>
c&&(d=!1);for(b in a)this.each(ha(b,a[b],d));return this}if(2>c)return(c=this.node()["__on"+a])&&c._;b=!1}return this.each(ha(a,d,b))};var Sg=D.map({mouseenter:"mouseover",mouseleave:"mouseout"});Sg.forEach(function(a){"on"+a in Sc&&Sg.remove(a)});var he="onselectstart"in Sc?null:q(Eb.style,"userSelect"),Tg=0;D.mouse=function(a){return Ub(a,F())};var Sb=/WebKit/.test(Vb.navigator.userAgent)?-1:0;D.touch=function(a,d,b){3>arguments.length&&(b=d,d=F().changedTouches);if(d)for(var c=0,e=d.length,l;c<
e;++c)if((l=d[c]).identifier===b)return Ub(a,l)};D.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",l)}function d(a,d,e,l,p){return function(){var f=D.event.target,g=this.parentNode,h=b.of(this,arguments),t=0,z=a(),k=".drag"+(null==z?"":"-"+z),m=D.select(e()).on(l+k,function(){var a=d(g,z);if(a){var b=a[0]-q[0];var c=a[1]-q[1];t|=b|c;q=a;h({type:"drag",x:a[0]+H[0],y:a[1]+H[1],dx:b,dy:c})}}).on(p+k,function(){d(g,z)&&(m.on(l+k,null).on(p+k,null),n(t&&D.event.target===
f),h({type:"dragend"}))}),n=fb(),q=d(g,z);if(c){var H=c.apply(this,arguments);H=[H.x-q[0],H.y-q[1]]}else H=[0,0];h({type:"dragstart"})}}var b=J(a,"drag","dragstart","dragend"),c=null,e=d(B,D.mouse,Oa,"mousemove","mouseup"),l=d(Fa,D.touch,yc,"touchmove","touchend");a.origin=function(d){if(!arguments.length)return c;c=d;return a};return D.rebind(a,b,"on")};D.touches=function(a,d){2>arguments.length&&(d=F().touches);return d?sd(d).map(function(d){var b=Ub(a,d);b.identifier=d.identifier;return b}):[]};
var na=Math.PI,Sa=2*na,ch=Sa-1E-6,Ga=na/2,oa=na/180,db=180/na,dh=Math.SQRT2;D.interpolateZoom=function(a,d){function b(a){var d=a*k;if(z){a=Ba(t);var b=dh*d+t;var g=((b=Math.exp(2*b))-1)/(b+1);var m=t;b=((m=Math.exp(m))-1/m)/2;g=l/(2*h)*(a*g-b);return[c+g*p,e+g*f,l*a/Ba(dh*d+t)]}return[c+a*p,e+a*f,l*Math.exp(dh*d)]}var c=a[0],e=a[1],l=a[2];a=d[2];var p=d[0]-c,f=d[1]-e,g=p*p+f*f,h=Math.sqrt(g);d=(a*a-l*l+4*g)/(4*l*h);g=(a*a-l*l-4*g)/(4*a*h);var t=Math.log(Math.sqrt(d*d+1)-d),z=Math.log(Math.sqrt(g*
g+1)-g)-t,k=(z||Math.log(a/l))/dh;b.duration=1E3*k;return b};D.behavior.zoom=function(){function a(a){a.on("mousedown.zoom",h).on(He+".zoom",z).on("dblclick.zoom",k).on("touchstart.zoom",t)}function d(a){return[(a[0]-m.x)/m.k,(a[1]-m.y)/m.k]}function b(a){m.k=Math.max(x[0],Math.min(x[1],a))}function c(a,d){d=[d[0]*m.k+m.x,d[1]*m.k+m.y];m.x+=a[0]-d[0];m.y+=a[1]-d[1]}function e(d,e,l,p){d.__chart__={x:m.x,y:m.y,k:m.k};b(Math.pow(2,p));c(q=e,l);d=D.select(d);0<r&&(d=d.transition().duration(r));d.call(a.event)}
function l(){v&&v.domain(B.range().map(function(a){return(a-m.x)/m.k}).map(B.invert));Ta&&Ta.domain(A.range().map(function(a){return(a-m.y)/m.k}).map(A.invert))}function p(a){K++||a({type:"zoomstart"})}function f(a){l();a({type:"zoom",scale:m.k,translate:[m.x,m.y]})}function g(a){--K||a({type:"zoomend"});q=null}function h(){var a=this,b=D.event.target,e=la.of(a,arguments),l=0,h=D.select(Vb).on("mousemove.zoom",function(){l=1;c(D.mouse(a),t);f(e)}).on("mouseup.zoom",function(){h.on("mousemove.zoom",
null).on("mouseup.zoom",null);z(l&&D.event.target===b);g(e)}),t=d(D.mouse(a)),z=fb();ma(a);p(e)}function t(){function a(){var a=D.touches(n);x=m.k;a.forEach(function(a){a.identifier in H&&(H[a.identifier]=d(a))});return a}function l(){var d=D.event.target;D.select(d).on(y,z).on(K,k);B.push(d);d=D.event.changedTouches;for(var b=0,c=d.length;b<c;++b)H[d[b].identifier]=null;b=a();c=Date.now();1===b.length?(500>c-w&&(d=b[0],e(n,d,H[d.identifier],Math.floor(Math.log(m.k)/Math.LN2)+1),I()),w=c):1<b.length&&
(d=b[0],c=b[1],b=d[0]-c[0],d=d[1]-c[1],G=b*b+d*d)}function z(){var a=D.touches(n),d;ma(n);for(var e=0,l=a.length;e<l;++e,d=null){var p=a[e];if(d=H[p.identifier]){if(h)break;var g=p;var h=d}}if(d){var t=(t=p[0]-g[0])*t+(t=p[1]-g[1])*t;a=G&&Math.sqrt(t/G);g=[(g[0]+p[0])/2,(g[1]+p[1])/2];h=[(h[0]+d[0])/2,(h[1]+d[1])/2];b(a*x)}w=null;c(g,h);f(q)}function k(){if(D.event.touches.length){for(var d=D.event.changedTouches,b=0,c=d.length;b<c;++b)delete H[d[b].identifier];for(var e in H)return void a()}D.selectAll(B).on(r,
null);v.on("mousedown.zoom",h).on("touchstart.zoom",t);A();g(q)}var n=this,q=la.of(n,arguments),H={},G=0,x,r=".zoom-"+D.event.changedTouches[0].identifier,y="touchmove"+r,K="touchend"+r,B=[],v=D.select(n),A=fb();l();p(q);v.on("mousedown.zoom",null).on("touchstart.zoom",l)}function z(){var a=la.of(this,arguments);y?clearTimeout(y):(n=d(q=H||D.mouse(this)),ma(this),p(a));y=setTimeout(function(){y=null;g(a)},50);I();b(Math.pow(2,.002*Ef())*m.k);c(q,n);f(a)}function k(){var a=D.mouse(this),b=Math.log(m.k)/
Math.LN2;e(this,a,d(a),D.event.shiftKey?Math.ceil(b)-1:Math.floor(b)+1)}var m={x:0,y:0,k:1},n,q,H,G=[960,500],x=Ig,r=250,K=0,y,w,la=J(a,"zoomstart","zoom","zoomend"),B,v,A,Ta;a.event=function(a){a.each(function(){var a=la.of(this,arguments),d=m;qh?D.select(this).transition().each("start.zoom",function(){m=this.__chart__||{x:0,y:0,k:1};p(a)}).tween("zoom:zoom",function(){var b=G[0],c=G[1],e=q?q[0]:b/2,l=q?q[1]:c/2,p=D.interpolateZoom([(e-m.x)/m.k,(l-m.y)/m.k,b/m.k],[(e-d.x)/d.k,(l-d.y)/d.k,b/d.k]);
return function(d){d=p(d);var c=b/d[2];this.__chart__=m={x:e-d[0]*c,y:l-d[1]*c,k:c};f(a)}}).each("interrupt.zoom",function(){g(a)}).each("end.zoom",function(){g(a)}):(this.__chart__=m,p(a),f(a),g(a))})};a.translate=function(d){if(!arguments.length)return[m.x,m.y];m={x:+d[0],y:+d[1],k:m.k};l();return a};a.scale=function(d){if(!arguments.length)return m.k;m={x:m.x,y:m.y,k:+d};l();return a};a.scaleExtent=function(d){if(!arguments.length)return x;x=null==d?Ig:[+d[0],+d[1]];return a};a.center=function(d){if(!arguments.length)return H;
H=d&&[+d[0],+d[1]];return a};a.size=function(d){if(!arguments.length)return G;G=d&&[+d[0],+d[1]];return a};a.duration=function(d){if(!arguments.length)return r;r=+d;return a};a.x=function(d){if(!arguments.length)return v;v=d;B=d.copy();m={x:0,y:0,k:1};return a};a.y=function(d){if(!arguments.length)return Ta;Ta=d;A=d.copy();m={x:0,y:0,k:1};return a};return D.rebind(a,la,"on")};var Ig=[0,Infinity],Ef,He="onwheel"in Sc?(Ef=function(){return-D.event.deltaY*(D.event.deltaMode?120:1)},"wheel"):"onmousewheel"in
Sc?(Ef=function(){return D.event.wheelDelta},"mousewheel"):(Ef=function(){return-D.event.detail},"MozMousePixelScroll");D.color=Aa;Aa.prototype.toString=function(){return this.rgb()+""};D.hsl=Ca;var df=Ca.prototype=new Aa;df.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);return new Ca(this.h,this.s,this.l/a)};df.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return new Ca(this.h,this.s,a*this.l)};df.rgb=function(){return mb(this.h,this.s,this.l)};D.hcl=ab;var Ie=ab.prototype=new Aa;
Ie.brighter=function(a){return new ab(this.h,this.c,Math.min(100,this.l+p*(arguments.length?a:1)))};Ie.darker=function(a){return new ab(this.h,this.c,Math.max(0,this.l-p*(arguments.length?a:1)))};Ie.rgb=function(){return ya(this.h,this.c,this.l).rgb()};D.lab=ib;var p=18,t=.95047,H=1,la=1.08883,Ta=ib.prototype=new Aa;Ta.brighter=function(a){return new ib(Math.min(100,this.l+p*(arguments.length?a:1)),this.a,this.b)};Ta.darker=function(a){return new ib(Math.max(0,this.l-p*(arguments.length?a:1)),this.a,
this.b)};Ta.rgb=function(){return nb(this.l,this.a,this.b)};D.rgb=vb;var ef=vb.prototype=new Aa;ef.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var d=this.r,b=this.g,c=this.b;if(!d&&!b&&!c)return new vb(30,30,30);d&&30>d&&(d=30);b&&30>b&&(b=30);c&&30>c&&(c=30);return new vb(Math.min(255,d/a),Math.min(255,b/a),Math.min(255,c/a))};ef.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return new vb(a*this.r,a*this.g,a*this.b)};ef.hsl=function(){return be(this.r,this.g,this.b)};ef.toString=
function(){return"#"+cc(this.r)+cc(this.g)+cc(this.b)};var va=D.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,
darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,
gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,
lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,
orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,
tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});va.forEach(function(a,d){va.set(a,new vb(d>>16,d>>8&255,d&255))});D.functor=Na;D.xhr=Gd(jb);D.dsv=function(a,d){function b(a,b,l){3>arguments.length&&(l=b,b=null);var p=Pe(a,d,null==b?c:e(b),l);p.row=function(a){return arguments.length?p.response(null==(b=a)?c:e(a)):b};return p}function c(a){return b.parse(a.responseText)}
function e(a){return function(d){return b.parse(d.responseText,a)}}function l(d){return d.map(p).join(a)}function p(a){return f.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var f=new RegExp('["'+a+"\n]"),g=a.charCodeAt(0);b.parse=function(a,d){var c;return b.parseRows(a,function(a,b){if(c)return c(a,b-1);var e=new Function("d","return {"+a.map(function(a,d){return JSON.stringify(a)+": d["+d+"]"}).join(",")+"}");c=d?function(a,b){return d(e(a),b)}:e})};b.parseRows=function(a,d){function b(){if(f>=p)return e;
if(z)return z=!1,c;var d=f;if(34===a.charCodeAt(d)){for(var b=d;b++<p;)if(34===a.charCodeAt(b)){if(34!==a.charCodeAt(b+1))break;++b}f=b+2;var l=a.charCodeAt(b+1);13===l?(z=!0,10===a.charCodeAt(b+2)&&++f):10===l&&(z=!0);return a.slice(d+1,b).replace(/""/g,'"')}for(;f<p;){l=a.charCodeAt(f++);b=1;if(10===l)z=!0;else if(13===l)z=!0,10===a.charCodeAt(f)&&(++f,++b);else if(l!==g)continue;return a.slice(d,f-b)}return a.slice(d)}for(var c={},e={},l=[],p=a.length,f=0,h=0,t,z;(t=b())!==e;){for(var k=[];t!==
c&&t!==e;)k.push(t),t=b();d&&null==(k=d(k,h++))||l.push(k)}return l};b.format=function(d){if(Array.isArray(d[0]))return b.formatRows(d);var c=new y,e=[];d.forEach(function(a){for(var d in a)c.has(d)||e.push(c.add(d))});return[e.map(p).join(a)].concat(d.map(function(d){return e.map(function(a){return p(d[a])}).join(a)})).join("\n")};b.formatRows=function(a){return a.map(l).join("\n")};return b};D.csv=D.dsv(",","text/csv");D.tsv=D.dsv("\t","text/tab-separated-values");var wg,td,Ue,Yf,Nd,Ug=Vb[q(Vb,
"requestAnimationFrame")]||function(a){setTimeout(a,17)};D.timer=function(a,d,b){var c=arguments.length;2>c&&(d=0);3>c&&(b=Date.now());c={c:a,t:b+d,f:!1,n:null};td?td.n=c:wg=c;td=c;Ue||(Yf=clearTimeout(Yf),Ue=1,Ug(Ic))};D.timer.flush=function(){Qe();Ad()};D.round=function(a,d){return d?Math.round(a*(d=Math.pow(10,d)))/d:Math.round(a)};var Zh="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,d){var b=Math.pow(10,3*ia(8-d));return{scale:8<d?function(a){return a/b}:function(a){return a*
b},symbol:a}});D.formatPrefix=function(a,d){var b=0;a&&(0>a&&(a*=-1),d&&(a=D.round(a,re(a,d))),b=1+Math.floor(1E-12+Math.log(a)/Math.LN10),b=Math.max(-24,Math.min(24,3*Math.floor((b-1)/3))));return Zh[8+b/3]};var Lh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Eh=D.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},
g:function(a,d){return a.toPrecision(d)},e:function(a,d){return a.toExponential(d)},f:function(a,d){return a.toFixed(d)},r:function(a,d){return(a=D.round(a,re(a,d))).toFixed(Math.max(0,Math.min(20,re(a*(1+1E-15),d))))}}),Z=D.time={},Cc=Date;mc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},
getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ed.setUTCDate.apply(this._,arguments)},setDay:function(){ed.setUTCDay.apply(this._,arguments)},setFullYear:function(){ed.setUTCFullYear.apply(this._,arguments)},setHours:function(){ed.setUTCHours.apply(this._,
arguments)},setMilliseconds:function(){ed.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ed.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ed.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ed.setUTCSeconds.apply(this._,arguments)},setTime:function(){ed.setTime.apply(this._,arguments)}};var ed=Date.prototype;Z.year=sb(function(a){a=Z.day(a);a.setMonth(0,1);return a},function(a,d){a.setFullYear(a.getFullYear()+d)},function(a){return a.getFullYear()});Z.years=
Z.year.range;Z.years.utc=Z.year.utc.range;Z.day=sb(function(a){var d=new Cc(2E3,0);d.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return d},function(a,d){a.setDate(a.getDate()+d)},function(a){return a.getDate()-1});Z.days=Z.day.range;Z.days.utc=Z.day.utc.range;Z.dayOfYear=function(a){var d=Z.year(a);return Math.floor((a-d-6E4*(a.getTimezoneOffset()-d.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,d){d=7-d;var b=Z[a]=
sb(function(a){(a=Z.day(a)).setDate(a.getDate()-(a.getDay()+d)%7);return a},function(a,d){a.setDate(a.getDate()+7*Math.floor(d))},function(a){var b=Z.year(a).getDay();return Math.floor((Z.dayOfYear(a)+(b+d)%7)/7)-(b!==d)});Z[a+"s"]=b.range;Z[a+"s"].utc=b.utc.range;Z[a+"OfYear"]=function(a){var b=Z.year(a).getDay();return Math.floor((Z.dayOfYear(a)+(b+d)%7)/7)}});Z.week=Z.sunday;Z.weeks=Z.sunday.range;Z.weeks.utc=Z.sunday.utc.range;Z.weekOfYear=Z.sundayOfYear;var Zf={"-":"",_:" ",0:"0"},eb=/^\s*\d+/,
$f=/^%/;D.locale=function(a){return{numberFormat:Uc(a),timeFormat:M(a)}};var yh=D.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
D.format=yh.numberFormat;D.geo={};X.prototype={s:0,t:0,add:function(a){ca(a,this.t,eh);ca(eh.s,this.s,this);this.s?this.t+=eh.t:this.s=eh.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var eh=new X;D.geo.stream=function(a,d){if(a&&Ff.hasOwnProperty(a.type))Ff[a.type](a,d);else S(a,d)};var Ff={Feature:function(a,d){S(a.geometry,d)},FeatureCollection:function(a,d){a=a.features;for(var b=-1,c=a.length;++b<c;)S(a[b].geometry,d)}},Fh={Sphere:function(a,d){d.sphere()},Point:function(a,
d){a=a.coordinates;d.point(a[0],a[1],a[2])},MultiPoint:function(a,d){for(var b=a.coordinates,c=-1,e=b.length;++c<e;)a=b[c],d.point(a[0],a[1],a[2])},LineString:function(a,d){Ac(a.coordinates,d,0)},MultiLineString:function(a,d){a=a.coordinates;for(var b=-1,c=a.length;++b<c;)Ac(a[b],d,0)},Polygon:function(a,d){tb(a.coordinates,d)},MultiPolygon:function(a,d){a=a.coordinates;for(var b=-1,c=a.length;++b<c;)tb(a[b],d)},GeometryCollection:function(a,d){a=a.geometries;for(var b=-1,c=a.length;++b<c;)S(a[b],
d)}};D.geo.area=function(a){oe=0;D.geo.stream(a,Mc);return oe};var oe,ag=new X,Mc={sphere:function(){oe+=4*na},point:B,lineStart:B,lineEnd:B,polygonStart:function(){ag.reset();Mc.lineStart=Ja},polygonEnd:function(){var a=2*ag;oe+=0>a?4*na+a:a;Mc.lineStart=Mc.lineEnd=Mc.point=B}};D.geo.bounds=function(){function a(a,d){r.push(y=[t=a,k=a]);d<z&&(z=d);d>m&&(m=d)}function d(d,b){var c=bb([d*oa,b*oa]);if(G){var e=oc(G,c);e=oc([e[1],-e[0],0],e);cb(e);e=kb(e);var l=d-n,p=0<l?1:-1,g=e[0]*db*p;l=180<ia(l);
l^(p*n<g&&g<p*d)?(b=e[1]*db,b>m&&(m=b)):(g=(g+360)%360-180,l^(p*n<g&&g<p*d))?(b=-e[1]*db,b<z&&(z=b)):(b<z&&(z=b),b>m&&(m=b));l?d<n?f(t,d)>f(t,k)&&(k=d):f(d,k)>f(t,k)&&(t=d):k>=t?(d<t&&(t=d),d>k&&(k=d)):d>n?f(t,d)>f(t,k)&&(k=d):f(d,k)>f(t,k)&&(t=d)}else a(d,b);G=c;n=d}function b(){K.point=d}function c(){y[0]=t;y[1]=k;K.point=a;G=null}function e(a,b){if(G){var c=a-n;x+=180<ia(c)?c+(0<c?360:-360):c}else q=a,H=b;Mc.point(a,b);d(a,b)}function l(){Mc.lineStart()}function p(){e(q,H);Mc.lineEnd();1E-6<ia(x)&&
(t=-(k=180));y[0]=t;y[1]=k;G=null}function f(a,d){return 0>(d-=a)?d+360:d}function g(a,d){return a[0]-d[0]}function h(a,d){return d[0]<=d[1]?d[0]<=a&&a<=d[1]:a<d[0]||d[1]<a}var t,z,k,m,n,q,H,G,x,r,y,K={point:a,lineStart:b,lineEnd:c,polygonStart:function(){K.point=e;K.lineStart=l;K.lineEnd=p;x=0;Mc.polygonStart()},polygonEnd:function(){Mc.polygonEnd();K.point=a;K.lineStart=b;K.lineEnd=c;0>ag?(t=-(k=180),z=-(m=90)):1E-6<x?m=90:-1E-6>x&&(z=-90);y[0]=t;y[1]=k}};return function(a){m=k=-(t=z=Infinity);
r=[];D.geo.stream(a,K);if(a=r.length){r.sort(g);for(var d=1,b=r[0],c,e=[b];d<a;++d)c=r[d],h(c[0],b)||h(c[1],b)?(f(b[0],c[1])>f(b[0],b[1])&&(b[1]=c[1]),f(c[0],b[1])>f(b[0],b[1])&&(b[0]=c[0])):e.push(b=c);var l=-Infinity,p;a=e.length-1;d=0;for(b=e[a];d<=a;b=c,++d)c=e[d],(p=f(b[1],c[0]))>l&&(l=p,t=c[0],k=b[1])}r=y=null;return Infinity===t||Infinity===z?[[NaN,NaN],[NaN,NaN]]:[[t,z],[k,m]]}}();D.geo.centroid=function(a){hc=We=Ve=ie=Ae=je=ke=ud=Nc=sf=Ya=0;D.geo.stream(a,Wb);a=Nc;var d=sf,b=Ya,c=a*a+d*d+
b*b;return 1E-12>c&&(a=je,d=ke,b=ud,1E-6>We&&(a=Ve,d=ie,b=Ae),c=a*a+d*d+b*b,1E-12>c)?[NaN,NaN]:[Math.atan2(d,a)*db,Ha(b/Math.sqrt(c))*db]};var hc,We,Ve,ie,Ae,je,ke,ud,Nc,sf,Ya,Wb={sphere:B,point:xe,lineStart:Le,lineEnd:Pb,polygonStart:function(){Wb.lineStart=pc},polygonEnd:function(){Wb.lineStart=Le}},Be=gb(ld,function(a){var d=NaN,b=NaN,c=NaN,e;return{lineStart:function(){a.lineStart();e=1},point:function(l,p){var f=0<l?na:-na,g=ia(l-d);if(1E-6>ia(g-na))a.point(d,b=0<(b+p)/2?Ga:-Ga),a.point(c,b),
a.lineEnd(),a.lineStart(),a.point(f,b),a.point(l,b),e=0;else if(c!==f&&g>=na){1E-6>ia(d-c)&&(d-=1E-6*c);1E-6>ia(l-f)&&(l-=1E-6*f);g=d;var h=b,t=l,z,k,m=Math.sin(g-t);b=1E-6<ia(m)?Math.atan((Math.sin(h)*(k=Math.cos(p))*Math.sin(t)-Math.sin(p)*(z=Math.cos(h))*Math.sin(g))/(z*k*m)):(h+p)/2;a.point(c,b);a.lineEnd();a.lineStart();a.point(f,b);e=0}a.point(d=l,b=p);c=f},lineEnd:function(){a.lineEnd();d=b=NaN},clean:function(){return 2-e}}},function(a,d,b,c){null==a?(b*=Ga,c.point(-na,b),c.point(0,b),c.point(na,
b),c.point(na,0),c.point(na,-b),c.point(0,-b),c.point(-na,-b),c.point(-na,0),c.point(-na,b)):1E-6<ia(a[0]-d[0])?(a=a[0]<d[0]?na:-na,b=b*a/2,c.point(-a,b),c.point(0,b),c.point(a,b)):c.point(d[0],d[1])},[-na,-na/2]);D.geo.clipExtent=function(){var a,d,b,c,e,l,p={stream:function(a){e&&(e.valid=!1);e=l(a);e.valid=!0;return e},extent:function(f){if(!arguments.length)return[[a,d],[b,c]];l=Wf(a=+f[0][0],d=+f[0][1],b=+f[1][0],c=+f[1][1]);e&&(e.valid=!1,e=null);return p}};return p.extent([[0,0],[960,500]])};
(D.geo.conicEqualArea=function(){return fc(ee)}).raw=ee;D.geo.albers=function(){return D.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};D.geo.albersUsa=function(){function a(a){var d=a[0];a=a[1];e=null;(p(d,a),e)||(f(d,a),e)||g(d,a);return e}var d=D.geo.albers(),b=D.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=D.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),e,l={point:function(a,d){e=[a,d]}},p,f,
g;a.invert=function(a){var e=d.scale(),l=d.translate(),p=(a[0]-l[0])/e;e=(a[1]-l[1])/e;return(.12<=e&&.234>e&&-.425<=p&&-.214>p?b:.166<=e&&.234>e&&-.214<=p&&-.115>p?c:d).invert(a)};a.stream=function(a){var e=d.stream(a),l=b.stream(a),p=c.stream(a);return{point:function(a,d){e.point(a,d);l.point(a,d);p.point(a,d)},sphere:function(){e.sphere();l.sphere();p.sphere()},lineStart:function(){e.lineStart();l.lineStart();p.lineStart()},lineEnd:function(){e.lineEnd();l.lineEnd();p.lineEnd()},polygonStart:function(){e.polygonStart();
l.polygonStart();p.polygonStart()},polygonEnd:function(){e.polygonEnd();l.polygonEnd();p.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return d.precision();d.precision(e);b.precision(e);c.precision(e);return a};a.scale=function(e){if(!arguments.length)return d.scale();d.scale(e);b.scale(.35*e);c.scale(e);return a.translate(d.translate())};a.translate=function(e){if(!arguments.length)return d.translate();var h=d.scale(),t=+e[0],z=+e[1];p=d.translate(e).clipExtent([[t-.455*h,z-.238*h],
[t+.455*h,z+.238*h]]).stream(l).point;f=b.translate([t-.307*h,z+.201*h]).clipExtent([[t-.425*h+1E-6,z+.12*h+1E-6],[t-.214*h-1E-6,z+.234*h-1E-6]]).stream(l).point;g=c.translate([t-.205*h,z+.212*h]).clipExtent([[t-.214*h+1E-6,z+.166*h+1E-6],[t-.115*h-1E-6,z+.234*h-1E-6]]).stream(l).point;return a};return a.scale(1070)};var Tc,Od,dd={point:B,lineStart:B,lineEnd:B,polygonStart:function(){Od=0;dd.lineStart=Se},polygonEnd:function(){dd.lineStart=dd.lineEnd=dd.point=B;Tc+=ia(Od/2)}},Ab,ig,ff,Mh,Pi={point:function(a,
d){a<Ab&&(Ab=a);a>ff&&(ff=a);d<ig&&(ig=d);d>Mh&&(Mh=d)},lineStart:B,lineEnd:B,polygonStart:B,polygonEnd:B},Tb={point:md,lineStart:pf,lineEnd:Te,polygonStart:function(){Tb.lineStart=fe},polygonEnd:function(){Tb.point=md;Tb.lineStart=pf;Tb.lineEnd=Te}};D.geo.path=function(){function a(a){a&&("function"===typeof b&&p.pointRadius(+b.apply(this,arguments)),f&&f.valid||(f=l(p)),D.geo.stream(a,f));return p.result()}function d(){f=null;return a}var b=4.5,c,e,l,p,f;a.area=function(a){Tc=0;D.geo.stream(a,l(dd));
return Tc};a.centroid=function(a){Ve=ie=Ae=je=ke=ud=Nc=sf=Ya=0;D.geo.stream(a,l(Tb));return Ya?[Nc/Ya,sf/Ya]:ud?[je/ud,ke/ud]:Ae?[Ve/Ae,ie/Ae]:[NaN,NaN]};a.bounds=function(a){ff=Mh=-(Ab=ig=Infinity);D.geo.stream(a,l(Pi));return[[Ab,ig],[ff,Mh]]};a.projection=function(a){if(!arguments.length)return c;l=(c=a)?a.stream||Hd(a):jb;return d()};a.context=function(a){if(!arguments.length)return e;p=null==(e=a)?new P:new Kc(a);"function"!==typeof b&&p.pointRadius(b);return d()};a.pointRadius=function(d){if(!arguments.length)return b;
b="function"===typeof d?d:(p.pointRadius(+d),+d);return a};return a.projection(D.geo.albersUsa()).context(null)};D.geo.transform=function(a){return{stream:function(d){d=new sc(d);for(var b in a)d[b]=a[b];return d}}};sc.prototype={point:function(a,d){this.stream.point(a,d)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
D.geo.projection=tc;D.geo.projectionMutator=Qb;(D.geo.equirectangular=function(){return tc(Bc)}).raw=Bc.invert=Bc;D.geo.rotation=function(a){function d(d){d=a(d[0]*oa,d[1]*oa);return d[0]*=db,d[1]*=db,d}a=Id(a[0]%360*oa,a[1]*oa,2<a.length?a[2]*oa:0);d.invert=function(d){d=a.invert(d[0]*oa,d[1]*oa);return d[0]*=db,d[1]*=db,d};return d};te.invert=Bc;D.geo.circle=function(){function a(){var a="function"===typeof d?d.apply(this,arguments):d,b=Id(-a[0]*oa,-a[1]*oa,0).invert,c=[];e(null,null,1,{point:function(a,
d){c.push(a=b(a,d));a[0]*=db;a[1]*=db}});return{type:"Polygon",coordinates:[c]}}var d=[0,0],b,c=6,e;a.origin=function(b){if(!arguments.length)return d;d=b;return a};a.angle=function(d){if(!arguments.length)return b;e=Kd((b=+d)*oa,c*oa);return a};a.precision=function(d){if(!arguments.length)return c;e=Kd(b*oa,(c=+d)*oa);return a};return a.angle(90)};D.geo.distance=function(a,d){var b=(d[0]-a[0])*oa,c=a[1]*oa,e=d[1]*oa;d=Math.cos(b);a=Math.sin(c);c=Math.cos(c);var l=Math.sin(e);e=Math.cos(e);var p;
return Math.atan2(Math.sqrt((p=e*Math.sin(b))*p+(p=c*l-a*e*d)*p),a*l+c*e*d)};D.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:d()}}function d(){return D.range(Math.ceil(l/k)*k,e,k).map(H).concat(D.range(Math.ceil(h/m)*m,g,m).map(G)).concat(D.range(Math.ceil(c/t)*t,b,t).filter(function(a){return 1E-6<ia(a%k)}).map(n)).concat(D.range(Math.ceil(f/z)*z,p,z).filter(function(a){return 1E-6<ia(a%m)}).map(q))}var b,c,e,l,p,f,g,h,t=10,z=t,k=90,m=360,n,q,H,G,x=2.5;a.lines=function(){return d().map(function(a){return{type:"LineString",
coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[H(l).concat(G(g).slice(1),H(e).reverse().slice(1),G(h).reverse().slice(1))]}};a.extent=function(d){return arguments.length?a.majorExtent(d).minorExtent(d):a.minorExtent()};a.majorExtent=function(d){if(!arguments.length)return[[l,h],[e,g]];l=+d[0][0];e=+d[1][0];h=+d[0][1];g=+d[1][1];l>e&&(d=l,l=e,e=d);h>g&&(d=h,h=g,g=d);return a.precision(x)};a.minorExtent=function(d){if(!arguments.length)return[[c,f],[b,p]];c=+d[0][0];b=+d[1][0];
f=+d[0][1];p=+d[1][1];c>b&&(d=c,c=b,b=d);f>p&&(d=f,f=p,p=d);return a.precision(x)};a.step=function(d){return arguments.length?a.majorStep(d).minorStep(d):a.minorStep()};a.majorStep=function(d){if(!arguments.length)return[k,m];k=+d[0];m=+d[1];return a};a.minorStep=function(d){if(!arguments.length)return[t,z];t=+d[0];z=+d[1];return a};a.precision=function(d){if(!arguments.length)return x;x=+d;n=Ld(f,p,90);q=Md(c,b,x);H=Ld(h,g,90);G=Md(l,e,x);return a};return a.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,
-80.000001],[180,80.000001]])};D.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),e||c.apply(this,arguments)]}}var d=qd,b,c=gc,e;a.distance=function(){return D.geo.distance(b||d.apply(this,arguments),e||c.apply(this,arguments))};a.source=function(c){if(!arguments.length)return d;d=c;b="function"===typeof c?null:c;return a};a.target=function(d){if(!arguments.length)return c;c=d;e="function"===typeof d?null:d;return a};a.precision=function(){return arguments.length?
a:0};return a};D.geo.interpolate=function(a,d){return uc(a[0]*oa,a[1]*oa,d[0]*oa,d[1]*oa)};D.geo.length=function(a){$h=0;D.geo.stream(a,rh);return $h};var $h,rh={sphere:B,point:B,lineStart:function(){function a(a,e){var l=Math.sin(e*=oa);e=Math.cos(e);var p=ia((a*=oa)-d),f=Math.cos(p);$h+=Math.atan2(Math.sqrt((p=e*Math.sin(p))*p+(p=c*l-b*e*f)*p),b*l+c*e*f);d=a;b=l;c=e}var d,b,c;rh.point=function(e,l){d=e*oa;b=Math.sin(l*=oa);c=Math.cos(l);rh.point=a};rh.lineEnd=function(){rh.point=rh.lineEnd=B}},
lineEnd:B,polygonStart:B,polygonEnd:B},ai=Wa(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(D.geo.azimuthalEqualArea=function(){return tc(ai)}).raw=ai;var pe=Wa(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},jb);(D.geo.azimuthalEquidistant=function(){return tc(pe)}).raw=pe;(D.geo.conicConformal=function(){return fc(ta)}).raw=ta;(D.geo.conicEquidistant=function(){return fc(kg)}).raw=kg;var bi=Wa(function(a){return 1/a},Math.atan);(D.geo.gnomonic=function(){return tc(bi)}).raw=
bi;Ob.invert=function(a,d){return[a,2*Math.atan(Math.exp(d))-Ga]};(D.geo.mercator=function(){return kc(Ob)}).raw=Ob;var pi=Wa(function(){return 1},Math.asin);(D.geo.orthographic=function(){return tc(pi)}).raw=pi;var jg=Wa(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(D.geo.stereographic=function(){return tc(jg)}).raw=jg;Je.invert=function(a,d){return[-d,2*Math.atan(Math.exp(a))-Ga]};(D.geo.transverseMercator=function(){var a=kc(Je),d=a.center,b=a.rotate;a.center=function(a){return a?
d([-a[1],a[0]]):(a=d(),[a[1],-a[0]])};a.rotate=function(a){return a?b([a[0],a[1],2<a.length?a[2]+90:90]):(a=b(),[a[0],a[1],a[2]-90])};return b([0,0,90])}).raw=Je;D.geom={};D.geom.hull=function(a){function d(a){if(3>a.length)return[];var d=Na(b),e=Na(c),l,p=a.length,f=[],g=[];for(l=0;l<p;l++)f.push([+d.call(this,a[l],l),+e.call(this,a[l],l),l]);f.sort(Gf);for(l=0;l<p;l++)g.push([f[l][0],-f[l][1]]);d=hf(f);g=hf(g);e=g[0]===d[0];p=g[g.length-1]===d[d.length-1];var h=[];for(l=d.length-1;0<=l;--l)h.push(a[f[d[l]][2]]);
for(l=+e;l<g.length-p;++l)h.push(a[f[g[l]][2]]);return h}var b=fd,c=lg;if(arguments.length)return d(a);d.x=function(a){return arguments.length?(b=a,d):b};d.y=function(a){return arguments.length?(c=a,d):c};return d};D.geom.polygon=function(a){rd(a,Xd);return a};var Xd=D.geom.polygon.prototype=[];Xd.area=function(){for(var a=-1,d=this.length,b,c=this[d-1],e=0;++a<d;)b=c,c=this[a],e+=b[1]*c[0]-b[0]*c[1];return.5*e};Xd.centroid=function(a){var d=-1,b=this.length,c=0,e=0,l=this[b-1];for(arguments.length||
(a=-1/(6*this.area()));++d<b;){var p=l;l=this[d];var f=p[0]*l[1]-l[0]*p[1];c+=(p[0]+l[0])*f;e+=(p[1]+l[1])*f}return[c*a,e*a]};Xd.clip=function(a){for(var d,b=Jf(a),c=-1,e=this.length-Jf(this),l,p,f=this[e-1],g,h,t;++c<e;){d=a.slice();a.length=0;g=this[c];h=d[(p=d.length-b)-1];for(l=-1;++l<p;)t=d[l],Hf(t,f,g)?(Hf(h,f,g)||a.push(If(h,t,f,g)),a.push(t)):Hf(h,f,g)&&a.push(If(h,t,f,g)),h=t;b&&a.push(a[0]);f=g}return a};var vd,mh,le,tf=[],Wh,lh,ji=[];id.prototype.prepare=function(){for(var a=this.edges,
d=a.length,b;d--;)b=a[d].edge,b.b&&b.a||a.splice(d,1);a.sort(Mf);return a.length};Nf.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};Yc.prototype={insert:function(a,d){var b;if(a){d.P=a;if(d.N=a.N)a.N.P=d;a.N=d;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=d}else a.R=d;var c=a}else this._?(a=og(this._),d.P=null,d.N=a,a.P=a.L=d,c=a):(d.P=d.N=null,this._=d,c=null);d.L=d.R=null;d.U=c;d.C=!0;for(a=d;c&&c.C;)d=
c.U,c===d.L?(b=d.R)&&b.C?(c.C=b.C=!1,d.C=!0,a=d):(a===c.R&&(mf(this,c),a=c,c=a.U),c.C=!1,d.C=!0,kf(this,d)):(b=d.L)&&b.C?(c.C=b.C=!1,d.C=!0,a=d):(a===c.L&&(kf(this,c),a=c,c=a.U),c.C=!1,d.C=!0,mf(this,d)),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var d=a.U,b=a.L,c=a.R;var e=b?c?og(c):b:c;d?d.L===a?d.L=e:d.R=e:this._=e;if(b&&c){var l=e.C;e.C=a.C;e.L=b;b.U=e;e!==c?(d=e.U,e.U=a.U,a=e.R,d.L=a,e.R=c,c.U=e):(e.U=d,d=e,a=e.R)}else l=a.C,a=e;a&&(a.U=d);if(!l)if(a&&
a.C)a.C=!1;else{do{if(a===this._)break;if(a===d.L){if(a=d.R,a.C&&(a.C=!1,d.C=!0,mf(this,d),a=d.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=!1,a.C=!0,kf(this,a),a=d.R);a.C=d.C;d.C=a.R.C=!1;mf(this,d);a=this._;break}}else if(a=d.L,a.C&&(a.C=!1,d.C=!0,kf(this,d),a=d.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,mf(this,a),a=d.L);a.C=d.C;d.C=a.L.C=!1;kf(this,d);a=this._;break}a.C=!0;a=d;d=d.U}while(!a.C);a&&(a.C=!1)}}};D.geom.voronoi=function(a){function d(a){var d=Array(a.length),c=f[0][0],
e=f[0][1],l=f[1][0],p=f[1][1];Ne(b(a),f).cells.forEach(function(b,f){var g=b.edges;b=b.site;(d[f]=g.length?g.map(function(a){a=a.start();return[a.x,a.y]}):b.x>=c&&b.x<=l&&b.y>=e&&b.y<=p?[[c,p],[l,p],[l,e],[c,e]]:[]).point=a[f]});return d}function b(a){return a.map(function(a,d){return{x:1E-6*Math.round(l(a,d)/1E-6),y:1E-6*Math.round(p(a,d)/1E-6),i:d}})}var c=fd,e=lg,l=c,p=e,f=zh;if(a)return d(a);d.links=function(a){return Ne(b(a)).edges.filter(function(a){return a.l&&a.r}).map(function(d){return{source:a[d.l.i],
target:a[d.r.i]}})};d.triangles=function(a){var d=[];Ne(b(a)).cells.forEach(function(b,c){var e=b.site;b=b.edges.sort(Mf);var l=-1,p=b.length,f=b[p-1].edge;for(f=f.l===e?f.r:f.l;++l<p;){var g=f;f=b[l].edge;f=f.l===e?f.r:f.l;c<g.i&&c<f.i&&0>(e.x-f.x)*(g.y-e.y)-(e.x-g.x)*(f.y-e.y)&&d.push([a[c],a[g.i],a[f.i]])}});return d};d.x=function(a){return arguments.length?(l=Na(c=a),d):c};d.y=function(a){return arguments.length?(p=Na(e=a),d):e};d.clipExtent=function(a){if(!arguments.length)return f===zh?null:
f;f=null==a?zh:a;return d};d.size=function(a){return arguments.length?d.clipExtent(a&&[[0,0],a]):f===zh?null:f&&f[1]};return d};var zh=[[-1E6,-1E6],[1E6,1E6]];D.geom.delaunay=function(a){return D.geom.voronoi().triangles(a)};D.geom.quadtree=function(a,d,b,c,e){function l(a){function l(a,d,b,c,e,l,p,f){if(!isNaN(b)&&!isNaN(c))if(a.leaf){var g=a.x,t=a.y;if(null!=g){if(!(.01>ia(g-b)+ia(t-c))){var z=a.point;a.x=a.y=a.point=null;h(a,z,g,t,e,l,p,f)}h(a,d,b,c,e,l,p,f)}else a.x=b,a.y=c,a.point=d}else h(a,
d,b,c,e,l,p,f)}function h(a,d,b,c,e,p,f,g){var h=.5*(e+f),t=.5*(p+g),z=b>=h,k=c>=t,m=k<<1|z;a.leaf=!1;a=a.nodes[m]||(a.nodes[m]=Of());z?e=h:f=h;k?p=t:g=t;l(a,d,b,c,e,p,f,g)}var t=Na(p),z=Na(f),k;if(null!=d){var m=d;var n=b;var q=c;var H=e}else{q=H=-(m=n=Infinity);var G=[];var x=[];var r=a.length;if(g)for(k=0;k<r;++k){var K=a[k];K.x<m&&(m=K.x);K.y<n&&(n=K.y);K.x>q&&(q=K.x);K.y>H&&(H=K.y);G.push(K.x);x.push(K.y)}else for(k=0;k<r;++k){var y=+t(K=a[k],k);K=+z(K,k);y<m&&(m=y);K<n&&(n=K);y>q&&(q=y);K>H&&
(H=K);G.push(y);x.push(K)}}y=q-m;K=H-n;y>K?H=n+y:q=m+K;var w=Of();w.add=function(a){l(w,a,+t(a,++k),+z(a,k),m,n,q,H)};w.visit=function(a){Oe(a,w,m,n,q,H)};w.find=function(a){return ae(w,a[0],a[1],m,n,q,H)};k=-1;if(null==d){for(;++k<r;)l(w,a[k],G[k],x[k],m,n,q,H);--k}else a.forEach(w.add);G=x=a=K=null;return w}var p=fd,f=lg,g;if(g=arguments.length)return p=Pg,f=Mg,3===g&&(e=b,c=d,b=d=0),l(a);l.x=function(a){return arguments.length?(p=a,l):p};l.y=function(a){return arguments.length?(f=a,l):f};l.extent=
function(a){if(!arguments.length)return null==d?null:[[d,b],[c,e]];null==a?d=b=c=e=null:(d=+a[0][0],b=+a[0][1],c=+a[1][0],e=+a[1][1]);return l};l.size=function(a){if(!arguments.length)return null==d?null:[c-d,e-b];null==a?d=b=c=e=null:(d=b=0,c=+a[0],e=+a[1]);return l};return l};D.interpolateRgb=sg;D.interpolateObject=Qg;D.interpolateNumber=ob;D.interpolateString=of;var Xh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gh=new RegExp(Xh.source,"g");D.interpolate=Lb;D.interpolators=[function(a,d){var b=
typeof d;return("string"===b?va.has(d)||/^(#|rgb\(|hsl\()/.test(d)?sg:of:d instanceof Aa?sg:Array.isArray(d)?Pf:"object"===b&&isNaN(d)?Qg:ob)(a,d)}];D.interpolateArray=Pf;var Nh=function(){return jb},qi=D.map({linear:Nh,poly:function(a){return function(d){return Math.pow(d,a)}},quad:function(){return rc},cubic:function(){return Ia},sin:function(){return zc},exp:function(){return jd},circle:function(){return Qf},elastic:function(a,d){2>arguments.length&&(d=.45);if(arguments.length)var b=d/Sa*Math.asin(1/
a);else a=1,b=d/4;return function(c){return 1+a*Math.pow(2,-10*c)*Math.sin((c-b)*Sa/d)}},back:function(a){a||(a=1.70158);return function(d){return d*d*((a+1)*d-a)}},bounce:function(){return tg}}),ri=D.map({"in":jb,out:Hc,"in-out":Qa,"out-in":function(a){return Qa(Hc(a))}});D.ease=function(a){var d=a.indexOf("-"),b=0<=d?a.slice(0,d):a;d=0<=d?a.slice(d+1):"in";b=qi.get(b)||Nh;d=ri.get(d)||jb;return qa(d(b.apply(null,Wd.call(arguments,1))))};D.interpolateHcl=function(a,d){a=D.hcl(a);d=D.hcl(d);var b=
a.h,c=a.c,e=a.l,l=d.h-b,p=d.c-c,f=d.l-e;isNaN(p)&&(p=0,c=isNaN(c)?d.c:c);isNaN(l)?(l=0,b=isNaN(b)?d.h:b):180<l?l-=360:-180>l&&(l+=360);return function(a){return ya(b+l*a,c+p*a,e+f*a)+""}};D.interpolateHsl=function(a,d){a=D.hsl(a);d=D.hsl(d);var b=a.h,c=a.s,e=a.l,l=d.h-b,p=d.s-c,f=d.l-e;isNaN(p)&&(p=0,c=isNaN(c)?d.s:c);isNaN(l)?(l=0,b=isNaN(b)?d.h:b):180<l?l-=360:-180>l&&(l+=360);return function(a){return mb(b+l*a,c+p*a,e+f*a)+""}};D.interpolateLab=function(a,d){a=D.lab(a);d=D.lab(d);var b=a.l,c=a.a,
e=a.b,l=d.l-b,p=d.a-c,f=d.b-e;return function(a){return nb(b+l*a,c+p*a,e+f*a)+""}};D.interpolateRound=Lf;D.transform=function(a){var d=Sc.createElementNS(D.ns.prefix.svg,"g");return(D.transform=function(a){if(null!=a){d.setAttribute("transform",a);var b=d.transform.baseVal.consolidate()}return new Ng(b?b.matrix:Oh)})(a)};Ng.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Oh={a:1,b:0,c:0,d:1,e:0,f:0};D.interpolateTransform=
ug;D.layout={};D.layout.bundle=function(){return function(a){for(var d=[],b=-1,c=a.length;++b<c;)d.push(Lg(a[b]));return d}};D.layout.chord=function(){function a(){var a={},b=[],z=D.range(p),k=[],m,n;c=[];e=[];var q=0;for(m=-1;++m<p;){var H=0;for(n=-1;++n<p;)H+=l[m][n];b.push(H);k.push(D.range(p));q+=H}g&&z.sort(function(a,d){return g(b[a],b[d])});h&&k.forEach(function(a,d){a.sort(function(a,b){return h(l[d][a],l[d][b])})});q=(Sa-f*p)/q;H=0;for(m=-1;++m<p;){var G=H;for(n=-1;++n<p;){var x=z[m];var r=
k[x][n],K=l[x][r],y=H,w=H+=K*q;a[x+"-"+r]={index:x,subindex:r,startAngle:y,endAngle:w,value:K}}e[x]={index:x,startAngle:G,endAngle:H,value:(H-G)/q};H+=f}for(m=-1;++m<p;)for(n=m-1;++n<p;)x=a[m+"-"+n],z=a[n+"-"+m],(x.value||z.value)&&c.push(x.value<z.value?{source:z,target:x}:{source:x,target:z});t&&d()}function d(){c.sort(function(a,d){return t((a.source.value+a.target.value)/2,(d.source.value+d.target.value)/2)})}var b={},c,e,l,p,f=0,g,h,t;b.matrix=function(a){if(!arguments.length)return l;p=(l=a)&&
l.length;c=e=null;return b};b.padding=function(a){if(!arguments.length)return f;f=a;c=e=null;return b};b.sortGroups=function(a){if(!arguments.length)return g;g=a;c=e=null;return b};b.sortSubgroups=function(a){if(!arguments.length)return h;h=a;c=null;return b};b.sortChords=function(a){if(!arguments.length)return t;t=a;c&&d();return b};b.chords=function(){c||a();return c};b.groups=function(){e||a();return e};return b};D.layout.force=function(){function a(a){return function(d,b,c,e){if(d.point!==a){c=
d.cx-a.x;var l=d.cy-a.y;b=e-b;e=c*c+l*l;if(b*b/m<e)return e<z&&(b=d.charge/e,a.px-=c*b,a.py-=l*b),!0;d.point&&e&&e<z&&(b=d.pointCharge/e,a.px-=c*b,a.py-=l*b)}return!d.charge}}function d(a){a.px=D.event.x;a.py=D.event.y;b.resume()}var b={},c=D.dispatch("start","tick","end"),e=[1,1],l,p,f=.9,g=si,h=ti,t=-30,z=ui,k=.1,m=.64,n=[],q=[],H,G,x;b.tick=function(){if(.005>(p*=.99))return c.end({type:"end",alpha:p=0}),!0;var d=n.length,b=q.length,l,g;for(l=0;l<b;++l){var h=q[l];var z=h.source;var m=h.target;
var r=m.x-z.x;var K=m.y-z.y;if(g=r*r+K*K)g=p*G[l]*((g=Math.sqrt(g))-H[l])/g,r*=g,K*=g,m.x-=r*(g=z.weight/(m.weight+z.weight)),m.y-=K*g,z.x+=r*(g=1-g),z.y+=K*g}if(g=p*k)if(r=e[0]/2,K=e[1]/2,l=-1,g)for(;++l<d;)h=n[l],h.x+=(r-h.x)*g,h.y+=(K-h.y)*g;if(t)for(qb(b=D.geom.quadtree(n),p,x),l=-1;++l<d;)(h=n[l]).fixed||b.visit(a(h));for(l=-1;++l<d;)h=n[l],h.fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*f,h.y-=(h.py-(h.py=h.y))*f);c.tick({type:"tick",alpha:p})};b.nodes=function(a){if(!arguments.length)return n;
n=a;return b};b.links=function(a){if(!arguments.length)return q;q=a;return b};b.size=function(a){if(!arguments.length)return e;e=a;return b};b.linkDistance=function(a){if(!arguments.length)return g;g="function"===typeof a?a:+a;return b};b.distance=b.linkDistance;b.linkStrength=function(a){if(!arguments.length)return h;h="function"===typeof a?a:+a;return b};b.friction=function(a){if(!arguments.length)return f;f=+a;return b};b.charge=function(a){if(!arguments.length)return t;t="function"===typeof a?
a:+a;return b};b.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(z);z=a*a;return b};b.gravity=function(a){if(!arguments.length)return k;k=+a;return b};b.theta=function(a){if(!arguments.length)return Math.sqrt(m);m=a*a;return b};b.alpha=function(a){if(!arguments.length)return p;a=+a;p?p=0<a?a:0:0<a&&(c.start({type:"start",alpha:p=a}),D.timer(b.tick));return b};b.start=function(){function a(a,b){if(!z){z=Array(c);for(l=0;l<c;++l)z[l]=[];for(l=0;l<p;++l){var e=q[l];z[e.source.index].push(e.target);
z[e.target.index].push(e.source)}}e=z[d];for(var l=-1,p=e.length,f;++l<p;)if(!isNaN(f=e[l][a]))return f;return Math.random()*b}var d,c=n.length,l=q.length,p=e[0],f=e[1],z,k;for(d=0;d<c;++d)(k=n[d]).index=d,k.weight=0;for(d=0;d<l;++d)k=q[d],"number"==typeof k.source&&(k.source=n[k.source]),"number"==typeof k.target&&(k.target=n[k.target]),++k.source.weight,++k.target.weight;for(d=0;d<c;++d)k=n[d],isNaN(k.x)&&(k.x=a("x",p)),isNaN(k.y)&&(k.y=a("y",f)),isNaN(k.px)&&(k.px=k.x),isNaN(k.py)&&(k.py=k.y);
H=[];if("function"===typeof g)for(d=0;d<l;++d)H[d]=+g.call(this,q[d],d);else for(d=0;d<l;++d)H[d]=g;G=[];if("function"===typeof h)for(d=0;d<l;++d)G[d]=+h.call(this,q[d],d);else for(d=0;d<l;++d)G[d]=h;x=[];if("function"===typeof t)for(d=0;d<c;++d)x[d]=+t.call(this,n[d],d);else for(d=0;d<c;++d)x[d]=t;return b.resume()};b.resume=function(){return b.alpha(.1)};b.stop=function(){return b.alpha(0)};b.drag=function(){l||(l=D.behavior.drag().origin(jb).on("dragstart.force",th).on("drag.force",d).on("dragend.force",
kh));if(!arguments.length)return l;this.on("mouseover.force",uh).on("mouseout.force",ac).call(l)};return D.rebind(b,c,"on")};var si=20,ti=1,ui=Infinity;D.layout.hierarchy=function(){function a(e){var l,p,f=[e],g=[],h;for(e.depth=0;null!=(h=f.pop());)if(g.push(h),(l=b.call(a,h,h.depth))&&(p=l.length)){for(var t;0<=--p;)f.push(t=l[p]),t.parent=h,t.depth=h.depth+1;c&&(h.value=0);h.children=l}else c&&(h.value=+c.call(a,h,h.depth)||0),delete h.children;wb(e,function(a){var b,e;d&&(b=a.children)&&b.sort(d);
c&&(e=a.parent)&&(e.value+=a.value)});return g}var d=Kg,b=jf,c=Kf;a.sort=function(b){if(!arguments.length)return d;d=b;return a};a.children=function(d){if(!arguments.length)return b;b=d;return a};a.value=function(d){if(!arguments.length)return c;c=d;return a};a.revalue=function(d){c&&(ue(d,function(a){a.children&&(a.value=0)}),wb(d,function(d){var b;d.children||(d.value=+c.call(a,d,d.depth)||0);if(b=d.parent)b.value+=d.value}));return d};return a};D.layout.partition=function(){function a(d,b,c,e){var l,
p=d.children;d.x=b;d.y=d.depth*e;d.dx=c;d.dy=e;if(p&&(l=p.length)){var f=-1,g;for(c=d.value?c/d.value:0;++f<l;)a(g=p[f],b,d=g.value*c,e),b+=d}}function d(a){var b;a=a.children;var c=0;if(a&&(b=a.length))for(var e=-1;++e<b;)c=Math.max(c,d(a[e]));return 1+c}function b(b,l){b=c.call(this,b,l);a(b[0],0,e[0],e[1]/d(b[0]));return b}var c=D.layout.hierarchy(),e=[1,1];b.size=function(a){if(!arguments.length)return e;e=a;return b};return Kb(b,c)};D.layout.pie=function(){function a(p){var f=p.length,g=p.map(function(b,
c){return+d.call(a,b,c)}),h=+("function"===typeof c?c.apply(this,arguments):c),t=("function"===typeof e?e.apply(this,arguments):e)-h,z=Math.min(Math.abs(t)/f,+("function"===typeof l?l.apply(this,arguments):l)),k=z*(0>t?-1:1),m=(t-f*k)/D.sum(g);f=D.range(f);var n=[],q;null!=b&&f.sort(b===ci?function(a,d){return g[d]-g[a]}:function(a,d){return b(p[a],p[d])});f.forEach(function(a){n[a]={data:p[a],value:q=g[a],startAngle:h,endAngle:h+=q*m+k,padAngle:z}});return n}var d=Number,b=ci,c=0,e=Sa,l=0;a.value=
function(b){if(!arguments.length)return d;d=b;return a};a.sort=function(d){if(!arguments.length)return b;b=d;return a};a.startAngle=function(d){if(!arguments.length)return c;c=d;return a};a.endAngle=function(d){if(!arguments.length)return e;e=d;return a};a.padAngle=function(d){if(!arguments.length)return l;l=d;return a};return a};var ci={};D.layout.stack=function(){function a(f,g){if(!(k=f.length))return f;var h=f.map(function(b,c){return d.call(a,b,c)}),t=h.map(function(d){return d.map(function(d,
b){return[l.call(a,d,b),p.call(a,d,b)]})}),z=b.call(a,t,g);h=D.permute(h,z);t=D.permute(t,z);g=c.call(a,t,g);z=h[0].length;var k,m,n,q;for(n=0;n<z;++n)for(e.call(a,h[0][n],q=g[n],t[0][n][1]),m=1;m<k;++m)e.call(a,h[m][n],q+=t[m-1][n][1],t[m][n][1]);return f}var d=jb,b=Me,c=sa,e=ng,l=Ua,p=$b;a.values=function(b){if(!arguments.length)return d;d=b;return a};a.order=function(d){if(!arguments.length)return b;b="function"===typeof d?d:Hh.get(d)||Me;return a};a.offset=function(d){if(!arguments.length)return c;
c="function"===typeof d?d:vi.get(d)||sa;return a};a.x=function(d){if(!arguments.length)return l;l=d;return a};a.y=function(d){if(!arguments.length)return p;p=d;return a};a.out=function(d){if(!arguments.length)return e;e=d;return a};return a};var Hh=D.map({"inside-out":function(a){var d=a.length,b=a.map(hd),c=a.map(rg),e=D.range(d).sort(function(a,d){return b[a]-b[d]}),l=0,p=0,f=[],g=[];for(a=0;a<d;++a){var h=e[a];l<p?(l+=c[h],f.push(h)):(p+=c[h],g.push(h))}return g.reverse().concat(f)},reverse:function(a){return D.range(a.length).reverse()},
"default":Me}),vi=D.map({silhouette:function(a){var d=a.length,b=a[0].length,c=[],e=0,l,p,f,g=[];for(p=0;p<b;++p){for(f=l=0;l<d;l++)f+=a[l][p][1];f>e&&(e=f);c.push(f)}for(p=0;p<b;++p)g[p]=(e-c[p])/2;return g},wiggle:function(a){var d=a.length,b=a[0],c=b.length,e,l,p,f,g,h,t,z=[];z[0]=h=t=0;for(l=1;l<c;++l){for(p=e=0;e<d;++e)p+=a[e][l][1];var k=e=0;for(g=b[l][0]-b[l-1][0];e<d;++e){var m=0;for(f=(a[e][l][1]-a[e][l-1][1])/(2*g);m<e;++m)f+=(a[m][l][1]-a[m][l-1][1])/g;k+=f*a[e][l][1]}z[l]=h-=p?k/p*g:0;
h<t&&(t=h)}for(l=0;l<c;++l)z[l]-=t;return z},expand:function(a){var d=a.length,b=a[0].length,c=1/d,e,l,p,f=[];for(l=0;l<b;++l){for(p=e=0;e<d;e++)p+=a[e][l][1];if(p)for(e=0;e<d;e++)a[e][l][1]/=p;else for(e=0;e<d;e++)a[e][l][1]=c}for(l=0;l<b;++l)f[l]=0;return f},zero:sa});D.layout.histogram=function(){function a(a,l){var p=[],f=a.map(b,this),g=c.call(this,f,l),h=e.call(this,g,f,l);l=-1;for(var t=f.length,z=h.length-1,k=d?1:1/t;++l<z;){var m=p[l]=[];m.dx=h[l+1]-(m.x=h[l]);m.y=0}if(0<z)for(l=-1;++l<t;)m=
f[l],m>=g[0]&&m<=g[1]&&(m=p[D.bisect(h,m,1,z)-1],m.y+=k,m.push(a[l]));return p}var d=!0,b=Number,c=ka,e=vh;a.value=function(d){if(!arguments.length)return b;b=d;return a};a.range=function(d){if(!arguments.length)return c;c=Na(d);return a};a.bins=function(d){if(!arguments.length)return e;e="number"===typeof d?function(a){return pb(a,d)}:Na(d);return a};a.frequency=function(b){if(!arguments.length)return d;d=!!b;return a};return a};D.layout.pack=function(){function a(a,l){a=d.call(this,a,l);l=a[0];
var p=c[0],f=c[1],g=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};l.x=l.y=0;wb(l,function(a){a.r=+g(a.value)});wb(l,wd);if(b){var h=b*(e?1:Math.max(2*l.r/p,2*l.r/f))/2;wb(l,function(a){a.r+=h});wb(l,wd);wb(l,function(a){a.r-=h})}Mb(l,p/2,f/2,e?1:1/Math.max(2*l.r/p,2*l.r/f));return a}var d=D.layout.hierarchy().sort(qc),b=0,c=[1,1],e;a.size=function(d){if(!arguments.length)return c;c=d;return a};a.radius=function(d){if(!arguments.length)return e;e=null==d||"function"===typeof d?d:+d;
return a};a.padding=function(d){if(!arguments.length)return b;b=+d;return a};return Kb(a,d)};D.layout.tree=function(){function a(a,h){a=l.call(this,a,h);h=a[0];var t=d(h);wb(t,b);t.parent.m=-t.z;ue(t,c);if(g)ue(h,e);else{var z=h,k=h,m=h;ue(h,function(a){a.x<z.x&&(z=a);a.x>k.x&&(k=a);a.depth>m.depth&&(m=a)});var n=p(z,k)/2-z.x,q=f[0]/(k.x+p(k,z)/2+n),H=f[1]/(m.depth||1);ue(h,function(a){a.x=(a.x+n)*q;a.y=a.depth*H})}return a}function d(a){a={A:null,children:[a]};for(var d=[a],b;null!=(b=d.pop());)for(var c=
b.children,e,l=0,p=c.length;l<p;++l)d.push((c[l]=e={_:c[l],parent:b,children:(e=c[l].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:l}).a=e);return a.children[0]}function b(a){var d=a.children,b=a.parent.children,c=a.i?b[a.i-1]:null;if(d.length){for(var e=0,l=0,f=a.children,g=f.length,h;0<=--g;)h=f[g],h.z+=e,h.m+=e,e+=h.s+(l+=h.c);d=(d[0].z+d[d.length-1].z)/2;c?(a.z=c.z+p(a._,c._),a.m=a.z-d):a.z=d}else c&&(a.z=c.z+p(a._,c._));d=a.parent;b=a.parent.A||b[0];if(c){l=e=a;f=e.parent.children[0];
g=e.m;h=l.m;for(var t=c.m,z=f.m,k;c=vf(c),e=Xe(e),c&&e;){f=Xe(f);l=vf(l);l.a=a;k=c.z+t-e.z-g+p(c._,e._);if(0<k){var m=c.a.parent===a.parent?c.a:b,n=a,q=k,H=q/(n.i-m.i);n.c-=H;n.s+=q;m.c+=H;n.z+=q;n.m+=q;g+=k;h+=k}t+=c.m;g+=e.m;z+=f.m;h+=l.m}c&&!vf(l)&&(l.t=c,l.m+=t-h);e&&!Xe(f)&&(f.t=e,f.m+=g-z,b=a)}d.A=b}function c(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=f[0];a.y=a.depth*f[1]}var l=D.layout.hierarchy().sort(null).value(null),p=bg,f=[1,1],g=null;a.separation=function(d){if(!arguments.length)return p;
p=d;return a};a.size=function(d){if(!arguments.length)return g?null:f;g=null==(f=d)?e:null;return a};a.nodeSize=function(d){if(!arguments.length)return g?f:null;g=null==(f=d)?null:e;return a};return Kb(a,l)};D.layout.cluster=function(){function a(a,l){a=d.call(this,a,l);var p=a[0],f,g=0;wb(p,function(a){var d=a.children;d&&d.length?(a.x=dg(d),a.y=cg(d)):(a.x=f?g+=b(a,f):0,a.y=0,f=a)});l=Ag(p);var h=me(p),t=l.x-b(l,h)/2,z=h.x+b(h,l)/2;wb(p,e?function(a){a.x=(a.x-p.x)*c[0];a.y=(p.y-a.y)*c[1]}:function(a){a.x=
(a.x-t)/(z-t)*c[0];a.y=(1-(p.y?a.y/p.y:1))*c[1]});return a}var d=D.layout.hierarchy().sort(null).value(null),b=bg,c=[1,1],e=!1;a.separation=function(d){if(!arguments.length)return b;b=d;return a};a.size=function(d){if(!arguments.length)return e?null:c;e=null==(c=d);return a};a.nodeSize=function(d){if(!arguments.length)return e?c:null;e=null!=(c=d);return a};return Kb(a,d)};D.layout.treemap=function(){function a(a,d){for(var b=-1,c=a.length,e,l;++b<c;)l=(e=a[b]).value*(0>d?0:d),e.area=isNaN(l)||0>=
l?0:l}function d(b){var e=b.children;if(e&&e.length){var l=h(b),p=[],f=e.slice(),g=Infinity,t,z="slice"===k?l.dx:"dice"===k?l.dy:"slice-dice"===k?b.depth&1?l.dy:l.dx:Math.min(l.dx,l.dy);a(f,l.dx*l.dy/b.value);for(p.area=0;0<(b=f.length);){p.push(b=f[b-1]);p.area+=b.area;if(!(b="squarify"!==k)){b=z;for(var n=p.area,q=0,H=Infinity,G=-1,x=p.length;++G<x;)if(t=p[G].area)t<H&&(H=t),t>q&&(q=t);n*=n;b*=b;b=(t=n?Math.max(b*q*m/n,n/(b*H*m)):Infinity)<=g}b?(f.pop(),g=t):(p.area-=p.pop().area,c(p,z,l,!1),z=
Math.min(l.dx,l.dy),p.length=p.area=0,g=Infinity)}p.length&&(c(p,z,l,!0),p.length=p.area=0);e.forEach(d)}}function b(d){var e=d.children;if(e&&e.length){var l=h(d),p=e.slice(),f=[];a(p,l.dx*l.dy/d.value);for(f.area=0;d=p.pop();)f.push(d),f.area+=d.area,null!=d.z&&(c(f,d.z?l.dx:l.dy,l,!p.length),f.length=f.area=0);e.forEach(b)}}function c(a,d,b,c){var e=-1,l=a.length,f=b.x,g=b.y,h=d?p(a.area/d):0;if(d==b.dx){if(c||h>b.dy)h=b.dy;for(;++e<l;){var t=a[e];t.x=f;t.y=g;t.dy=h;f+=t.dx=Math.min(b.x+b.dx-f,
h?p(t.area/h):0)}t.z=!0;t.dx+=b.x+b.dx-f;b.y+=h;b.dy-=h}else{if(c||h>b.dx)h=b.dx;for(;++e<l;)t=a[e],t.x=f,t.y=g,t.dx=h,g+=t.dy=Math.min(b.y+b.dy-g,h?p(t.area/h):0);t.z=!1;t.dy+=b.y+b.dy-g;b.x+=h;b.dx-=h}}function e(c){c=z||l(c);var e=c[0];e.x=0;e.y=0;e.dx=f[0];e.dy=f[1];z&&l.revalue(e);a([e],e.dx*e.dy/e.value);(z?b:d)(e);t&&(z=c);return c}var l=D.layout.hierarchy(),p=Math.round,f=[1,1],g=null,h=wf,t=!1,z,k="squarify",m=.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return f;f=a;return e};
e.padding=function(a){function d(d){var b=a.call(e,d,d.depth);return null==b?wf(d):xf(d,"number"===typeof b?[b,b,b,b]:b)}function b(d){return xf(d,a)}if(!arguments.length)return g;var c;h=null==(g=a)?wf:"function"===(c=typeof a)?d:"number"===c?(a=[a,a,a,a],b):b;return e};e.round=function(a){if(!arguments.length)return p!=Number;p=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return t;t=a;z=null;return e};e.ratio=function(a){if(!arguments.length)return m;m=a;return e};e.mode=
function(a){if(!arguments.length)return k;k=a+"";return e};return Kb(e,l)};D.random={normal:function(a,d){var b=arguments.length;2>b&&(d=1);1>b&&(a=0);return function(){do{var b=2*Math.random()-1;var c=2*Math.random()-1;c=b*b+c*c}while(!c||1<c);return a+d*b*Math.sqrt(-2*Math.log(c)/c)}},logNormal:function(){var a=D.random.normal.apply(D,arguments);return function(){return Math.exp(a())}},bates:function(a){var d=D.random.irwinHall(a);return function(){return d()/a}},irwinHall:function(a){return function(){for(var d=
0,b=0;b<a;b++)d+=Math.random();return d}}};D.scale={};var ki={floor:jb,ceil:jb};D.scale.linear=function(){return zb([0,1],[0,1],Lb,!1)};var li={s:1,g:1,p:1,r:1,e:1};D.scale.log=function(){return zf(D.scale.linear().domain([0,1]),10,!0,[1,10])};var mi=D.format(".0e"),Mi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};D.scale.pow=function(){return Ye(D.scale.linear(),1,[0,1])};D.scale.sqrt=function(){return D.scale.pow().exponent(.5)};D.scale.ordinal=function(){return Oc([],
{t:"range",a:[[]]})};D.scale.category10=function(){return D.scale.ordinal().range(wi)};D.scale.category20=function(){return D.scale.ordinal().range(di)};D.scale.category20b=function(){return D.scale.ordinal().range(Ph)};D.scale.category20c=function(){return D.scale.ordinal().range(xi)};var wi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Wc),di=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,
16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Wc),Ph=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Wc),xi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Wc);D.scale.quantile=function(){return Cg([],[])};D.scale.quantize=
function(){return vc(0,1,[0,1])};D.scale.threshold=function(){return Ze([.5],[0,1])};D.scale.identity=function(){return Af([0,1])};D.svg={};D.svg.arc=function(){function a(){var a=Math.max(0,+b.apply(this,arguments)),h=Math.max(0,+c.apply(this,arguments)),t=p.apply(this,arguments)-Ga,z=f.apply(this,arguments)-Ga,k=Math.abs(z-t),m=t>z?0:1;if(h<a){var n=h;h=a;a=n}if(k>=ch)return d(h,m)+(a?d(a,1-m):"")+"Z";var q,H=n=0;k=[];if(q=(+g.apply(this,arguments)||0)/2){var G=l===Ah?Math.sqrt(a*a+h*h):+l.apply(this,
arguments);m||(H*=-1);h&&(H=Ha(G/h*Math.sin(q)));a&&(n=Ha(G/a*Math.sin(q)))}if(h){G=h*Math.cos(t+H);q=h*Math.sin(t+H);var x=h*Math.cos(z-H);var r=h*Math.sin(z-H);var K=Math.abs(z-t-2*H)<=na?0:1;H&&Sd(G,q,x,r)===m^K&&(x=(t+z)/2,G=h*Math.cos(x),q=h*Math.sin(x),x=r=null)}else G=q=0;if(a){H=a*Math.cos(z-n);var y=a*Math.sin(z-n);var w=a*Math.cos(t+n);var la=a*Math.sin(t+n);var B=Math.abs(t-z+2*n)<=na?0:1;n&&Sd(H,y,w,la)===1-m^B&&(w=(t+z)/2,H=a*Math.cos(w),y=a*Math.sin(w),w=la=null)}else H=y=0;if(.001<
(n=Math.min(Math.abs(h-a)/2,+e.apply(this,arguments)))){B=a<h^m?0:1;K=null==w?[H,y]:null==x?[G,q]:If([G,q],[w,la],[x,r],[H,y]);t=G-K[0];z=q-K[1];var v=x-K[0],A=r-K[1];t=1/Math.sin(Math.acos((t*v+z*A)/(Math.sqrt(t*t+z*z)*Math.sqrt(v*v+A*A)))/2);K=Math.sqrt(K[0]*K[0]+K[1]*K[1]);null!=x?(z=Math.min(n,(h-K)/(t+1)),v=Td(null==w?[H,y]:[w,la],[G,q],h,z,m),A=Td([x,r],[H,y],h,z,m),n===z?k.push("M",v[0],"A",z,",",z," 0 0,",B," ",v[1],"A",h,",",h," 0 ",1-m^Sd(v[1][0],v[1][1],A[1][0],A[1][1]),",",m," ",A[1],
"A",z,",",z," 0 0,",B," ",A[0]):k.push("M",v[0],"A",z,",",z," 0 1,",B," ",A[0])):k.push("M",G,",",q);null!=w?(h=Math.min(n,(a-K)/(t-1)),w=Td([G,q],[w,la],a,-h,m),x=Td([H,y],null==x?[G,q]:[x,r],a,-h,m),n===h?k.push("L",x[0],"A",h,",",h," 0 0,",B," ",x[1],"A",a,",",a," 0 ",m^Sd(x[1][0],x[1][1],w[1][0],w[1][1]),",",1-m," ",w[1],"A",h,",",h," 0 0,",B," ",w[0]):k.push("L",x[0],"A",h,",",h," 0 0,",B," ",w[0])):k.push("L",H,",",y)}else k.push("M",G,",",q),null!=x&&k.push("A",h,",",h," 0 ",K,",",m," ",x,
",",r),k.push("L",H,",",y),null!=w&&k.push("A",a,",",a," 0 ",B,",",1-m," ",w,",",la);k.push("Z");return k.join("")}function d(a,d){return"M0,"+a+"A"+a+","+a+" 0 1,"+d+" 0,"+-a+"A"+a+","+a+" 0 1,"+d+" 0,"+a}var b=Ce,c=V,e=Wg,l=Ah,p=wa,f=Pc,g=eg;a.innerRadius=function(d){if(!arguments.length)return b;b=Na(d);return a};a.outerRadius=function(d){if(!arguments.length)return c;c=Na(d);return a};a.cornerRadius=function(d){if(!arguments.length)return e;e=Na(d);return a};a.padRadius=function(d){if(!arguments.length)return l;
l=d==Ah?Ah:Na(d);return a};a.startAngle=function(d){if(!arguments.length)return p;p=Na(d);return a};a.endAngle=function(d){if(!arguments.length)return f;f=Na(d);return a};a.padAngle=function(d){if(!arguments.length)return g;g=Na(d);return a};a.centroid=function(){var a=(+b.apply(this,arguments)+ +c.apply(this,arguments))/2,d=(+p.apply(this,arguments)+ +f.apply(this,arguments))/2-Ga;return[Math.cos(d)*a,Math.sin(d)*a]};return a};var Ah="auto";D.svg.line=function(){return Xg(jb)};var Ud=D.map({linear:ic,
"linear-closed":function(a){return ic(a)+"Z"},step:function(a){for(var d=0,b=a.length,c=a[0],e=[c[0],",",c[1]];++d<b;)e.push("H",(c[0]+(c=a[d])[0])/2,"V",c[1]);1<b&&e.push("H",c[0]);return e.join("")},"step-before":$e,"step-after":Vd,basis:Yg,"basis-open":function(a){if(4>a.length)return ic(a);for(var d=[],b=-1,c=a.length,e,l=[0],p=[0];3>++b;)e=a[b],l.push(e[0]),p.push(e[1]);d.push(Qc(Dg,l)+","+Qc(Dg,p));for(--b;++b<c;)e=a[b],l.shift(),l.push(e[0]),p.shift(),p.push(e[1]),fg(d,l,p);return d.join("")},
"basis-closed":function(a){for(var d,b=-1,c=a.length,e=c+4,l,p=[],f=[];4>++b;)l=a[b%c],p.push(l[0]),f.push(l[1]);d=[Qc(Dg,p),",",Qc(Dg,f)];for(--b;++b<e;)l=a[b%c],p.shift(),p.push(l[0]),f.shift(),f.push(l[1]),fg(d,p,f);return d.join("")},bundle:function(a,d){var b=a.length-1;if(b)for(var c=a[0][0],e=a[0][1],l=a[b][0]-c,p=a[b][1]-e,f=-1,g,h;++f<=b;)g=a[f],h=f/b,g[0]=d*g[0]+(1-d)*(c+h*l),g[1]=d*g[1]+(1-d)*(e+h*p);return Yg(a)},cardinal:function(a,d){return 3>a.length?ic(a):a[0]+De(a,Yb(a,d))},"cardinal-open":function(a,
d){return 4>a.length?ic(a):a[1]+De(a.slice(1,-1),Yb(a,d))},"cardinal-closed":function(a,d){return 3>a.length?ic(a):a[0]+De((a.push(a[0]),a),Yb([a[a.length-2]].concat(a,[a[1]]),d))},monotone:function(a){if(3>a.length)a=ic(a);else{var d=a[0],b=[],c;var e=0;var l=a.length-1;var p=[];var f=a[1];for(c=p[0]=Va(a[0],f);++e<l;)p[e]=(c+(c=Va(f,f=a[e+1])))/2;p[e]=c;for(var g=-1,h=a.length-1;++g<h;)e=Va(a[g],a[g+1]),1E-6>ia(e)?p[g]=p[g+1]=0:(l=p[g]/e,f=p[g+1]/e,c=l*l+f*f,9<c&&(c=3*e/Math.sqrt(c),p[g]=c*l,p[g+
1]=c*f));for(g=-1;++g<=h;)c=(a[Math.min(h,g+1)][0]-a[Math.max(0,g-1)][0])/(6*(1+p[g]*p[g])),b.push([c||0,p[g]*c||0]);a=d+De(a,b)}return a}});Ud.forEach(function(a,d){d.key=a;d.closed=/-closed$/.test(a)});var ni=[0,2/3,1/3,0],oi=[0,1/3,2/3,0],Dg=[0,1/6,2/3,1/6];D.svg.line.radial=function(){var a=Xg(Eg);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};$e.reverse=Vd;Vd.reverse=$e;D.svg.area=function(){return Ee(jb)};D.svg.area.radial=function(){var a=Ee(Eg);a.radius=a.x;delete a.x;a.innerRadius=
a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};D.svg.chord=function(){function a(a,l){var p=d(this,c,a,l);a=d(this,e,a,l);return"M"+p.p0+b(p.r,p.p1,p.a1-p.a0)+(p.a0==a.a0&&p.a1==a.a1?"Q 0,0 "+p.p0:"Q 0,0 "+a.p0+b(a.r,a.p1,a.a1-a.a0)+("Q 0,0 "+p.p0))+"Z"}function d(a,d,b,c){var e=d.call(a,b,c);d=l.call(a,e,c);b=p.call(a,e,c)-Ga;a=f.call(a,e,c)-Ga;return{r:d,a0:b,a1:a,p0:[d*Math.cos(b),d*Math.sin(b)],p1:[d*Math.cos(a),
d*Math.sin(a)]}}function b(a,d,b){return"A"+a+","+a+" 0 "+ +(b>na)+",1 "+d}var c=qd,e=gc,l=af,p=wa,f=Pc;a.radius=function(d){if(!arguments.length)return l;l=Na(d);return a};a.source=function(d){if(!arguments.length)return c;c=Na(d);return a};a.target=function(d){if(!arguments.length)return e;e=Na(d);return a};a.startAngle=function(d){if(!arguments.length)return p;p=Na(d);return a};a.endAngle=function(d){if(!arguments.length)return f;f=Na(d);return a};return a};D.svg.diagonal=function(){function a(a,
e){var l=d.call(this,a,e);a=b.call(this,a,e);e=(l.y+a.y)/2;l=[l,{x:l.x,y:e},{x:a.x,y:e},a];l=l.map(c);return"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var d=qd,b=gc,c=nh;a.source=function(b){if(!arguments.length)return d;d=Na(b);return a};a.target=function(d){if(!arguments.length)return b;b=Na(d);return a};a.projection=function(d){if(!arguments.length)return c;c=d;return a};return a};D.svg.diagonal.radial=function(){var a=D.svg.diagonal(),d=nh,b=a.projection;a.projection=function(a){return arguments.length?
b(Fg(d=a)):d};return a};D.svg.symbol=function(){function a(a,c){return(yi.get(d.call(this,a,c))||Fe)(b.call(this,a,c))}var d=oh,b=Bf;a.type=function(b){if(!arguments.length)return d;d=Na(b);return a};a.size=function(d){if(!arguments.length)return b;b=Na(d);return a};return a};var yi=D.map({circle:Fe,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*ei));var d=a*ei;return"M0,"+
-a+"L"+d+",0 0,"+a+" "+-d+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/Qh);var d=a*Qh/2;return"M0,"+d+"L"+a+","+-d+" "+-a+","+-d+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Qh);var d=a*Qh/2;return"M0,"+-d+"L"+a+","+d+" "+-a+","+d+"Z"}});D.svg.symbolTypes=yi.keys();var Qh=Math.sqrt(3),ei=Math.tan(30*oa),Nb=[],Yh=0,qh,Hg;Nb.call=La.call;Nb.empty=La.empty;Nb.node=La.node;Nb.size=La.size;D.transition=
function(a){return arguments.length?qh?a.transition():a:bh.transition()};D.transition.prototype=Nb;Nb.select=function(a){var b=this.id,c=this.namespace,e=[],l,p,f;a=d(a);for(var g=-1,h=this.length;++g<h;){e.push(l=[]);for(var t=this[g],z=-1,k=t.length;++z<k;)(f=t[z])&&(p=a.call(f,f.__data__,z,g))?("__data__"in f&&(p.__data__=f.__data__),ba(p,z,c,b,f[c][b]),l.push(p)):l.push(null)}return Rc(e,c,b)};Nb.selectAll=function(a){var d=this.id,b=this.namespace,c=[],e,p;a=l(a);for(var f=-1,g=this.length;++f<
g;)for(var h=this[f],t=-1,z=h.length;++t<z;)if(e=h[t]){var k=e[b][d];var m=a.call(e,e.__data__,t,f);c.push(e=[]);for(var n=-1,q=m.length;++n<q;)(p=m[n])&&ba(p,n,b,d,k),e.push(p)}return Rc(c,b,d)};Nb.filter=function(a){var d=[],b,c;"function"!==typeof a&&(a=Y(a));for(var e=0,l=this.length;e<l;e++){d.push(b=[]);var p=this[e];for(var f=0,g=p.length;f<g;f++)(c=p[f])&&a.call(c,c.__data__,f,e)&&b.push(c)}return Rc(d,this.namespace,this.id)};Nb.tween=function(a,d){var b=this.id,c=this.namespace;return 2>
arguments.length?this.node()[c][b].tween.get(a):O(this,null==d?function(d){d[c][b].tween.remove(a)}:function(e){e[c][b].tween.set(a,d)})};Nb.attr=function(a,d){function b(){this.removeAttribute(f)}function c(){this.removeAttributeNS(f.space,f.local)}function e(a){return null==a?b:(a+="",function(){var d=this.getAttribute(f),b;return d!==a&&(b=p(d,a),function(a){this.setAttribute(f,b(a))})})}function l(a){return null==a?c:(a+="",function(){var d=this.getAttributeNS(f.space,f.local),b;return d!==a&&
(b=p(d,a),function(a){this.setAttributeNS(f.space,f.local,b(a))})})}if(2>arguments.length){for(d in a)this.attr(d,a[d]);return this}var p="transform"==a?ug:Lb,f=D.ns.qualify(a);return Zg(this,"attr."+a,d,f.local?l:e)};Nb.attrTween=function(a,d){function b(a,b){var c=d.call(this,a,b,this.getAttribute(e));return c&&function(a){this.setAttribute(e,c(a))}}function c(a,b){var c=d.call(this,a,b,this.getAttributeNS(e.space,e.local));return c&&function(a){this.setAttributeNS(e.space,e.local,c(a))}}var e=
D.ns.qualify(a);return this.tween("attr."+a,e.local?c:b)};Nb.style=function(a,d,b){function c(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!==typeof a){2>e&&(d="");for(b in a)this.style(b,a[b],d);return this}b=""}return Zg(this,"style."+a,d,function(d){return null==d?c:(d+="",function(){var c=Vb.getComputedStyle(this,null).getPropertyValue(a),e;return c!==d&&(e=Lb(c,d),function(d){this.style.setProperty(a,e(d),b)})})})};Nb.styleTween=function(a,d,b){3>arguments.length&&
(b="");return this.tween("style."+a,function(c,e){var l=d.call(this,c,e,Vb.getComputedStyle(this,null).getPropertyValue(a));return l&&function(d){this.style.setProperty(a,l(d),b)}})};Nb.text=function(a){return Zg(this,"text",a,gg)};Nb.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var d;2>this[a].count&&(d=this.parentNode)&&d.removeChild(this)})};Nb.ease=function(a){var d=this.id,b=this.namespace;if(1>arguments.length)return this.node()[b][d].ease;"function"!==
typeof a&&(a=D.ease.apply(D,arguments));return O(this,function(c){c[b][d].ease=a})};Nb.delay=function(a){var d=this.id,b=this.namespace;return 1>arguments.length?this.node()[b][d].delay:O(this,"function"===typeof a?function(c,e,l){c[b][d].delay=+a.call(c,c.__data__,e,l)}:(a=+a,function(c){c[b][d].delay=a}))};Nb.duration=function(a){var d=this.id,b=this.namespace;return 1>arguments.length?this.node()[b][d].duration:O(this,"function"===typeof a?function(c,e,l){c[b][d].duration=Math.max(1,a.call(c,c.__data__,
e,l))}:(a=Math.max(1,a),function(c){c[b][d].duration=a}))};Nb.each=function(a,d){var b=this.id,c=this.namespace;if(2>arguments.length){var e=Hg,l=qh;qh=b;O(this,function(d,e,l){Hg=d[c][b];a.call(d,d.__data__,e,l)});Hg=e;qh=l}else O(this,function(e){e=e[c][b];(e.event||(e.event=D.dispatch("start","end","interrupt"))).on(a,d)});return this};Nb.transition=function(){for(var a=this.id,d=++Yh,b=this.namespace,c=[],e,l,p,f,g=0,h=this.length;g<h;g++){c.push(e=[]);l=this[g];for(var t=0,z=l.length;t<z;t++){if(p=
l[t])f=p[b][a],ba(p,t,b,d,{time:f.time,ease:f.ease,delay:f.delay+f.duration,duration:f.duration});e.push(p)}}return Rc(c,b,d)};D.svg.axis=function(){function a(a){a.each(function(){var a=D.select(this),h=this.__chart__||d,t=this.__chart__=d.copy(),z=null==f?t.ticks?t.ticks.apply(t,p):t.domain():f,k=null==g?t.tickFormat?t.tickFormat.apply(t,p):jb:g,m=a.selectAll(".tick").data(z,t);z=m.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6);var n=D.transition(m.exit()).style("opacity",
1E-6).remove(),q=D.transition(m.order()).style("opacity",1),H=Math.max(c,0)+l,G=xd(t);a=a.selectAll(".domain").data([0]);a=(a.enter().append("path").attr("class","domain"),D.transition(a));z.append("line");z.append("text");var x=z.select("line"),r=q.select("line");m=m.select("text").text(k);var K=z.select("text"),y=q.select("text"),w="top"===b||"left"===b?-1:1;if("bottom"===b||"top"===b){k=Gg;var la="x";var B="y";var v="x2";var A="y2";m.attr("dy",0>w?"0em":".71em").style("text-anchor","middle");a.attr("d",
"M"+G[0]+","+w*e+"V0H"+G[1]+"V"+w*e)}else k=$g,la="y",B="x",v="y2",A="x2",m.attr("dy",".32em").style("text-anchor",0>w?"end":"start"),a.attr("d","M"+w*e+","+G[0]+"H0V"+G[1]+"H"+w*e);x.attr(A,w*c);K.attr(B,w*H);r.attr(v,0).attr(A,w*c);y.attr(la,0).attr(B,w*H);if(t.rangeBand){var Ta=t,C=Ta.rangeBand()/2;h=t=function(a){return Ta(a)+C}}else h.rangeBand?h=t:n.call(k,t,h);z.call(k,h,t);q.call(k,t,t)})}var d=D.scale.linear(),b=fh,c=6,e=6,l=3,p=[10],f=null,g;a.scale=function(b){if(!arguments.length)return d;
d=b;return a};a.orient=function(d){if(!arguments.length)return b;b=d in zi?d+"":fh;return a};a.ticks=function(){if(!arguments.length)return p;p=arguments;return a};a.tickValues=function(d){if(!arguments.length)return f;f=d;return a};a.tickFormat=function(d){if(!arguments.length)return g;g=d;return a};a.tickSize=function(d){var b=arguments.length;if(!b)return c;c=+d;e=+arguments[b-1];return a};a.innerTickSize=function(d){if(!arguments.length)return c;c=+d;return a};a.outerTickSize=function(d){if(!arguments.length)return e;
e=+d;return a};a.tickPadding=function(d){if(!arguments.length)return l;l=+d;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var fh="bottom",zi={top:1,right:1,bottom:1,left:1};D.svg.brush=function(){function a(l){l.each(function(){var l=D.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),g=l.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility",
"hidden").style("cursor","crosshair");l.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=l.selectAll(".resize").data(n,jb);h.exit().remove();h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ai[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");h.style("display",
a.empty()?"none":null);l=D.transition(l);g=D.transition(g);p&&(h=xd(p),g.attr("x",h[0]).attr("width",h[1]-h[0]),b(l));f&&(h=xd(f),g.attr("y",h[0]).attr("height",h[1]-h[0]),c(l));d(l)})}function d(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+g[+/e$/.test(a)]+","+h[+/^s/.test(a)]+")"})}function b(a){a.select(".extent").attr("x",g[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",g[1]-g[0])}function c(a){a.select(".extent").attr("y",h[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",
h[1]-h[0])}function e(){function e(){var a=D.mouse(H),e=!1;T&&(a[0]+=T[0],a[1]+=T[1]);la||(D.event.altKey?(v||(v=[(g[0]+g[1])/2,(h[0]+h[1])/2]),A[0]=g[+(a[0]<v[0])],A[1]=h[+(a[1]<v[1])]):v=null);y&&n(a,p,0)&&(b(r),e=!0);w&&n(a,f,1)&&(c(r),e=!0);e&&(d(r),x({type:"brush",mode:la?"move":"resize"}))}function n(a,d,b){var c=xd(d);d=c[0];var e=c[1];c=A[b];var l=b?h:g,p=l[1]-l[0];la&&(d-=c,e-=p+c);a=(b?m:k)?Math.max(d,Math.min(e,a[b])):a[b];la?d=(a+=c)+p:(v&&(c=Math.max(d,Math.min(e,2*v[b]-a))),c<a?(d=a,
a=c):d=c);if(l[0]!=a||l[1]!=d)return b?z=null:t=null,l[0]=a,l[1]=d,!0}function q(){e();r.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);D.select("body").style("cursor",null);Ta.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);B();x({type:"brushend"})}var H=this,G=D.select(D.event.target),x=l.of(H,arguments),r=D.select(H),K=G.datum(),y=!/^(n|s)$/.test(K)&&
p,w=!/^(e|w)$/.test(K)&&f,la=G.classed("extent"),B=fb(),v,A=D.mouse(H),Ta=D.select(Vb).on("keydown.brush",function(){32==D.event.keyCode&&(la||(v=null,A[0]-=g[1],A[1]-=h[1],la=2),I())}).on("keyup.brush",function(){32==D.event.keyCode&&2==la&&(A[0]+=g[1],A[1]+=h[1],la=0,I())});if(D.event.changedTouches)Ta.on("touchmove.brush",e).on("touchend.brush",q);else Ta.on("mousemove.brush",e).on("mouseup.brush",q);r.interrupt().selectAll("*").interrupt();if(la)A[0]=g[0]-A[0],A[1]=h[0]-A[1];else if(K){var C=
+/w$/.test(K);K=+/^n/.test(K);var T=[g[1-C]-A[0],h[1-K]-A[1]];A[0]=g[C];A[1]=h[K]}else D.event.altKey&&(v=A.slice());r.style("pointer-events","none").selectAll(".resize").style("display",null);D.select("body").style("cursor",G.style("cursor"));x({type:"brushstart"});e()}var l=J(a,"brushstart","brush","brushend"),p=null,f=null,g=[0,0],h=[0,0],t,z,k=!0,m=!0,n=Rh[0];a.event=function(a){a.each(function(){var a=l.of(this,arguments),d={x:g,y:h,i:t,j:z},b=this.__chart__||d;this.__chart__=d;qh?D.select(this).transition().each("start.brush",
function(){t=b.i;z=b.j;g=b.x;h=b.y;a({type:"brushstart"})}).tween("brush:brush",function(){var b=Pf(g,d.x),c=Pf(h,d.y);t=z=null;return function(e){g=d.x=b(e);h=d.y=c(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=d.i;z=d.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(d){if(!arguments.length)return p;p=d;n=Rh[!p<<1|!f];return a};a.y=function(d){if(!arguments.length)return f;
f=d;n=Rh[!p<<1|!f];return a};a.clamp=function(d){if(!arguments.length)return p&&f?[k,m]:p?k:f?m:null;p&&f?(k=!!d[0],m=!!d[1]):p?k=!!d:f&&(m=!!d);return a};a.extent=function(d){if(!arguments.length){if(p)if(t){var b=t[0];var c=t[1]}else if(b=g[0],c=g[1],p.invert&&(b=p.invert(b),c=p.invert(c)),c<b){var e=b;b=c;c=e}if(f)if(z){var l=z[0];var k=z[1]}else l=h[0],k=h[1],f.invert&&(l=f.invert(l),k=f.invert(k)),k<l&&(e=l,l=k,k=e);return p&&f?[[b,l],[c,k]]:p?[b,c]:f&&[l,k]}p&&(b=d[0],c=d[1],f&&(b=b[0],c=c[0]),
t=[b,c],p.invert&&(b=p(b),c=p(c)),c<b&&(e=b,b=c,c=e),b!=g[0]||c!=g[1])&&(g=[b,c]);f&&(l=d[0],k=d[1],p&&(l=l[1],k=k[1]),z=[l,k],f.invert&&(l=f(l),k=f(k)),k<l&&(e=l,l=k,k=e),l!=h[0]||k!=h[1])&&(h=[l,k]);return a};a.clear=function(){a.empty()||(g=[0,0],h=[0,0],t=z=null);return a};a.empty=function(){return!!p&&g[0]==g[1]||!!f&&h[0]==h[1]};return D.rebind(a,l,"on")};var Ai={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rh=["n e s w nw ne se sw".split(" "),
["e","w"],["n","s"],[]],Ih=Z.format=yh.timeFormat,Bi=Ih.utc,fi=Bi("%Y-%m-%dT%H:%M:%S.%LZ");Ih.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?bf:fi;bf.parse=function(a){a=new Date(a);return isNaN(a)?null:a};bf.toString=fi.toString;Z.second=sb(function(a){return new Cc(1E3*Math.floor(a/1E3))},function(a,d){a.setTime(a.getTime()+1E3*Math.floor(d))},function(a){return a.getSeconds()});Z.seconds=Z.second.range;Z.seconds.utc=Z.second.utc.range;Z.minute=sb(function(a){return new Cc(6E4*
Math.floor(a/6E4))},function(a,d){a.setTime(a.getTime()+6E4*Math.floor(d))},function(a){return a.getMinutes()});Z.minutes=Z.minute.range;Z.minutes.utc=Z.minute.utc.range;Z.hour=sb(function(a){var d=a.getTimezoneOffset()/60;return new Cc(36E5*(Math.floor(a/36E5-d)+d))},function(a,d){a.setTime(a.getTime()+36E5*Math.floor(d))},function(a){return a.getHours()});Z.hours=Z.hour.range;Z.hours.utc=Z.hour.utc.range;Z.month=sb(function(a){a=Z.day(a);a.setDate(1);return a},function(a,d){a.setMonth(a.getMonth()+
d)},function(a){return a.getMonth()});Z.months=Z.month.range;Z.months.utc=Z.month.utc.range;var ah=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],gi=[[Z.second,1],[Z.second,5],[Z.second,15],[Z.second,30],[Z.minute,1],[Z.minute,5],[Z.minute,15],[Z.minute,30],[Z.hour,1],[Z.hour,3],[Z.hour,6],[Z.hour,12],[Z.day,1],[Z.day,2],[Z.week,1],[Z.month,1],[Z.month,3],[Z.year,1]],Ci=Ih.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],
["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",ld]]),Ni={range:function(a,d,b){return D.range(Math.ceil(a/b)*b,+d,b).map(Dc)},floor:jb,ceil:jb};gi.year=Z.year;Z.scale=function(){return hg(D.scale.linear(),gi,Ci)};var gh=gi.map(function(a){return[a[0].utc,a[1]]}),hi=Bi.multi([[".%L",function(a){return a.getUTCMilliseconds()}],
[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",ld]]);gh.year=Z.year.utc;Z.scale.utc=function(){return hg(D.scale.linear(),gh,hi)};D.text=Gd(function(a){return a.responseText});D.json=function(a,d){return Pe(a,"application/json",Ge,d)};D.html=function(a,
d){return Pe(a,"text/html",Fb,d)};D.xml=Gd(function(a){return a.responseXML});"function"===typeof define&&define.amd?define(D):"object"===typeof module&&module.exports&&(module.exports=D);this.d3=D}();(function(k){function g(a){var d=this.internal=new c(this);d.loadConfig(a);d.beforeInit(a);d.init();d.afterInit(a);(function G(a,d,b){Object.keys(a).forEach(function(c){d[c]=a[c].bind(b);0<Object.keys(a[c]).length&&G(a[c],d[c],b)})})(e,this,this)}function c(a){this.d3=k.d3?k.d3:"undefined"!==typeof require?require("d3"):void 0;this.api=a;this.config=this.getDefaultConfig();this.data={};this.cache={};this.axes={}}function f(a){this.owner=a}function a(a,b){function d(a,d){a.attr("transform",function(a){return"translate("+
Math.ceil(d(a)+y)+", 0)"})}function c(a,d){a.attr("transform",function(a){return"translate(0,"+Math.ceil(d(a))+")"})}function e(a){var d=a[0];a=a[a.length-1];return d<a?[d,a]:[a,d]}function l(a){var d=[];if(a.ticks)return a.ticks.apply(a,r);var b=a.domain();for(a=Math.ceil(b[0]);a<b[1];a++)d.push(a);0<d.length&&0<d[0]&&d.unshift(d[0]-(d[1]-d[0]));return d}function f(){var a=m.copy();if(b.isCategory){var d=m.domain();a.domain([d[0],d[1]-1])}return a}function g(a){a=x?x(a):a;return"undefined"!==typeof a?
a:""}function h(a){if(L)return L;var d={h:11.5,w:5.5};a.select("text").text(g).each(function(a){var b=this.getBoundingClientRect(),c=g(a);a=b.height;b=c?b.width/c.length:void 0;a&&b&&(d.h=a,d.w=b)}).text("");return L=d}function k(z){z.each(function(){function z(a,d){function c(a,b){l=void 0;for(var g=1;g<b.length;g++)if(" "===b.charAt(g)&&(l=g),e=b.substr(0,g+1),f=ja.w*e.length,d<f)return c(a.concat(b.substr(0,l?l:g)),b.slice(l?l+1:g));return a.concat(b)}a=g(a);var e,l,f;if("[object Array]"===Object.prototype.toString.call(a))return a;
if(!d||0>=d)d=ea?95:b.isCategory?Math.ceil(w(A[1])-w(A[0]))-12:110;return c([],a+"")}function G(a,d){var b=ja.h;0===d&&(b="left"===n||"right"===n?-(ja.h/2*(L[a.index]-1)-3):".71em");return b}function x(a){a=m(a)+(B?0:y);return J[0]<a&&a<J[1]?6:0}var r=k.g=a.select(this),K=this.__chart__||m,w=this.__chart__=f(),A=q?q:l(w),C=r.selectAll(".tick").data(A,w),T=C.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6),E=C.exit().remove(),W=(b.withoutTransition?C:a.transition(C)).style("opacity",
1),J=m.rangeExtent?m.rangeExtent():e(m.range());var Y=r.selectAll(".domain").data([0]);var F=(Y.enter().append("path").attr("class","domain"),b.withoutTransition?Y:a.transition(Y));T.append("line");T.append("text");var I=T.select("line"),aa=W.select("line"),Ea=T.select("text"),u=W.select("text");if(b.isCategory){y=Math.ceil((w(1)-w(0))/2);Y=B?0:y;var O=B?y:0}else y=Y=0;var ja=h(r.select(".tick")),L=[];r=Math.max(6,0)+3;var ea="left"===n||"right"===n;C=C.select("text");var ma=C.selectAll("tspan").data(function(a,
d){a=b.tickMultiline?z(a,b.tickWidth):[].concat(g(a));L[d]=a.length;return a.map(function(a){return{index:d,splitted:a}})});ma.enter().append("tspan");ma.exit().remove();ma.text(function(a){return a.splitted});var fa=b.tickTextRotate;switch(n){case "bottom":var ha=d;I.attr("y2",6);Ea.attr("y",r);aa.attr("x1",Y).attr("x2",Y).attr("y2",x);u.attr("x",0).attr("y",fa?11.5-fa/15*2.5*(0<fa?1:-1):r).style("text-anchor",fa?0<fa?"start":"end":"middle").attr("transform",fa?"rotate("+fa+")":"");ma.attr("x",0).attr("dy",
G).attr("dx",fa?8*Math.sin(fa/180*Math.PI):0);F.attr("d","M"+J[0]+","+v+"V0H"+J[1]+"V"+v);break;case "top":ha=d;I.attr("y2",-6);Ea.attr("y",-r);aa.attr("x2",0).attr("y2",-6);u.attr("x",0).attr("y",-r);C.style("text-anchor","middle");ma.attr("x",0).attr("dy","0em");F.attr("d","M"+J[0]+","+-v+"V0H"+J[1]+"V"+-v);break;case "left":ha=c;I.attr("x2",-6);Ea.attr("x",-r);aa.attr("x2",-6).attr("y1",O).attr("y2",O);u.attr("x",-r).attr("y",y);C.style("text-anchor","end");ma.attr("x",-r).attr("dy",G);F.attr("d",
"M"+-v+","+J[0]+"H0V"+J[1]+"H"+-v);break;case "right":ha=c,I.attr("x2",6),Ea.attr("x",r),aa.attr("x2",6).attr("y2",0),u.attr("x",r).attr("y",0),C.style("text-anchor","start"),ma.attr("x",r).attr("dy",G),F.attr("d","M"+v+","+J[0]+"H0V"+J[1]+"H"+v)}if(w.rangeBand){var ua=w,xa=ua.rangeBand()/2;K=w=function(a){return ua(a)+xa}}else K.rangeBand?K=w:E.call(ha,w);T.call(ha,K);W.call(ha,w)})}var m=a.scale.linear(),n="bottom",q=null,x,r,y=0,w=!0,B;b=b||{};var v=b.withOuterTick?6:0;k.scale=function(a){if(!arguments.length)return m;
m=a;return k};k.orient=function(a){if(!arguments.length)return n;n=a in{top:1,right:1,bottom:1,left:1}?a+"":"bottom";return k};k.tickFormat=function(a){if(!arguments.length)return x;x=a;return k};k.tickCentered=function(a){if(!arguments.length)return B;B=a;return k};k.tickOffset=function(){return y};k.tickInterval=function(){if(b.isCategory)var a=2*y;else a=k.g.select("path.domain").node().getTotalLength()-2*v,a/=k.g.selectAll("line").size();return Infinity===a?0:a};k.ticks=function(){if(!arguments.length)return r;
r=arguments;return k};k.tickCulling=function(a){if(!arguments.length)return w;w=a;return k};k.tickValues=function(a){if("function"===typeof a)q=function(){return a(m.domain())};else{if(!arguments.length)return q;q=a}return k};return k}var h={version:"0.4.11"};h.generate=function(a){return new g(a)};h.chart={fn:g.prototype,internal:{fn:c.prototype,axis:{fn:f.prototype}}};var e=h.chart.fn;var b=h.chart.internal.fn;b.beforeInit=function(){};b.afterInit=function(){};b.init=function(){var a=this.config;
this.initParams();if(a.data_url)this.convertUrlToData(a.data_url,a.data_mimeType,a.data_headers,a.data_keys,this.initWithData);else if(a.data_json)this.initWithData(this.convertJsonToData(a.data_json,a.data_keys));else if(a.data_rows)this.initWithData(this.convertRowsToData(a.data_rows));else if(a.data_columns)this.initWithData(this.convertColumnsToData(a.data_columns));else throw Error("url or json or rows or columns is required.");};b.initParams=function(){var a=this.d3,b=this.config;this.clipId=
"c3-"+ +new Date+"-clip";this.clipIdForXAxis=this.clipId+"-xaxis";this.clipIdForYAxis=this.clipId+"-yaxis";this.clipIdForGrid=this.clipId+"-grid";this.clipIdForSubchart=this.clipId+"-subchart";this.clipPath=this.getClipPath(this.clipId);this.clipPathForXAxis=this.getClipPath(this.clipIdForXAxis);this.clipPathForYAxis=this.getClipPath(this.clipIdForYAxis);this.clipPathForGrid=this.getClipPath(this.clipIdForGrid);this.clipPathForSubchart=this.getClipPath(this.clipIdForSubchart);this.dragStart=null;
this.transiting=this.mouseover=this.cancelClick=this.flowing=this.dragging=!1;this.color=this.generateColor();this.levelColor=this.generateLevelColor();this.dataTimeFormat=b.data_xLocaltime?a.time.format:a.time.format.utc;this.axisTimeFormat=b.axis_x_localtime?a.time.format:a.time.format.utc;this.defaultAxisTimeFormat=this.axisTimeFormat.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],
["%-m/%-d",function(a){return a.getDay()&&1!==a.getDate()}],["%-m/%-d",function(a){return 1!==a.getDate()}],["%-m/%-d",function(a){return a.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]);this.hiddenTargetIds=[];this.hiddenLegendIds=[];this.focusedTargetIds=[];this.defocusedTargetIds=[];this.xOrient=b.axis_rotated?"left":"bottom";this.yOrient=b.axis_rotated?b.axis_y_inner?"top":"bottom":b.axis_y_inner?"right":"left";this.y2Orient=b.axis_rotated?b.axis_y2_inner?"bottom":"top":b.axis_y2_inner?"left":
"right";this.subXOrient=b.axis_rotated?"left":"bottom";this.isLegendRight="right"===b.legend_position;this.isLegendInset="inset"===b.legend_position;this.isLegendTop="top-left"===b.legend_inset_anchor||"top-right"===b.legend_inset_anchor;this.isLegendLeft="top-left"===b.legend_inset_anchor||"bottom-left"===b.legend_inset_anchor;this.legendItemHeight=this.legendItemWidth=this.legendStep=0;this.currentMaxTickWidths={x:0,y:0,y2:0};this.rotated_padding_left=30;this.rotated_padding_right=b.axis_rotated&&
!b.axis_x_show?0:30;this.rotated_padding_top=5;this.withoutFadeIn={};this.intervalForObserveInserted=void 0;this.axes.subx=a.selectAll([])};b.initChartElements=function(){this.initBar&&this.initBar();this.initLine&&this.initLine();this.initArc&&this.initArc();this.initGauge&&this.initGauge();this.initText&&this.initText()};b.initWithData=function(a){var d=this,b=d.d3,c=d.config,e=!0;d.axis=new f(d);d.initPie&&d.initPie();d.initBrush&&d.initBrush();d.initZoom&&d.initZoom();d.selectChart=c.bindto?"function"===
typeof c.bindto.node?c.bindto:b.select(c.bindto):b.selectAll([]);d.selectChart.empty()&&(d.selectChart=b.select(document.createElement("div")).style("opacity",0),d.observeInserted(d.selectChart),e=!1);d.selectChart.html("").classed("c3",!0);d.data.xs={};d.data.targets=d.convertDataToTargets(a);c.data_filter&&(d.data.targets=d.data.targets.filter(c.data_filter));c.data_hide&&d.addHiddenTargetIds(!0===c.data_hide?d.mapToIds(d.data.targets):c.data_hide);c.legend_hide&&d.addHiddenLegendIds(!0===c.legend_hide?
d.mapToIds(d.data.targets):c.legend_hide);d.hasType("gauge")&&(c.legend_show=!1);d.updateSizes();d.updateScales();d.x.domain(b.extent(d.getXDomain(d.data.targets)));d.y.domain(d.getYDomain(d.data.targets,"y"));d.y2.domain(d.getYDomain(d.data.targets,"y2"));d.subX.domain(d.x.domain());d.subY.domain(d.y.domain());d.subY2.domain(d.y2.domain());d.orgXDomain=d.x.domain();d.brush&&d.brush.scale(d.subX);c.zoom_enabled&&d.zoom.scale(d.x);d.svg=d.selectChart.append("svg").style("overflow","hidden").on("mouseenter",
function(){return c.onmouseover.call(d)}).on("mouseleave",function(){return c.onmouseout.call(d)});d.config.svg_classname&&d.svg.attr("class",d.config.svg_classname);a=d.svg.append("defs");d.clipChart=d.appendClip(a,d.clipId);d.clipXAxis=d.appendClip(a,d.clipIdForXAxis);d.clipYAxis=d.appendClip(a,d.clipIdForYAxis);d.clipGrid=d.appendClip(a,d.clipIdForGrid);d.clipSubchart=d.appendClip(a,d.clipIdForSubchart);d.updateSvgSize();a=d.main=d.svg.append("g").attr("transform",d.getTranslate("main"));d.initSubchart&&
d.initSubchart();d.initTooltip&&d.initTooltip();d.initLegend&&d.initLegend();d.initTitle&&d.initTitle();a.append("text").attr("class",m.text+" "+m.empty).attr("text-anchor","middle").attr("dominant-baseline","middle");d.initRegion();d.initGrid();a.append("g").attr("clip-path",d.clipPath).attr("class",m.chart);c.grid_lines_front&&d.initGridLines();d.initEventRect();d.initChartElements();a.insert("rect",c.zoom_privileged?null:"g."+m.regions).attr("class",m.zoomRect).attr("width",d.width).attr("height",
d.height).style("opacity",0).on("dblclick.zoom",null);c.axis_x_extent&&d.brush.extent(d.getDefaultExtent());d.axis.init();d.updateTargets(d.data.targets);e&&(d.updateDimension(),d.config.oninit.call(d),d.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1}));d.bindResize();d.api.element=d.selectChart.node()};b.smoothLines=function(a,b){var d=this;"grid"===b&&a.each(function(){var a=d.d3.select(this),b=a.attr("x1"),c=a.attr("x2"),e=a.attr("y1"),
l=a.attr("y2");a.attr({x1:Math.ceil(b),x2:Math.ceil(c),y1:Math.ceil(e),y2:Math.ceil(l)})})};b.updateSizes=function(){var a=this.config,b=this.legend?this.getLegendHeight():0,c=this.legend?this.getLegendWidth():0,e=this.isLegendRight||this.isLegendInset?0:b,f=this.hasArcType(),g=a.axis_rotated||f?0:this.getHorizontalAxisHeight("x"),h=a.subchart_show&&!f?a.subchart_size_height+g:0;this.currentWidth=this.getCurrentWidth();this.currentHeight=this.getCurrentHeight();this.margin=a.axis_rotated?{top:this.getHorizontalAxisHeight("y2")+
this.getCurrentPaddingTop(),right:f?0:this.getCurrentPaddingRight(),bottom:this.getHorizontalAxisHeight("y")+e+this.getCurrentPaddingBottom(),left:h+(f?0:this.getCurrentPaddingLeft())}:{top:4+this.getCurrentPaddingTop(),right:f?0:this.getCurrentPaddingRight(),bottom:g+h+e+this.getCurrentPaddingBottom(),left:f?0:this.getCurrentPaddingLeft()};this.margin2=a.axis_rotated?{top:this.margin.top,right:NaN,bottom:20+e,left:this.rotated_padding_left}:{top:this.currentHeight-h-e,right:NaN,bottom:g+e,left:this.margin.left};
this.margin3={top:0,right:NaN,bottom:0,left:0};this.updateSizeForLegend&&this.updateSizeForLegend(b,c);this.width=this.currentWidth-this.margin.left-this.margin.right;this.height=this.currentHeight-this.margin.top-this.margin.bottom;0>this.width&&(this.width=0);0>this.height&&(this.height=0);this.width2=a.axis_rotated?this.margin.left-this.rotated_padding_left-this.rotated_padding_right:this.width;this.height2=a.axis_rotated?this.height:this.currentHeight-this.margin2.top-this.margin2.bottom;0>this.width2&&
(this.width2=0);0>this.height2&&(this.height2=0);this.arcWidth=this.width-(this.isLegendRight?c+10:0);this.arcHeight=this.height-(this.isLegendRight?0:10);this.hasType("gauge")&&!a.gauge_fullCircle&&(this.arcHeight+=this.height-this.getGaugeLabelHeight());this.updateRadius&&this.updateRadius();this.isLegendRight&&f&&(this.margin3.left=this.arcWidth/2+1.1*this.radiusExpanded)};b.updateTargets=function(a){this.updateTargetsForText(a);this.updateTargetsForBar(a);this.updateTargetsForLine(a);this.hasArcType()&&
this.updateTargetsForArc&&this.updateTargetsForArc(a);this.updateTargetsForSubchart&&this.updateTargetsForSubchart(a);this.showTargets()};b.showTargets=function(){var a=this;a.svg.selectAll("."+m.target).filter(function(d){return a.isTargetToShow(d.id)}).transition().duration(a.config.transition_duration).style("opacity",1)};b.redraw=function(a,b){var d=this,c=d.main,e=d.d3,l=d.config,f=d.getShapeIndices(d.isAreaType),g=d.getShapeIndices(d.isBarType),h=d.getShapeIndices(d.isLineType),k=d.hasArcType(),
n,q,x=d.filterTargetsToShow(d.data.targets),r,y,w=d.xv.bind(d);a=a||{};var B=E(a,"withY",!0);var v=E(a,"withSubchart",!0);var A=E(a,"withTransition",!0);var C=E(a,"withTransform",!1);var J=E(a,"withUpdateXDomain",!1);var F=E(a,"withUpdateOrgXDomain",!1);var I=E(a,"withTrimXDomain",!0);var L=E(a,"withUpdateXAxis",J);var xb=E(a,"withLegend",!1);var Jb=E(a,"withEventRect",!0);var Ha=E(a,"withDimension",!0);var Ba=E(a,"withTransitionForExit",A);var R=E(a,"withTransitionForAxis",A);var Aa=A?l.transition_duration:
0;Ba=Ba?Aa:0;b=b||d.axis.generateTransitions(R?Aa:0);xb&&l.legend_show?d.updateLegend(d.mapToIds(d.data.targets),a,b):Ha&&d.updateDimension(!0);d.isCategorized()&&0===x.length&&d.x.domain([0,d.axes.x.selectAll(".tick").size()]);x.length?(d.updateXDomain(x,J,F,I),l.axis_x_tick_values||(r=d.axis.updateXAxisTickValues(x))):(d.xAxis.tickValues([]),d.subXAxis.tickValues([]));l.zoom_rescale&&!a.flow&&(y=d.x.orgDomain());d.y.domain(d.getYDomain(x,"y",y));d.y2.domain(d.getYDomain(x,"y2",y));!l.axis_y_tick_values&&
l.axis_y_tick_count&&d.yAxis.tickValues(d.axis.generateTickValues(d.y.domain(),l.axis_y_tick_count));!l.axis_y2_tick_values&&l.axis_y2_tick_count&&d.y2Axis.tickValues(d.axis.generateTickValues(d.y2.domain(),l.axis_y2_tick_count));d.axis.redraw(b,k);d.axis.updateLabels(A);if((J||L)&&x.length)if(l.axis_x_tick_culling&&r){for(A=1;A<r.length;A++)if(r.length/A<l.axis_x_tick_culling_max){var Ca=A;break}d.svg.selectAll("."+m.axisX+" .tick text").each(function(a){a=r.indexOf(a);0<=a&&e.select(this).style("display",
a%Ca?"none":"block")})}else d.svg.selectAll("."+m.axisX+" .tick text").style("display","block");var mb=d.generateDrawArea?d.generateDrawArea(f,!1):void 0;var ab=d.generateDrawBar?d.generateDrawBar(g):void 0;var ya=d.generateDrawLine?d.generateDrawLine(h,!1):void 0;var ib=d.generateXYForText(f,g,h,!0);var nb=d.generateXYForText(f,g,h,!1);B&&(d.subY.domain(d.getYDomain(x,"y")),d.subY2.domain(d.getYDomain(x,"y2")));d.updateXgridFocus();c.select("text."+m.text+"."+m.empty).attr("x",d.width/2).attr("y",
d.height/2).text(l.data_empty_label_text).transition().style("opacity",x.length?0:1);d.updateGrid(Aa);d.updateRegion(Aa);d.updateBar(Ba);d.updateLine(Ba);d.updateArea(Ba);d.updateCircle();d.hasDataLabel()&&d.updateText(Ba);d.redrawTitle&&d.redrawTitle();d.redrawArc&&d.redrawArc(Aa,Ba,C);d.redrawSubchart&&d.redrawSubchart(v,b,Aa,Ba,f,g,h);c.selectAll("."+m.selectedCircles).filter(d.isBarType.bind(d)).selectAll("circle").remove();l.interaction_enabled&&!a.flow&&Jb&&(d.redrawEventRect(),d.updateZoom&&
d.updateZoom());d.updateCircleY();var Q=(d.config.axis_rotated?d.circleY:d.circleX).bind(d);var u=(d.config.axis_rotated?d.circleX:d.circleY).bind(d);a.flow&&(q=d.generateFlow({targets:x,flow:a.flow,duration:a.flow.duration,drawBar:ab,drawLine:ya,drawArea:mb,cx:Q,cy:u,xv:w,xForText:ib,yForText:nb}));(Aa||q)&&d.isTabVisible()?e.transition().duration(Aa).each(function(){var b=[];[d.redrawBar(ab,!0),d.redrawLine(ya,!0),d.redrawArea(mb,!0),d.redrawCircle(Q,u,!0),d.redrawText(ib,nb,a.flow,!0),d.redrawRegion(!0),
d.redrawGrid(!0)].forEach(function(a){a.forEach(function(a){b.push(a)})});n=d.generateWait();b.forEach(function(a){n.add(a)})}).call(n,function(){q&&q();l.onrendered&&l.onrendered.call(d)}):(d.redrawBar(ab),d.redrawLine(ya),d.redrawArea(mb),d.redrawCircle(Q,u),d.redrawText(ib,nb,a.flow),d.redrawRegion(),d.redrawGrid(),l.onrendered&&l.onrendered.call(d));d.mapToIds(d.data.targets).forEach(function(a){d.withoutFadeIn[a]=!0})};b.updateAndRedraw=function(a){var d=this.config;a=a||{};a.withTransition=
E(a,"withTransition",!0);a.withTransform=E(a,"withTransform",!1);a.withLegend=E(a,"withLegend",!1);a.withUpdateXDomain=!0;a.withUpdateOrgXDomain=!0;a.withTransitionForExit=!1;a.withTransitionForTransform=E(a,"withTransitionForTransform",a.withTransition);this.updateSizes();if(!a.withLegend||!d.legend_show){var b=this.axis.generateTransitions(a.withTransitionForAxis?d.transition_duration:0);this.updateScales();this.updateSvgSize();this.transformAll(a.withTransitionForTransform,b)}this.redraw(a,b)};
b.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})};b.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type};b.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")};b.isCustomX=function(){var a=this.config;return!this.isTimeSeries()&&(a.data_x||C(a.data_xs))};b.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type};b.getTranslate=function(a){var d=this.config;if("main"===a){var b=
x(this.margin.left);var c=x(this.margin.top)}else"context"===a?(b=x(this.margin2.left),c=x(this.margin2.top)):"legend"===a?(b=this.margin3.left,c=this.margin3.top):"x"===a?(b=0,c=d.axis_rotated?0:this.height):"y"===a?(b=0,c=d.axis_rotated?this.height:0):"y2"===a?(b=d.axis_rotated?0:this.width,c=d.axis_rotated?1:0):"subx"===a?(b=0,c=d.axis_rotated?0:this.height2):"arc"===a&&(b=this.arcWidth/2,c=this.arcHeight/2);return"translate("+b+","+c+")"};b.initialOpacity=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?
1:0};b.initialOpacityForCircle=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?this.opacityForCircle(a):0};b.opacityForCircle=function(a){var d=this.config.point_show?1:0;return n(a.value)?this.isScatterType(a)?.5:d:0};b.opacityForText=function(){return this.hasDataLabel()?1:0};b.xx=function(a){return a?this.x(a.x):null};b.xv=function(a){var d=a.value;this.isTimeSeries()?d=this.parseDate(a.value):this.isCategorized()&&"string"===typeof a.value&&(d=this.config.axis_x_categories.indexOf(a.value));
return Math.ceil(this.x(d))};b.yv=function(a){return Math.ceil((a.axis&&"y2"===a.axis?this.y2:this.y)(a.value))};b.subxx=function(a){return a?this.subX(a.x):null};b.transformMain=function(a,b){if(b&&b.axisX)var d=b.axisX;else d=this.main.select("."+m.axisX),a&&(d=d.transition());if(b&&b.axisY)var c=b.axisY;else c=this.main.select("."+m.axisY),a&&(c=c.transition());b&&b.axisY2?b=b.axisY2:(b=this.main.select("."+m.axisY2),a&&(b=b.transition()));(a?this.main.transition():this.main).attr("transform",
this.getTranslate("main"));d.attr("transform",this.getTranslate("x"));c.attr("transform",this.getTranslate("y"));b.attr("transform",this.getTranslate("y2"));this.main.select("."+m.chartArcs).attr("transform",this.getTranslate("arc"))};b.transformAll=function(a,b){this.transformMain(a,b);this.config.subchart_show&&this.transformContext(a,b);this.legend&&this.transformLegend(a)};b.updateSvgSize=function(){var a=this.svg.select(".c3-brush .background");this.svg.attr("width",this.currentWidth).attr("height",
this.currentHeight);this.svg.selectAll(["#"+this.clipId,"#"+this.clipIdForGrid]).select("rect").attr("width",this.width).attr("height",this.height);this.svg.select("#"+this.clipIdForXAxis).select("rect").attr("x",this.getXAxisClipX.bind(this)).attr("y",this.getXAxisClipY.bind(this)).attr("width",this.getXAxisClipWidth.bind(this)).attr("height",this.getXAxisClipHeight.bind(this));this.svg.select("#"+this.clipIdForYAxis).select("rect").attr("x",this.getYAxisClipX.bind(this)).attr("y",this.getYAxisClipY.bind(this)).attr("width",
this.getYAxisClipWidth.bind(this)).attr("height",this.getYAxisClipHeight.bind(this));this.svg.select("#"+this.clipIdForSubchart).select("rect").attr("width",this.width).attr("height",a.size()?a.attr("height"):0);this.svg.select("."+m.zoomRect).attr("width",this.width).attr("height",this.height);this.selectChart.style("max-height",this.currentHeight+"px")};b.updateDimension=function(a){a||(this.config.axis_rotated?(this.axes.x.call(this.xAxis),this.axes.subx.call(this.subXAxis)):(this.axes.y.call(this.yAxis),
this.axes.y2.call(this.y2Axis)));this.updateSizes();this.updateScales();this.updateSvgSize();this.transformAll(!1)};b.observeInserted=function(a){var d=this;if("undefined"===typeof MutationObserver)k.console.error("MutationObserver not defined.");else{var b=new MutationObserver(function(c){c.forEach(function(c){"childList"===c.type&&c.previousSibling&&(b.disconnect(),d.intervalForObserveInserted=k.setInterval(function(){a.node().parentNode&&(k.clearInterval(d.intervalForObserveInserted),d.updateDimension(),
d.brush&&d.brush.update(),d.config.oninit.call(d),d.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),a.transition().style("opacity",1))},10))})});b.observe(a.node(),{attributes:!0,childList:!0,characterData:!0})}};b.bindResize=function(){var a=this,b=a.config;a.resizeFunction=a.generateResize();a.resizeFunction.add(function(){b.onresize.call(a)});b.resize_auto&&a.resizeFunction.add(function(){void 0!==a.resizeTimeout&&
k.clearTimeout(a.resizeTimeout);a.resizeTimeout=k.setTimeout(function(){delete a.resizeTimeout;a.api.flush()},100)});a.resizeFunction.add(function(){b.onresized.call(a)});if(k.attachEvent)k.attachEvent("onresize",a.resizeFunction);else if(k.addEventListener)k.addEventListener("resize",a.resizeFunction,!1);else{var c=k.onresize;c?c.add&&c.remove||(c=a.generateResize(),c.add(k.onresize)):c=a.generateResize();c.add(a.resizeFunction);k.onresize=c}};b.generateResize=function(){function a(){b.forEach(function(a){a()})}
var b=[];a.add=function(a){b.push(a)};a.remove=function(a){for(var d=0;d<b.length;d++)if(b[d]===a){b.splice(d,1);break}};return a};b.endall=function(a,b){var d=0;a.each(function(){++d}).each("end",function(){--d||b.apply(this,arguments)})};b.generateWait=function(){var a=[],b=function(d,b){var c=setInterval(function(){var d=0;a.forEach(function(a){if(a.empty())d+=1;else try{a.transition()}catch(W){d+=1}});d===a.length&&(clearInterval(c),b&&b())},10)};b.add=function(d){a.push(d)};return b};b.parseDate=
function(a){var d;a instanceof Date?d=a:"string"===typeof a?d=this.dataTimeFormat(this.config.data_xFormat).parse(a):"number"!==typeof a||isNaN(a)||(d=new Date(+a));d&&!isNaN(+d)||k.console.error("Failed to parse x '"+a+"' to Date object");return d};b.isTabVisible=function(){var a;"undefined"!==typeof document.hidden?a="hidden":"undefined"!==typeof document.mozHidden?a="mozHidden":"undefined"!==typeof document.msHidden?a="msHidden":"undefined"!==typeof document.webkitHidden&&(a="webkitHidden");return document[a]?
!1:!0};b.getDefaultConfig=function(){var a={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},
onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},
data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,
legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,
axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,
axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,
point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*
Math.PI/2,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(a,d,b,c){return this.getTooltipContent?
this.getTooltipContent(a,d,b,c):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};Object.keys(this.additionalConfig).forEach(function(d){a[d]=this.additionalConfig[d]},this);return a};b.additionalConfig={};b.loadConfig=function(a){function d(){var a=e.shift();if(a&&c&&"object"===typeof c&&a in c)return c=c[a],d();
if(!a)return c}var b=this.config,c,e,f;Object.keys(b).forEach(function(l){c=a;e=l.split("_");f=d();A(f)&&(b[l]=f)})};b.getScale=function(a,b,c){return(c?this.d3.time.scale():this.d3.scale.linear()).range([a,b])};b.getX=function(a,b,c,e){var d=this.getScale(a,b,this.isTimeSeries()),l=c?d.domain(c):d,f;this.isCategorized()?(e=e||function(){return 0},d=function(a,d){a=l(a)+e(a);return d?a:Math.ceil(a)}):d=function(a,d){a=l(a);return d?a:Math.ceil(a)};for(f in l)d[f]=l[f];d.orgDomain=function(){return l.domain()};
this.isCategorized()&&(d.domain=function(a){if(!arguments.length)return a=this.orgDomain(),[a[0],a[1]+1];l.domain(a);return d});return d};b.getY=function(a,b,c){a=this.getScale(a,b,this.isTimeSeriesY());c&&a.domain(c);return a};b.getYScale=function(a){return"y2"===this.axis.getId(a)?this.y2:this.y};b.getSubYScale=function(a){return"y2"===this.axis.getId(a)?this.subY2:this.subY};b.updateScales=function(){var a=this,b=a.config,c=!a.x;a.xMin=b.axis_rotated?1:0;a.xMax=b.axis_rotated?a.height:a.width;
a.yMin=b.axis_rotated?0:a.height;a.yMax=b.axis_rotated?a.width:1;a.subXMin=a.xMin;a.subXMax=a.xMax;a.subYMin=b.axis_rotated?0:a.height2;a.subYMax=b.axis_rotated?a.width2:1;a.x=a.getX(a.xMin,a.xMax,c?void 0:a.x.orgDomain(),function(){return a.xAxis.tickOffset()});a.y=a.getY(a.yMin,a.yMax,c?b.axis_y_default:a.y.domain());a.y2=a.getY(a.yMin,a.yMax,c?b.axis_y2_default:a.y2.domain());a.subX=a.getX(a.xMin,a.xMax,a.orgXDomain,function(d){return d%1?0:a.subXAxis.tickOffset()});a.subY=a.getY(a.subYMin,a.subYMax,
c?b.axis_y_default:a.subY.domain());a.subY2=a.getY(a.subYMin,a.subYMax,c?b.axis_y2_default:a.subY2.domain());a.xAxisTickFormat=a.axis.getXAxisTickFormat();a.xAxisTickValues=a.axis.getXAxisTickValues();a.yAxisTickValues=a.axis.getYAxisTickValues();a.y2AxisTickValues=a.axis.getY2AxisTickValues();a.xAxis=a.axis.getXAxis(a.x,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer);a.subXAxis=a.axis.getXAxis(a.subX,a.subXOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer);a.yAxis=
a.axis.getYAxis(a.y,a.yOrient,b.axis_y_tick_format,a.yAxisTickValues,b.axis_y_tick_outer);a.y2Axis=a.axis.getYAxis(a.y2,a.y2Orient,b.axis_y2_tick_format,a.y2AxisTickValues,b.axis_y2_tick_outer);c||(a.brush&&a.brush.scale(a.subX),b.zoom_enabled&&a.zoom.scale(a.x));a.updateArc&&a.updateArc()};b.getYDomainMin=function(a){var d=this,b=d.config,c=d.mapToIds(a),e=d.getValuesAsIdKeyed(a),f;if(0<b.data_groups.length){var g=d.hasNegativeValueInTargets(a);for(a=0;a<b.data_groups.length;a++){var h=b.data_groups[a].filter(function(a){return 0<=
c.indexOf(a)});if(0!==h.length){var k=h[0];g&&e[k]&&e[k].forEach(function(a,d){e[k][d]=0>a?a:0});for(f=1;f<h.length;f++){var m=h[f];e[m]&&e[m].forEach(function(a,b){d.axis.getId(m)!==d.axis.getId(k)||!e[k]||g&&0<+a||(e[k][b]+=+a)})}}}}return d.d3.min(Object.keys(e).map(function(a){return d.d3.min(e[a])}))};b.getYDomainMax=function(a){var d=this,b=d.config,c=d.mapToIds(a),e=d.getValuesAsIdKeyed(a),f;if(0<b.data_groups.length){var g=d.hasPositiveValueInTargets(a);for(a=0;a<b.data_groups.length;a++){var h=
b.data_groups[a].filter(function(a){return 0<=c.indexOf(a)});if(0!==h.length){var k=h[0];g&&e[k]&&e[k].forEach(function(a,d){e[k][d]=0<a?a:0});for(f=1;f<h.length;f++){var m=h[f];e[m]&&e[m].forEach(function(a,b){d.axis.getId(m)!==d.axis.getId(k)||!e[k]||g&&0>+a||(e[k][b]+=+a)})}}}}return d.d3.max(Object.keys(e).map(function(a){return d.d3.max(e[a])}))};b.getYDomain=function(a,b,c){var d=this,e=d.config;a=a.filter(function(a){return d.axis.getId(a.id)===b});var l=c?d.filterByXDomain(a,c):a,f="y2"===
b?e.axis_y2_min:e.axis_y_min,g="y2"===b?e.axis_y2_max:e.axis_y_max,h=d.getYDomainMin(l);a=d.getYDomainMax(l);var k,m="y2"===b?e.axis_y2_center:e.axis_y_center,z=d.hasType("bar",l)&&e.bar_zerobased||d.hasType("area",l)&&e.area_zerobased;c="y2"===b?e.axis_y2_inverted:e.axis_y_inverted;var x=d.hasDataLabel()&&e.axis_rotated;var r=d.hasDataLabel()&&!e.axis_rotated;h=n(f)?f:n(g)?h<g?h:g-10:h;a=n(g)?g:n(f)?f<a?a:f+10:a;if(0===l.length)return"y2"===b?d.y2.domain():d.y.domain();isNaN(h)&&(h=0);isNaN(a)&&
(a=h);h===a&&(0>h?a=0:h=0);l=0<=h&&0<=a;var y=0>=h&&0>=a;if(n(f)&&l||n(g)&&y)z=!1;z&&(l&&(h=0),y&&(a=0));f=Math.abs(a-h);g=k=.1*f;"undefined"!==typeof m&&(h=Math.max(Math.abs(h),Math.abs(a)),a=m+h,h=m-h);x?(m=d.getDataLabelLength(h,a,"width"),x=q(d.y.range()),m=[m[0]/x,m[1]/x],g+=m[1]/(1-m[0]-m[1])*f,k+=m[0]/(1-m[0]-m[1])*f):r&&(m=d.getDataLabelLength(h,a,"height"),g+=d.axis.convertPixelsToAxisPadding(m[1],f),k+=d.axis.convertPixelsToAxisPadding(m[0],f));"y"===b&&C(e.axis_y_padding)&&(g=d.axis.getPadding(e.axis_y_padding,
"top",g,f),k=d.axis.getPadding(e.axis_y_padding,"bottom",k,f));"y2"===b&&C(e.axis_y2_padding)&&(g=d.axis.getPadding(e.axis_y2_padding,"top",g,f),k=d.axis.getPadding(e.axis_y2_padding,"bottom",k,f));z&&(l&&(k=h),y&&(g=-a));e=[h-k,a+g];return c?e.reverse():e};b.getXDomainMin=function(a){var d=this,b=d.config;return A(b.axis_x_min)?d.isTimeSeries()?this.parseDate(b.axis_x_min):b.axis_x_min:d.d3.min(a,function(a){return d.d3.min(a.values,function(a){return a.x})})};b.getXDomainMax=function(a){var d=this,
b=d.config;return A(b.axis_x_max)?d.isTimeSeries()?this.parseDate(b.axis_x_max):b.axis_x_max:d.d3.max(a,function(a){return d.d3.max(a.values,function(a){return a.x})})};b.getXDomainPadding=function(a){var d=this.config;a=a[1]-a[0];if(this.isCategorized())a=0;else if(this.hasType("bar")){var b=this.getMaxDataCount();a=1<b?a/(b-1)/2:.5}else a*=.01;if("object"===typeof d.axis_x_padding&&C(d.axis_x_padding)){b=n(d.axis_x_padding.left)?d.axis_x_padding.left:a;var c=n(d.axis_x_padding.right)?d.axis_x_padding.right:
a}else b="number"===typeof d.axis_x_padding?c=d.axis_x_padding:c=a;return{left:b,right:c}};b.getXDomain=function(a){var d=[this.getXDomainMin(a),this.getXDomainMax(a)];a=d[0];var b=d[1];d=this.getXDomainPadding(d);var c=0,e=0;0!==a-b||this.isCategorized()||(this.isTimeSeries()?(a=new Date(.5*a.getTime()),b=new Date(1.5*b.getTime())):(a=0===a?1:.5*a,b=0===b?-1:1.5*b));if(a||0===a)c=this.isTimeSeries()?new Date(a.getTime()-d.left):a-d.left;if(b||0===b)e=this.isTimeSeries()?new Date(b.getTime()+d.right):
b+d.right;return[c,e]};b.updateXDomain=function(a,b,c,e,f){var d=this.config;c&&(this.x.domain(f?f:this.d3.extent(this.getXDomain(a))),this.orgXDomain=this.x.domain(),d.zoom_enabled&&this.zoom.scale(this.x).updateScaleExtent(),this.subX.domain(this.x.domain()),this.brush&&this.brush.scale(this.subX));b&&(this.x.domain(f?f:!this.brush||this.brush.empty()?this.orgXDomain:this.brush.extent()),d.zoom_enabled&&this.zoom.scale(this.x).updateScaleExtent());e&&this.x.domain(this.trimXDomain(this.x.orgDomain()));
return this.x.domain()};b.trimXDomain=function(a){var d=this.getZoomDomain(),b=d[0];d=d[1];a[0]<=b&&(a[1]=+a[1]+(b-a[0]),a[0]=b);d<=a[1]&&(a[0]=+a[0]-(a[1]-d),a[1]=d);return a};b.isX=function(a){var d=this.config;return d.data_x&&a===d.data_x||C(d.data_xs)&&I(d.data_xs,a)};b.isNotX=function(a){return!this.isX(a)};b.getXKey=function(a){var d=this.config;return d.data_x?d.data_x:C(d.data_xs)?d.data_xs[a]:null};b.getXValuesOfXKey=function(a,b){var d=this,c;(b&&C(b)?d.mapToIds(b):[]).forEach(function(b){d.getXKey(b)===
a&&(c=d.data.xs[b])});return c};b.getIndexByX=function(a){a=this.filterByX(this.data.targets,a);return a.length?a[0].index:null};b.getXValue=function(a,b){return a in this.data.xs&&this.data.xs[a]&&n(this.data.xs[a][b])?this.data.xs[a][b]:b};b.getOtherTargetXs=function(){var a=Object.keys(this.data.xs);return a.length?this.data.xs[a[0]]:null};b.getOtherTargetX=function(a){var d=this.getOtherTargetXs();return d&&a<d.length?d[a]:null};b.addXs=function(a){var d=this;Object.keys(a).forEach(function(b){d.config.data_xs[b]=
a[b]})};b.hasMultipleX=function(a){return 1<this.d3.set(Object.keys(a).map(function(d){return a[d]})).size()};b.isMultipleX=function(){return C(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")};b.addName=function(a){if(a){var d=this.config.data_names[a.id];a.name=void 0!==d?d:a.id}return a};b.getValueOnIndex=function(a,b){a=a.filter(function(a){return a.index===b});return a.length?a[0]:null};b.updateTargetX=function(a,b){var d=this;a.forEach(function(a){a.values.forEach(function(c,
e){c.x=d.generateTargetX(b[e],a.id,e)});d.data.xs[a.id]=b})};b.updateTargetXs=function(a,b){var d=this;a.forEach(function(a){b[a.id]&&d.updateTargetX([a],b[a.id])})};b.generateTargetX=function(a,b,c){return this.isTimeSeries()?a?this.parseDate(a):this.parseDate(this.getXValue(b,c)):this.isCustomX()&&!this.isCategorized()?n(a)?+a:this.getXValue(b,c):c};b.cloneTarget=function(a){return{id:a.id,id_org:a.id_org,values:a.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}};b.updateXs=function(){var a=
this;a.data.targets.length&&(a.xs=[],a.data.targets[0].values.forEach(function(d){a.xs[d.index]=d.x}))};b.getPrevX=function(a){a=this.xs[a-1];return"undefined"!==typeof a?a:null};b.getNextX=function(a){a=this.xs[a+1];return"undefined"!==typeof a?a:null};b.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(a){return a.values.length})};b.getMaxDataCountTarget=function(a){var d=a.length,b=0,c;1<d?a.forEach(function(a){a.values.length>b&&(c=a,b=a.values.length)}):c=d?a[0]:null;return c};
b.getEdgeX=function(a){return a.length?[this.d3.min(a,function(a){return a.values[0].x}),this.d3.max(a,function(a){return a.values[a.values.length-1].x})]:[0,0]};b.mapToIds=function(a){return a.map(function(a){return a.id})};b.mapToTargetIds=function(a){return a?[].concat(a):this.mapToIds(this.data.targets)};b.hasTarget=function(a,b){a=this.mapToIds(a);var d;for(d=0;d<a.length;d++)if(a[d]===b)return!0;return!1};b.isTargetToShow=function(a){return 0>this.hiddenTargetIds.indexOf(a)};b.isLegendToShow=
function(a){return 0>this.hiddenLegendIds.indexOf(a)};b.filterTargetsToShow=function(a){var d=this;return a.filter(function(a){return d.isTargetToShow(a.id)})};b.mapTargetsToUniqueXs=function(a){a=this.d3.set(this.d3.merge(a.map(function(a){return a.values.map(function(a){return+a.x})}))).values();a=this.isTimeSeries()?a.map(function(a){return new Date(+a)}):a.map(function(a){return+a});return a.sort(function(a,d){return a<d?-1:a>d?1:a>=d?0:NaN})};b.addHiddenTargetIds=function(a){this.hiddenTargetIds=
this.hiddenTargetIds.concat(a)};b.removeHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(d){return 0>a.indexOf(d)})};b.addHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.concat(a)};b.removeHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(d){return 0>a.indexOf(d)})};b.getValuesAsIdKeyed=function(a){var d={};a.forEach(function(a){d[a.id]=[];a.values.forEach(function(b){d[a.id].push(b.value)})});return d};
b.checkValueInTargets=function(a,b){var d=Object.keys(a),c,e;for(c=0;c<d.length;c++){var l=a[d[c]].values;for(e=0;e<l.length;e++)if(b(l[e].value))return!0}return!1};b.hasNegativeValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return 0>a})};b.hasPositiveValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return 0<a})};b.isOrderDesc=function(){var a=this.config;return"string"===typeof a.data_order&&"desc"===a.data_order.toLowerCase()};b.isOrderAsc=function(){var a=
this.config;return"string"===typeof a.data_order&&"asc"===a.data_order.toLowerCase()};b.orderTargets=function(a){var d=this.config,b=this.isOrderAsc(),c=this.isOrderDesc();b||c?a.sort(function(a,d){var c=function(a,d){return a+Math.abs(d.value)};a=a.values.reduce(c,0);d=d.values.reduce(c,0);return b?d-a:a-d}):r(d.data_order)&&a.sort(d.data_order);return a};b.filterByX=function(a,b){return this.d3.merge(a.map(function(a){return a.values})).filter(function(a){return 0===a.x-b})};b.filterRemoveNull=
function(a){return a.filter(function(a){return n(a.value)})};b.filterByXDomain=function(a,b){return a.map(function(a){return{id:a.id,id_org:a.id_org,values:a.values.filter(function(a){return b[0]<=a.x&&a.x<=b[1]})}})};b.hasDataLabel=function(){var a=this.config;return"boolean"===typeof a.data_labels&&a.data_labels||"object"===typeof a.data_labels&&C(a.data_labels)?!0:!1};b.getDataLabelLength=function(a,b,c){var d=this,e=[0,0];d.selectChart.select("svg").selectAll(".dummy").data([a,b]).enter().append("text").text(function(a){return d.dataLabelFormat(a.id)(a)}).each(function(a,
d){e[d]=1.3*this.getBoundingClientRect()[c]}).remove();return e};b.isNoneArc=function(a){return this.hasTarget(this.data.targets,a.id)};b.isArc=function(a){return"data"in a&&this.hasTarget(this.data.targets,a.data.id)};b.findSameXOfValues=function(a,b){var d,c=a[b].x,e=[];for(d=b-1;0<=d&&c===a[d].x;d--)e.push(a[d]);for(d=b;d<a.length&&c===a[d].x;d++)e.push(a[d]);return e};b.findClosestFromTargets=function(a,b){var d=this;a=a.map(function(a){return d.findClosest(a.values,b)});return d.findClosest(a,
b)};b.findClosest=function(a,b){var d=this,c=d.config.point_sensitivity,e;a.filter(function(a){return a&&d.isBarType(a.id)}).forEach(function(a){var b=d.main.select("."+m.bars+d.getTargetSelectorSuffix(a.id)+" ."+m.bar+"-"+a.index).node();!e&&d.isWithinBar(b)&&(e=a)});a.filter(function(a){return a&&!d.isBarType(a.id)}).forEach(function(a){var l=d.dist(a,b);l<c&&(c=l,e=a)});return e};b.dist=function(a,b){var d=this.config,c=d.axis_rotated?1:0;d=d.axis_rotated?0:1;var e=this.circleY(a,a.index);a=this.x(a.x);
return Math.sqrt(Math.pow(a-b[c],2)+Math.pow(e-b[d],2))};b.convertValuesToStep=function(a){var d=[].concat(a),b;if(!this.isCategorized())return a;for(b=a.length+1;0<b;b--)d[b]=d[b-1];d[0]={x:d[0].x-1,value:d[0].value,id:d[0].id};d[a.length+1]={x:d[a.length].x+1,value:d[a.length].value,id:d[a.length].id};return d};b.updateDataAttributes=function(a,b){var d=this.config["data_"+a];if("undefined"===typeof b)return d;Object.keys(b).forEach(function(a){d[a]=b[a]});this.redraw({withLegend:!0});return d};
b.convertUrlToData=function(a,b,c,e,f){var d=this,l=b?b:"csv",g=d.d3.xhr(a);c&&Object.keys(c).forEach(function(a){g.header(a,c[a])});g.get(function(a,b){if(!b)throw Error(a.responseURL+" "+a.status+" ("+a.statusText+")");a="json"===l?d.convertJsonToData(JSON.parse(b.response),e):"tsv"===l?d.convertTsvToData(b.response):d.convertCsvToData(b.response);f.call(d,a)})};b.convertXsvToData=function(a,b){var d=b.parseRows(a);if(1===d.length){var c=[{}];d[0].forEach(function(a){c[0][a]=null})}else c=b.parse(a);
return c};b.convertCsvToData=function(a){return this.convertXsvToData(a,this.d3.csv)};b.convertTsvToData=function(a){return this.convertXsvToData(a,this.d3.tsv)};b.convertJsonToData=function(a,b){var d=this,c=[];if(b){if(b.x){var e=b.value.concat(b.x);d.config.data_x=b.x}else e=b.value;c.push(e);a.forEach(function(a){var b=[];e.forEach(function(c){c=d.findValueInJson(a,c);v(c)&&(c=null);b.push(c)});c.push(b)});b=d.convertRowsToData(c)}else Object.keys(a).forEach(function(d){c.push([d].concat(a[d]))}),
b=d.convertColumnsToData(c);return b};b.findValueInJson=function(a,b){b=b.replace(/\[(\w+)\]/g,".$1");b=b.replace(/^\./,"");b=b.split(".");for(var d=0;d<b.length;++d){var c=b[d];if(c in a)a=a[c];else return}return a};b.convertRowsToData=function(a){var d=a[0],b=[],c,e;for(c=1;c<a.length;c++){var f={};for(e=0;e<a[c].length;e++){if(v(a[c][e]))throw Error("Source data is missing a component at ("+c+","+e+")!");f[d[e]]=a[c][e]}b.push(f)}return b};b.convertColumnsToData=function(a){var d=[],b,c;for(b=
0;b<a.length;b++){var e=a[b][0];for(c=1;c<a[b].length;c++){v(d[c-1])&&(d[c-1]={});if(v(a[b][c]))throw Error("Source data is missing a component at ("+b+","+c+")!");d[c-1][e]=a[b][c]}}return d};b.convertDataToTargets=function(a,b){var d=this,c=d.config,e=d.d3.keys(a[0]).filter(d.isNotX,d),l=d.d3.keys(a[0]).filter(d.isX,d);e.forEach(function(e){var f=d.getXKey(e);d.isCustomX()||d.isTimeSeries()?0<=l.indexOf(f)?d.data.xs[e]=(b&&d.data.xs[e]?d.data.xs[e]:[]).concat(a.map(function(a){return a[f]}).filter(n).map(function(a,
b){return d.generateTargetX(a,e,b)})):c.data_x?d.data.xs[e]=d.getOtherTargetXs():C(c.data_xs)&&(d.data.xs[e]=d.getXValuesOfXKey(f,d.data.targets)):d.data.xs[e]=a.map(function(a,d){return d})});e.forEach(function(a){if(!d.data.xs[a])throw Error('x is not defined for id = "'+a+'".');});e=e.map(function(b,e){var l=c.data_idConverter(b);return{id:l,id_org:b,values:a.map(function(a,f){var g=d.getXKey(b);g=a[g];var h=null===a[b]||isNaN(a[b])?null:+a[b];if(d.isCustomX()&&d.isCategorized()&&0===e&&!v(g)){0===
e&&0===f&&(c.axis_x_categories=[]);var k=c.axis_x_categories.indexOf(g);-1===k&&(k=c.axis_x_categories.length,c.axis_x_categories.push(g))}else k=d.generateTargetX(g,b,f);if(v(a[b])||d.data.xs[b].length<=f)k=void 0;return{x:k,value:h,id:l}}).filter(function(a){return A(a.x)})}});e.forEach(function(a){c.data_xSort&&(a.values=a.values.sort(function(a,d){return(a.x||0===a.x?a.x:Infinity)-(d.x||0===d.x?d.x:Infinity)}));var b=0;a.values.forEach(function(a){a.index=b++});d.data.xs[a.id].sort(function(a,
d){return a-d})});d.hasNegativeValue=d.hasNegativeValueInTargets(e);d.hasPositiveValue=d.hasPositiveValueInTargets(e);c.data_type&&d.setTargetType(d.mapToIds(e).filter(function(a){return!(a in c.data_types)}),c.data_type);e.forEach(function(a){d.addCache(a.id_org,a)});return e};b.load=function(a,b){var d=this;a&&(b.filter&&(a=a.filter(b.filter)),(b.type||b.types)&&a.forEach(function(a){d.setTargetType(a.id,b.types&&b.types[a.id]?b.types[a.id]:b.type)}),d.data.targets.forEach(function(d){for(var b=
0;b<a.length;b++)if(d.id===a[b].id){d.values=a[b].values;a.splice(b,1);break}}),d.data.targets=d.data.targets.concat(a));d.updateTargets(d.data.targets);d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0});b.done&&b.done()};b.loadFromArgs=function(a){var d=this;a.data?d.load(d.convertDataToTargets(a.data),a):a.url?d.convertUrlToData(a.url,a.mimeType,a.headers,a.keys,function(b){d.load(d.convertDataToTargets(b),a)}):a.json?d.load(d.convertDataToTargets(d.convertJsonToData(a.json,
a.keys)),a):a.rows?d.load(d.convertDataToTargets(d.convertRowsToData(a.rows)),a):a.columns?d.load(d.convertDataToTargets(d.convertColumnsToData(a.columns)),a):d.load(null,a)};b.unload=function(a,b){var d=this;b||(b=function(){});(a=a.filter(function(a){return d.hasTarget(d.data.targets,a)}))&&0!==a.length?(d.svg.selectAll(a.map(function(a){return d.selectorTarget(a)})).transition().style("opacity",0).remove().call(d.endall,b),a.forEach(function(a){d.withoutFadeIn[a]=!1;d.legend&&d.legend.selectAll("."+
m.legendItem+d.getTargetSelectorSuffix(a)).remove();d.data.targets=d.data.targets.filter(function(d){return d.id!==a})})):b()};b.categoryName=function(a){var d=this.config;return a<d.axis_x_categories.length?d.axis_x_categories[a]:a};b.initEventRect=function(){this.main.select("."+m.chart).append("g").attr("class",m.eventRects).style("fill-opacity",0)};b.redrawEventRect=function(){var a=this.config;var b=this.isMultipleX();a=this.main.select("."+m.eventRects).style("cursor",a.zoom_enabled?a.axis_rotated?
"ns-resize":"ew-resize":null).classed(m.eventRectsMultiple,b).classed(m.eventRectsSingle,!b);a.selectAll("."+m.eventRect).remove();this.eventRect=a.selectAll("."+m.eventRect);b?(b=this.eventRect.data([0]),this.generateEventRectsForMultipleXs(b.enter()),this.updateEventRect(b)):(b=this.getMaxDataCountTarget(this.data.targets),a.datum(b?b.values:[]),this.eventRect=a.selectAll("."+m.eventRect),b=this.eventRect.data(function(a){return a}),this.generateEventRectsForSingleX(b.enter()),this.updateEventRect(b),
b.exit().remove())};b.updateEventRect=function(a){var d=this,b=d.config,c;a=a||d.eventRect.data(function(a){return a});if(d.isMultipleX()){var e=c=0;var f=d.width;var g=d.height}else{if(!d.isCustomX()&&!d.isTimeSeries()||d.isCategorized()){var h=d.getEventRectWidth();e=function(a){return d.x(a.x)-h/2}}else d.updateXs(),h=function(a){var c=d.getPrevX(a.index);a=d.getNextX(a.index);if(null===c&&null===a)return b.axis_rotated?d.height:d.width;null===c&&(c=d.x.domain()[0]);null===a&&(a=d.x.domain()[1]);
return Math.max(0,(d.x(a)-d.x(c))/2)},e=function(a){var b=d.getPrevX(a.index),c=d.getNextX(a.index);a=d.data.xs[a.id][a.index];if(null===b&&null===c)return 0;null===b&&(b=d.x.domain()[0]);return(d.x(a)+d.x(b))/2};c=b.axis_rotated?0:e;e=b.axis_rotated?e:0;f=b.axis_rotated?d.width:h;g=b.axis_rotated?h:d.height}a.attr("class",d.classEvent.bind(d)).attr("x",c).attr("y",e).attr("width",f).attr("height",g)};b.generateEventRectsForSingleX=function(a){var d=this,b=d.d3,c=d.config;a.append("rect").attr("class",
d.classEvent.bind(d)).style("cursor",c.data_selection_enabled&&c.data_selection_grouped?"pointer":null).on("mouseover",function(a){a=a.index;d.dragging||d.flowing||d.hasArcType()||(c.point_focus_expand_enabled&&d.expandCircles(a,null,!0),d.expandBars(a,null,!0),d.main.selectAll("."+m.shape+"-"+a).each(function(a){c.data_onmouseover.call(d.api,a)}))}).on("mouseout",function(a){a=a.index;d.config&&!d.hasArcType()&&(d.hideXGridFocus(),d.hideTooltip(),d.unexpandCircles(),d.unexpandBars(),d.main.selectAll("."+
m.shape+"-"+a).each(function(a){c.data_onmouseout.call(d.api,a)}))}).on("mousemove",function(a){var e=a.index,l=d.svg.select("."+m.eventRect+"-"+e);d.dragging||d.flowing||d.hasArcType()||(d.isStepType(a)&&"step-after"===d.config.line_step_type&&b.mouse(this)[0]<d.x(d.getXValue(a.id,e))&&--e,a=d.filterTargetsToShow(d.data.targets).map(function(a){return d.addName(d.getValueOnIndex(a.values,e))}),c.tooltip_grouped&&(d.showTooltip(a,this),d.showXGridFocus(a)),(!c.tooltip_grouped||c.data_selection_enabled&&
!c.data_selection_grouped)&&d.main.selectAll("."+m.shape+"-"+e).each(function(){b.select(this).classed(m.EXPANDED,!0);c.data_selection_enabled&&l.style("cursor",c.data_selection_grouped?"pointer":null);c.tooltip_grouped||(d.hideXGridFocus(),d.hideTooltip(),c.data_selection_grouped||(d.unexpandCircles(e),d.unexpandBars(e)))}).filter(function(a){return d.isWithinShape(this,a)}).each(function(a){c.data_selection_enabled&&(c.data_selection_grouped||c.data_selection_isselectable(a))&&l.style("cursor",
"pointer");c.tooltip_grouped||(d.showTooltip([a],this),d.showXGridFocus([a]),c.point_focus_expand_enabled&&d.expandCircles(e,a.id,!0),d.expandBars(e,a.id,!0))}))}).on("click",function(a){var e=a.index;!d.hasArcType()&&d.toggleShape&&(d.cancelClick?d.cancelClick=!1:(d.isStepType(a)&&"step-after"===c.line_step_type&&b.mouse(this)[0]<d.x(d.getXValue(a.id,e))&&--e,d.main.selectAll("."+m.shape+"-"+e).each(function(a){if(c.data_selection_grouped||d.isWithinShape(this,a))d.toggleShape(this,a,e),d.config.data_onclick.call(d.api,
a,this)})))}).call(c.data_selection_draggable&&d.drag?b.behavior.drag().origin(Object).on("drag",function(){d.drag(b.mouse(this))}).on("dragstart",function(){d.dragstart(b.mouse(this))}).on("dragend",function(){d.dragend()}):function(){})};b.generateEventRectsForMultipleXs=function(a){function d(){b.svg.select("."+m.eventRect).style("cursor",null);b.hideXGridFocus();b.hideTooltip();b.unexpandCircles();b.unexpandBars()}var b=this,c=b.d3,e=b.config;a.append("rect").attr("x",0).attr("y",0).attr("width",
b.width).attr("height",b.height).attr("class",m.eventRect).on("mouseout",function(){b.config&&(b.hasArcType()||d())}).on("mousemove",function(){var a=b.filterTargetsToShow(b.data.targets);if(!b.dragging&&!b.hasArcType(a)){var l=c.mouse(this);var f=b.findClosestFromTargets(a,l);!b.mouseover||f&&f.id===b.mouseover.id||(e.data_onmouseout.call(b.api,b.mouseover),b.mouseover=void 0);if(f){if(a=b.isScatterType(f)||!e.tooltip_grouped?[f]:b.filterByX(a,f.x),a=a.map(function(a){return b.addName(a)}),b.showTooltip(a,
this),e.point_focus_expand_enabled&&b.expandCircles(f.index,f.id,!0),b.expandBars(f.index,f.id,!0),b.showXGridFocus(a),b.isBarType(f.id)||b.dist(f,l)<e.point_sensitivity)b.svg.select("."+m.eventRect).style("cursor","pointer"),b.mouseover||(e.data_onmouseover.call(b.api,f),b.mouseover=f)}else d()}}).on("click",function(){var a=b.filterTargetsToShow(b.data.targets),d;if(!b.hasArcType(a)){var l=c.mouse(this);(d=b.findClosestFromTargets(a,l))&&(b.isBarType(d.id)||b.dist(d,l)<e.point_sensitivity)&&b.main.selectAll("."+
m.shapes+b.getTargetSelectorSuffix(d.id)).selectAll("."+m.shape+"-"+d.index).each(function(){if(e.data_selection_grouped||b.isWithinShape(this,d))b.toggleShape(this,d,d.index),b.config.data_onclick.call(b.api,d,this)})}}).call(e.data_selection_draggable&&b.drag?c.behavior.drag().origin(Object).on("drag",function(){b.drag(c.mouse(this))}).on("dragstart",function(){b.dragstart(c.mouse(this))}).on("dragend",function(){b.dragend()}):function(){})};b.dispatchEvent=function(a,b,c){b="."+m.eventRect+(this.isMultipleX()?
"":"-"+b);b=this.main.select(b).node();var d=b.getBoundingClientRect(),e=d.left+(c?c[0]:0);c=d.top+(c?c[1]:0);d=document.createEvent("MouseEvents");d.initMouseEvent(a,!0,!0,k,0,e,c,e,c,!1,!1,!1,!1,0,null);b.dispatchEvent(d)};b.getCurrentWidth=function(){var a=this.config;return a.size_width?a.size_width:this.getParentWidth()};b.getCurrentHeight=function(){var a=this.config,b=a.size_height?a.size_height:this.getParentHeight();return 0<b?b:320/(this.hasType("gauge")&&!a.gauge_fullCircle?2:1)};b.getCurrentPaddingTop=
function(){var a=this.config;a=n(a.padding_top)?a.padding_top:0;this.title&&this.title.node()&&(a+=this.getTitlePadding());return a};b.getCurrentPaddingBottom=function(){var a=this.config;return n(a.padding_bottom)?a.padding_bottom:0};b.getCurrentPaddingLeft=function(a){var d=this.config;return n(d.padding_left)?d.padding_left:d.axis_rotated?d.axis_x_show?Math.max(y(this.getAxisWidthByAxisId("x",a)),40):1:!d.axis_y_show||d.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:y(this.getAxisWidthByAxisId("y",
a))};b.getCurrentPaddingRight=function(){var a=this.config,b=this.isLegendRight?this.getLegendWidth()+20:0;return n(a.padding_right)?a.padding_right+1:a.axis_rotated?10+b:!a.axis_y2_show||a.axis_y2_inner?2+b+(this.axis.getY2AxisLabelPosition().isOuter?20:0):y(this.getAxisWidthByAxisId("y2"))+b};b.getParentRectValue=function(a){for(var d=this.selectChart.node(),b;d&&"BODY"!==d.tagName;){try{b=d.getBoundingClientRect()[a]}catch(G){"width"===a&&(b=d.offsetWidth)}if(b)break;d=d.parentNode}return b};b.getParentWidth=
function(){return this.getParentRectValue("width")};b.getParentHeight=function(){var a=this.selectChart.style("height");return 0<a.indexOf("px")?+a.replace("px",""):0};b.getSvgLeft=function(a){var d=this.config,b=d.axis_rotated||!d.axis_rotated&&!d.axis_y_inner;b=(d=this.main.select("."+(d.axis_rotated?m.axisX:m.axisY)).node())&&b?d.getBoundingClientRect():{right:0};d=this.selectChart.node().getBoundingClientRect();var c=this.hasArcType();a=b.right-d.left-(c?0:this.getCurrentPaddingLeft(a));return 0<
a?a:0};b.getAxisWidthByAxisId=function(a,b){var d=this.axis.getLabelPositionById(a);return this.axis.getMaxTickWidth(a,b)+(d.isInner?20:40)};b.getHorizontalAxisHeight=function(a){var d=this.config,b=30;if("x"===a&&!d.axis_x_show)return 8;if("x"===a&&d.axis_x_height)return d.axis_x_height;if("y"===a&&!d.axis_y_show)return!d.legend_show||this.isLegendRight||this.isLegendInset?1:10;if("y2"===a&&!d.axis_y2_show)return this.rotated_padding_top;"x"===a&&!d.axis_rotated&&d.axis_x_tick_rotate&&(b=30+this.axis.getMaxTickWidth(a)*
Math.cos(Math.PI*(90-d.axis_x_tick_rotate)/180));"y"===a&&d.axis_rotated&&d.axis_y_tick_rotate&&(b=30+this.axis.getMaxTickWidth(a)*Math.cos(Math.PI*(90-d.axis_y_tick_rotate)/180));return b+(this.axis.getLabelPositionById(a).isInner?0:10)+("y2"===a?-10:0)};b.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())};b.getShapeIndices=function(a){var d=this.config,b={},c=0,e,f;this.filterTargetsToShow(this.data.targets.filter(a,this)).forEach(function(a){for(e=0;e<d.data_groups.length;e++)if(!(0>
d.data_groups[e].indexOf(a.id)))for(f=0;f<d.data_groups[e].length;f++)if(d.data_groups[e][f]in b){b[a.id]=b[d.data_groups[e][f]];break}v(b[a.id])&&(b[a.id]=c++)});b.__max__=c-1;return b};b.getShapeX=function(a,b,c,e){var d=e?this.subX:this.x;return function(e){var l=e.id in c?c[e.id]:0;return e.x||0===e.x?d(e.x)-a*(b/2-l):0}};b.getShapeY=function(a){var d=this;return function(b){return(a?d.getSubYScale(b.id):d.getYScale(b.id))(b.value)}};b.getShapeOffset=function(a,b,c){var d=this,e=d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(a,
d))),l=e.map(function(a){return a.id});return function(a,f){var g=c?d.getSubYScale(a.id):d.getYScale(a.id),h=g(0),k=h;e.forEach(function(c){var e=d.isStepType(a)?d.convertValuesToStep(c.values):c.values;if(c.id!==a.id&&b[c.id]===b[a.id]&&l.indexOf(c.id)<l.indexOf(a.id)){if("undefined"===typeof e[f]||+e[f].x!==+a.x)f=-1,e.forEach(function(d,b){d.x===a.x&&(f=b)});f in e&&0<=e[f].value*a.value&&(k+=g(e[f].value)-h)}});return k}};b.isWithinShape=function(a,b){var d=this.d3.select(a),c;this.isTargetToShow(b.id)?
"circle"===a.nodeName?c=this.isStepType(b)?this.isWithinStep(a,this.getYScale(b.id)(b.value)):this.isWithinCircle(a,1.5*this.pointSelectR(b)):"path"===a.nodeName&&(c=d.classed(m.bar)?this.isWithinBar(a):!0):c=!1;return c};b.getInterpolate=function(a){var d=this.isInterpolationType(this.config.spline_interpolation_type)?this.config.spline_interpolation_type:"cardinal";return this.isSplineType(a)?d:this.isStepType(a)?this.config.line_step_type:"linear"};b.initLine=function(){this.main.select("."+m.chart).append("g").attr("class",
m.chartLines)};b.updateTargetsForLine=function(a){var d=this,b=d.config,c=d.classChartLine.bind(d),e=d.classLines.bind(d),f=d.classAreas.bind(d),g=d.classCircles.bind(d),h=d.classFocus.bind(d);var k=d.main.select("."+m.chartLines).selectAll("."+m.chartLine).data(a).attr("class",function(a){return c(a)+h(a)}).enter().append("g").attr("class",c).style("opacity",0).style("pointer-events","none");k.append("g").attr("class",e);k.append("g").attr("class",f);k.append("g").attr("class",function(a){return d.generateClass(m.selectedCircles,
a.id)});k.append("g").attr("class",g).style("cursor",function(a){return b.data_selection_isselectable(a)?"pointer":null});a.forEach(function(a){d.main.selectAll("."+m.selectedCircles+d.getTargetSelectorSuffix(a.id)).selectAll("."+m.selectedCircle).each(function(d){d.value=a.values[d.index].value})})};b.updateLine=function(a){var d=this;d.mainLine=d.main.selectAll("."+m.lines).selectAll("."+m.line).data(d.lineData.bind(d));d.mainLine.enter().append("path").attr("class",d.classLine.bind(d)).style("stroke",
d.color);d.mainLine.style("opacity",d.initialOpacity.bind(d)).style("shape-rendering",function(a){return d.isStepType(a)?"crispEdges":""}).attr("transform",null);d.mainLine.exit().transition().duration(a).style("opacity",0).remove()};b.redrawLine=function(a,b){return[(b?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",a).style("stroke",this.color).style("opacity",1)]};b.generateDrawLine=function(a,b){var d=this,c=d.config,e=d.d3.svg.line(),f=d.generateGetLinePoints(a,b),
l=b?d.getSubYScale:d.getYScale;a=function(a){return(b?d.subxx:d.xx).call(d,a)};var g=function(a,b){return 0<c.data_groups.length?f(a,b)[0][1]:l.call(d,a.id)(a.value)};e=c.axis_rotated?e.x(g).y(a):e.x(a).y(g);c.line_connectNull||(e=e.defined(function(a){return null!=a.value}));return function(a){var f=c.line_connectNull?d.filterRemoveNull(a.values):a.values,g=b?d.x:d.subX,h=l.call(d,a.id),k=0,m=0;d.isLineType(a)?c.data_regions[a.id]?a=d.lineWithRegions(f,g,h,c.data_regions[a.id]):(d.isStepType(a)&&
(f=d.convertValuesToStep(f)),a=e.interpolate(d.getInterpolate(a))(f)):(f[0]&&(k=g(f[0].x),m=h(f[0].value)),a=c.axis_rotated?"M "+m+" "+k:"M "+k+" "+m);return a?a:"M 0 0"}};b.generateGetLinePoints=function(a,b){var d=this,c=d.config,e=d.getShapeX(0,a.__max__+1,a,!!b),f=d.getShapeY(!!b),l=d.getShapeOffset(d.isLineType,a,!!b),g=b?d.getSubYScale:d.getYScale;return function(a,b){var h=g.call(d,a.id)(0);b=l(a,b)||h;var k=e(a),m=f(a);c.axis_rotated&&(0<a.value&&m<h||0>a.value&&h<m)&&(m=h);return[[k,m-(h-
b)],[k,m-(h-b)],[k,m-(h-b)],[k,m-(h-b)]]}};b.lineWithRegions=function(a,b,c,e){function d(a,d){var b;for(b=0;b<d.length;b++)if(d[b].start<a&&a<=d[b].end)return!0;return!1}function f(a){return"M"+a[0][0]+" "+a[0][1]+" "+a[1][0]+" "+a[1][1]}var l=this.config,g,h="M",k=this.isCategorized()?.5:0,m=[];if(A(e))for(g=0;g<e.length;g++)m[g]={},v(e[g].start)?m[g].start=a[0].x:m[g].start=this.isTimeSeries()?this.parseDate(e[g].start):e[g].start,v(e[g].end)?m[g].end=a[a.length-1].x:m[g].end=this.isTimeSeries()?
this.parseDate(e[g].end):e[g].end;var n=l.axis_rotated?function(a){return c(a.value)}:function(a){return b(a.x)};var z=l.axis_rotated?function(a){return b(a.x)}:function(a){return c(a.value)};e=this.isTimeSeries()?function(a,d,e,g){var h=a.x.getTime();d=d.x-a.x;a=new Date(h+d*e);h=new Date(h+d*(e+g));e=l.axis_rotated?[[c(x(e)),b(a)],[c(x(e+g)),b(h)]]:[[b(a),c(x(e))],[b(h),c(x(e+g))]];return f(e)}:function(a,d,e,g){a=l.axis_rotated?[[c(x(e),!0),b(q(e))],[c(x(e+g),!0),b(q(e+g))]]:[[b(q(e),!0),c(x(e))],
[b(q(e+g),!0),c(x(e+g))]];return f(a)};for(g=0;g<a.length;g++)if(v(m)||!d(a[g].x,m))h+=" "+n(a[g])+" "+z(a[g]);else{var q=this.getScale(a[g-1].x+k,a[g].x+k,this.isTimeSeries());var x=this.getScale(a[g-1].value,a[g].value);var r=b(a[g].x)-b(a[g-1].x);var y=c(a[g].value)-c(a[g-1].value);r=Math.sqrt(Math.pow(r,2)+Math.pow(y,2));y=2/r;var w=2*y;for(r=y;1>=r;r+=w)h+=e(a[g-1],a[g],r,y)}return h};b.updateArea=function(a){var d=this,b=d.d3;d.mainArea=d.main.selectAll("."+m.areas).selectAll("."+m.area).data(d.lineData.bind(d));
d.mainArea.enter().append("path").attr("class",d.classArea.bind(d)).style("fill",d.color).style("opacity",function(){d.orgAreaOpacity=+b.select(this).style("opacity");return 0});d.mainArea.style("opacity",d.orgAreaOpacity);d.mainArea.exit().transition().duration(a).style("opacity",0).remove()};b.redrawArea=function(a,b){return[(b?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)]};b.generateDrawArea=function(a,
b){var d=this,c=d.config,e=d.d3.svg.area(),f=d.generateGetAreaPoints(a,b),l=b?d.getSubYScale:d.getYScale;a=function(a){return(b?d.subxx:d.xx).call(d,a)};var g=function(a,b){return 0<c.data_groups.length?f(a,b)[0][1]:l.call(d,a.id)(d.getAreaBaseValue(a.id))},h=function(a,b){return 0<c.data_groups.length?f(a,b)[1][1]:l.call(d,a.id)(a.value)};e=c.axis_rotated?e.x0(g).x1(h).y(a):e.x(a).y0(c.area_above?0:g).y1(h);c.line_connectNull||(e=e.defined(function(a){return null!==a.value}));return function(a){var b=
c.line_connectNull?d.filterRemoveNull(a.values):a.values,f=0,l=0;d.isAreaType(a)?(d.isStepType(a)&&(b=d.convertValuesToStep(b)),a=e.interpolate(d.getInterpolate(a))(b)):(b[0]&&(f=d.x(b[0].x),l=d.getYScale(a.id)(b[0].value)),a=c.axis_rotated?"M "+l+" "+f:"M "+f+" "+l);return a?a:"M 0 0"}};b.getAreaBaseValue=function(){return 0};b.generateGetAreaPoints=function(a,b){var d=this,c=d.config,e=d.getShapeX(0,a.__max__+1,a,!!b),f=d.getShapeY(!!b),l=d.getShapeOffset(d.isAreaType,a,!!b),g=b?d.getSubYScale:
d.getYScale;return function(a,b){var h=g.call(d,a.id)(0);b=l(a,b)||h;var k=e(a),m=f(a);c.axis_rotated&&(0<a.value&&m<h||0>a.value&&h<m)&&(m=h);return[[k,b],[k,m-(h-b)],[k,m-(h-b)],[k,b]]}};b.updateCircle=function(){this.mainCircle=this.main.selectAll("."+m.circles).selectAll("."+m.circle).data(this.lineOrScatterData.bind(this));this.mainCircle.enter().append("circle").attr("class",this.classCircle.bind(this)).attr("r",this.pointR.bind(this)).style("fill",this.color);this.mainCircle.style("opacity",
this.initialOpacityForCircle.bind(this));this.mainCircle.exit().remove()};b.redrawCircle=function(a,b,c){var d=this.main.selectAll("."+m.selectedCircle);return[(c?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",a).attr("cy",b),(c?d.transition(Math.random().toString()):d).attr("cx",a).attr("cy",b)]};b.circleX=function(a){return a.x||0===a.x?this.x(a.x):null};b.updateCircleY=function(){var a=this;
if(0<a.config.data_groups.length){var b=a.getShapeIndices(a.isLineType);var c=a.generateGetLinePoints(b);a.circleY=function(a,d){return c(a,d)[0][1]}}else a.circleY=function(d){return a.getYScale(d.id)(d.value)}};b.getCircles=function(a,b){return(b?this.main.selectAll("."+m.circles+this.getTargetSelectorSuffix(b)):this.main).selectAll("."+m.circle+(n(a)?"-"+a:""))};b.expandCircles=function(a,b,c){var d=this.pointExpandedR.bind(this);c&&this.unexpandCircles();this.getCircles(a,b).classed(m.EXPANDED,
!0).attr("r",d)};b.unexpandCircles=function(a){var d=this,b=d.pointR.bind(d);d.getCircles(a).filter(function(){return d.d3.select(this).classed(m.EXPANDED)}).classed(m.EXPANDED,!1).attr("r",b)};b.pointR=function(a){var d=this.config;return this.isStepType(a)?0:r(d.point_r)?d.point_r(a):d.point_r};b.pointExpandedR=function(a){var d=this.config;return d.point_focus_expand_enabled?d.point_focus_expand_r?d.point_focus_expand_r:1.75*this.pointR(a):this.pointR(a)};b.pointSelectR=function(a){var d=this.config;
return r(d.point_select_r)?d.point_select_r(a):d.point_select_r?d.point_select_r:4*this.pointR(a)};b.isWithinCircle=function(a,b){var d=this.d3,c=d.mouse(a);d=d.select(a);a=+d.attr("cx");d=+d.attr("cy");return Math.sqrt(Math.pow(a-c[0],2)+Math.pow(d-c[1],2))<b};b.isWithinStep=function(a,b){return 30>Math.abs(b-this.d3.mouse(a)[1])};b.initBar=function(){this.main.select("."+m.chart).append("g").attr("class",m.chartBars)};b.updateTargetsForBar=function(a){var d=this.config,b=this.classChartBar.bind(this),
c=this.classBars.bind(this),e=this.classFocus.bind(this);this.main.select("."+m.chartBars).selectAll("."+m.chartBar).data(a).attr("class",function(a){return b(a)+e(a)}).enter().append("g").attr("class",b).style("opacity",0).style("pointer-events","none").append("g").attr("class",c).style("cursor",function(a){return d.data_selection_isselectable(a)?"pointer":null})};b.updateBar=function(a){var d=this,b=d.barData.bind(d),c=d.classBar.bind(d),e=d.initialOpacity.bind(d),f=function(a){return d.color(a.id)};
d.mainBar=d.main.selectAll("."+m.bars).selectAll("."+m.bar).data(b);d.mainBar.enter().append("path").attr("class",c).style("stroke",f).style("fill",f);d.mainBar.style("opacity",e);d.mainBar.exit().transition().duration(a).style("opacity",0).remove()};b.redrawBar=function(a,b){return[(b?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",a).style("fill",this.color).style("opacity",1)]};b.getBarW=function(a,b){var d=this.config;a="number"===typeof d.bar_width?d.bar_width:b?a.tickInterval()*
d.bar_width_ratio/b:0;return d.bar_width_max&&a>d.bar_width_max?d.bar_width_max:a};b.getBars=function(a,b){return(b?this.main.selectAll("."+m.bars+this.getTargetSelectorSuffix(b)):this.main).selectAll("."+m.bar+(n(a)?"-"+a:""))};b.expandBars=function(a,b,c){c&&this.unexpandBars();this.getBars(a,b).classed(m.EXPANDED,!0)};b.unexpandBars=function(a){this.getBars(a).classed(m.EXPANDED,!1)};b.generateDrawBar=function(a,b){var d=this.config,c=this.generateGetBarPoints(a,b);return function(a,b){a=c(a,b);
b=d.axis_rotated?1:0;var e=d.axis_rotated?0:1;return"M "+a[0][b]+","+a[0][e]+" L"+a[1][b]+","+a[1][e]+" L"+a[2][b]+","+a[2][e]+" L"+a[3][b]+","+a[3][e]+" z"}};b.generateGetBarPoints=function(a,b){var d=this,c=a.__max__+1,e=d.getBarW(b?d.subXAxis:d.xAxis,c),f=d.getShapeX(e,c,a,!!b),l=d.getShapeY(!!b),g=d.getShapeOffset(d.isBarType,a,!!b),h=b?d.getSubYScale:d.getYScale;return function(a,b){var c=h.call(d,a.id)(0);b=g(a,b)||c;var k=f(a),m=l(a);d.config.axis_rotated&&(0<a.value&&m<c||0>a.value&&c<m)&&
(m=c);return[[k,b],[k,m-(c-b)],[k+e,m-(c-b)],[k+e,b]]}};b.isWithinBar=function(a){var d=this.d3.mouse(a),b=a.getBoundingClientRect(),c=a.pathSegList.getItem(0),e=a.pathSegList.getItem(1);a=Math.min(c.x,e.x);c=Math.min(c.y,e.y);e=b.width;b=b.height;return a-2<d[0]&&d[0]<a+e+2&&c-2<d[1]&&d[1]<c+b+2};b.initText=function(){this.main.select("."+m.chart).append("g").attr("class",m.chartTexts);this.mainText=this.d3.selectAll([])};b.updateTargetsForText=function(a){var d=this.classChartText.bind(this),b=
this.classTexts.bind(this),c=this.classFocus.bind(this);this.main.select("."+m.chartTexts).selectAll("."+m.chartText).data(a).attr("class",function(a){return d(a)+c(a)}).enter().append("g").attr("class",d).style("opacity",0).style("pointer-events","none").append("g").attr("class",b)};b.updateText=function(a){var d=this,b=d.config,c=d.barOrLineData.bind(d),e=d.classText.bind(d);d.mainText=d.main.selectAll("."+m.texts).selectAll("."+m.text).data(c);d.mainText.enter().append("text").attr("class",e).attr("text-anchor",
function(a){return b.axis_rotated?0>a.value?"end":"start":"middle"}).style("stroke","none").style("fill",function(a){return d.color(a)}).style("fill-opacity",0);d.mainText.text(function(a,b,c){return d.dataLabelFormat(a.id)(a.value,a.id,b,c)});d.mainText.exit().transition().duration(a).style("fill-opacity",0).remove()};b.redrawText=function(a,b,c,e){return[(e?this.mainText.transition():this.mainText).attr("x",a).attr("y",b).style("fill",this.color).style("fill-opacity",c?0:this.opacityForText.bind(this))]};
b.getTextRect=function(a,b,c){var d=this.d3.select("body").append("div").classed("c3",!0),e=d.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);c=this.d3.select(c).style("font");var f;e.selectAll(".dummy").data([a]).enter().append("text").classed(b?b:"",!0).style("font",c).text(a).each(function(){f=this.getBoundingClientRect()});d.remove();return f};b.generateXYForText=function(a,b,c,e){var d=this,f=d.generateGetAreaPoints(a,!1),l=d.generateGetBarPoints(b,
!1),g=d.generateGetLinePoints(c,!1),h=e?d.getXForText:d.getYForText;return function(a,b){var c=d.isAreaType(a)?f:d.isBarType(a)?l:g;return h.call(d,c(a,b),a,this)}};b.getXForText=function(a,b,c){c=c.getBoundingClientRect();if(this.config.axis_rotated){var d=this.isBarType(b)?4:6;a=a[2][1]+d*(0>b.value?-1:1)}else a=this.hasType("bar")?(a[2][0]+a[0][0])/2:a[0][0];null===b.value&&(a>this.width?a=this.width-c.width:0>a&&(a=4));return a};b.getYForText=function(a,b,c){c=c.getBoundingClientRect();this.config.axis_rotated?
a=(a[0][0]+a[2][0]+.6*c.height)/2:(a=a[2][1],0>b.value||0===b.value&&!this.hasPositiveValue?(a+=c.height,this.isBarType(b)&&this.isSafari()?a-=3:!this.isBarType(b)&&this.isChrome()&&(a+=3)):a+=this.isBarType(b)?-3:-6);null!==b.value||this.config.axis_rotated||(a<c.height?a=c.height:a>this.height&&(a=this.height-4));return a};b.setTargetType=function(a,b){var d=this,c=d.config;d.mapToTargetIds(a).forEach(function(a){d.withoutFadeIn[a]=b===c.data_types[a];c.data_types[a]=b});a||(c.data_type=b)};b.hasType=
function(a,b){var d=this.config.data_types,c=!1;(b=b||this.data.targets)&&b.length?b.forEach(function(b){if((b=d[b.id])&&0<=b.indexOf(a)||!b&&"line"===a)c=!0}):Object.keys(d).length?Object.keys(d).forEach(function(b){d[b]===a&&(c=!0)}):c=this.config.data_type===a;return c};b.hasArcType=function(a){return this.hasType("pie",a)||this.hasType("donut",a)||this.hasType("gauge",a)};b.isLineType=function(a){var d=this.config;a=w(a)?a:a.id;return!d.data_types[a]||0<="line spline area area-spline step area-step".split(" ").indexOf(d.data_types[a])};
b.isStepType=function(a){a=w(a)?a:a.id;return 0<=["step","area-step"].indexOf(this.config.data_types[a])};b.isSplineType=function(a){a=w(a)?a:a.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[a])};b.isAreaType=function(a){a=w(a)?a:a.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[a])};b.isBarType=function(a){a=w(a)?a:a.id;return"bar"===this.config.data_types[a]};b.isScatterType=function(a){a=w(a)?a:a.id;return"scatter"===this.config.data_types[a]};
b.isPieType=function(a){a=w(a)?a:a.id;return"pie"===this.config.data_types[a]};b.isGaugeType=function(a){a=w(a)?a:a.id;return"gauge"===this.config.data_types[a]};b.isDonutType=function(a){a=w(a)?a:a.id;return"donut"===this.config.data_types[a]};b.isArcType=function(a){return this.isPieType(a)||this.isDonutType(a)||this.isGaugeType(a)};b.lineData=function(a){return this.isLineType(a)?[a]:[]};b.arcData=function(a){return this.isArcType(a.data)?[a]:[]};b.barData=function(a){return this.isBarType(a)?
a.values:[]};b.lineOrScatterData=function(a){return this.isLineType(a)||this.isScatterType(a)?a.values:[]};b.barOrLineData=function(a){return this.isBarType(a)||this.isLineType(a)?a.values:[]};b.isInterpolationType=function(a){return 0<="linear linear-closed basis basis-open basis-closed bundle cardinal cardinal-open cardinal-closed monotone".split(" ").indexOf(a)};b.initGrid=function(){var a=this.config,b=this.d3;this.grid=this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",
m.grid);a.grid_x_show&&this.grid.append("g").attr("class",m.xgrids);a.grid_y_show&&this.grid.append("g").attr("class",m.ygrids);a.grid_focus_show&&this.grid.append("g").attr("class",m.xgridFocus).append("line").attr("class",m.xgridFocus);this.xgrid=b.selectAll([]);a.grid_lines_front||this.initGridLines()};b.initGridLines=function(){var a=this.d3;this.gridLines=this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",m.grid+" "+m.gridLines);this.gridLines.append("g").attr("class",
m.xgridLines);this.gridLines.append("g").attr("class",m.ygridLines);this.xgridLines=a.selectAll([])};b.updateXGrid=function(a){var d=this,b=d.config,c=d.d3,e=d.generateGridData(b.grid_x_type,d.x),f=d.isCategorized()?d.xAxis.tickOffset():0;d.xgridAttr=b.axis_rotated?{x1:0,x2:d.width,y1:function(a){return d.x(a)-f},y2:function(a){return d.x(a)-f}}:{x1:function(a){return d.x(a)+f},x2:function(a){return d.x(a)+f},y1:0,y2:d.height};d.xgrid=d.main.select("."+m.xgrids).selectAll("."+m.xgrid).data(e);d.xgrid.enter().append("line").attr("class",
m.xgrid);a||d.xgrid.attr(d.xgridAttr).style("opacity",function(){return+c.select(this).attr(b.axis_rotated?"y1":"x1")===(b.axis_rotated?d.height:0)?0:1});d.xgrid.exit().remove()};b.updateYGrid=function(){var a=this.config,b=this.yAxis.tickValues()||this.y.ticks(a.grid_y_ticks);this.ygrid=this.main.select("."+m.ygrids).selectAll("."+m.ygrid).data(b);this.ygrid.enter().append("line").attr("class",m.ygrid);this.ygrid.attr("x1",a.axis_rotated?this.y:0).attr("x2",a.axis_rotated?this.y:this.width).attr("y1",
a.axis_rotated?0:this.y).attr("y2",a.axis_rotated?this.height:this.y);this.ygrid.exit().remove();this.smoothLines(this.ygrid,"grid")};b.gridTextAnchor=function(a){return a.position?a.position:"end"};b.gridTextDx=function(a){return"start"===a.position?4:"middle"===a.position?0:-4};b.xGridTextX=function(a){return"start"===a.position?-this.height:"middle"===a.position?-this.height/2:0};b.yGridTextX=function(a){return"start"===a.position?0:"middle"===a.position?this.width/2:this.width};b.updateGrid=function(a){var d=
this.main,b=this.config;this.grid.style("visibility",this.hasArcType()?"hidden":"visible");d.select("line."+m.xgridFocus).style("visibility","hidden");b.grid_x_show&&this.updateXGrid();this.xgridLines=d.select("."+m.xgridLines).selectAll("."+m.xgridLine).data(b.grid_x_lines);var c=this.xgridLines.enter().append("g").attr("class",function(a){return m.xgridLine+(a["class"]?" "+a["class"]:"")});c.append("line").style("opacity",0);c.append("text").attr("text-anchor",this.gridTextAnchor).attr("transform",
b.axis_rotated?"":"rotate(-90)").attr("dx",this.gridTextDx).attr("dy",-5).style("opacity",0);this.xgridLines.exit().transition().duration(a).style("opacity",0).remove();b.grid_y_show&&this.updateYGrid();this.ygridLines=d.select("."+m.ygridLines).selectAll("."+m.ygridLine).data(b.grid_y_lines);d=this.ygridLines.enter().append("g").attr("class",function(a){return m.ygridLine+(a["class"]?" "+a["class"]:"")});d.append("line").style("opacity",0);d.append("text").attr("text-anchor",this.gridTextAnchor).attr("transform",
b.axis_rotated?"rotate(-90)":"").attr("dx",this.gridTextDx).attr("dy",-5).style("opacity",0);d=this.yv.bind(this);this.ygridLines.select("line").transition().duration(a).attr("x1",b.axis_rotated?d:0).attr("x2",b.axis_rotated?d:this.width).attr("y1",b.axis_rotated?0:d).attr("y2",b.axis_rotated?this.height:d).style("opacity",1);this.ygridLines.select("text").transition().duration(a).attr("x",b.axis_rotated?this.xGridTextX.bind(this):this.yGridTextX.bind(this)).attr("y",d).text(function(a){return a.text}).style("opacity",
1);this.ygridLines.exit().transition().duration(a).style("opacity",0).remove()};b.redrawGrid=function(a){var d=this.config,b=this.xv.bind(this),c=this.xgridLines.select("line"),e=this.xgridLines.select("text");return[(a?c.transition():c).attr("x1",d.axis_rotated?0:b).attr("x2",d.axis_rotated?this.width:b).attr("y1",d.axis_rotated?b:0).attr("y2",d.axis_rotated?b:this.height).style("opacity",1),(a?e.transition():e).attr("x",d.axis_rotated?this.yGridTextX.bind(this):this.xGridTextX.bind(this)).attr("y",
b).text(function(a){return a.text}).style("opacity",1)]};b.showXGridFocus=function(a){var d=this.config;a=a.filter(function(a){return a&&n(a.value)});var b=this.main.selectAll("line."+m.xgridFocus),c=this.xx.bind(this);!d.tooltip_show||this.hasType("scatter")||this.hasArcType()||(b.style("visibility","visible").data([a[0]]).attr(d.axis_rotated?"y1":"x1",c).attr(d.axis_rotated?"y2":"x2",c),this.smoothLines(b,"grid"))};b.hideXGridFocus=function(){this.main.select("line."+m.xgridFocus).style("visibility",
"hidden")};b.updateXgridFocus=function(){var a=this.config;this.main.select("line."+m.xgridFocus).attr("x1",a.axis_rotated?0:-10).attr("x2",a.axis_rotated?this.width:-10).attr("y1",a.axis_rotated?-10:0).attr("y2",a.axis_rotated?-10:this.height)};b.generateGridData=function(a,b){var d=[],c=this.main.select("."+m.axisX).selectAll(".tick").size();if("year"===a)for(b=this.getXDomain(),a=b[0].getFullYear(),b=b[1].getFullYear();a<=b;a++)d.push(new Date(a+"-01-01 00:00:00"));else d=b.ticks(10),d.length>
c&&(d=d.filter(function(a){return 0>(""+a).indexOf(".")}));return d};b.getGridFilterToRemove=function(a){return a?function(d){var b=!1;[].concat(a).forEach(function(a){if("value"in a&&d.value===a.value||"class"in a&&d["class"]===a["class"])b=!0});return b}:function(){return!0}};b.removeGridLines=function(a,b){var d=this.config,c=this.getGridFilterToRemove(a);a=function(a){return!c(a)};var e=b?m.xgridLine:m.ygridLine;this.main.select("."+(b?m.xgridLines:m.ygridLines)).selectAll("."+e).filter(c).transition().duration(d.transition_duration).style("opacity",
0).remove();b?d.grid_x_lines=d.grid_x_lines.filter(a):d.grid_y_lines=d.grid_y_lines.filter(a)};b.initTooltip=function(){var a=this,b=a.config,c;a.tooltip=a.selectChart.style("position","relative").append("div").attr("class",m.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none");if(b.tooltip_init_show){if(a.isTimeSeries()&&w(b.tooltip_init_x)){b.tooltip_init_x=a.parseDate(b.tooltip_init_x);for(c=0;c<a.data.targets[0].values.length&&0!==a.data.targets[0].values[c].x-
b.tooltip_init_x;c++);b.tooltip_init_x=c}a.tooltip.html(b.tooltip_contents.call(a,a.data.targets.map(function(d){return a.addName(d.values[b.tooltip_init_x])}),a.axis.getXAxisTickFormat(),a.getYFormat(a.hasArcType()),a.color));a.tooltip.style("top",b.tooltip_init_position.top).style("left",b.tooltip_init_position.left).style("display","block")}};b.getTooltipContent=function(a,b,c,e){var d=this.config;b=d.tooltip_format_title||b;var f=d.tooltip_format_name||function(a){return a};c=d.tooltip_format_value||
c;var l=this.isOrderAsc();if(0===d.data_groups.length)a.sort(function(a,d){a=a?a.value:null;d=d?d.value:null;return l?a-d:d-a});else{var g=this.orderTargets(this.data.targets).map(function(a){return a.id});a.sort(function(a,d){var b=a?a.value:null,c=d?d.value:null;0<b&&0<c&&(b=a?g.indexOf(a.id):null,c=d?g.indexOf(d.id):null);return l?b-c:c-b})}for(d=0;d<a.length;d++)if(a[d]&&(a[d].value||0===a[d].value)){if(!h){var h=F(b?b(a[d].x):a[d].x);h="<table class='"+this.CLASS.tooltip+"'>"+(h||0===h?"<tr><th colspan='2'>"+
h+"</th></tr>":"")}var k=F(c(a[d].value,a[d].ratio,a[d].id,a[d].index,a));if(void 0!==k&&null!==a[d].name){var m=F(f(a[d].name,a[d].ratio,a[d].id,a[d].index));var n=this.levelColor?this.levelColor(a[d].value):e(a[d].id);h+="<tr class='"+this.CLASS.tooltipName+"-"+this.getTargetSelectorSuffix(a[d].id)+"'>";h+="<td class='name'><span style='background-color:"+n+"'></span>"+m+"</td>";h+="<td class='value'>"+k+"</td>";h+="</tr>"}}return h+"</table>"};b.tooltipPosition=function(a,b,c,e){var d=this.config,
f=this.d3;var l=this.hasArcType();e=f.mouse(e);l?(d=(this.width-(this.isLegendRight?this.getLegendWidth():0))/2+e[0],a=this.height/2+e[1]+20):(l=this.getSvgLeft(!0),d.axis_rotated?(d=l+e[0]+100,b=d+b,l=this.currentWidth-this.getCurrentPaddingRight(),a=this.x(a[0].x)+20):(d=l+this.getCurrentPaddingLeft(!0)+this.x(a[0].x)+20,b=d+b,l=l+this.currentWidth-this.getCurrentPaddingRight(),a=e[1]+15),b>l&&(d-=b-l+20),a+c>this.currentHeight&&(a-=c+30));0>a&&(a=0);return{top:a,left:d}};b.showTooltip=function(a,
c){var d=this.config,e=this.hasArcType(),f=a.filter(function(a){return a&&n(a.value)}),l=d.tooltip_position||b.tooltipPosition;0!==f.length&&d.tooltip_show&&(this.tooltip.html(d.tooltip_contents.call(this,a,this.axis.getXAxisTickFormat(),this.getYFormat(e),this.color)).style("display","block"),a=this.tooltip.property("offsetWidth"),d=this.tooltip.property("offsetHeight"),c=l.call(this,f,a,d,c),this.tooltip.style("top",c.top+"px").style("left",c.left+"px"))};b.hideTooltip=function(){this.tooltip.style("display",
"none")};b.initLegend=function(){this.legendItemTextBox={};this.legendHasRendered=!1;this.legend=this.svg.append("g").attr("transform",this.getTranslate("legend"));this.config.legend_show?this.updateLegendWithDefaults():(this.legend.style("visibility","hidden"),this.hiddenLegendIds=this.mapToIds(this.data.targets))};b.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})};b.updateSizeForLegend=function(a,
b){var d=this.config,c=this.isLegendTop?this.getCurrentPaddingTop()+d.legend_inset_y+5.5:this.currentHeight-a-this.getCurrentPaddingBottom()-d.legend_inset_y;d=this.isLegendLeft?this.getCurrentPaddingLeft()+d.legend_inset_x+.5:this.currentWidth-b-this.getCurrentPaddingRight()-d.legend_inset_x+.5;this.margin3={top:this.isLegendRight?0:this.isLegendInset?c:this.currentHeight-a,right:NaN,bottom:0,left:this.isLegendRight?this.currentWidth-b:this.isLegendInset?d:0}};b.transformLegend=function(a){(a?this.legend.transition():
this.legend).attr("transform",this.getTranslate("legend"))};b.updateLegendStep=function(a){this.legendStep=a};b.updateLegendItemWidth=function(a){this.legendItemWidth=a};b.updateLegendItemHeight=function(a){this.legendItemHeight=a};b.getLegendWidth=function(){return this.config.legend_show?this.isLegendRight||this.isLegendInset?this.legendItemWidth*(this.legendStep+1):this.currentWidth:0};b.getLegendHeight=function(){var a=0;this.config.legend_show&&(a=this.isLegendRight?this.currentHeight:Math.max(20,
this.legendItemHeight)*(this.legendStep+1));return a};b.opacityForLegend=function(a){return a.classed(m.legendItemHidden)?null:1};b.opacityForUnfocusedLegend=function(a){return a.classed(m.legendItemHidden)?null:.3};b.toggleFocusLegend=function(a,b){var d=this;a=d.mapToTargetIds(a);d.legend.selectAll("."+m.legendItem).filter(function(d){return 0<=a.indexOf(d)}).classed(m.legendItemFocused,b).transition().duration(100).style("opacity",function(){return(b?d.opacityForLegend:d.opacityForUnfocusedLegend).call(d,
d.d3.select(this))})};b.revertLegend=function(){var a=this,b=a.d3;a.legend.selectAll("."+m.legendItem).classed(m.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return a.opacityForLegend(b.select(this))})};b.showLegend=function(a){var d=this,b=d.config;b.legend_show||(b.legend_show=!0,d.legend.style("visibility","visible"),d.legendHasRendered||d.updateLegendWithDefaults());d.removeHiddenLegendIds(a);d.legend.selectAll(d.selectorLegends(a)).style("visibility","visible").transition().style("opacity",
function(){return d.opacityForLegend(d.d3.select(this))})};b.hideLegend=function(a){var d=this.config;d.legend_show&&B(a)&&(d.legend_show=!1,this.legend.style("visibility","hidden"));this.addHiddenLegendIds(a);this.legend.selectAll(this.selectorLegends(a)).style("opacity",0).style("visibility","hidden")};b.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}};b.updateLegend=function(a,b,c){function d(a,d){f.legendItemTextBox[d]||(f.legendItemTextBox[d]=f.getTextRect(a.textContent,m.legendItem,
a));return f.legendItemTextBox[d]}function e(b,c,e){function m(a,d){d||(G=(A-n-v)/2,10>G&&(G=(A-v)/2,n=0,w++));y[a]=w;r[w]=f.isLegendInset?10:G;q[a]=n;n+=v}var B=0===e;e=e===a.length-1;b=d(b,c);e=b.width+k+(!e||f.isLegendRight||f.isLegendInset?10:0)+l.legend_padding;b=b.height+4;var v=f.isLegendRight||f.isLegendInset?b:e,A=f.isLegendRight||f.isLegendInset?f.getLegendHeight():f.getLegendWidth();B&&(h=g=w=n=0);if(l.legend_show&&!f.isLegendToShow(c))z[c]=x[c]=y[c]=q[c]=0;else{z[c]=e;x[c]=b;if(!g||e>=
g)g=e;if(!h||b>=h)h=b;B=f.isLegendRight||f.isLegendInset?h:g;if(l.legend_equally){Object.keys(z).forEach(function(a){z[a]=g});Object.keys(x).forEach(function(a){x[a]=h});var G=(A-B*a.length)/2;10>G?(w=n=0,a.forEach(function(a){m(a)})):m(c,!0)}else m(c)}}var f=this,l=f.config,g=0,h=0,k=l.legend_item_tile_width+5,n=0,q={},z={},x={},r=[0],y={},w=0;a=a.filter(function(a){return!A(l.data_names[a])||null!==l.data_names[a]});b=b||{};var B=E(b,"withTransition",!0);var v=E(b,"withTransitionForTransform",!0);
f.isLegendInset&&(w=l.legend_inset_step?l.legend_inset_step:a.length,f.updateLegendStep(w));if(f.isLegendRight){var C=function(a){return g*y[a]};var J=function(a){return r[y[a]]+q[a]}}else f.isLegendInset?(C=function(a){return g*y[a]+10},J=function(a){return r[y[a]]+q[a]}):(C=function(a){return r[y[a]]+q[a]},J=function(a){return h*y[a]});var F=function(a,d){return C(a,d)+4+l.legend_item_tile_width};var I=function(a,d){return J(a,d)+9};var L=function(a,d){return C(a,d)};var xb=function(a,d){return J(a,
d)-5};b=function(a,d){return C(a,d)-2};var Jb=function(a,d){return C(a,d)-2+l.legend_item_tile_width};var Ha=function(a,d){return J(a,d)+4};var Ba=f.legend.selectAll("."+m.legendItem).data(a).enter().append("g").attr("class",function(a){return f.generateClass(m.legendItem,a)}).style("visibility",function(a){return f.isLegendToShow(a)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a){l.legend_item_onclick?l.legend_item_onclick.call(f,a):f.d3.event.altKey?(f.api.hide(),f.api.show(a)):
(f.api.toggle(a),f.isTargetToShow(a)?f.api.focus(a):f.api.revert())}).on("mouseover",function(a){l.legend_item_onmouseover?l.legend_item_onmouseover.call(f,a):(f.d3.select(this).classed(m.legendItemFocused,!0),!f.transiting&&f.isTargetToShow(a)&&f.api.focus(a))}).on("mouseout",function(a){l.legend_item_onmouseout?l.legend_item_onmouseout.call(f,a):(f.d3.select(this).classed(m.legendItemFocused,!1),f.api.revert())});Ba.append("text").text(function(a){return A(l.data_names[a])?l.data_names[a]:a}).each(function(a,
d){e(this,a,d)}).style("pointer-events","none").attr("x",f.isLegendRight||f.isLegendInset?F:-200).attr("y",f.isLegendRight||f.isLegendInset?-200:I);Ba.append("rect").attr("class",m.legendItemEvent).style("fill-opacity",0).attr("x",f.isLegendRight||f.isLegendInset?L:-200).attr("y",f.isLegendRight||f.isLegendInset?-200:xb);Ba.append("line").attr("class",m.legendItemTile).style("stroke",f.color).style("pointer-events","none").attr("x1",f.isLegendRight||f.isLegendInset?b:-200).attr("y1",f.isLegendRight||
f.isLegendInset?-200:Ha).attr("x2",f.isLegendRight||f.isLegendInset?Jb:-200).attr("y2",f.isLegendRight||f.isLegendInset?-200:Ha).attr("stroke-width",l.legend_item_tile_height);Ba=f.legend.select("."+m.legendBackground+" rect");f.isLegendInset&&0<g&&0===Ba.size()&&(Ba=f.legend.insert("g","."+m.legendItem).attr("class",m.legendBackground).append("rect"));var R=f.legend.selectAll("text").data(a).text(function(a){return A(l.data_names[a])?l.data_names[a]:a}).each(function(a,d){e(this,a,d)});(B?R.transition():
R).attr("x",F).attr("y",I);F=f.legend.selectAll("rect."+m.legendItemEvent).data(a);(B?F.transition():F).attr("width",function(a){return z[a]}).attr("height",function(a){return x[a]}).attr("x",L).attr("y",xb);L=f.legend.selectAll("line."+m.legendItemTile).data(a);(B?L.transition():L).style("stroke",f.color).attr("x1",b).attr("y1",Ha).attr("x2",Jb).attr("y2",Ha);Ba&&(B?Ba.transition():Ba).attr("height",f.getLegendHeight()-12).attr("width",g*(w+1)+10);f.legend.selectAll("."+m.legendItem).classed(m.legendItemHidden,
function(a){return!f.isTargetToShow(a)});f.updateLegendItemWidth(g);f.updateLegendItemHeight(h);f.updateLegendStep(w);f.updateSizes();f.updateScales();f.updateSvgSize();f.transformAll(v,c);f.legendHasRendered=!0};b.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)};b.redrawTitle=function(){this.title.attr("x",this.xForTitle.bind(this)).attr("y",this.yForTitle.bind(this))};b.xForTitle=function(){var a=this.config,b=a.title_position||
"left";return 0<=b.indexOf("right")?this.currentWidth-this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).width-a.title_padding.right:0<=b.indexOf("center")?(this.currentWidth-this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).width)/2:a.title_padding.left};b.yForTitle=function(){return this.config.title_padding.top+this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).height};b.getTitlePadding=function(){return this.yForTitle()+
this.config.title_padding.bottom};(function(a,b){if(Object.create)b.prototype=Object.create(a.prototype);else{var d=function(){};d.prototype=a.prototype;b.prototype=new d}return b.prototype.constructor=b})(function(a){this.owner=a},f);f.prototype.init=function(){var a=this.owner,b=a.config,c=a.main;a.axes.x=c.append("g").attr("class",m.axis+" "+m.axisX).attr("clip-path",a.clipPathForXAxis).attr("transform",a.getTranslate("x")).style("visibility",b.axis_x_show?"visible":"hidden");a.axes.x.append("text").attr("class",
m.axisXLabel).attr("transform",b.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this));a.axes.y=c.append("g").attr("class",m.axis+" "+m.axisY).attr("clip-path",b.axis_y_inner?"":a.clipPathForYAxis).attr("transform",a.getTranslate("y")).style("visibility",b.axis_y_show?"visible":"hidden");a.axes.y.append("text").attr("class",m.axisYLabel).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this));a.axes.y2=c.append("g").attr("class",
m.axis+" "+m.axisY2).attr("transform",a.getTranslate("y2")).style("visibility",b.axis_y2_show?"visible":"hidden");a.axes.y2.append("text").attr("class",m.axisY2Label).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))};f.prototype.getXAxis=function(d,b,c,e,f,g,h){var l=this.owner,k=l.config;f={isCategory:l.isCategorized(),withOuterTick:f,tickMultiline:k.axis_x_tick_multiline,tickWidth:k.axis_x_tick_width,tickTextRotate:h?0:k.axis_x_tick_rotate,
withoutTransition:g};d=a(l.d3,f).scale(d).orient(b);l.isTimeSeries()&&e&&"function"!==typeof e&&(e=e.map(function(a){return l.parseDate(a)}));d.tickFormat(c).tickValues(e);l.isCategorized()&&(d.tickCentered(k.axis_x_tick_centered),B(k.axis_x_tick_culling)&&(k.axis_x_tick_culling=!1));return d};f.prototype.updateXAxisTickValues=function(a,b){var d=this.owner,c=d.config;if(c.axis_x_tick_fit||c.axis_x_tick_count)var e=this.generateTickValues(d.mapTargetsToUniqueXs(a),c.axis_x_tick_count,d.isTimeSeries());
b?b.tickValues(e):(d.xAxis.tickValues(e),d.subXAxis.tickValues(e));return e};f.prototype.getYAxis=function(d,b,c,e,f,g,h){var l=this.owner,k=l.config;d=a(l.d3,{withOuterTick:f,withoutTransition:g,tickTextRotate:h?0:k.axis_y_tick_rotate}).scale(d).orient(b).tickFormat(c);l.isTimeSeriesY()?d.ticks(l.d3.time[k.axis_y_tick_time_value],k.axis_y_tick_time_interval):d.tickValues(e);return d};f.prototype.getId=function(a){var d=this.owner.config;return a in d.data_axes?d.data_axes[a]:"y"};f.prototype.getXAxisTickFormat=
function(){var a=this.owner,b=a.config,c=a.isTimeSeries()?a.defaultAxisTimeFormat:a.isCategorized()?a.categoryName:function(a){return 0>a?a.toFixed(0):a};b.axis_x_tick_format&&(r(b.axis_x_tick_format)?c=b.axis_x_tick_format:a.isTimeSeries()&&(c=function(d){return d?a.axisTimeFormat(b.axis_x_tick_format)(d):""}));return r(c)?function(d){return c.call(a,d)}:c};f.prototype.getTickValues=function(a,b){return a?a:b?b.tickValues():void 0};f.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,
this.owner.xAxis)};f.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)};f.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)};f.prototype.getLabelOptionByAxisId=function(a){var d=this.owner.config;if("y"===a)var b=d.axis_y_label;else"y2"===a?b=d.axis_y2_label:"x"===a&&(b=d.axis_x_label);return b};f.prototype.getLabelText=function(a){a=this.getLabelOptionByAxisId(a);
return w(a)?a:a?a.text:null};f.prototype.setLabelText=function(a,b){var d=this.owner.config,c=this.getLabelOptionByAxisId(a);w(c)?"y"===a?d.axis_y_label=b:"y2"===a?d.axis_y2_label=b:"x"===a&&(d.axis_x_label=b):c&&(c.text=b)};f.prototype.getLabelPosition=function(a,b){b=(a=this.getLabelOptionByAxisId(a))&&"object"===typeof a&&a.position?a.position:b;return{isInner:0<=b.indexOf("inner"),isOuter:0<=b.indexOf("outer"),isLeft:0<=b.indexOf("left"),isCenter:0<=b.indexOf("center"),isRight:0<=b.indexOf("right"),
isTop:0<=b.indexOf("top"),isMiddle:0<=b.indexOf("middle"),isBottom:0<=b.indexOf("bottom")}};f.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")};f.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")};f.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")};
f.prototype.getLabelPositionById=function(a){return"y2"===a?this.getY2AxisLabelPosition():"y"===a?this.getYAxisLabelPosition():this.getXAxisLabelPosition()};f.prototype.textForXAxisLabel=function(){return this.getLabelText("x")};f.prototype.textForYAxisLabel=function(){return this.getLabelText("y")};f.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")};f.prototype.xForAxisLabel=function(a,b){var d=this.owner;return a?b.isLeft?0:b.isCenter?d.width/2:d.width:b.isBottom?-d.height:
b.isMiddle?-d.height/2:0};f.prototype.dxForAxisLabel=function(a,b){return a?b.isLeft?"0.5em":b.isRight?"-0.5em":"0":b.isTop?"-0.5em":b.isBottom?"0.5em":"0"};f.prototype.textAnchorForAxisLabel=function(a,b){return a?b.isLeft?"start":b.isCenter?"middle":"end":b.isBottom?"start":b.isMiddle?"middle":"end"};f.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};f.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,
this.getYAxisLabelPosition())};f.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};f.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};f.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};f.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,
this.getY2AxisLabelPosition())};f.prototype.dyForXAxisLabel=function(){var a=this.owner.config,b=this.getXAxisLabelPosition();return a.axis_rotated?b.isInner?"1.2em":-25-this.getMaxTickWidth("x"):b.isInner?"-0.5em":a.axis_x_height?a.axis_x_height-10:"3em"};f.prototype.dyForYAxisLabel=function(){var a=this.owner,b=this.getYAxisLabelPosition();return a.config.axis_rotated?b.isInner?"-0.5em":"3em":b.isInner?"1.2em":-10-(a.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)};f.prototype.dyForY2AxisLabel=
function(){var a=this.owner,b=this.getY2AxisLabelPosition();return a.config.axis_rotated?b.isInner?"1.2em":"-2.2em":b.isInner?"-0.5em":15+(a.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)};f.prototype.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};f.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};f.prototype.textAnchorForY2AxisLabel=
function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};f.prototype.getMaxTickWidth=function(a,b){var d=this.owner,c=d.config,e=0;if(b&&d.currentMaxTickWidths[a])return d.currentMaxTickWidths[a];if(d.svg){b=d.filterTargetsToShow(d.data.targets);if("y"===a){var f=d.y.copy().domain(d.getYDomain(b,"y"));c=this.getYAxis(f,d.yOrient,c.axis_y_tick_format,d.yAxisTickValues,!1,!0,!0)}else"y2"===a?(f=d.y2.copy().domain(d.getYDomain(b,"y2")),c=this.getYAxis(f,
d.y2Orient,c.axis_y2_tick_format,d.y2AxisTickValues,!1,!0,!0)):(f=d.x.copy().domain(d.getXDomain(b)),c=this.getXAxis(f,d.xOrient,d.xAxisTickFormat,d.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(b,c));var l=d.d3.select("body").append("div").classed("c3",!0);b=l.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);b.append("g").call(c).each(function(){d.d3.select(this).selectAll("text").each(function(){var a=this.getBoundingClientRect();e<a.width&&
(e=a.width)});l.remove()})}d.currentMaxTickWidths[a]=0>=e?d.currentMaxTickWidths[a]:e;return d.currentMaxTickWidths[a]};f.prototype.updateLabels=function(a){var d=this.owner,b=d.main.select("."+m.axisX+" ."+m.axisXLabel),c=d.main.select("."+m.axisY+" ."+m.axisYLabel);d=d.main.select("."+m.axisY2+" ."+m.axisY2Label);(a?b.transition():b).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));
(a?c.transition():c).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));(a?d.transition():d).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))};f.prototype.getPadding=function(a,b,c,e){var d="number"===typeof a?a:a[b];return n(d)?"ratio"===a.unit?a[b]*e:this.convertPixelsToAxisPadding(d,
e):c};f.prototype.convertPixelsToAxisPadding=function(a,b){var d=this.owner;return a/(d.config.axis_rotated?d.width:d.height)*b};f.prototype.generateTickValues=function(a,b,c){var d=a,e;if(b)if(b=r(b)?b():b,1===b)d=[a[0]];else if(2===b)d=[a[0],a[a.length-1]];else if(2<b){var f=b-2;b=a[0];a=a[a.length-1];var l=(a-b)/(f+1);d=[b];for(e=0;e<f;e++){var g=+b+l*(e+1);d.push(c?new Date(g):g)}d.push(a)}c||(d=d.sort(function(a,d){return a-d}));return d};f.prototype.generateTransitions=function(a){var d=this.owner.axes;
return{axisX:a?d.x.transition().duration(a):d.x,axisY:a?d.y.transition().duration(a):d.y,axisY2:a?d.y2.transition().duration(a):d.y2,axisSubX:a?d.subx.transition().duration(a):d.subx}};f.prototype.redraw=function(a,b){var d=this.owner;d.axes.x.style("opacity",b?0:1);d.axes.y.style("opacity",b?0:1);d.axes.y2.style("opacity",b?0:1);d.axes.subx.style("opacity",b?0:1);a.axisX.call(d.xAxis);a.axisY.call(d.yAxis);a.axisY2.call(d.y2Axis);a.axisSubX.call(d.subXAxis)};b.getClipPath=function(a){return"url("+
(0<=k.navigator.appVersion.toLowerCase().indexOf("msie 9.")?"":document.URL.split("#")[0])+"#"+a+")"};b.appendClip=function(a,b){return a.append("clipPath").attr("id",b).append("rect")};b.getAxisClipX=function(a){var d=Math.max(30,this.margin.left);return a?-(1+d):-(d-1)};b.getAxisClipY=function(a){return a?-20:-this.margin.top};b.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)};b.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)};b.getYAxisClipX=
function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)};b.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)};b.getAxisClipWidth=function(a){var d=Math.max(30,this.margin.left),b=Math.max(30,this.margin.right);return a?this.width+2+d+b:this.margin.left+20};b.getAxisClipHeight=function(a){return(a?this.margin.bottom:this.margin.top+this.height)+20};b.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)};b.getXAxisClipHeight=
function(){return this.getAxisClipHeight(!this.config.axis_rotated)};b.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)};b.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)};b.initPie=function(){var a=this.config;this.pie=this.d3.layout.pie().value(function(a){return a.values.reduce(function(a,d){return a+d.value},0)});a.data_order||this.pie.sort(null)};b.updateRadius=function(){var a=this.config;
a=a.gauge_width||a.donut_width;this.radiusExpanded=Math.min(this.arcWidth,this.arcHeight)/2;this.radius=.95*this.radiusExpanded;this.innerRadiusRatio=a?(this.radius-a)/this.radius:.6;this.innerRadius=this.hasType("donut")||this.hasType("gauge")?this.radius*this.innerRadiusRatio:0};b.updateArc=function(){this.svgArc=this.getSvgArc();this.svgArcExpanded=this.getSvgArcExpanded();this.svgArcExpandedSub=this.getSvgArcExpanded(.98)};b.updateAngle=function(a){var d=this.config,b=!1,c=0;if(!d)return null;
this.pie(this.filterTargetsToShow(this.data.targets)).forEach(function(d){b||d.data.id!==a.data.id||(b=!0,a=d,a.index=c);c++});isNaN(a.startAngle)&&(a.startAngle=0);isNaN(a.endAngle)&&(a.endAngle=a.startAngle);if(this.isGaugeType(a.data)){var e=d.gauge_min;var f=d.gauge_max;var g=Math.PI*(d.gauge_fullCircle?2:1)/(f-e);e=a.value<e?0:a.value<f?a.value-e:f-e;a.startAngle=d.gauge_startingAngle;a.endAngle=a.startAngle+g*e}return b?a:null};b.getSvgArc=function(){var a=this,b=a.d3.svg.arc().outerRadius(a.radius).innerRadius(a.innerRadius),
c=function(d,c){return c?b(d):(d=a.updateAngle(d))?b(d):"M 0 0"};c.centroid=b.centroid;return c};b.getSvgArcExpanded=function(a){var d=this,b=d.d3.svg.arc().outerRadius(d.radiusExpanded*(a?a:1)).innerRadius(d.innerRadius);return function(a){return(a=d.updateAngle(a))?b(a):"M 0 0"}};b.getArc=function(a,b,c){return c||this.isArcType(a.data)?this.svgArc(a,b):"M 0 0"};b.transformForArcLabel=function(a){var d=this.config,b=this.updateAngle(a);var c="";if(b&&!this.hasType("gauge")){c=this.svgArc.centroid(b);
b=isNaN(c[0])?0:c[0];c=isNaN(c[1])?0:c[1];var e=Math.sqrt(b*b+c*c);a=this.hasType("donut")&&d.donut_label_ratio?r(d.donut_label_ratio)?d.donut_label_ratio(a,this.radius,e):d.donut_label_ratio:this.hasType("pie")&&d.pie_label_ratio?r(d.pie_label_ratio)?d.pie_label_ratio(a,this.radius,e):d.pie_label_ratio:this.radius&&e?(.375<36/this.radius?1.175-36/this.radius:.8)*this.radius/e:0;c="translate("+b*a+","+c*a+")"}return c};b.getArcRatio=function(a){var d=this.config;d=Math.PI*(this.hasType("gauge")&&
!d.gauge_fullCircle?1:2);return a?(a.endAngle-a.startAngle)/d:null};b.convertToArcData=function(a){return this.addName({id:a.data.id,value:a.value,ratio:this.getArcRatio(a),index:a.index})};b.textForArcLabel=function(a){var d,b;if(!this.shouldShowArcLabel())return"";var c=(d=this.updateAngle(a))?d.value:null;d=this.getArcRatio(d);a=a.data.id;return this.hasType("gauge")||this.meetsArcLabelThreshold(d)?(b=this.getArcLabelFormat())?b(c,d,a):this.defaultArcValueFormat(c,d):""};b.expandArc=function(a){var d=
this;if(d.transiting)var b=k.setInterval(function(){d.transiting||(k.clearInterval(b),0<d.legend.selectAll(".c3-legend-item-focused").size()&&d.expandArc(a))},10);else a=d.mapToTargetIds(a),d.svg.selectAll(d.selectorTargets(a,"."+m.chartArc)).each(function(a){d.shouldExpand(a.data.id)&&d.d3.select(this).selectAll("path").transition().duration(d.expandDuration(a.data.id)).attr("d",d.svgArcExpanded).transition().duration(2*d.expandDuration(a.data.id)).attr("d",d.svgArcExpandedSub).each(function(a){d.isDonutType(a.data)})})};
b.unexpandArc=function(a){var d=this;d.transiting||(a=d.mapToTargetIds(a),d.svg.selectAll(d.selectorTargets(a,"."+m.chartArc)).selectAll("path").transition().duration(function(a){return d.expandDuration(a.data.id)}).attr("d",d.svgArc),d.svg.selectAll("."+m.arc).style("opacity",1))};b.expandDuration=function(a){var d=this.config;return this.isDonutType(a)?d.donut_expand_duration:this.isGaugeType(a)?d.gauge_expand_duration:this.isPieType(a)?d.pie_expand_duration:50};b.shouldExpand=function(a){var d=
this.config;return this.isDonutType(a)&&d.donut_expand||this.isGaugeType(a)&&d.gauge_expand||this.isPieType(a)&&d.pie_expand};b.shouldShowArcLabel=function(){var a=this.config,b=!0;this.hasType("donut")?b=a.donut_label_show:this.hasType("pie")&&(b=a.pie_label_show);return b};b.meetsArcLabelThreshold=function(a){var d=this.config;d=this.hasType("donut")?d.donut_label_threshold:d.pie_label_threshold;return a>=d};b.getArcLabelFormat=function(){var a=this.config,b=a.pie_label_format;this.hasType("gauge")?
b=a.gauge_label_format:this.hasType("donut")&&(b=a.donut_label_format);return b};b.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""};b.updateTargetsForArc=function(a){var d=this.main,b=this.classChartArc.bind(this),c=this.classArcs.bind(this),e=this.classFocus.bind(this);a=d.select("."+m.chartArcs).selectAll("."+m.chartArc).data(this.pie(a)).attr("class",function(a){return b(a)+e(a.data)}).enter().append("g").attr("class",b);a.append("g").attr("class",c);a.append("text").attr("dy",
this.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")};b.initArc=function(){this.arcs=this.main.select("."+m.chart).append("g").attr("class",m.chartArcs).attr("transform",this.getTranslate("arc"));this.arcs.append("text").attr("class",m.chartArcsTitle).style("text-anchor","middle").text(this.getArcTitle())};b.redrawArc=function(a,b,c){var d=this,e=d.d3,f=d.config,l=d.main;var g=l.selectAll("."+m.arcs).selectAll("."+m.arc).data(d.arcData.bind(d));
g.enter().append("path").attr("class",d.classArc.bind(d)).style("fill",function(a){return d.color(a.data)}).style("cursor",function(a){return f.interaction_enabled&&f.data_selection_isselectable(a)?"pointer":null}).style("opacity",0).each(function(a){d.isGaugeType(a.data)&&(a.startAngle=a.endAngle=f.gauge_startingAngle);this._current=a});g.attr("transform",function(a){return!d.isGaugeType(a.data)&&c?"scale(0)":""}).style("opacity",function(a){return a===this._current?0:1}).on("mouseover",f.interaction_enabled?
function(a){if(!d.transiting&&(a=d.updateAngle(a))){var b=d.convertToArcData(a);d.expandArc(a.data.id);d.api.focus(a.data.id);d.toggleFocusLegend(a.data.id,!0);d.config.data_onmouseover(b,this)}}:null).on("mousemove",f.interaction_enabled?function(a){if(a=d.updateAngle(a))a=d.convertToArcData(a),a=[a],d.showTooltip(a,this)}:null).on("mouseout",f.interaction_enabled?function(a){if(!d.transiting&&(a=d.updateAngle(a))){var b=d.convertToArcData(a);d.unexpandArc(a.data.id);d.api.revert();d.revertLegend();
d.hideTooltip();d.config.data_onmouseout(b,this)}}:null).on("click",f.interaction_enabled?function(a,b){if(a=d.updateAngle(a))a=d.convertToArcData(a),d.toggleShape&&d.toggleShape(this,a,b),d.config.data_onclick.call(d.api,a,this)}:null).each(function(){d.transiting=!0}).transition().duration(a).attrTween("d",function(a){var b=d.updateAngle(a);if(!b)return function(){return"M 0 0"};isNaN(this._current.startAngle)&&(this._current.startAngle=0);isNaN(this._current.endAngle)&&(this._current.endAngle=
this._current.startAngle);var c=e.interpolate(this._current,b);this._current=c(0);return function(b){b=c(b);b.data=a.data;return d.getArc(b,!0)}}).attr("transform",c?"scale(1)":"").style("fill",function(a){return d.levelColor?d.levelColor(a.data.values[0].value):d.color(a.data.id)}).style("opacity",1).call(d.endall,function(){d.transiting=!1});g.exit().transition().duration(b).style("opacity",0).remove();l.selectAll("."+m.chartArc).select("text").style("opacity",0).attr("class",function(a){return d.isGaugeType(a.data)?
m.gaugeValue:""}).text(d.textForArcLabel.bind(d)).attr("transform",d.transformForArcLabel.bind(d)).style("font-size",function(a){return d.isGaugeType(a.data)?Math.round(d.radius/5)+"px":""}).transition().duration(a).style("opacity",function(a){return d.isTargetToShow(a.data.id)&&d.isArcType(a.data)?1:0});l.select("."+m.chartArcsTitle).style("opacity",d.hasType("donut")||d.hasType("gauge")?1:0);d.hasType("gauge")&&(d.arcs.select("."+m.chartArcsBackground).attr("d",function(){return d.getArc({data:[{value:f.gauge_max}],
startAngle:f.gauge_startingAngle,endAngle:-1*f.gauge_startingAngle},!0,!0)}),d.arcs.select("."+m.chartArcsGaugeUnit).attr("dy",".75em").text(f.gauge_label_show?f.gauge_units:""),d.arcs.select("."+m.chartArcsGaugeMin).attr("dx",-1*(d.innerRadius+(d.radius-d.innerRadius)/(f.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(f.gauge_label_show?f.gauge_min:""),d.arcs.select("."+m.chartArcsGaugeMax).attr("dx",d.innerRadius+(d.radius-d.innerRadius)/(f.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(f.gauge_label_show?
f.gauge_max:""))};b.initGauge=function(){var a=this.arcs;this.hasType("gauge")&&(a.append("path").attr("class",m.chartArcsBackground),a.append("text").attr("class",m.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",m.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",m.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))};b.getGaugeLabelHeight=function(){return this.config.gauge_label_show?
20:0};b.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",m.regions)};b.updateRegion=function(a){var d=this.config;this.region.style("visibility",this.hasArcType()?"hidden":"visible");this.mainRegion=this.main.select("."+m.regions).selectAll("."+m.region).data(d.regions);this.mainRegion.enter().append("g").append("rect").style("fill-opacity",0);this.mainRegion.attr("class",this.classRegion.bind(this));this.mainRegion.exit().transition().duration(a).style("opacity",
0).remove()};b.redrawRegion=function(a){var d=this,b=d.mainRegion.selectAll("rect").each(function(){var a=d.d3.select(this.parentNode).datum();d.d3.select(this).datum(a)}),c=d.regionX.bind(d),e=d.regionY.bind(d),f=d.regionWidth.bind(d),g=d.regionHeight.bind(d);return[(a?b.transition():b).attr("x",c).attr("y",e).attr("width",f).attr("height",g).style("fill-opacity",function(a){return n(a.opacity)?a.opacity:.1})]};b.regionX=function(a){var d=this.config,b="y"===a.axis?this.y:this.y2;return"y"===a.axis||
"y2"===a.axis?d.axis_rotated?"start"in a?b(a.start):0:0:d.axis_rotated?0:"start"in a?this.x(this.isTimeSeries()?this.parseDate(a.start):a.start):0};b.regionY=function(a){var d=this.config,b="y"===a.axis?this.y:this.y2;return"y"===a.axis||"y2"===a.axis?d.axis_rotated?0:"end"in a?b(a.end):0:d.axis_rotated?"start"in a?this.x(this.isTimeSeries()?this.parseDate(a.start):a.start):0:0};b.regionWidth=function(a){var d=this.config,b=this.regionX(a),c="y"===a.axis?this.y:this.y2;a="y"===a.axis||"y2"===a.axis?
d.axis_rotated?"end"in a?c(a.end):this.width:this.width:d.axis_rotated?this.width:"end"in a?this.x(this.isTimeSeries()?this.parseDate(a.end):a.end):this.width;return a<b?0:a-b};b.regionHeight=function(a){var d=this.config,b=this.regionY(a),c="y"===a.axis?this.y:this.y2;a="y"===a.axis||"y2"===a.axis?d.axis_rotated?this.height:"start"in a?c(a.start):this.height:d.axis_rotated?"end"in a?this.x(this.isTimeSeries()?this.parseDate(a.end):a.end):this.height:this.height;return a<b?0:a-b};b.isRegionOnX=function(a){return!a.axis||
"x"===a.axis};b.drag=function(a){var d=this,b=d.config,c=d.main,e=d.d3;if(!d.hasArcType()&&b.data_selection_enabled&&(!b.zoom_enabled||d.zoom.altDomain)&&b.data_selection_multiple){var f=d.dragStart[0];var g=d.dragStart[1];var h=a[0];a=a[1];var k=Math.min(f,h);var n=Math.max(f,h);var q=b.data_selection_grouped?d.margin.top:Math.min(g,a);var x=b.data_selection_grouped?d.height:Math.max(g,a);c.select("."+m.dragarea).attr("x",k).attr("y",q).attr("width",n-k).attr("height",x-q);c.selectAll("."+m.shapes).selectAll("."+
m.shape).filter(function(a){return b.data_selection_isselectable(a)}).each(function(a,b){var c=e.select(this),f=c.classed(m.SELECTED),l=c.classed(m.INCLUDED);if(c.classed(m.circle)){var g=1*c.attr("cx");var h=1*c.attr("cy");var z=d.togglePoint;g=k<g&&g<n&&q<h&&h<x}else if(c.classed(m.bar)){z=J(this);g=z.x;h=z.y;var r=z.width;var y=z.height;z=d.togglePath;g=!(n<g||g+r<k)&&!(x<h||h+y<q)}else return;g^l&&(c.classed(m.INCLUDED,!l),c.classed(m.SELECTED,!f),z.call(d,!f,c,a,b))})}};b.dragstart=function(a){var d=
this.config;!this.hasArcType()&&d.data_selection_enabled&&(this.dragStart=a,this.main.select("."+m.chart).append("rect").attr("class",m.dragarea).style("opacity",.1),this.dragging=!0)};b.dragend=function(){var a=this.config;!this.hasArcType()&&a.data_selection_enabled&&(this.main.select("."+m.dragarea).transition().duration(100).style("opacity",0).remove(),this.main.selectAll("."+m.shape).classed(m.INCLUDED,!1),this.dragging=!1)};b.selectPoint=function(a,b,c){var d=this,e=d.config,f=(e.axis_rotated?
d.circleY:d.circleX).bind(d),l=(e.axis_rotated?d.circleX:d.circleY).bind(d),g=d.pointSelectR.bind(d);e.data_onselected.call(d.api,b,a.node());d.main.select("."+m.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+m.selectedCircle+"-"+c).data([b]).enter().append("circle").attr("class",function(){return d.generateClass(m.selectedCircle,c)}).attr("cx",f).attr("cy",l).attr("stroke",function(){return d.color(b)}).attr("r",function(a){return 1.4*d.pointSelectR(a)}).transition().duration(100).attr("r",
g)};b.unselectPoint=function(a,b,c){this.config.data_onunselected.call(this.api,b,a.node());this.main.select("."+m.selectedCircles+this.getTargetSelectorSuffix(b.id)).selectAll("."+m.selectedCircle+"-"+c).transition().duration(100).attr("r",0).remove()};b.togglePoint=function(a,b,c,e){a?this.selectPoint(b,c,e):this.unselectPoint(b,c,e)};b.selectPath=function(a,b){var d=this;d.config.data_onselected.call(d,b,a.node());d.config.interaction_brighten&&a.transition().duration(100).style("fill",function(){return d.d3.rgb(d.color(b)).brighter(.75)})};
b.unselectPath=function(a,b){var d=this;d.config.data_onunselected.call(d,b,a.node());d.config.interaction_brighten&&a.transition().duration(100).style("fill",function(){return d.color(b)})};b.togglePath=function(a,b,c,e){a?this.selectPath(b,c,e):this.unselectPath(b,c,e)};b.getToggle=function(a,b){if("circle"===a.nodeName)var d=this.isStepType(b)?function(){}:this.togglePoint;else"path"===a.nodeName&&(d=this.togglePath);return d};b.toggleShape=function(a,b,c){var d=this.d3,e=this.config,f=d.select(a),
l=f.classed(m.SELECTED),g=this.getToggle(a,b).bind(this);e.data_selection_enabled&&e.data_selection_isselectable(b)&&(e.data_selection_multiple||this.main.selectAll("."+m.shapes+(e.data_selection_grouped?this.getTargetSelectorSuffix(b.id):"")).selectAll("."+m.shape).each(function(a,b){var c=d.select(this);c.classed(m.SELECTED)&&g(!1,c.classed(m.SELECTED,!1),a,b)}),f.classed(m.SELECTED,!l),g(!l,f,b,c))};b.initBrush=function(){var a=this;a.brush=a.d3.svg.brush().on("brush",function(){a.redrawForBrush()});
a.brush.update=function(){a.context&&a.context.select("."+m.brush).call(this);return this};a.brush.scale=function(d){return a.config.axis_rotated?this.y(d):this.x(d)}};b.initSubchart=function(){var a=this.config,b=this.context=this.svg.append("g").attr("transform",this.getTranslate("context")),c=a.subchart_show?"visible":"hidden";b.style("visibility",c);b.append("g").attr("clip-path",this.clipPathForSubchart).attr("class",m.chart);b.select("."+m.chart).append("g").attr("class",m.chartBars);b.select("."+
m.chart).append("g").attr("class",m.chartLines);b.append("g").attr("clip-path",this.clipPath).attr("class",m.brush).call(this.brush);this.axes.subx=b.append("g").attr("class",m.axisX).attr("transform",this.getTranslate("subx")).attr("clip-path",a.axis_rotated?"":this.clipPathForXAxis).style("visibility",a.subchart_axis_x_show?c:"hidden")};b.updateTargetsForSubchart=function(a){var d=this.context,b=this.config,c=this.classChartBar.bind(this),e=this.classBars.bind(this);var f=this.classChartLine.bind(this);
var g=this.classLines.bind(this),h=this.classAreas.bind(this);if(b.subchart_show){var k=d.select("."+m.chartBars).selectAll("."+m.chartBar).data(a).attr("class",c);k=k.enter().append("g").style("opacity",0).attr("class",c);k.append("g").attr("class",e);a=d.select("."+m.chartLines).selectAll("."+m.chartLine).data(a).attr("class",f);f=a.enter().append("g").style("opacity",0).attr("class",f);f.append("g").attr("class",g);f.append("g").attr("class",h);d.selectAll("."+m.brush+" rect").attr(b.axis_rotated?
"width":"height",b.axis_rotated?this.width2:this.height2)}};b.updateBarForSubchart=function(a){this.contextBar=this.context.selectAll("."+m.bars).selectAll("."+m.bar).data(this.barData.bind(this));this.contextBar.enter().append("path").attr("class",this.classBar.bind(this)).style("stroke","none").style("fill",this.color);this.contextBar.style("opacity",this.initialOpacity.bind(this));this.contextBar.exit().transition().duration(a).style("opacity",0).remove()};b.redrawBarForSubchart=function(a,b,c){(b?
this.contextBar.transition(Math.random().toString()).duration(c):this.contextBar).attr("d",a).style("opacity",1)};b.updateLineForSubchart=function(a){this.contextLine=this.context.selectAll("."+m.lines).selectAll("."+m.line).data(this.lineData.bind(this));this.contextLine.enter().append("path").attr("class",this.classLine.bind(this)).style("stroke",this.color);this.contextLine.style("opacity",this.initialOpacity.bind(this));this.contextLine.exit().transition().duration(a).style("opacity",0).remove()};
b.redrawLineForSubchart=function(a,b,c){(b?this.contextLine.transition(Math.random().toString()).duration(c):this.contextLine).attr("d",a).style("opacity",1)};b.updateAreaForSubchart=function(a){var d=this,b=d.d3;d.contextArea=d.context.selectAll("."+m.areas).selectAll("."+m.area).data(d.lineData.bind(d));d.contextArea.enter().append("path").attr("class",d.classArea.bind(d)).style("fill",d.color).style("opacity",function(){d.orgAreaOpacity=+b.select(this).style("opacity");return 0});d.contextArea.style("opacity",
0);d.contextArea.exit().transition().duration(a).style("opacity",0).remove()};b.redrawAreaForSubchart=function(a,b,c){(b?this.contextArea.transition(Math.random().toString()).duration(c):this.contextArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)};b.redrawSubchart=function(a,b,c,e,f,g,h){b=this.d3;e=this.config;this.context.style("visibility",e.subchart_show?"visible":"hidden");e.subchart_show&&(b.event&&"zoom"===b.event.type&&this.brush.extent(this.x.orgDomain()).update(),
a&&(this.brush.empty()||this.brush.extent(this.x.orgDomain()).update(),a=this.generateDrawArea(f,!0),g=this.generateDrawBar(g,!0),h=this.generateDrawLine(h,!0),this.updateBarForSubchart(c),this.updateLineForSubchart(c),this.updateAreaForSubchart(c),this.redrawBarForSubchart(g,c,c),this.redrawLineForSubchart(h,c,c),this.redrawAreaForSubchart(a,c,c)))};b.redrawForBrush=function(){var a=this.x;this.redraw({withTransition:!1,withY:this.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1});
this.config.subchart_onbrush.call(this.api,a.orgDomain())};b.transformContext=function(a,b){b&&b.axisSubX?b=b.axisSubX:(b=this.context.select("."+m.axisX),a&&(b=b.transition()));this.context.attr("transform",this.getTranslate("context"));b.attr("transform",this.getTranslate("subx"))};b.getDefaultExtent=function(){var a=this.config;a=r(a.axis_x_extent)?a.axis_x_extent(this.getXDomain(this.data.targets)):a.axis_x_extent;this.isTimeSeries()&&(a=[this.parseDate(a[0]),this.parseDate(a[1])]);return a};
b.initZoom=function(){var a=this,b=a.d3,c=a.config,e;a.zoom=b.behavior.zoom().on("zoomstart",function(){e=b.event.sourceEvent;a.zoom.altDomain=b.event.sourceEvent.altKey?a.x.orgDomain():null;c.zoom_onzoomstart.call(a.api,b.event.sourceEvent)}).on("zoom",function(){a.redrawForZoom.call(a)}).on("zoomend",function(){var d=b.event.sourceEvent;d&&e.clientX===d.clientX&&e.clientY===d.clientY||(a.redrawEventRect(),a.updateZoom(),c.zoom_onzoomend.call(a.api,a.x.orgDomain()))});a.zoom.scale=function(a){return c.axis_rotated?
this.y(a):this.x(a)};a.zoom.orgScaleExtent=function(){var d=c.zoom_extent?c.zoom_extent:[1,10];return[d[0],Math.max(a.getMaxDataCount()/d[1],d[1])]};a.zoom.updateScaleExtent=function(){var d=q(a.x.orgDomain())/q(a.getZoomDomain()),b=this.orgScaleExtent();this.scaleExtent([b[0]*d,b[1]*d]);return this}};b.getZoomDomain=function(){var a=this.config,b=this.d3,c=b.min([this.orgXDomain[0],a.zoom_x_min]);a=b.max([this.orgXDomain[1],a.zoom_x_max]);return[c,a]};b.updateZoom=function(){var a=this.config.zoom_enabled?
this.zoom:function(){};this.main.select("."+m.zoomRect).call(a).on("dblclick.zoom",null);this.main.selectAll("."+m.eventRect).call(a).on("dblclick.zoom",null)};b.redrawForZoom=function(){var a=this.d3,b=this.config,c=this.zoom,e=this.x;b.zoom_enabled&&0!==this.filterTargetsToShow(this.data.targets).length&&("mousemove"===a.event.sourceEvent.type&&c.altDomain?(e.domain(c.altDomain),c.scale(e).updateScaleExtent()):(this.isCategorized()&&e.orgDomain()[0]===this.orgXDomain[0]&&e.domain([this.orgXDomain[0]-
1E-10,e.orgDomain()[1]]),this.redraw({withTransition:!1,withY:b.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===a.event.sourceEvent.type&&(this.cancelClick=!0),b.zoom_onzoom.call(this.api,e.orgDomain())))};b.generateColor=function(){var a=this.config,b=this.d3,c=a.data_colors,e=C(a.color_pattern)?a.color_pattern:b.scale.category10().range(),f=a.data_color,g=[];return function(a){var d=a.id||a.data&&a.data.id||a;if(c[d]instanceof Function)var b=c[d](a);else c[d]?b=c[d]:
(0>g.indexOf(d)&&g.push(d),b=e[g.indexOf(d)%e.length],c[d]=b);return f instanceof Function?f(b,a):b}};b.generateLevelColor=function(){var a=this.config,b=a.color_pattern,c=a.color_threshold,e="value"===c.unit,f=c.values&&c.values.length?c.values:[],g=c.max||100;return C(a.color_threshold)?function(a){var d,c=b[b.length-1];for(d=0;d<f.length;d++){var l=e?a:100*a/g;if(l<f[d]){c=b[d];break}}return c}:null};b.getYFormat=function(a){var d=this,b=a&&!d.hasType("gauge")?d.defaultArcValueFormat:d.yFormat,
c=a&&!d.hasType("gauge")?d.defaultArcValueFormat:d.y2Format;return function(a,e,f){return("y2"===d.axis.getId(f)?c:b).call(d,a,e)}};b.yFormat=function(a){var d=this.config;return(d.axis_y_tick_format?d.axis_y_tick_format:this.defaultValueFormat)(a)};b.y2Format=function(a){var d=this.config;return(d.axis_y2_tick_format?d.axis_y2_tick_format:this.defaultValueFormat)(a)};b.defaultValueFormat=function(a){return n(a)?+a:""};b.defaultArcValueFormat=function(a,b){return(100*b).toFixed(1)+"%"};b.dataLabelFormat=
function(a){var b=this.config.data_labels,d=function(a){return n(a)?+a:""};return"function"===typeof b.format?b.format:"object"===typeof b.format?b.format[a]?!0===b.format[a]?d:b.format[a]:function(){return""}:d};b.hasCaches=function(a){for(var b=0;b<a.length;b++)if(!(a[b]in this.cache))return!1;return!0};b.addCache=function(a,b){this.cache[a]=this.cloneTarget(b)};b.getCaches=function(a){var b=[],d;for(d=0;d<a.length;d++)a[d]in this.cache&&b.push(this.cloneTarget(this.cache[a[d]]));return b};var m=
b.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",
selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",
circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",
axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};b.generateClass=function(a,b){return" "+a+" "+a+this.getTargetSelectorSuffix(b)};b.classText=function(a){return this.generateClass(m.text,
a.index)};b.classTexts=function(a){return this.generateClass(m.texts,a.id)};b.classShape=function(a){return this.generateClass(m.shape,a.index)};b.classShapes=function(a){return this.generateClass(m.shapes,a.id)};b.classLine=function(a){return this.classShape(a)+this.generateClass(m.line,a.id)};b.classLines=function(a){return this.classShapes(a)+this.generateClass(m.lines,a.id)};b.classCircle=function(a){return this.classShape(a)+this.generateClass(m.circle,a.index)};b.classCircles=function(a){return this.classShapes(a)+
this.generateClass(m.circles,a.id)};b.classBar=function(a){return this.classShape(a)+this.generateClass(m.bar,a.index)};b.classBars=function(a){return this.classShapes(a)+this.generateClass(m.bars,a.id)};b.classArc=function(a){return this.classShape(a.data)+this.generateClass(m.arc,a.data.id)};b.classArcs=function(a){return this.classShapes(a.data)+this.generateClass(m.arcs,a.data.id)};b.classArea=function(a){return this.classShape(a)+this.generateClass(m.area,a.id)};b.classAreas=function(a){return this.classShapes(a)+
this.generateClass(m.areas,a.id)};b.classRegion=function(a,b){return this.generateClass(m.region,b)+" "+("class"in a?a["class"]:"")};b.classEvent=function(a){return this.generateClass(m.eventRect,a.index)};b.classTarget=function(a){var b=this.config.data_classes[a],d="";b&&(d=" "+m.target+"-"+b);return this.generateClass(m.target,a)+d};b.classFocus=function(a){return this.classFocused(a)+this.classDefocused(a)};b.classFocused=function(a){return" "+(0<=this.focusedTargetIds.indexOf(a.id)?m.focused:
"")};b.classDefocused=function(a){return" "+(0<=this.defocusedTargetIds.indexOf(a.id)?m.defocused:"")};b.classChartText=function(a){return m.chartText+this.classTarget(a.id)};b.classChartLine=function(a){return m.chartLine+this.classTarget(a.id)};b.classChartBar=function(a){return m.chartBar+this.classTarget(a.id)};b.classChartArc=function(a){return m.chartArc+this.classTarget(a.data.id)};b.getTargetSelectorSuffix=function(a){return a||0===a?("-"+a).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,
"-"):""};b.selectorTarget=function(a,b){return(b||"")+"."+m.target+this.getTargetSelectorSuffix(a)};b.selectorTargets=function(a,b){var d=this;a=a||[];return a.length?a.map(function(a){return d.selectorTarget(a,b)}):null};b.selectorLegend=function(a){return"."+m.legendItem+this.getTargetSelectorSuffix(a)};b.selectorLegends=function(a){var b=this;return a&&a.length?a.map(function(a){return b.selectorLegend(a)}):null};var n=b.isValue=function(a){return a||0===a},r=b.isFunction=function(a){return"function"===
typeof a},w=b.isString=function(a){return"string"===typeof a},v=b.isUndefined=function(a){return"undefined"===typeof a},A=b.isDefined=function(a){return"undefined"!==typeof a},y=b.ceil10=function(a){return 10*Math.ceil(a/10)},x=b.asHalfPixel=function(a){return Math.ceil(a)+.5},q=b.diffDomain=function(a){return a[1]-a[0]},B=b.isEmpty=function(a){return"undefined"===typeof a||null===a||w(a)&&0===a.length||"object"===typeof a&&0===Object.keys(a).length},C=b.notEmpty=function(a){return!b.isEmpty(a)},
E=b.getOption=function(a,b,c){return A(a[b])?a[b]:c},I=b.hasValue=function(a,b){var d=!1;Object.keys(a).forEach(function(c){a[c]===b&&(d=!0)});return d},F=b.sanitise=function(a){return"string"===typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},J=b.getPathBox=function(a){var b=a.getBoundingClientRect();a=[a.pathSegList.getItem(0),a.pathSegList.getItem(1)];return{x:a[0].x,y:Math.min(a[0].y,a[1].y),width:b.width,height:b.height}};e.focus=function(a){var b=this.internal;a=b.mapToTargetIds(a);var d=
b.svg.selectAll(b.selectorTargets(a.filter(b.isTargetToShow,b)));this.revert();this.defocus();d.classed(m.focused,!0).classed(m.defocused,!1);b.hasArcType()&&b.expandArc(a);b.toggleFocusLegend(a,!0);b.focusedTargetIds=a;b.defocusedTargetIds=b.defocusedTargetIds.filter(function(b){return 0>a.indexOf(b)})};e.defocus=function(a){var b=this.internal;a=b.mapToTargetIds(a);b.svg.selectAll(b.selectorTargets(a.filter(b.isTargetToShow,b))).classed(m.focused,!1).classed(m.defocused,!0);b.hasArcType()&&b.unexpandArc(a);
b.toggleFocusLegend(a,!1);b.focusedTargetIds=b.focusedTargetIds.filter(function(b){return 0>a.indexOf(b)});b.defocusedTargetIds=a};e.revert=function(a){var b=this.internal;a=b.mapToTargetIds(a);b.svg.selectAll(b.selectorTargets(a)).classed(m.focused,!1).classed(m.defocused,!1);b.hasArcType()&&b.unexpandArc(a);b.config.legend_show&&(b.showLegend(a.filter(b.isLegendToShow.bind(b))),b.legend.selectAll(b.selectorLegends(a)).filter(function(){return b.d3.select(this).classed(m.legendItemFocused)}).classed(m.legendItemFocused,
!1));b.focusedTargetIds=[];b.defocusedTargetIds=[]};e.show=function(a,b){var d=this.internal;a=d.mapToTargetIds(a);b=b||{};d.removeHiddenTargetIds(a);var c=d.svg.selectAll(d.selectorTargets(a));c.transition().style("opacity",1,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",1)});b.withLegend&&d.showLegend(a);d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})};e.hide=function(a,b){var d=this.internal;a=d.mapToTargetIds(a);b=b||{};d.addHiddenTargetIds(a);
var c=d.svg.selectAll(d.selectorTargets(a));c.transition().style("opacity",0,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",0)});b.withLegend&&d.hideLegend(a);d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})};e.toggle=function(a,b){var d=this,c=this.internal;c.mapToTargetIds(a).forEach(function(a){c.isTargetToShow(a)?d.hide(a,b):d.show(a,b)})};e.zoom=function(a){var b=this.internal;a&&(b.isTimeSeries()&&(a=a.map(function(a){return b.parseDate(a)})),
b.brush.extent(a),b.redraw({withUpdateXDomain:!0,withY:b.config.zoom_rescale}),b.config.zoom_onzoom.call(this,b.x.orgDomain()));return b.brush.extent()};e.zoom.enable=function(a){var b=this.internal;b.config.zoom_enabled=a;b.updateAndRedraw()};e.unzoom=function(){var a=this.internal;a.brush.clear().update();a.redraw({withUpdateXDomain:!0})};e.zoom.max=function(a){var b=this.internal,d=b.config,c=b.d3;if(0===a||a)d.zoom_x_max=c.max([b.orgXDomain[1],a]);else return d.zoom_x_max};e.zoom.min=function(a){var b=
this.internal,d=b.config,c=b.d3;if(0===a||a)d.zoom_x_min=c.min([b.orgXDomain[0],a]);else return d.zoom_x_min};e.zoom.range=function(a){if(arguments.length)A(a.max)&&this.domain.max(a.max),A(a.min)&&this.domain.min(a.min);else return{max:this.domain.max(),min:this.domain.min()}};e.load=function(a){var b=this.internal,d=b.config;a.xs&&b.addXs(a.xs);"names"in a&&e.data.names.bind(this)(a.names);"classes"in a&&Object.keys(a.classes).forEach(function(b){d.data_classes[b]=a.classes[b]});"categories"in a&&
b.isCategorized()&&(d.axis_x_categories=a.categories);"axes"in a&&Object.keys(a.axes).forEach(function(b){d.data_axes[b]=a.axes[b]});"colors"in a&&Object.keys(a.colors).forEach(function(b){d.data_colors[b]=a.colors[b]});"cacheIds"in a&&b.hasCaches(a.cacheIds)?b.load(b.getCaches(a.cacheIds),a.done):"unload"in a?b.unload(b.mapToTargetIds("boolean"===typeof a.unload&&a.unload?null:a.unload),function(){b.loadFromArgs(a)}):b.loadFromArgs(a)};e.unload=function(a){var b=this.internal;a=a||{};a instanceof
Array?a={ids:a}:"string"===typeof a&&(a={ids:[a]});b.unload(b.mapToTargetIds(a.ids),function(){b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0});a.done&&a.done()})};e.flow=function(a){var b=this.internal,d=[],c=b.getMaxDataCount(),e=0,f=0;if(a.json)var g=b.convertJsonToData(a.json,a.keys);else if(a.rows)g=b.convertRowsToData(a.rows);else if(a.columns)g=b.convertColumnsToData(a.columns);else return;var h=b.convertDataToTargets(g,!0);b.data.targets.forEach(function(a){var c=!1,
g,l;for(g=0;g<h.length;g++)if(a.id===h[g].id){c=!0;a.values[a.values.length-1]&&(f=a.values[a.values.length-1].index+1);e=h[g].values.length;for(l=0;l<e;l++)h[g].values[l].index=f+l,b.isTimeSeries()||(h[g].values[l].x=f+l);a.values=a.values.concat(h[g].values);h.splice(g,1);break}c||d.push(a.id)});b.data.targets.forEach(function(a){var c,g;for(c=0;c<d.length;c++)if(a.id===d[c])for(f=a.values[a.values.length-1].index+1,g=0;g<e;g++)a.values.push({id:a.id,index:f+g,x:b.isTimeSeries()?b.getOtherTargetX(f+
g):f+g,value:null})});b.data.targets.length&&h.forEach(function(a){var d,c=[];for(d=b.data.targets[0].values[0].index;d<f;d++)c.push({id:a.id,index:d,x:b.isTimeSeries()?b.getOtherTargetX(d):d,value:null});a.values.forEach(function(a){a.index+=f;b.isTimeSeries()||(a.x+=f)});a.values=c.concat(a.values)});b.data.targets=b.data.targets.concat(h);b.getMaxDataCount();var k=b.data.targets[0];g=k.values[0];if(A(a.to)){e=0;var m=b.isTimeSeries()?b.parseDate(a.to):a.to;k.values.forEach(function(a){a.x<m&&e++})}else A(a.length)&&
(e=a.length);c?1===c&&b.isTimeSeries()&&(k=(k.values[k.values.length-1].x-g.x)/2,k=[new Date(+g.x-k),new Date(+g.x+k)],b.updateXDomain(null,!0,!0,!1,k)):(k=b.isTimeSeries()?1<k.values.length?k.values[k.values.length-1].x-g.x:g.x-b.getXDomain(b.data.targets)[0]:1,k=[g.x-k,g.x],b.updateXDomain(null,!0,!0,!1,k));b.updateTargets(b.data.targets);b.redraw({flow:{index:g.index,length:e,duration:n(a.duration)?a.duration:b.config.transition_duration,done:a.done,orgDataCount:c},withLegend:!0,withTransition:1<
c,withTrimXDomain:!1,withUpdateXAxis:!0})};b.generateFlow=function(a){var b=this,d=b.config,c=b.d3;return function(){var e=a.targets,f=a.flow,g=a.drawBar,l=a.drawLine,h=a.drawArea,k=a.cx,n=a.cy,x=a.xv,r=a.xForText,y=a.yForText,z=a.duration,w=1,B=f.index,v=f.length,A=b.getValueOnIndex(b.data.targets[0].values,B),C=b.getValueOnIndex(b.data.targets[0].values,B+v);w=b.x.domain();z=f.duration||z;var E=f.done||function(){},G=b.generateWait(),J=b.xgrid||c.selectAll([]),F=b.xgridLines||c.selectAll([]),I=
b.mainRegion||c.selectAll([]),L=b.mainText||c.selectAll([]),Ha=b.mainBar||c.selectAll([]),Ba=b.mainLine||c.selectAll([]),R=b.mainArea||c.selectAll([]),Aa=b.mainCircle||c.selectAll([]);b.flowing=!0;b.data.targets.forEach(function(a){a.values.splice(0,v)});e=b.updateXDomain(e,!0,!0);b.updateXGrid&&b.updateXGrid(!0);f.orgDataCount?f=1===f.orgDataCount||(A&&A.x)===(C&&C.x)?b.x(w[0])-b.x(e[0]):b.isTimeSeries()?b.x(w[0])-b.x(e[0]):b.x(A.x)-b.x(C.x):1!==b.data.targets[0].values.length?f=b.x(w[0])-b.x(e[0]):
b.isTimeSeries()?(A=b.getValueOnIndex(b.data.targets[0].values,0),C=b.getValueOnIndex(b.data.targets[0].values,b.data.targets[0].values.length-1),f=b.x(A.x)-b.x(C.x)):f=q(e)/2;w=q(w)/q(e);var Ca="translate("+f+",0) scale("+w+",1)";b.hideXGridFocus();c.transition().ease("linear").duration(z).each(function(){G.add(b.axes.x.transition().call(b.xAxis));G.add(Ha.transition().attr("transform",Ca));G.add(Ba.transition().attr("transform",Ca));G.add(R.transition().attr("transform",Ca));G.add(Aa.transition().attr("transform",
Ca));G.add(L.transition().attr("transform",Ca));G.add(I.filter(b.isRegionOnX).transition().attr("transform",Ca));G.add(J.transition().attr("transform",Ca));G.add(F.transition().attr("transform",Ca))}).call(G,function(){var a,c=[],e=[],f=[];if(v){for(a=0;a<v;a++)c.push("."+m.shape+"-"+(B+a)),e.push("."+m.text+"-"+(B+a)),f.push("."+m.eventRect+"-"+(B+a));b.svg.selectAll("."+m.shapes).selectAll(c).remove();b.svg.selectAll("."+m.texts).selectAll(e).remove();b.svg.selectAll("."+m.eventRects).selectAll(f).remove();
b.svg.select("."+m.xgrid).remove()}J.attr("transform",null).attr(b.xgridAttr);F.attr("transform",null);F.select("line").attr("x1",d.axis_rotated?0:x).attr("x2",d.axis_rotated?b.width:x);F.select("text").attr("x",d.axis_rotated?b.width:0).attr("y",x);Ha.attr("transform",null).attr("d",g);Ba.attr("transform",null).attr("d",l);R.attr("transform",null).attr("d",h);Aa.attr("transform",null).attr("cx",k).attr("cy",n);L.attr("transform",null).attr("x",r).attr("y",y).style("fill-opacity",b.opacityForText.bind(b));
I.attr("transform",null);I.select("rect").filter(b.isRegionOnX).attr("x",b.regionX.bind(b)).attr("width",b.regionWidth.bind(b));d.interaction_enabled&&b.redrawEventRect();E();b.flowing=!1})}};e.selected=function(a){var b=this.internal,d=b.d3;return d.merge(b.main.selectAll("."+m.shapes+b.getTargetSelectorSuffix(a)).selectAll("."+m.shape).filter(function(){return d.select(this).classed(m.SELECTED)}).map(function(a){return a.map(function(a){a=a.__data__;return a.data?a.data:a})}))};e.select=function(a,
b,c){var d=this.internal,e=d.d3,f=d.config;f.data_selection_enabled&&d.main.selectAll("."+m.shapes).selectAll("."+m.shape).each(function(g,l){var h=e.select(this),k=g.data?g.data.id:g.id,n=d.getToggle(this,g).bind(d);k=f.data_selection_grouped||!a||0<=a.indexOf(k);var q=!b||0<=b.indexOf(l),x=h.classed(m.SELECTED);h.classed(m.line)||h.classed(m.area)||(k&&q?f.data_selection_isselectable(g)&&!x&&n(!0,h.classed(m.SELECTED,!0),g,l):A(c)&&c&&x&&n(!1,h.classed(m.SELECTED,!1),g,l))})};e.unselect=function(a,
b){var d=this.internal,c=d.d3,e=d.config;e.data_selection_enabled&&d.main.selectAll("."+m.shapes).selectAll("."+m.shape).each(function(f,g){var l=c.select(this),h=f.data?f.data.id:f.id,k=d.getToggle(this,f).bind(d);h=e.data_selection_grouped||!a||0<=a.indexOf(h);var n=!b||0<=b.indexOf(g),q=l.classed(m.SELECTED);l.classed(m.line)||l.classed(m.area)||h&&n&&e.data_selection_isselectable(f)&&q&&k(!1,l.classed(m.SELECTED,!1),f,g)})};e.transform=function(a,b){var d=this.internal,c=0<=["pie","donut"].indexOf(a)?
{withTransform:!0}:null;d.transformTo(b,a,c)};b.transformTo=function(a,b,c){var d=!this.hasArcType();c=c||{withTransitionForAxis:d};this.transiting=c.withTransitionForTransform=!1;this.setTargetType(a,b);this.updateTargets(this.data.targets);this.updateAndRedraw(c)};e.groups=function(a){var b=this.internal,d=b.config;if(v(a))return d.data_groups;d.data_groups=a;b.redraw();return d.data_groups};e.xgrids=function(a){var b=this.internal,d=b.config;if(!a)return d.grid_x_lines;d.grid_x_lines=a;b.redrawWithoutRescale();
return d.grid_x_lines};e.xgrids.add=function(a){return this.xgrids(this.internal.config.grid_x_lines.concat(a?a:[]))};e.xgrids.remove=function(a){this.internal.removeGridLines(a,!0)};e.ygrids=function(a){var b=this.internal,d=b.config;if(!a)return d.grid_y_lines;d.grid_y_lines=a;b.redrawWithoutRescale();return d.grid_y_lines};e.ygrids.add=function(a){return this.ygrids(this.internal.config.grid_y_lines.concat(a?a:[]))};e.ygrids.remove=function(a){this.internal.removeGridLines(a,!1)};e.regions=function(a){var b=
this.internal,d=b.config;if(!a)return d.regions;d.regions=a;b.redrawWithoutRescale();return d.regions};e.regions.add=function(a){var b=this.internal,d=b.config;if(!a)return d.regions;d.regions=d.regions.concat(a);b.redrawWithoutRescale();return d.regions};e.regions.remove=function(a){var b=this.internal,d=b.config;a=a||{};var c=b.getOption(a,"duration",d.transition_duration);var e=b.getOption(a,"classes",[m.region]);a=b.main.select("."+m.regions).selectAll(e.map(function(a){return"."+a}));(c?a.transition().duration(c):
a).style("opacity",0).remove();d.regions=d.regions.filter(function(a){var b=!1;if(!a["class"])return!0;a["class"].split(" ").forEach(function(a){0<=e.indexOf(a)&&(b=!0)});return!b});return d.regions};e.data=function(a){var b=this.internal.data.targets;return"undefined"===typeof a?b:b.filter(function(b){return 0<=[].concat(a).indexOf(b.id)})};e.data.shown=function(a){return this.internal.filterTargetsToShow(this.data(a))};e.data.values=function(a){var b=null;a&&(a=this.data(a),b=a[0]?a[0].values.map(function(a){return a.value}):
null);return b};e.data.names=function(a){this.internal.clearLegendItemTextBoxCache();return this.internal.updateDataAttributes("names",a)};e.data.colors=function(a){return this.internal.updateDataAttributes("colors",a)};e.data.axes=function(a){return this.internal.updateDataAttributes("axes",a)};e.category=function(a,b){var d=this.internal,c=d.config;1<arguments.length&&(c.axis_x_categories[a]=b,d.redraw());return c.axis_x_categories[a]};e.categories=function(a){var b=this.internal,d=b.config;if(!arguments.length)return d.axis_x_categories;
d.axis_x_categories=a;b.redraw();return d.axis_x_categories};e.color=function(a){return this.internal.color(a)};e.x=function(a){var b=this.internal;arguments.length&&(b.updateTargetX(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}));return b.data.xs};e.xs=function(a){var b=this.internal;arguments.length&&(b.updateTargetXs(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}));return b.data.xs};e.axis=function(){};e.axis.labels=function(a){var b=this.internal;
arguments.length&&(Object.keys(a).forEach(function(d){b.axis.setLabelText(d,a[d])}),b.axis.updateLabels())};e.axis.max=function(a){var b=this.internal,d=b.config;if(arguments.length)"object"===typeof a?(n(a.x)&&(d.axis_x_max=a.x),n(a.y)&&(d.axis_y_max=a.y),n(a.y2)&&(d.axis_y2_max=a.y2)):d.axis_y_max=d.axis_y2_max=a,b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:d.axis_x_max,y:d.axis_y_max,y2:d.axis_y2_max}};e.axis.min=function(a){var b=this.internal,d=b.config;if(arguments.length)"object"===
typeof a?(n(a.x)&&(d.axis_x_min=a.x),n(a.y)&&(d.axis_y_min=a.y),n(a.y2)&&(d.axis_y2_min=a.y2)):d.axis_y_min=d.axis_y2_min=a,b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:d.axis_x_min,y:d.axis_y_min,y2:d.axis_y2_min}};e.axis.range=function(a){if(arguments.length)A(a.max)&&this.axis.max(a.max),A(a.min)&&this.axis.min(a.min);else return{max:this.axis.max(),min:this.axis.min()}};e.legend=function(){};e.legend.show=function(a){var b=this.internal;b.showLegend(b.mapToTargetIds(a));
b.updateAndRedraw({withLegend:!0})};e.legend.hide=function(a){var b=this.internal;b.hideLegend(b.mapToTargetIds(a));b.updateAndRedraw({withLegend:!0})};e.resize=function(a){var b=this.internal.config;b.size_width=a?a.width:null;b.size_height=a?a.height:null;this.flush()};e.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})};e.destroy=function(){var a=this.internal;k.clearInterval(a.intervalForObserveInserted);void 0!==a.resizeTimeout&&k.clearTimeout(a.resizeTimeout);
if(k.detachEvent)k.detachEvent("onresize",a.resizeFunction);else if(k.removeEventListener)k.removeEventListener("resize",a.resizeFunction);else{var b=k.onresize;b&&b.add&&b.remove&&b.remove(a.resizeFunction)}a.selectChart.classed("c3",!1).html("");Object.keys(a).forEach(function(b){a[b]=null});return null};e.tooltip=function(){};e.tooltip.show=function(a){var b=this.internal;if(a.mouse)var d=a.mouse;if(a.data)if(b.isMultipleX()){d=[b.x(a.data.x),b.getYScale(a.data.id)(a.data.value)];var c=null}else c=
n(a.data.index)?a.data.index:b.getIndexByX(a.data.x);else"undefined"!==typeof a.x?c=b.getIndexByX(a.x):"undefined"!==typeof a.index&&(c=a.index);b.dispatchEvent("mouseover",c,d);b.dispatchEvent("mousemove",c,d);b.config.tooltip_onshow.call(b,a.data)};e.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0);this.internal.config.tooltip_onhide.call(this)};var L;b.isSafari=function(){var a=k.navigator.userAgent;return 0<=a.indexOf("Safari")&&0>a.indexOf("Chrome")};b.isChrome=function(){return 0<=
k.navigator.userAgent.indexOf("Chrome")};Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),d=this,c=function(){},e=function(){return d.apply(this instanceof c?this:a,b.concat(Array.prototype.slice.call(arguments)))};c.prototype=this.prototype;e.prototype=new c;return e});(function(){"SVGPathSeg"in k||(k.SVGPathSeg=function(a,
b,c){this.pathSegType=a;this.pathSegTypeAsLetter=b;this._owningPathSegList=c},SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=
12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},k.SVGPathSegClosePath=function(a){SVGPathSeg.call(this,
SVGPathSeg.PATHSEG_CLOSEPATH,"z",a)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},k.SVGPathSegMovetoAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",a);this._x=b;this._y=c},SVGPathSegMovetoAbs.prototype=
Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,
"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegMovetoRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",a);this._x=b;this._y=c},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=
function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegLinetoAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",a);this._x=b;this._y=c},SVGPathSegLinetoAbs.prototype=
Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,
"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegLinetoRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",a);this._x=b;this._y=c},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=
function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegCurvetoCubicAbs=function(a,b,c,e,f,g,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",a);this._x=b;
this._y=c;this._x1=e;this._y1=f;this._x2=g;this._y2=h},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,
this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a;this._segmentChanged()},enumerable:!0}),
k.SVGPathSegCurvetoCubicRel=function(a,b,c,e,f,g,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",a);this._x=b;this._y=c;this._x1=e;this._y1=f;this._x2=g;this._y2=h},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+
this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,
"x1",{get:function(){return this._x1},set:function(a){this._x1=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},
set:function(a){this._y2=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegCurvetoQuadraticAbs=function(a,b,c,e,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",a);this._x=b;this._y=c;this._x1=e;this._y1=f},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+
" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegCurvetoQuadraticRel=function(a,b,c,e,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",a);this._x=b;this._y=c;this._x1=e;
this._y1=f},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,
"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},
set:function(a){this._y1=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegArcAbs=function(a,b,c,e,f,g,h,k){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",a);this._x=b;this._y=c;this._r1=e;this._r2=f;this._angle=g;this._largeArcFlag=h;this._sweepFlag=k},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+
" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},
set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(a){this._r1=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(a){this._r2=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle=a;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(a){this._largeArcFlag=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(a){this._sweepFlag=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegArcRel=function(a,b,c,e,f,g,h,k){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",a);this._x=b;this._y=c;this._r1=
e;this._r2=f;this._angle=g;this._largeArcFlag=h;this._sweepFlag=k},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,
this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(a){this._r1=a;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(a){this._r2=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(a){this._largeArcFlag=a;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(a){this._sweepFlag=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegLinetoHorizontalAbs=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",a);this._x=b},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},
SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegLinetoHorizontalRel=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",
a);this._x=b},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},
set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegLinetoVerticalAbs=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",a);this._y=b},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=
function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegLinetoVerticalRel=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",a);this._y=b},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},
SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegCurvetoCubicSmoothAbs=function(a,b,c,e,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",
a);this._x=b;this._y=c;this._x2=e;this._y2=f},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,
this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegCurvetoCubicSmoothRel=function(a,b,c,e,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",a);this._x=b;this._y=c;this._x2=e;this._y2=f},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},
SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,
"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegCurvetoQuadraticSmoothAbs=function(a,b,c){SVGPathSeg.call(this,
SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",a);this._x=b;this._y=c},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,
this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),k.SVGPathSegCurvetoQuadraticSmoothRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",a);this._x=b;this._y=
c},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,
"x",{get:function(){return this._x},set:function(a){this._x=a;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a;this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(a,b){return new SVGPathSegMovetoAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegMovetoRel=
function(a,b){return new SVGPathSegMovetoRel(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(a,b){return new SVGPathSegLinetoAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(a,b){return new SVGPathSegLinetoRel(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(a,b,c,e,f,g){return new SVGPathSegCurvetoCubicAbs(void 0,a,b,c,e,f,g)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(a,b,c,e,f,g){return new SVGPathSegCurvetoCubicRel(void 0,
a,b,c,e,f,g)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(a,b,c,e){return new SVGPathSegCurvetoQuadraticAbs(void 0,a,b,c,e)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(a,b,c,e){return new SVGPathSegCurvetoQuadraticRel(void 0,a,b,c,e)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(a,b,c,e,f,g,h){return new SVGPathSegArcAbs(void 0,a,b,c,e,f,g,h)},SVGPathElement.prototype.createSVGPathSegArcRel=function(a,b,c,e,f,g,h){return new SVGPathSegArcRel(void 0,
a,b,c,e,f,g,h)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(a){return new SVGPathSegLinetoHorizontalAbs(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(a){return new SVGPathSegLinetoHorizontalRel(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(a){return new SVGPathSegLinetoVerticalAbs(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(a){return new SVGPathSegLinetoVerticalRel(void 0,
a)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(a,b,c,e){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,a,b,c,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(a,b,c,e){return new SVGPathSegCurvetoCubicSmoothRel(void 0,a,b,c,e)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(a,b){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(a,
b){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,a,b)});"SVGPathSegList"in k||(k.SVGPathSegList=function(a){this._pathElement=a;this._list=this._parsePath(this._pathElement.getAttribute("d"));this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]};this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},Object.defineProperty(SVGPathSegList.prototype,
"numberOfItems",{get:function(){this._checkPathSynchronizedToList();return this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){this._pathSegList||(this._pathSegList=new SVGPathSegList(this));return this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},
enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(a){if(this._pathElement){var b=!1;a.forEach(function(a){"d"==a.attributeName&&(b=!0)});b&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},
SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect();this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(a){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList();this._list.forEach(function(a){a._owningPathSegList=null});this._list=
[];this._writeListToPath()},SVGPathSegList.prototype.initialize=function(a){this._checkPathSynchronizedToList();this._list=[a];a._owningPathSegList=this;this._writeListToPath();return a},SVGPathSegList.prototype._checkValidIndex=function(a){if(isNaN(a)||0>a||a>=this.numberOfItems)throw"INDEX_SIZE_ERR";},SVGPathSegList.prototype.getItem=function(a){this._checkPathSynchronizedToList();this._checkValidIndex(a);return this._list[a]},SVGPathSegList.prototype.insertItemBefore=function(a,b){this._checkPathSynchronizedToList();
b>this.numberOfItems&&(b=this.numberOfItems);a._owningPathSegList&&(a=a.clone());this._list.splice(b,0,a);a._owningPathSegList=this;this._writeListToPath();return a},SVGPathSegList.prototype.replaceItem=function(a,b){this._checkPathSynchronizedToList();a._owningPathSegList&&(a=a.clone());this._checkValidIndex(b);this._list[b]=a;a._owningPathSegList=this;this._writeListToPath();return a},SVGPathSegList.prototype.removeItem=function(a){this._checkPathSynchronizedToList();this._checkValidIndex(a);var b=
this._list[a];this._list.splice(a,1);this._writeListToPath();return b},SVGPathSegList.prototype.appendItem=function(a){this._checkPathSynchronizedToList();a._owningPathSegList&&(a=a.clone());this._list.push(a);a._owningPathSegList=this;this._writeListToPath();return a},SVGPathSegList._pathSegArrayAsString=function(a){var b="",d=!0;a.forEach(function(a){d?(d=!1,b+=a._asPathString()):b+=" "+a._asPathString()});return b},SVGPathSegList.prototype._parsePath=function(a){if(!a||0==a.length)return[];var b=
this,d=function(){this.pathSegList=[]};d.prototype.appendSegment=function(a){this.pathSegList.push(a)};var c=function(a){this._string=a;this._currentIndex=0;this._endIndex=this._string.length;this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN;this._skipOptionalSpaces()};c.prototype._isCurrentSpace=function(){var a=this._string[this._currentIndex];return" ">=a&&(" "==a||"\n"==a||"\t"==a||"\r"==a||"\f"==a)};c.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;
return this._currentIndex<this._endIndex};c.prototype._skipOptionalSpacesOrDelimiter=function(){if(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))return!1;this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces());return this._currentIndex<this._endIndex};c.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex};c.prototype.peekSegmentType=
function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])};c.prototype._pathSegTypeFromChar=function(a){switch(a){case "Z":case "z":return SVGPathSeg.PATHSEG_CLOSEPATH;case "M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case "m":return SVGPathSeg.PATHSEG_MOVETO_REL;case "L":return SVGPathSeg.PATHSEG_LINETO_ABS;case "l":return SVGPathSeg.PATHSEG_LINETO_REL;case "C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case "c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case "Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;
case "q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case "A":return SVGPathSeg.PATHSEG_ARC_ABS;case "a":return SVGPathSeg.PATHSEG_ARC_REL;case "H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case "h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case "V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case "v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case "S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case "s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case "T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;
case "t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}};c.prototype._nextCommandHelper=function(a,b){return("+"==a||"-"==a||"."==a||"0"<=a&&"9">=a)&&b!=SVGPathSeg.PATHSEG_CLOSEPATH?b==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:b==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:b:SVGPathSeg.PATHSEG_UNKNOWN};c.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var a=this.peekSegmentType();return a==
SVGPathSeg.PATHSEG_MOVETO_ABS||a==SVGPathSeg.PATHSEG_MOVETO_REL};c.prototype._parseNumber=function(){var a=0,b=0,d=1,c=0,e=1,f=1,g=this._currentIndex;this._skipOptionalSpaces();this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,e=-1);if(!(this._currentIndex==this._endIndex||("0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))&&
"."!=this._string.charAt(this._currentIndex))){for(var h=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)this._currentIndex++;if(this._currentIndex!=h)for(var l=this._currentIndex-1,k=1;l>=h;)b+=k*(this._string.charAt(l--)-0),k*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){this._currentIndex++;if(this._currentIndex>=this._endIndex||"0">this._string.charAt(this._currentIndex)||
"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)c+=(this._string.charAt(this._currentIndex++)-0)*(d*=.1)}if(this._currentIndex!=g&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){this._currentIndex++;
"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,f=-1);if(this._currentIndex>=this._endIndex||"0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)a*=10,a+=this._string.charAt(this._currentIndex)-0,this._currentIndex++}b=(b+c)*e;a&&(b*=Math.pow(10,
f*a));if(g!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),b}};c.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var a=this._string.charAt(this._currentIndex++);if("0"==a)a=!1;else if("1"==a)a=!0;else return;this._skipOptionalSpacesOrDelimiter();return a}};c.prototype.parseSegment=function(){var a=this._string[this._currentIndex];var d=this._pathSegTypeFromChar(a);if(d==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;
d=this._nextCommandHelper(a,this._previousCommand);if(d==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;this._previousCommand=d;switch(d){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(b,
this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(b,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),
new SVGPathSegClosePath(b);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:a=this._parseNumber();d=this._parseNumber();var c=this._parseNumber();var e=this._parseNumber();var f=this._parseNumber();var g=this._parseNumber();return new SVGPathSegCurvetoCubicRel(b,f,g,a,d,c,e);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return a=this._parseNumber(),d=this._parseNumber(),c=this._parseNumber(),e=this._parseNumber(),f=this._parseNumber(),g=this._parseNumber(),new SVGPathSegCurvetoCubicAbs(b,f,g,a,d,c,e);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return c=
this._parseNumber(),e=this._parseNumber(),f=this._parseNumber(),g=this._parseNumber(),new SVGPathSegCurvetoCubicSmoothRel(b,f,g,c,e);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return c=this._parseNumber(),e=this._parseNumber(),f=this._parseNumber(),g=this._parseNumber(),new SVGPathSegCurvetoCubicSmoothAbs(b,f,g,c,e);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return a=this._parseNumber(),d=this._parseNumber(),f=this._parseNumber(),g=this._parseNumber(),new SVGPathSegCurvetoQuadraticRel(b,
f,g,a,d);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return a=this._parseNumber(),d=this._parseNumber(),f=this._parseNumber(),g=this._parseNumber(),new SVGPathSegCurvetoQuadraticAbs(b,f,g,a,d);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:a=
this._parseNumber();d=this._parseNumber();c=this._parseNumber();e=this._parseArcFlag();var h=this._parseArcFlag();f=this._parseNumber();g=this._parseNumber();return new SVGPathSegArcRel(b,f,g,a,d,c,e,h);case SVGPathSeg.PATHSEG_ARC_ABS:return a=this._parseNumber(),d=this._parseNumber(),c=this._parseNumber(),e=this._parseArcFlag(),h=this._parseArcFlag(),f=this._parseNumber(),g=this._parseNumber(),new SVGPathSegArcAbs(b,f,g,a,d,c,e,h);default:throw"Unknown path seg type.";}};d=new d;a=new c(a);if(!a.initialCommandIsMoveTo())return[];
for(;a.hasMoreData();){c=a.parseSegment();if(!c)return[];d.appendSegment(c)}return d.pathSegList})})();"function"===typeof define&&define.amd?define("c3",["d3"],function(){return h}):"undefined"!==typeof exports&&"undefined"!==typeof module?module.exports=h:k.c3=h})(window);/*

 Video.js 7.0.4 <http://videojs.com/>
 Copyright Brightcove, Inc. <https://www.brightcove.com/>
 Available under Apache License Version 2.0
 <https://github.com/videojs/video.js/blob/master/LICENSE>

 Includes vtt.js <https://github.com/mozilla/vtt.js>
 Available under Apache License Version 2.0
 <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 2018 Brightcove, Inc
 @license Apache-2.0
*/
(function(k,g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define(g):k.videojs=g()})(this,function(){function k(a,b){return b={exports:{}},a(b,b.exports),b.exports}function g(a,b){Ja(a).forEach(function(d){return b(a[d],d)})}function c(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return Ja(a).reduce(function(d,c){return b(d,a[c],c)},d)}function f(a){for(var b=arguments.length,d=Array(1<b?b-1:0),c=1;c<b;c++)d[c-
1]=arguments[c];if(Object.assign)return Object.assign.apply(Object,[a].concat(d));d.forEach(function(b){b&&g(b,function(b,d){a[d]=b})});return a}function a(a){return!!a&&"object"===("undefined"===typeof a?"undefined":Ib(a))}function h(b){return a(b)&&"[object Object]"===tb.call(b)&&b.constructor===Object}function e(a,b){return a&&b?"function"===typeof N.getComputedStyle?(a=N.getComputedStyle(a))?a[b]:"":"":""}function b(a){if(/\s/.test(a))throw Error("class has illegal whitespace characters");}function m(){return da===
N.document}function n(b){return a(b)&&1===b.nodeType}function r(){try{return N.parent!==N.self}catch(ej){return!0}}function w(a){return function(b,d){if("string"!==typeof b||!/\S/.test(b))return da[a](null);"string"===typeof d&&/\S/.test(d)&&(d=da.querySelector(d));d=n(d)?d:da;return d[a]&&d[a](b)}}function v(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=arguments[3],c=da.createElement(0<arguments.length&&void 0!==arguments[0]?
arguments[0]:"div");Object.getOwnPropertyNames(a).forEach(function(b){var d=a[b];-1!==b.indexOf("aria-")||"role"===b||"type"===b?(Ka.warn(Ke(bb,b,d)),c.setAttribute(b,d)):"textContent"===b?A(c,d):c[b]=d});Object.getOwnPropertyNames(b).forEach(function(a){c.setAttribute(a,b[a])});d&&T(c,d);return c}function A(a,b){"undefined"===typeof a.textContent?a.innerText=b:a.textContent=b;return a}function y(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)}function x(a,d){b(d);return a.classList?
a.classList.contains(d):(new RegExp("(^|\\s)"+d+"($|\\s)")).test(a.className)}function q(a,b){a.classList?a.classList.add(b):x(a,b)||(a.className=(a.className+" "+b).trim());return a}function B(a,d){a.classList?a.classList.remove(d):(b(d),a.className=a.className.split(/\s+/).filter(function(a){return a!==d}).join(" "));return a}function C(a,b,d){var c=x(a,b);"function"===typeof d&&(d=d(a,b));"boolean"!==typeof d&&(d=!c);if(d!==c)return d?q(a,b):B(a,b),a}function E(a,b){Object.getOwnPropertyNames(b).forEach(function(d){var c=
b[d];null===c||"undefined"===typeof c||!1===c?a.removeAttribute(d):a.setAttribute(d,!0===c?"":c)})}function I(a){var b={};if(a&&a.attributes&&0<a.attributes.length)for(var d=a.attributes,c=d.length-1;0<=c;c--){var e=d[c].name,f=d[c].value;if("boolean"===typeof a[e]||-1!==",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+e+","))f=null!==f?!0:!1;b[e]=f}return b}function F(){da.body.focus();da.onselectstart=function(){return!1}}function J(){da.onselectstart=function(){return!0}}
function L(a){if(a&&a.getBoundingClientRect&&a.parentNode){var b=a.getBoundingClientRect(),d={};"bottom height left right top width".split(" ").forEach(function(a){void 0!==b[a]&&(d[a]=b[a])});d.height||(d.height=parseFloat(e(a,"height")));d.width||(d.width=parseFloat(e(a,"width")));return d}}function d(a){var b=void 0;a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect());if(!b)return{left:0,top:0};a=da.documentElement;var d=da.body;return{left:Math.round(b.left+(N.pageXOffset||d.scrollLeft)-
(a.clientLeft||d.clientLeft||0)),top:Math.round(b.top+(N.pageYOffset||d.scrollTop)-(a.clientTop||d.clientTop||0))}}function l(a,b){var c={},e=d(a),f=a.offsetWidth;a=a.offsetHeight;var p=e.top;e=e.left;var g=b.pageY,h=b.pageX;b.changedTouches&&(h=b.changedTouches[0].pageX,g=b.changedTouches[0].pageY);c.y=Math.max(0,Math.min(1,(p-g+a)/a));c.x=Math.max(0,Math.min(1,(h-e)/f));return c}function z(b){return a(b)&&3===b.nodeType}function G(a){for(;a.firstChild;)a.removeChild(a.firstChild);return a}function K(a){"function"===
typeof a&&(a=a());return(Array.isArray(a)?a:[a]).map(function(a){"function"===typeof a&&(a=a());if(n(a)||z(a))return a;if("string"===typeof a&&/\S/.test(a))return da.createTextNode(a)}).filter(function(a){return a})}function T(a,b){K(b).forEach(function(b){return a.appendChild(b)});return a}function ja(a,b){return T(G(a),b)}function W(a){return void 0===a.button&&void 0===a.buttons||0===a.button&&void 0===a.buttons?!0:0!==a.button||1!==a.buttons?!1:!0}function Ea(a){var b=a[kb];b||(b=a[kb]=Ra++);
cb[b]||(cb[b]={});return cb[b]}function ea(a){return(a=a[kb])?!!Object.getOwnPropertyNames(cb[a]).length:!1}function Y(a){var b=a[kb];if(b){delete cb[b];try{delete a[kb]}catch(Jg){a.removeAttribute?a.removeAttribute(kb):a[kb]=null}}}function aa(a,b){var d=Ea(a);0===d.handlers[b].length&&(delete d.handlers[b],a.removeEventListener?a.removeEventListener(b,d.dispatcher,!1):a.detachEvent&&a.detachEvent("on"+b,d.dispatcher));0>=Object.getOwnPropertyNames(d.handlers).length&&(delete d.handlers,delete d.dispatcher,
delete d.disabled);0===Object.getOwnPropertyNames(d).length&&Y(a)}function O(a,b,d,c){d.forEach(function(d){a(b,d,c)})}function fa(a){function b(){return!0}function d(){return!1}if(!a||!a.isPropagationStopped){var c=a||N.event;a={};for(var e in c)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&"webkitMovementX"!==e&&"webkitMovementY"!==e&&("returnValue"===e&&c.preventDefault||(a[e]=c[e]));a.target||(a.target=a.srcElement||da);a.relatedTarget||(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);
a.preventDefault=function(){c.preventDefault&&c.preventDefault();a.returnValue=!1;c.returnValue=!1;a.defaultPrevented=!0};a.defaultPrevented=!1;a.stopPropagation=function(){c.stopPropagation&&c.stopPropagation();a.cancelBubble=!0;c.cancelBubble=!0;a.isPropagationStopped=b};a.isPropagationStopped=d;a.stopImmediatePropagation=function(){c.stopImmediatePropagation&&c.stopImmediatePropagation();a.isImmediatePropagationStopped=b;a.stopPropagation()};a.isImmediatePropagationStopped=d;if(null!==a.clientX&&
void 0!==a.clientX){e=da.documentElement;var f=da.body;a.pageX=a.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0);a.pageY=a.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)}a.which=a.charCode||a.keyCode;null!==a.button&&void 0!==a.button&&(a.button=a.button&1?0:a.button&4?1:a.button&2?2:0)}return a}function xa(a,b,d){if(Array.isArray(b))return O(xa,a,b,d);var c=Ea(a);c.handlers||(c.handlers={});c.handlers[b]||(c.handlers[b]=[]);d.guid||
(d.guid=Ra++);c.handlers[b].push(d);c.dispatcher||(c.disabled=!1,c.dispatcher=function(b,d){if(!c.disabled){b=fa(b);var e=c.handlers[b.type];if(e){e=e.slice(0);for(var f=0,p=e.length;f<p&&!b.isImmediatePropagationStopped();f++)try{e[f].call(a,b,d)}catch(sh){Ka.error(sh)}}}});1===c.handlers[b].length&&(a.addEventListener?(d=!1,nc&&-1<xe.indexOf(b)&&(d={passive:!0}),a.addEventListener(b,c.dispatcher,d)):a.attachEvent&&a.attachEvent("on"+b,c.dispatcher))}function ma(a,b,d){if(ea(a)){var c=Ea(a);if(c.handlers){if(Array.isArray(b))return O(ma,
a,b,d);if(void 0===b)for(var e in c.handlers)Object.prototype.hasOwnProperty.call(c.handlers||{},e)&&(b=a,d=e,c.handlers[d]=[],aa(b,d));else if(e=c.handlers[b]){if(!d)c.handlers[b]=[];else if(d.guid)for(c=0;c<e.length;c++)e[c].guid===d.guid&&e.splice(c--,1);aa(a,b)}}}}function ha(a,b,d){var c=ea(a)?Ea(a):{},e=a.parentNode||a.ownerDocument;"string"===typeof b?b={type:b,target:a}:b.target||(b.target=a);b=fa(b);c.dispatcher&&c.dispatcher.call(a,b,d);if(e&&!b.isPropagationStopped()&&!0===b.bubbles)ha.call(null,
e,b,d);else if(!e&&!b.defaultPrevented&&(a=Ea(b.target),b.target[b.type])){a.disabled=!0;if("function"===typeof b.target[b.type])b.target[b.type]();a.disabled=!1}return!b.defaultPrevented}function ua(a,b,d){if(Array.isArray(b))return O(ua,a,b,d);var c=function lb(){ma(a,b,lb);d.apply(this,arguments)};c.guid=d.guid=d.guid||Ra++;xa(a,b,c)}function Xa(a,b){b&&(Pb=b);N.setTimeout(pc,a)}function fb(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).eventBusKey;if(b){if(!a[b].nodeName)throw Error('The eventBusKey "'+
b+'" does not refer to an element.');a.eventBusEl_=a[b]}else a.eventBusEl_=v("span",{className:"vjs-event-bus"});f(a,ee);a.on("dispose",function(){a.off();N.setTimeout(function(){a.eventBusEl_=null},0)});return a}function Ub(a,b){f(a,Se);a.state=f({},a.state,b);if("function"===typeof a.handleStateChanged&&de(a))a.on("statechanged",a.handleStateChanged);return a}function Fa(a){return"string"!==typeof a?a:a.charAt(0).toUpperCase()+a.slice(1)}function yc(a,b){return Fa(a)===Fa(b)}function Oa(){for(var a=
{},b=arguments.length,d=Array(b),c=0;c<b;c++)d[c]=arguments[c];d.forEach(function(b){b&&g(b,function(b,d){h(b)?(h(a[d])||(a[d]={}),a[d]=Oa(a[d],b)):a[d]=b})});return a}function xb(a,b,d,c){var e=d.length-1;if("number"!==typeof c||0>c||c>e)throw Error("Failed to execute '"+a+"' on 'TimeRanges': The index provided ("+c+") is non-numeric or out of bounds (0-"+e+").");return d[c][b]}function Jb(a){return void 0===a||0===a.length?{length:0,start:function(){throw Error("This TimeRanges object is empty");
},end:function(){throw Error("This TimeRanges object is empty");}}:{length:a.length,start:xb.bind(null,"start",0,a),end:xb.bind(null,"end",1,a)}}function Ha(a,b){return Array.isArray(a)?Jb(a):void 0===a||void 0===b?Jb():Jb([[a,b]])}function Ba(a,b){var d=0;if(!b)return 0;a&&a.length||(a=Ha(0,0));for(var c=0;c<a.length;c++){var e=a.start(c);var f=a.end(c);f>b&&(f=b);d+=f-e}return d/b}function R(b){if(b instanceof R)return b;"number"===typeof b?this.code=b:"string"===typeof b?this.message=b:a(b)&&("number"===
typeof b.code&&(this.code=b.code),f(this,b));this.message||(this.message=R.defaultMessages[this.code]||"")}function Aa(a){return void 0!==a&&null!==a&&"function"===typeof a.then}function Ca(a){Aa(a)&&a.then(null,function(a){})}function mb(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function ab(a,b,d){var c=a;Yc(b)?(d=b,"string"===typeof a&&(c={uri:a})):c=Qg(b,{uri:a});c.callback=d;return c}function ya(a,b,d){b=ab(a,b,d);return ib(b)}function ib(a){function b(b){clearTimeout(n);b instanceof
Error||(b=Error(""+(b||"Unknown XMLHttpRequest Error")));b.statusCode=0;var d=q;c||(c=!0,a.callback(b,d,void 0))}function d(){if(!p){clearTimeout(n);var b=a.useXDR&&void 0===e.status?200:1223===e.status?204:e.status;var d=q,f=null;if(0!==b){e.response?d=e.response:(d=e.responseText)||("document"===e.responseType?d=e.responseXML:(d=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName,d=""!==e.responseType||d?null:e.responseXML));if(m)try{d=JSON.parse(d)}catch(kk){}d={body:d,statusCode:b,
method:h,headers:{},url:g,rawRequest:e};e.getAllResponseHeaders&&(d.headers=sg(e.getAllResponseHeaders()))}else f=Error("Internal XMLHttpRequest Error");b=d.body;c||(c=!0,a.callback(f,d,b))}}if("undefined"===typeof a.callback)throw Error("callback argument missing");var c=!1,e=a.xhr||null;e||(e=a.cors||a.useXDR?new ya.XDomainRequest:new ya.XMLHttpRequest);var f,p,g=e.url=a.uri||a.url,h=e.method=a.method||"GET",l=a.body||a.data,t=e.headers=a.headers||{},k=!!a.sync,m=!1,n,q={body:void 0,headers:{},
statusCode:0,method:h,url:g,rawRequest:e};"json"in a&&!1!==a.json&&(m=!0,t.accept||t.Accept||(t.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(t["content-type"]||t["Content-Type"]||(t["Content-Type"]="application/json"),l=JSON.stringify(!0===a.json?l:a.json)));e.onreadystatechange=function(){4===e.readyState&&setTimeout(d,0)};e.onload=d;e.onerror=b;e.onprogress=function(){};e.onabort=function(){p=!0};e.ontimeout=b;e.open(h,g,!k,a.username,a.password);k||(e.withCredentials=!!a.withCredentials);
!k&&0<a.timeout&&(n=setTimeout(function(){if(!p){p=!0;e.abort("timeout");var a=Error("XMLHttpRequest timeout");a.code="ETIMEDOUT";b(a)}},a.timeout));if(e.setRequestHeader)for(f in t)t.hasOwnProperty(f)&&e.setRequestHeader(f,t[f]);else if(a.headers&&!mb(a.headers))throw Error("Headers cannot be set on an XDomainRequest object");"responseType"in a&&(e.responseType=a.responseType);"beforeSend"in a&&"function"===typeof a.beforeSend&&a.beforeSend(e);e.send(l||null);return e}function nb(){}function Q(a,
b){this.name="ParsingError";this.code=a.code;this.message=b||a.message}function u(a){a=a.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!a)return null;if(a[3]){var b=a[3].replace(":","");return 3600*(a[1]|0)+60*(a[2]|0)+(b|0)+(a[4]|0)/1E3}return 59<a[1]?3600*(a[1]|0)+60*(a[2]|0)+0+(a[4]|0)/1E3:0+60*(a[1]|0)+(a[2]|0)+(a[4]|0)/1E3}function yb(){this.values=we(null)}function pa(a,b,d,c){a=c?a.split(c):[a];for(var e in a)"string"===typeof a[e]&&(c=a[e].split(d),2===c.length&&b(c[0],c[1]))}function vb(a,
b,d){function c(){var b=u(a);if(null===b)throw new Q(Q.Errors.BadTimeStamp,"Malformed timestamp: "+f);a=a.replace(/^[^\sa-zA-Z-]+/,"");return b}function e(){a=a.replace(/^\s+/,"")}var f=a;e();b.startTime=c();e();if("--\x3e"!==a.substr(0,3))throw new Q(Q.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+f);a=a.substr(3);e();b.endTime=c();e();(function(a,b){var c=new yb;pa(a,function(a,b){switch(a){case "region":for(var e=d.length-1;0<=e;e--)if(d[e].id===b){c.set(a,
d[e].region);break}break;case "vertical":c.alt(a,b,["rl","lr"]);break;case "line":b=b.split(",");e=b[0];c.integer(a,e);c.percent(a,e)?c.set("snapToLines",!1):null;c.alt(a,e,["auto"]);2===b.length&&c.alt("lineAlign",b[1],["start","middle","end"]);break;case "position":b=b.split(",");c.percent(a,b[0]);2===b.length&&c.alt("positionAlign",b[1],["start","middle","end"]);break;case "size":c.percent(a,b);break;case "align":c.alt(a,b,["start","middle","end","left","right"])}},/:/,/\s/);b.region=c.get("region",
null);b.vertical=c.get("vertical","");b.line=c.get("line","auto");b.lineAlign=c.get("lineAlign","start");b.snapToLines=c.get("snapToLines",!0);b.size=c.get("size",100);b.align=c.get("align","middle");b.position=c.get("position",{start:0,left:0,middle:50,end:100,right:100},b.align);b.positionAlign=c.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},b.align)})(a,b)}function Wc(a,b){function d(){if(!b)return null;var a=b.match(/^([^<]*)(<[^>]*>?)?/);a=a[1]?a[1]:a[2];
b=b.substr(a.length);return a}function c(a){return zc[a]}function e(a){for(;p=a.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)a=a.replace(p[0],c);return a}function f(b,d){var c=jd[b];if(!c)return null;var e=a.document.createElement(c);e.localName=c;(b=Qf[b])&&d&&(e[b]=d.trim());return e}for(var p,g=a.document.createElement("div"),h=g,l,t=[];null!==(l=d());)if("<"===l[0])if("/"===l[1])t.length&&t[t.length-1]===l.substr(2).replace(">","")&&(t.pop(),h=h.parentNode);else{var k=u(l.substr(1,l.length-2));if(k)l=
a.document.createProcessingInstruction("timestamp",k),h.appendChild(l);else if(p=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))!(l=f(p[1],p[3]))||tg[l.localName]&&tg[l.localName]!==h.localName||(p[2]&&(l.className=p[2].substr(1).replace("."," ")),t.push(p[1]),h.appendChild(l),h=l)}else h.appendChild(a.document.createTextNode(e(l)));return g}function cc(a){for(var b=0;b<Lf.length;b++){var d=Lf[b];if(a>=d[0]&&a<=d[1])return!0}return!1}function Ed(a){function b(a,b){for(var d=b.childNodes.length-
1;0<=d;d--)a.push(b.childNodes[d])}function d(a){if(!a||!a.length)return null;var c=a.pop(),e=c.textContent||c.innerText;if(e)return(c=e.match(/^.*(\n|\r)/))?(a.length=0,c[0]):e;if("ruby"===c.tagName)return d(a);if(c.childNodes)return b(a,c),d(a)}var c=[],e="";if(!a||!a.childNodes)return"ltr";for(b(c,a);e=d(c);)for(var f=0;f<e.length;f++)if(a=e.charCodeAt(f),cc(a))return"rtl";return"ltr"}function be(){}function Fd(a,b,d){this.cue=b;this.cueDiv=Wc(a,b.text);var c={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",
position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(c,this.cueDiv);this.div=a.document.createElement("div");c={direction:Ed(this.cueDiv),writingMode:""===b.vertical?"horizontal-tb":"lr"===b.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===b.align?"center":b.align,font:d.font,whiteSpace:"pre-line",position:"absolute"};this.applyStyles(c);
this.div.appendChild(this.cueDiv);a=0;switch(b.positionAlign){case "start":a=b.position;break;case "middle":a=b.position-b.size/2;break;case "end":a=b.position-b.size}""===b.vertical?this.applyStyles({left:this.formatStyle(a,"%"),width:this.formatStyle(b.size,"%")}):this.applyStyles({top:this.formatStyle(a,"%"),height:this.formatStyle(b.size,"%")});this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,
"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}function Cb(a){if(a.div){var b=a.div.offsetHeight;var d=a.div.offsetWidth;var c=a.div.offsetTop;var e=(e=a.div.childNodes)&&(e=e[0])&&e.getClientRects&&e.getClientRects();a=a.div.getBoundingClientRect();var f=e?Math.max(e[0]&&e[0].height||0,a.height/e.length):0}this.left=a.left;this.right=a.right;this.top=a.top||c;this.height=a.height||b;this.bottom=a.bottom||c+(a.height||b);this.width=a.width||d;this.lineHeight=
void 0!==f?f:a.lineHeight}function Pa(){}function Na(a){return"string"!==typeof a?!1:ug[a.toLowerCase()]?a.toLowerCase():!1}function jb(a,b,d){this.hasBeenReset=!1;var c="",e=!1,f=a,p=b,g=d,h=null,l="",t=!0,k="auto",m="start",n=50,q="middle",Jg=50,H="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return c},set:function(a){c=""+a}},pauseOnExit:{enumerable:!0,get:function(){return e},set:function(a){e=!!a}},startTime:{enumerable:!0,get:function(){return f},set:function(a){if("number"!==
typeof a)throw new TypeError("Start time must be set to a number.");f=a;this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return p},set:function(a){if("number"!==typeof a)throw new TypeError("End time must be set to a number.");p=a;this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return g},set:function(a){g=""+a;this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return h},set:function(a){h=a;this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(a){a=
"string"!==typeof a?!1:ve[a.toLowerCase()]?a.toLowerCase():!1;if(!1===a)throw new SyntaxError("An invalid or illegal string was specified.");l=a;this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return t},set:function(a){t=!!a;this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return k},set:function(a){if("number"!==typeof a&&"auto"!==a)throw new SyntaxError("An invalid number or illegal string was specified.");k=a;this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return m},
set:function(a){a=Na(a);if(!a)throw new SyntaxError("An invalid or illegal string was specified.");m=a;this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return n},set:function(a){if(0>a||100<a)throw Error("Position must be between 0 and 100.");n=a;this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return q},set:function(a){a=Na(a);if(!a)throw new SyntaxError("An invalid or illegal string was specified.");q=a;this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return Jg},
set:function(a){if(0>a||100<a)throw Error("Size must be between 0 and 100.");Jg=a;this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return H},set:function(a){a=Na(a);if(!a)throw new SyntaxError("An invalid or illegal string was specified.");H=a;this.hasBeenReset=!0}}});this.displayState=void 0}function Gd(a){return"number"===typeof a&&0<=a&&100>=a}function Pe(a,b,d,c){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},f=a.textTracks();e.kind=b;d&&(e.label=d);c&&(e.language=c);
e.tech=a;e=new Ia.text.TrackClass(e);f.addTrack(e);return e}function lc(a,b,d){a.setTimeout(function(){return Uc(b,Kb[b.type],d,a)},1)}function Ic(a,b){a.forEach(function(a){return a.setTech&&a.setTech(b)})}function Qe(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,e="call"+Fa(d);e=a.reduce(Ad(e),c);e=(c=e===wb)?null:b[d](e);for(var f=a.length-1;0<=f;f--){var p=a[f];if(p[d])p[d](c,e)}return e}function Ad(a){return function(b,d){return b===wb?wb:d[a]?d[a](b):b}}function re(a,
b){var d=ue[a.id()],c=null;if(void 0===d||null===d)return c=b(a),ue[a.id()]=[[b,c]],c;for(var e=0;e<d.length;e++){var f=d[e];f[0]===b&&(c=f[1])}null===c&&(c=b(a),d.push([b,c]));return c}function Uc(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d=arguments[2],c=arguments[3],e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],p=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1,g=b[0],h=b.slice(1);if("string"===
typeof g)Uc(a,Kb[g],d,c,e,p);else if(g){var l=re(c,g);l.setSource(f({},a),function(b,f){if(b)return Uc(a,h,d,c,e,p);e.push(l);Uc(f,a.type===f.type?h:Kb[f.type],d,c,e,p)})}else h.length?Uc(a,h,d,c,e,p):p?d(a,e):Uc(a,Kb["*"],d,c,e,!0)}function Sf(a){var b=Ua(a.src);!a.type&&b&&(a.type=b);return a}function mc(a,b){return"rgba("+parseInt(a[1]+a[1],16)+","+parseInt(a[2]+a[2],16)+","+parseInt(a[3]+a[3],16)+","+b+")"}function sb(a){return Bb(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:a)}function Gc(a,
b){b&&(a=b(a));if(a&&"none"!==a)return a}function M(b,d,c){var e=M.getPlayer(b);if(e)return d&&Ka.warn('Player "'+b+'" is already initialised. Options will not be applied.'),c&&e.ready(c),e;var f="string"===typeof b?hb("#"+ph(b)):b;if(!n(f))throw new TypeError("The element or ID supplied is not valid. (videojs)");da.body.contains(f)||Ka.warn("The element supplied is not included in the DOM");d=d||{};M.hooks("beforesetup").forEach(function(b){b=b(f,Oa(d));!a(b)||Array.isArray(b)?Ka.error("please return an object in beforesetup hooks"):
d=Oa(d,b)});e=new (P.getComponent("Player"))(f,d,c);M.hooks("setup").forEach(function(a){return a(e)});return e}function $a(a,b){return function(d){var c=this;if(b){if(ge&&!d)return d=b.toString().replace(/^function.+?{/,"").slice(0,-1),d=xc(d),this[hi]=new ge(d),Vc(this[hi],d),this[hi];var e={postMessage:function(a){c.onmessage&&setTimeout(function(){c.onmessage({data:a,target:e})})}};b.call(e);this.postMessage=function(a){setTimeout(function(){e.onmessage({data:a,target:c})})};this.isThisThread=
!0}else return new ge(a)}}function xc(a){try{return rb.createObjectURL(new Blob([a],{type:"application/javascript"}))}catch(Jg){var b=new U;b.append(a);return rb.createObjectURL(b.getBlob(type))}}function Vc(a,b){if(a&&b){var d=a.terminate;a.objURL=b;a.terminate=function(){a.objURL&&rb.revokeObjectURL(a.objURL);d.call(a)}}}function Yd(){}var Hb="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},N="undefined"!==typeof window?window:"undefined"!==
typeof Hb?Hb:"undefined"!==typeof self?self:{},Bd={},Zc=Object.freeze({default:Bd}),Tf=Zc&&Bd||Zc,Uf="undefined"!==typeof Hb?Hb:"undefined"!==typeof window?window:{};if("undefined"!==typeof document)var kd=document;else(kd=Uf["__GLOBAL_DOCUMENT_CACHE@4"])||(kd=Uf["__GLOBAL_DOCUMENT_CACHE@4"]=Tf);var da=kd,dc=void 0,$c="info",Db=[],Re=function(a,b){var d=dc.levels[$c],c=new RegExp("^("+d+")$");"log"!==a&&b.unshift(a.toUpperCase()+":");Db&&Db.push([].concat(b));b.unshift("VIDEOJS:");if(N.console){var e=
N.console[a];e||"debug"!==a||(e=N.console.info||N.console.log);if(e&&d&&c.test(a))e[Array.isArray(b)?"apply":"call"](N.console,b)}};dc=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];Re("log",b)};dc.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:$c};dc.level=function(a){if("string"===typeof a){if(!dc.levels.hasOwnProperty(a))throw Error('"'+a+'" in not a valid log level');$c=a}return $c};
dc.history=function(){return Db?[].concat(Db):[]};dc.history.clear=function(){Db&&(Db.length=0)};dc.history.disable=function(){null!==Db&&(Db.length=0,Db=null)};dc.history.enable=function(){null===Db&&(Db=[])};dc.error=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return Re("error",b)};dc.warn=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return Re("warn",b)};dc.debug=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=
arguments[d];return Re("debug",b)};var Ka=dc,Ke=function(a){for(var b="",d=0;d<arguments.length;d++)b+=a[d].replace(/\n\r?\s*/g,"")+(arguments[d+1]||"");return b},Ib="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},X=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");},ca=function(a,b){if("function"!==typeof b&&
null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},S=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b},Ac=function(a,b){a.raw=b;return a},tb=Object.prototype.toString,
Ja=function(b){return a(b)?Object.keys(b):[]},bb=Ac(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),hb=w("querySelector"),
oc=w("querySelectorAll"),Zb=Object.freeze({isReal:m,isEl:n,isInFrame:r,createEl:v,textContent:A,prependTo:y,hasClass:x,addClass:q,removeClass:B,toggleClass:C,setAttributes:E,getAttributes:I,getAttribute:function(a,b){return a.getAttribute(b)},setAttribute:function(a,b,d){a.setAttribute(b,d)},removeAttribute:function(a,b){a.removeAttribute(b)},blockTextSelection:F,unblockTextSelection:J,getBoundingClientRect:L,findPosition:d,getPointerPosition:l,isTextNode:z,emptyEl:G,normalizeContent:K,appendContent:T,
insertContent:ja,isSingleLeftClick:W,$:hb,$$:oc}),Ra=1,cb={},kb="vdata"+(new Date).getTime(),nc=!1;(function(){try{var a=Object.defineProperty({},"passive",{get:function(){nc=!0}});N.addEventListener("test",null,a);N.removeEventListener("test",null,a)}catch(Qi){}})();var xe=["touchstart","touchmove"],ce=Object.freeze({fixEvent:fa,on:xa,off:ma,trigger:ha,one:ua}),Le=!1,Pb=void 0,pc=function(){if(m()&&!1!==Pb.options.autoSetup){var a=Array.prototype.slice.call(da.getElementsByTagName("video")),b=Array.prototype.slice.call(da.getElementsByTagName("audio")),
d=Array.prototype.slice.call(da.getElementsByTagName("video-js"));if((a=a.concat(b,d))&&0<a.length)for(b=0,d=a.length;b<d;b++){var c=a[b];if(c&&c.getAttribute)void 0===c.player&&null!==c.getAttribute("data-setup")&&Pb(c);else{Xa(1);break}}else Le||Xa(1)}};m()&&"complete"===da.readyState?Le=!0:ua(N,"load",function(){Le=!0});var ad=function(a){var b=da.createElement("style");b.className=a;return b},ld=function(a,b){a.styleSheet?a.styleSheet.cssText=b:a.textContent=b},Da=function(a,b,d){b.guid||(b.guid=
Ra++);var c=function(){return b.apply(a,arguments)};c.guid=d?d+"_"+b.guid:b.guid;return c},ye=function(a,b){var d=Date.now();return function(){var c=Date.now();c-d>=b&&(a.apply(void 0,arguments),d=c)}},Vf=function(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:N,e=void 0;return function(){var f=this,p=arguments,g=function(){g=e=null;d||a.apply(f,p)};!e&&d&&a.apply(f,p);c.clearTimeout(e);e=c.setTimeout(g,b)}},gb=function(){};gb.prototype.allowedEvents_={};gb.prototype.on=function(a,
b){var d=this.addEventListener;this.addEventListener=function(){};xa(this,a,b);this.addEventListener=d};gb.prototype.addEventListener=gb.prototype.on;gb.prototype.off=function(a,b){ma(this,a,b)};gb.prototype.removeEventListener=gb.prototype.off;gb.prototype.one=function(a,b){var d=this.addEventListener;this.addEventListener=function(){};ua(this,a,b);this.addEventListener=d};gb.prototype.trigger=function(a){var b=a.type||a;"string"===typeof a&&(a={type:b});a=fa(a);if(this.allowedEvents_[b]&&this["on"+
b])this["on"+b](a);ha(this,a)};gb.prototype.dispatchEvent=gb.prototype.trigger;var de=function(a){return a instanceof gb||!!a.eventBusEl_&&["on","one","off","trigger"].every(function(b){return"function"===typeof a[b]})},ec=function(a){return"string"===typeof a&&/\S/.test(a)||Array.isArray(a)&&!!a.length},Jc=function(a){if(!a.nodeName&&!de(a))throw Error("Invalid target; must be a DOM node or evented object.");},vg=function(a){if(!ec(a))throw Error("Invalid event type; must be a non-empty string or array.");
},bd=function(a){if("function"!==typeof a)throw Error("Invalid listener; must be a function.");},Wf=function(a,b){var d=3>b.length||b[0]===a||b[0]===a.eventBusEl_;if(d){var c=a.eventBusEl_;3<=b.length&&b.shift();var e=b[0];b=b[1]}else c=b[0],e=b[1],b=b[2];Jc(c);vg(e);bd(b);b=Da(a,b);return{isTargetingSelf:d,target:c,type:e,listener:b}},fc=function(a,b,d,c){Jc(a);if(a.nodeName)ce[b](a,d,c);else a[b](d,c)},ee={on:function(){for(var a=this,b=arguments.length,d=Array(b),c=0;c<b;c++)d[c]=arguments[c];
b=Wf(this,d);d=b.isTargetingSelf;var e=b.target,f=b.type,p=b.listener;fc(e,"on",f,p);if(!d){var g=function(){return a.off(e,f,p)};g.guid=p.guid;b=function(){return a.off("dispose",g)};b.guid=p.guid;fc(this,"on","dispose",g);fc(e,"on","dispose",b)}},one:function(){for(var a=this,b=arguments.length,d=Array(b),c=0;c<b;c++)d[c]=arguments[c];b=Wf(this,d);var e=b.target,f=b.type,p=b.listener;b.isTargetingSelf?fc(e,"one",f,p):(b=function Bh(){for(var b=arguments.length,d=Array(b),c=0;c<b;c++)d[c]=arguments[c];
a.off(e,f,Bh);p.apply(null,d)},b.guid=p.guid,fc(e,"one",f,b))},off:function(a,b,d){!a||ec(a)?ma(this.eventBusEl_,a,b):(Jc(a),vg(b),bd(d),d=Da(this,d),this.off("dispose",d),a.nodeName?(ma(a,b,d),ma(a,"dispose",d)):de(a)&&(a.off(b,d),a.off("dispose",d)))},trigger:function(a,b){return ha(this.eventBusEl_,a,b)}},Se={state:{},setState:function(a){var b=this;"function"===typeof a&&(a=a());var d=void 0;g(a,function(a,c){b.state[c]!==a&&(d=d||{},d[c]={from:b.state[c],to:a});b.state[c]=a});d&&de(this)&&this.trigger({changes:d,
type:"statechanged"});return d}},P=function(){function a(b,d,c){X(this,a);this.player_=!b&&this.play?b=this:b;this.options_=Oa({},this.options_);d=this.options_=Oa(this.options_,d);this.id_=d.id||d.el&&d.el.id;this.id_||(this.id_=(b&&b.id&&b.id()||"no_player")+"_component_"+Ra++);this.name_=d.name||null;d.el?this.el_=d.el:!1!==d.createEl&&(this.el_=this.createEl());!1!==d.evented&&fb(this,{eventBusKey:this.el_?"el_":null});Ub(this,this.constructor.defaultState);this.children_=[];this.childIndex_=
{};this.childNameIndex_={};!1!==d.initChildren&&this.initChildren();this.ready(c);!1!==d.reportTouchActivity&&this.enableTouchActivity()}a.prototype.dispose=function(){this.trigger({type:"dispose",bubbles:!1});if(this.children_)for(var a=this.children_.length-1;0<=a;a--)this.children_[a].dispose&&this.children_[a].dispose();this.childNameIndex_=this.childIndex_=this.children_=null;this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Y(this.el_),this.el_=null);this.player_=null};
a.prototype.player=function(){return this.player_};a.prototype.options=function(a){Ka.warn("this.options() has been deprecated and will be moved to the constructor in 6.0");return a?this.options_=Oa(this.options_,a):this.options_};a.prototype.el=function(){return this.el_};a.prototype.createEl=function(a,b,d){return v(a,b,d)};a.prototype.localize=function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a,c=this.player_.language&&this.player_.language(),e=this.player_.languages&&
this.player_.languages(),f=e&&e[c];c=c&&c.split("-")[0];e=e&&e[c];f&&f[a]?d=f[a]:e&&e[a]&&(d=e[a]);b&&(d=d.replace(/\{(\d+)\}/g,function(a,d){var c=d=b[d-1];"undefined"===typeof d&&(c=a);return c}));return d};a.prototype.contentEl=function(){return this.contentEl_||this.el_};a.prototype.id=function(){return this.id_};a.prototype.name=function(){return this.name_};a.prototype.children=function(){return this.children_};a.prototype.getChildById=function(a){return this.childIndex_[a]};a.prototype.getChild=
function(a){if(a)return a=Fa(a),this.childNameIndex_[a]};a.prototype.addChild=function(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,e=void 0;if("string"===typeof b){e=Fa(b);var f=d.componentClass||e;d.name=e;var p=a.getComponent(f);if(!p)throw Error("Component "+f+" does not exist");if("function"!==typeof p)return null;d=new p(this.player_||this,d)}else d=b;this.children_.splice(c,0,d);"function"===
typeof d.id&&(this.childIndex_[d.id()]=d);(e=e||d.name&&Fa(d.name()))&&(this.childNameIndex_[e]=d);"function"===typeof d.el&&d.el()&&(c=this.contentEl().children[c]||null,this.contentEl().insertBefore(d.el(),c));return d};a.prototype.removeChild=function(a){"string"===typeof a&&(a=this.getChild(a));if(a&&this.children_){for(var b=!1,d=this.children_.length-1;0<=d;d--)if(this.children_[d]===a){b=!0;this.children_.splice(d,1);break}b&&(this.childIndex_[a.id()]=null,this.childNameIndex_[a.name()]=null,
(b=a.el())&&b.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el()))}};a.prototype.initChildren=function(){var b=this,d=this.options_.children;if(d){var c=this.options_,e=void 0,f=a.getComponent("Tech");e=Array.isArray(d)?d:Object.keys(d);e.concat(Object.keys(this.options_).filter(function(a){return!e.some(function(b){return"string"===typeof b?a===b:a===b.name})})).map(function(a){if("string"===typeof a){var c=a;a=d[c]||b.options_[c]||{}}else c=a.name;return{name:c,opts:a}}).filter(function(b){return(b=
a.getComponent(b.opts.componentClass||Fa(b.name)))&&!f.isTech(b)}).forEach(function(a){var d=a.name;a=a.opts;void 0!==c[d]&&(a=c[d]);!1!==a&&(!0===a&&(a={}),a.playerOptions=b.options_.playerOptions,(a=b.addChild(d,a))&&(b[d]=a))})}};a.prototype.buildCSSClass=function(){return""};a.prototype.ready=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;a&&(this.isReady_?b?a.call(this):this.setTimeout(a,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(a)))};a.prototype.triggerReady=
function(){this.isReady_=!0;this.setTimeout(function(){var a=this.readyQueue_;this.readyQueue_=[];a&&0<a.length&&a.forEach(function(a){a.call(this)},this);this.trigger("ready")},1)};a.prototype.$=function(a,b){return hb(a,b||this.contentEl())};a.prototype.$$=function(a,b){return oc(a,b||this.contentEl())};a.prototype.hasClass=function(a){return x(this.el_,a)};a.prototype.addClass=function(a){q(this.el_,a)};a.prototype.removeClass=function(a){B(this.el_,a)};a.prototype.toggleClass=function(a,b){C(this.el_,
a,b)};a.prototype.show=function(){this.removeClass("vjs-hidden")};a.prototype.hide=function(){this.addClass("vjs-hidden")};a.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")};a.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")};a.prototype.getAttribute=function(a){return this.el_.getAttribute(a)};a.prototype.setAttribute=function(a,b){this.el_.setAttribute(a,b)};a.prototype.removeAttribute=function(a){this.el_.removeAttribute(a)};a.prototype.width=function(a,
b){return this.dimension("width",a,b)};a.prototype.height=function(a,b){return this.dimension("height",a,b)};a.prototype.dimensions=function(a,b){this.width(a,!0);this.height(b)};a.prototype.dimension=function(a,b,d){if(void 0!==b){if(null===b||b!==b)b=0;-1!==(""+b).indexOf("%")||-1!==(""+b).indexOf("px")?this.el_.style[a]=b:this.el_.style[a]="auto"===b?"":b+"px";d||this.trigger("componentresize")}else{if(!this.el_)return 0;b=this.el_.style[a];d=b.indexOf("px");return-1!==d?parseInt(b.slice(0,d),
10):parseInt(this.el_["offset"+Fa(a)],10)}};a.prototype.currentDimension=function(a){var b=0;if("width"!==a&&"height"!==a)throw Error("currentDimension only accepts width or height value");"function"===typeof N.getComputedStyle&&(b=N.getComputedStyle(this.el_),b=b.getPropertyValue(a)||b[a]);b=parseFloat(b);0===b&&(a="offset"+Fa(a),b=this.el_[a]);return b};a.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}};a.prototype.currentWidth=
function(){return this.currentDimension("width")};a.prototype.currentHeight=function(){return this.currentDimension("height")};a.prototype.focus=function(){this.el_.focus()};a.prototype.blur=function(){this.el_.blur()};a.prototype.emitTapEvents=function(){var a=0,b=null,d=void 0;this.on("touchstart",function(c){1===c.touches.length&&(b={pageX:c.touches[0].pageX,pageY:c.touches[0].pageY},a=(new Date).getTime(),d=!0)});this.on("touchmove",function(a){if(1<a.touches.length)d=!1;else if(b){var c=a.touches[0].pageX-
b.pageX;a=a.touches[0].pageY-b.pageY;10<Math.sqrt(c*c+a*a)&&(d=!1)}});var c=function(){d=!1};this.on("touchleave",c);this.on("touchcancel",c);this.on("touchend",function(c){b=null;!0===d&&200>(new Date).getTime()-a&&(c.preventDefault(),this.trigger("tap"))})};a.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var a=Da(this.player(),this.player().reportUserActivity),b=void 0;this.on("touchstart",function(){a();this.clearInterval(b);b=this.setInterval(a,250)});
var d=function(d){a();this.clearInterval(b)};this.on("touchmove",a);this.on("touchend",d);this.on("touchcancel",d)}};a.prototype.setTimeout=function(a,b){var d=this;a=Da(this,a);var c=N.setTimeout(a,b);a=function(){return d.clearTimeout(c)};a.guid="vjs-timeout-"+c;this.on("dispose",a);return c};a.prototype.clearTimeout=function(a){N.clearTimeout(a);var b=function(){};b.guid="vjs-timeout-"+a;this.off("dispose",b);return a};a.prototype.setInterval=function(a,b){var d=this;a=Da(this,a);var c=N.setInterval(a,
b);a=function(){return d.clearInterval(c)};a.guid="vjs-interval-"+c;this.on("dispose",a);return c};a.prototype.clearInterval=function(a){N.clearInterval(a);var b=function(){};b.guid="vjs-interval-"+a;this.off("dispose",b);return a};a.prototype.requestAnimationFrame=function(a){var b=this;if(this.supportsRaf_){a=Da(this,a);var d=N.requestAnimationFrame(a);a=function(){return b.cancelAnimationFrame(d)};a.guid="vjs-raf-"+d;this.on("dispose",a);return d}return this.setTimeout(a,1E3/60)};a.prototype.cancelAnimationFrame=
function(a){if(this.supportsRaf_){N.cancelAnimationFrame(a);var b=function(){};b.guid="vjs-raf-"+a;this.off("dispose",b);return a}return this.clearTimeout(a)};a.registerComponent=function(b,d){if("string"!==typeof b||!b)throw Error('Illegal component name, "'+b+'"; must be a non-empty string.');var c=a.getComponent("Tech");c=c&&c.isTech(d);var e=a===d||a.prototype.isPrototypeOf(d.prototype);if(c||!e)throw Error('Illegal component, "'+b+'"; '+(c?"techs must be registered using Tech.registerTech()":
"must be a Component subclass")+".");b=Fa(b);a.components_||(a.components_={});c=a.getComponent("Player");if("Player"===b&&c&&c.players){var f=c.players;c=Object.keys(f);if(f&&0<c.length&&c.map(function(a){return f[a]}).every(Boolean))throw Error("Can not register Player component after player has been created.");}return a.components_[b]=d};a.getComponent=function(b){if(b&&(b=Fa(b),a.components_&&a.components_[b]))return a.components_[b]};return a}();P.prototype.supportsRaf_="function"===typeof N.requestAnimationFrame&&
"function"===typeof N.cancelAnimationFrame;P.registerComponent("Component",P);var Gb=N.navigator&&N.navigator.userAgent||"",md=/AppleWebKit\/([\d.]+)/i.exec(Gb),pf=md?parseFloat(md.pop()):null,Te=/iPad/i.test(Gb),fe=/iPhone/i.test(Gb)&&!Te,Kc=/iPod/i.test(Gb),nd=fe||Te||Kc,Hd=function(){var a=Gb.match(/OS (\d+)_/i);return a&&a[1]?a[1]:null}(),sc=/Android/i.test(Gb),se=function(){var a=Gb.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!a)return null;var b=a[1]&&parseFloat(a[1]),d=a[2]&&parseFloat(a[2]);
return b&&d?parseFloat(a[1]+"."+a[2]):b?b:null}(),tc=sc&&5>se&&537>pf,Qb=/Firefox/i.test(Gb),od=/Edge/i.test(Gb),Bc=!od&&/Chrome/i.test(Gb),te=function(){var a=Gb.match(/Chrome\/(\d+)/);return a&&a[1]?parseFloat(a[1]):null}(),Id=function(){var a=/MSIE\s(\d+)\.\d/.exec(Gb);a=a&&parseFloat(a[1]);!a&&/Trident\/7.0/i.test(Gb)&&/rv:11.0/.test(Gb)&&(a=11);return a}(),qf=/Safari/i.test(Gb)&&!Bc&&!sc&&!od,pd=qf||nd,Jd=m()&&("ontouchstart"in N||N.DocumentTouch&&N.document instanceof N.DocumentTouch),Kd=Object.freeze({IS_IPAD:Te,
IS_IPHONE:fe,IS_IPOD:Kc,IS_IOS:nd,IOS_VERSION:Hd,IS_ANDROID:sc,ANDROID_VERSION:se,IS_NATIVE_ANDROID:tc,IS_FIREFOX:Qb,IS_EDGE:od,IS_CHROME:Bc,CHROME_VERSION:te,IE_VERSION:Id,IS_SAFARI:qf,IS_ANY_SAFARI:pd,TOUCH_ENABLED:Jd}),Rb={},Ld=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],Md=Ld[0],qd=void 0,gc=0;for(;gc<Ld.length;gc++)if(Ld[gc][1]in da){qd=Ld[gc];break}if(qd)for(var uc=0;uc<qd.length;uc++)Rb[Md[uc]]=qd[uc];R.prototype.code=0;R.prototype.message="";R.prototype.status=null;R.errorTypes="MEDIA_ERR_CUSTOM MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_ERR_ENCRYPTED".split(" ");
R.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Wa=0;Wa<R.errorTypes.length;Wa++)R[R.errorTypes[Wa]]=Wa,R.prototype[R.errorTypes[Wa]]=
Wa;var ta=function(a){return"kind label language id inBandMetadataTrackDispatchType mode src".split(" ").reduce(function(b,d,c){a[d]&&(b[d]=a[d]);return b},{cues:a.cues&&Array.prototype.map.call(a.cues,function(a){return{startTime:a.startTime,endTime:a.endTime,text:a.text,id:a.id}})})},kg={textTracksToJson:function(a){var b=a.$$("track"),d=Array.prototype.map.call(b,function(a){return a.track});return Array.prototype.map.call(b,function(a){var b=ta(a.track);a.src&&(b.src=a.src);return b}).concat(Array.prototype.filter.call(a.textTracks(),
function(a){return-1===d.indexOf(a)}).map(ta))},jsonToTextTracks:function(a,b){a.forEach(function(a){var d=b.addRemoteTextTrack(a).track;!a.src&&a.cues&&a.cues.forEach(function(a){return d.addCue(a)})});return b.textTracks()},trackToJson_:ta},Ob=function(a){function b(d,c){X(this,b);d=S(this,a.call(this,d,c));d.opened_=d.hasBeenOpened_=d.hasBeenFilled_=!1;d.closeable(!d.options_.uncloseable);d.content(d.options_.content);d.contentEl_=v("div",{className:"vjs-modal-dialog-content"},{role:"document"});
d.descEl_=v("p",{className:"vjs-modal-dialog-description vjs-control-text",id:d.el().getAttribute("aria-describedby")});A(d.descEl_,d.description());d.el_.appendChild(d.descEl_);d.el_.appendChild(d.contentEl_);return d}ca(b,a);b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})};b.prototype.dispose=function(){this.previouslyActiveEl_=
this.descEl_=this.contentEl_=null;a.prototype.dispose.call(this)};b.prototype.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+a.prototype.buildCSSClass.call(this)};b.prototype.handleKeyPress=function(a){27===a.which&&this.closeable()&&this.close()};b.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")};b.prototype.description=function(){var a=this.options_.description||this.localize("This is a modal window.");this.closeable()&&(a+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button."));
return a};b.prototype.open=function(){if(!this.opened_){var a=this.player();this.trigger("beforemodalopen");this.opened_=!0;(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill();this.wasPlaying_=!a.paused();this.options_.pauseOnOpen&&this.wasPlaying_&&a.pause();if(this.closeable())this.on(this.el_.ownerDocument,"keydown",Da(this,this.handleKeyPress));this.hadControls_=a.controls();a.controls(!1);this.show();this.conditionalFocus_();this.el().setAttribute("aria-hidden",
"false");this.trigger("modalopen");this.hasBeenOpened_=!0}};b.prototype.opened=function(a){if("boolean"===typeof a)this[a?"open":"close"]();return this.opened_};b.prototype.close=function(){if(this.opened_){var a=this.player();this.trigger("beforemodalclose");this.opened_=!1;this.wasPlaying_&&this.options_.pauseOnOpen&&a.play();this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Da(this,this.handleKeyPress));this.hadControls_&&a.controls(!0);this.hide();this.el().setAttribute("aria-hidden",
"true");this.trigger("modalclose");this.conditionalBlur_();this.options_.temporary&&this.dispose()}};b.prototype.closeable=function(a){if("boolean"===typeof a){a=this.closeable_=!!a;var b=this.getChild("closeButton");if(a&&!b){var d=this.contentEl_;this.contentEl_=this.el_;b=this.addChild("closeButton",{controlText:"Close Modal Dialog"});this.contentEl_=d;this.on(b,"close",this.close)}!a&&b&&(this.off(b,"close",this.close),this.removeChild(b),b.dispose())}return this.closeable_};b.prototype.fill=
function(){this.fillWith(this.content())};b.prototype.fillWith=function(a){var b=this.contentEl(),d=b.parentNode,c=b.nextSibling;this.trigger("beforemodalfill");this.hasBeenFilled_=!0;d.removeChild(b);this.empty();ja(b,a);this.trigger("modalfill");c?d.insertBefore(b,c):d.appendChild(b);(a=this.getChild("closeButton"))&&d.appendChild(a.el_)};b.prototype.empty=function(){this.trigger("beforemodalempty");G(this.contentEl());this.trigger("modalempty")};b.prototype.content=function(a){"undefined"!==typeof a&&
(this.content_=a);return this.content_};b.prototype.conditionalFocus_=function(){var a=da.activeElement,b=this.player_.el_;this.previouslyActiveEl_=null;if(b.contains(a)||b===a)this.previouslyActiveEl_=a,this.focus(),this.on(da,"keydown",this.handleKeyDown)};b.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null);this.off(da,"keydown",this.handleKeyDown)};b.prototype.handleKeyDown=function(a){if(9===a.which){for(var b=this.focusableEls_(),
d=this.el_.querySelector(":focus"),c=void 0,e=0;e<b.length;e++)if(d===b[e]){c=e;break}da.activeElement===this.el_&&(c=0);a.shiftKey&&0===c?(b[b.length-1].focus(),a.preventDefault()):a.shiftKey||c!==b.length-1||(b[0].focus(),a.preventDefault())}};b.prototype.focusableEls_=function(){var a=this.el_.querySelectorAll("*");return Array.prototype.filter.call(a,function(a){return(a instanceof N.HTMLAnchorElement||a instanceof N.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof N.HTMLInputElement||
a instanceof N.HTMLSelectElement||a instanceof N.HTMLTextAreaElement||a instanceof N.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof N.HTMLIFrameElement||a instanceof N.HTMLObjectElement||a instanceof N.HTMLEmbedElement||a.hasAttribute("tabindex")&&-1!==a.getAttribute("tabindex")||a.hasAttribute("contenteditable")})};return b}(P);Ob.prototype.options_={pauseOnOpen:!0,temporary:!0};P.registerComponent("ModalDialog",Ob);var kc=function(a){function b(){var d=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:[];X(this,b);var c=S(this,a.call(this));c.tracks_=[];Object.defineProperty(c,"length",{get:function(){return this.tracks_.length}});for(var e=0;e<d.length;e++)c.addTrack(d[e]);return c}ca(b,a);b.prototype.addTrack=function(a){var b=this.tracks_.length;""+b in this||Object.defineProperty(this,b,{get:function(){return this.tracks_[b]}});-1===this.tracks_.indexOf(a)&&(this.tracks_.push(a),this.trigger({track:a,type:"addtrack"}))};b.prototype.removeTrack=function(a){for(var b=
void 0,d=0,c=this.length;d<c;d++)if(this[d]===a){b=this[d];b.off&&b.off();this.tracks_.splice(d,1);break}b&&this.trigger({track:b,type:"removetrack"})};b.prototype.getTrackById=function(a){for(var b=null,d=0,c=this.length;d<c;d++){var e=this[d];if(e.id===a){b=e;break}}return b};return b}(gb);kc.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var Je in kc.prototype.allowedEvents_)kc.prototype["on"+Je]=null;var fd=function(a,b){for(var d=0;d<a.length;d++)Object.keys(a[d]).length&&
b.id!==a[d].id&&(a[d].enabled=!1)},lg=function(a){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];X(this,b);for(var c=d.length-1;0<=c;c--)if(d[c].enabled){fd(d,d[c]);break}d=S(this,a.call(this,d));d.changing_=!1;return d}ca(b,a);b.prototype.addTrack=function(b){var d=this;b.enabled&&fd(this,b);a.prototype.addTrack.call(this,b);b.addEventListener&&b.addEventListener("enabledchange",function(){d.changing_||(d.changing_=!0,fd(d,b),d.changing_=!1,d.trigger("change"))})};return b}(kc),
hf=function(a,b){for(var d=0;d<a.length;d++)Object.keys(a[d]).length&&b.id!==a[d].id&&(a[d].selected=!1)},Gf=function(a){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];X(this,b);for(var c=d.length-1;0<=c;c--)if(d[c].selected){hf(d,d[c]);break}d=S(this,a.call(this,d));d.changing_=!1;Object.defineProperty(d,"selectedIndex",{get:function(){for(var a=0;a<this.length;a++)if(this[a].selected)return a;return-1},set:function(){}});return d}ca(b,a);b.prototype.addTrack=function(b){var d=
this;b.selected&&hf(this,b);a.prototype.addTrack.call(this,b);b.addEventListener&&b.addEventListener("selectedchange",function(){d.changing_||(d.changing_=!0,hf(d,b),d.changing_=!1,d.trigger("change"))})};return b}(kc),Hf=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.addTrack=function(b){a.prototype.addTrack.call(this,b);b.addEventListener("modechange",Da(this,function(){this.trigger("change")}));-1===["metadata","chapters"].indexOf(b.kind)&&b.addEventListener("modechange",
Da(this,function(){this.trigger("selectedlanguagechange")}))};return b}(kc),If=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];X(this,a);this.trackElements_=[];Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var d=0,c=b.length;d<c;d++)this.addTrackElement_(b[d])}a.prototype.addTrackElement_=function(a){var b=this.trackElements_.length;""+b in this||Object.defineProperty(this,b,{get:function(){return this.trackElements_[b]}});
-1===this.trackElements_.indexOf(a)&&this.trackElements_.push(a)};a.prototype.getTrackElementByTrack_=function(a){for(var b=void 0,d=0,c=this.trackElements_.length;d<c;d++)if(a===this.trackElements_[d].track){b=this.trackElements_[d];break}return b};a.prototype.removeTrackElement_=function(a){for(var b=0,d=this.trackElements_.length;b<d;b++)if(a===this.trackElements_[b]){this.trackElements_.splice(b,1);break}};return a}(),Jf=function(){function a(b){X(this,a);a.prototype.setCues_.call(this,b);Object.defineProperty(this,
"length",{get:function(){return this.length_}})}a.prototype.setCues_=function(a){var b=this.length||0,d=0,c=a.length;this.cues_=a;this.length_=a.length;a=function(a){""+a in this||Object.defineProperty(this,""+a,{get:function(){return this.cues_[a]}})};if(b<c)for(d=b;d<c;d++)a.call(this,d)};a.prototype.getCueById=function(a){for(var b=null,d=0,c=this.length;d<c;d++){var e=this[d];if(e.id===a){b=e;break}}return b};return a}(),Dh={alternative:"alternative",captions:"captions",main:"main",sign:"sign",
subtitles:"subtitles",commentary:"commentary"},mg={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},pg={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},qg={disabled:"disabled",hidden:"hidden",showing:"showing"},id=function(a){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};X(this,b);var c=S(this,a.call(this)),e={id:d.id||
"vjs_track_"+Ra++,kind:d.kind||"",label:d.label||"",language:d.language||""};d=function(a){Object.defineProperty(c,a,{get:function(){return e[a]},set:function(){}})};for(var f in e)d(f);return c}ca(b,a);return b}(gb),Mf=function(a){var b="protocol hostname port pathname search hash host".split(" "),d=da.createElement("a");d.href=a;var c=""===d.host&&"file:"!==d.protocol,e=void 0;c&&(e=da.createElement("div"),e.innerHTML='<a href="'+a+'"></a>',d=e.firstChild,e.setAttribute("style","display:none; position:absolute;"),
da.body.appendChild(e));a={};for(var f=0;f<b.length;f++)a[b[f]]=d[b[f]];"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,""));"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,""));a.protocol||(a.protocol=N.location.protocol);c&&da.body.removeChild(e);return a},Cd=function(a){if(!a.match(/^https?:\/\//)){var b=da.createElement("div");b.innerHTML='<a href="'+a+'">x</a>';a=b.firstChild.href}return a},$d=function(a){return"string"===typeof a&&(a=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(a))?
a.pop().toLowerCase():""},za=function(a){var b=N.location;a=Mf(a);return(":"===a.protocol?b.protocol:a.protocol)+a.host!==b.protocol+b.host},nf=Object.freeze({parseUrl:Mf,getAbsoluteURL:Cd,getFileExtension:$d,isCrossOrigin:za}),Zd=function(a){var b=Dd.call(a);return"[object Function]"===b||"function"===typeof a&&"[object RegExp]"!==b||"undefined"!==typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)},Dd=Object.prototype.toString,ih=Object.freeze({default:Zd,
__moduleExports:Zd}),gd=k(function(a,b){b=a.exports=function(a){return a.replace(/^\s*|\s*$/g,"")};b.left=function(a){return a.replace(/^\s*/,"")};b.right=function(a){return a.replace(/\s*$/,"")}}),Nf=Object.freeze({default:gd,__moduleExports:gd,left:gd.left,right:gd.right}),Yc=ih&&Zd||ih,lf=function(a,b,d){if(!Yc(b))throw new TypeError("iterator must be a function");3>arguments.length&&(d=this);if("[object Array]"===mf.call(a))for(var c=d,e=0,f=a.length;e<f;e++)kf.call(a,e)&&b.call(c,a[e],e,a);else if("string"===
typeof a)for(c=d,e=0,f=a.length;e<f;e++)b.call(c,a.charAt(e),e,a);else for(e in c=d,a)kf.call(a,e)&&b.call(c,a[e],e,a)},mf=Object.prototype.toString,kf=Object.prototype.hasOwnProperty,og=Object.freeze({default:lf,__moduleExports:lf}),Ne=Nf&&gd||Nf,jh=og&&lf||og,Pg=function(a){if(!a)return{};var b={};jh(Ne(a).split("\n"),function(a){var d=a.indexOf(":"),c=Ne(a.slice(0,d)).toLowerCase();a=Ne(a.slice(d+1));"undefined"===typeof b[c]?b[c]=a:"[object Array]"===Object.prototype.toString.call(b[c])?b[c].push(a):
b[c]=[b[c],a]});return b},Mg=Object.freeze({default:Pg,__moduleExports:Pg}),Of=function(){for(var a={},b=0;b<arguments.length;b++){var d=arguments[b],c;for(c in d)Oe.call(d,c)&&(a[c]=d[c])}return a},Oe=Object.prototype.hasOwnProperty,ae=Object.freeze({default:Of,__moduleExports:Of}),sg=Mg&&Pg||Mg,Qg=ae&&Of||ae;ya.XMLHttpRequest=N.XMLHttpRequest||nb;ya.XDomainRequest="withCredentials"in new ya.XMLHttpRequest?ya.XMLHttpRequest:N.XDomainRequest;(function(a,b){for(var d=0;d<a.length;d++)b(a[d])})("get put post patch head delete".split(" "),
function(a){ya["delete"===a?"del":a]=function(b,d,c){d=ab(b,d,c);d.method=a.toUpperCase();return ib(d)}});var ob=function(a,b){var d=new N.WebVTT.Parser(N,N.vttjs,N.WebVTT.StringDecoder()),c=[];d.oncue=function(a){b.addCue(a)};d.onparsingerror=function(a){c.push(a)};d.onflush=function(){b.trigger({type:"loadeddata",target:b})};d.parse(a);0<c.length&&(N.console&&N.console.groupCollapsed&&N.console.groupCollapsed("Text Track parsing errors for "+b.src),c.forEach(function(a){return Ka.error(a)}),N.console&&
N.console.groupEnd&&N.console.groupEnd());d.flush()},of=function(a,b){var d={uri:a};if(a=za(a))d.cors=a;ya(d,Da(this,function(a,d,c){if(a)return Ka.error(a,d);b.loaded_=!0;if("function"!==typeof N.WebVTT){if(b.tech_){var e=function(){return ob(c,b)};b.tech_.on("vttjsloaded",e);b.tech_.on("vttjserror",function(){Ka.error("vttjs failed to load, stopping trying to process "+b.src);b.tech_.off("vttjsloaded",e)})}}else ob(c,b)}))},Lb=function(a){function b(){var d=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{};X(this,b);if(!d.tech)throw Error("A tech was not provided.");d=Oa(d,{kind:pg[d.kind]||"subtitles",language:d.language||d.srclang||""});var c=qg[d.mode]||"disabled",e=d.default;if("metadata"===d.kind||"chapters"===d.kind)c="hidden";var f=S(this,a.call(this,d));f.tech_=d.tech;f.cues_=[];f.activeCues_=[];var p=new Jf(f.cues_),g=new Jf(f.activeCues_),h=!1,l=Da(f,function(){this.activeCues;h&&(this.trigger("cuechange"),h=!1)});"disabled"!==c&&f.tech_.ready(function(){f.tech_.on("timeupdate",
l)},!0);Object.defineProperties(f,{default:{get:function(){return e},set:function(){}},mode:{get:function(){return c},set:function(a){var b=this;qg[a]&&(c=a,"showing"===c&&this.tech_.ready(function(){b.tech_.on("timeupdate",l)},!0),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?p:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return g;for(var a=this.tech_.currentTime(),b=[],d=0,c=this.cues.length;d<c;d++){var e=this.cues[d];
e.startTime<=a&&e.endTime>=a?b.push(e):e.startTime===e.endTime&&e.startTime<=a&&e.startTime+.5>=a&&b.push(e)}h=!1;if(b.length!==this.activeCues_.length)h=!0;else for(a=0;a<b.length;a++)-1===this.activeCues_.indexOf(b[a])&&(h=!0);this.activeCues_=b;g.setCues_(this.activeCues_);return g},set:function(){}}});d.src?(f.src=d.src,of(d.src,f)):f.loaded_=!0;return f}ca(b,a);b.prototype.addCue=function(a){var b=a;if(N.vttjs&&!(a instanceof N.vttjs.VTTCue)){b=new N.vttjs.VTTCue(a.startTime,a.endTime,a.text);
for(var d in a)d in b||(b[d]=a[d]);b.id=a.id;b.originalCue_=a}a=this.tech_.textTracks();for(d=0;d<a.length;d++)a[d]!==this&&a[d].removeCue(b);this.cues_.push(b);this.cues.setCues_(this.cues_)};b.prototype.removeCue=function(a){for(var b=this.cues_.length;b--;){var d=this.cues_[b];if(d===a||d.originalCue_&&d.originalCue_===a){this.cues_.splice(b,1);this.cues.setCues_(this.cues_);break}}};return b}(id);Lb.prototype.allowedEvents_={cuechange:"cuechange"};var Pf=function(a){function b(){var d=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{};X(this,b);d=Oa(d,{kind:mg[d.kind]||""});var c=S(this,a.call(this,d)),e=!1;Object.defineProperty(c,"enabled",{get:function(){return e},set:function(a){"boolean"===typeof a&&a!==e&&(e=a,this.trigger("enabledchange"))}});d.enabled&&(c.enabled=d.enabled);c.loaded_=!0;return c}ca(b,a);return b}(id),qa=function(a){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};X(this,b);d=Oa(d,{kind:Dh[d.kind]||""});var c=S(this,a.call(this,d)),e=!1;Object.defineProperty(c,
"selected",{get:function(){return e},set:function(a){"boolean"===typeof a&&a!==e&&(e=a,this.trigger("selectedchange"))}});d.selected&&(c.selected=d.selected);return c}ca(b,a);return b}(id),Hc=function(a){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};X(this,b);var c=S(this,a.call(this)),e=void 0,f=new Lb(d);c.kind=f.kind;c.src=f.src;c.srclang=f.language;c.label=f.label;c.default=f.default;Object.defineProperties(c,{readyState:{get:function(){return e}},track:{get:function(){return f}}});
e=0;f.addEventListener("loadeddata",function(){e=2;c.trigger({type:"load",target:c})});return c}ca(b,a);return b}(gb);Hc.prototype.allowedEvents_={load:"load"};Hc.NONE=0;Hc.LOADING=1;Hc.LOADED=2;Hc.ERROR=3;var Qa={audio:{ListClass:lg,TrackClass:Pf,capitalName:"Audio"},video:{ListClass:Gf,TrackClass:qa,capitalName:"Video"},text:{ListClass:Hf,TrackClass:Lb,capitalName:"Text"}};Object.keys(Qa).forEach(function(a){Qa[a].getterName=a+"Tracks";Qa[a].privateName=a+"Tracks_"});var rc={remoteText:{ListClass:Hf,
TrackClass:Lb,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:If,TrackClass:Hc,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ia=Oa(Qa,rc);rc.names=Object.keys(rc);Qa.names=Object.keys(Qa);Ia.names=[].concat(rc.names).concat(Qa.names);var we=Object.create||function(){function a(){}return function(b){if(1!==arguments.length)throw Error("Object.create shim only accepts one parameter.");
a.prototype=b;return new a}}();Q.prototype=we(Error.prototype);Q.prototype.constructor=Q;Q.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};yb.prototype={set:function(a,b){this.get(a)||""===b||(this.values[a]=b)},get:function(a,b,d){return d?this.has(a)?this.values[a]:b[d]:this.has(a)?this.values[a]:b},has:function(a){return a in this.values},alt:function(a,b,d){for(var c=0;c<d.length;++c)if(b===d[c]){this.set(a,b);break}},
integer:function(a,b){/^-?\d+$/.test(b)&&this.set(a,parseInt(b,10))},percent:function(a,b){return b.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(b=parseFloat(b),0<=b&&100>=b)?(this.set(a,b),!0):!1}};var zc={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\u00a0"},jd={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Qf={v:"title",lang:"lang"},tg={rt:"ruby"},Lf=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,
1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],
[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,
126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];be.prototype.applyStyles=function(a,b){b=b||this.div;for(var d in a)a.hasOwnProperty(d)&&(b.style[d]=a[d])};be.prototype.formatStyle=function(a,
b){return 0===a?0:a+b};Fd.prototype=we(be.prototype);Fd.prototype.constructor=Fd;Cb.prototype.move=function(a,b){b=void 0!==b?b:this.lineHeight;switch(a){case "+x":this.left+=b;this.right+=b;break;case "-x":this.left-=b;this.right-=b;break;case "+y":this.top+=b;this.bottom+=b;break;case "-y":this.top-=b,this.bottom-=b}};Cb.prototype.overlaps=function(a){return this.left<a.right&&this.right>a.left&&this.top<a.bottom&&this.bottom>a.top};Cb.prototype.overlapsAny=function(a){for(var b=0;b<a.length;b++)if(this.overlaps(a[b]))return!0;
return!1};Cb.prototype.within=function(a){return this.top>=a.top&&this.bottom<=a.bottom&&this.left>=a.left&&this.right<=a.right};Cb.prototype.overlapsOppositeAxis=function(a,b){switch(b){case "+x":return this.left<a.left;case "-x":return this.right>a.right;case "+y":return this.top<a.top;case "-y":return this.bottom>a.bottom}};Cb.prototype.intersectPercentage=function(a){return Math.max(0,Math.min(this.right,a.right)-Math.max(this.left,a.left))*Math.max(0,Math.min(this.bottom,a.bottom)-Math.max(this.top,
a.top))/(this.height*this.width)};Cb.prototype.toCSSCompatValues=function(a){return{top:this.top-a.top,bottom:a.bottom-this.bottom,left:this.left-a.left,right:a.right-this.right,height:this.height,width:this.width}};Cb.getSimpleBoxPosition=function(a){var b=a.div?a.div.offsetHeight:a.tagName?a.offsetHeight:0,d=a.div?a.div.offsetWidth:a.tagName?a.offsetWidth:0,c=a.div?a.div.offsetTop:a.tagName?a.offsetTop:0;a=a.div?a.div.getBoundingClientRect():a.tagName?a.getBoundingClientRect():a;return{left:a.left,
right:a.right,top:a.top||c,height:a.height||b,bottom:a.bottom||c+(a.height||b),width:a.width||d}};Pa.StringDecoder=function(){return{decode:function(a){if(!a)return"";if("string"!==typeof a)throw Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(a))}}};Pa.convertCueToDOMTree=function(a,b){return a&&b?Wc(a,b):null};Pa.processCues=function(a,b,d){if(!a||!b||!d)return null;for(;d.firstChild;)d.removeChild(d.firstChild);var c=a.document.createElement("div");c.style.position=
"absolute";c.style.left="0";c.style.right="0";c.style.top="0";c.style.bottom="0";c.style.margin="1.5%";d.appendChild(c);if(function(a){for(var b=0;b<a.length;b++)if(a[b].hasBeenReset||!a[b].displayState)return!0;return!1}(b)){var e=[],f=Cb.getSimpleBoxPosition(c),p={font:Math.round(5*f.height)/100+"px sans-serif"};(function(){for(var d,g,h=0;h<b.length;h++){g=b[h];d=new Fd(a,g,p);c.appendChild(d.div);var l=void 0,t=void 0,k=d,m=f,n=e,qe=new Cb(k),q=k.cue;if("number"===typeof q.line&&(q.snapToLines||
0<=q.line&&100>=q.line))var Fc=q.line;else if(q.track&&q.track.textTrackList&&q.track.textTrackList.mediaElement){Fc=q.track;for(var ub=Fc.textTrackList,H=0,x=0;x<ub.length&&ub[x]!==Fc;x++)"showing"===ub[x].mode&&H++;Fc=-1*++H}else Fc=-1;ub=[];if(q.snapToLines){switch(q.vertical){case "":ub=["+y","-y"];t="height";break;case "rl":ub=["+x","-x"];t="width";break;case "lr":ub=["-x","+x"],t="width"}H=qe.lineHeight;x=H*Math.round(Fc);t=m[t]+H;var r=ub[0];Math.abs(x)>t&&(x=(0>x?-1:1)*Math.ceil(t/H)*H);0>
Fc&&(x+=""===q.vertical?m.height:m.width,ub=ub.reverse());qe.move(r,x)}else{qe=qe.lineHeight/m.height*100;switch(q.lineAlign){case "middle":Fc-=qe/2;break;case "end":Fc-=qe}switch(q.vertical){case "":k.applyStyles({top:k.formatStyle(Fc,"%")});break;case "rl":k.applyStyles({left:k.formatStyle(Fc,"%")});break;case "lr":k.applyStyles({right:k.formatStyle(Fc,"%")})}ub=["+y","-x","+x","-y"];qe=new Cb(k)}a:{q=qe;qe=ub;t=new Cb(q);Fc=1;for(ub=0;ub<qe.length;ub++){for(;q.overlapsOppositeAxis(m,qe[ub])||q.within(m)&&
q.overlapsAny(n);)q.move(qe[ub]);if(q.within(m)){l=q;break a}H=q.intersectPercentage(m);Fc>H&&(l=new Cb(q),Fc=H);q=new Cb(t)}l=l||t}k.move(l.toCSSCompatValues(m));g.displayState=d.div;e.push(Cb.getSimpleBoxPosition(d))}})()}else for(d=0;d<b.length;d++)c.appendChild(b[d].displayState)};Pa.Parser=function(a,b,d){d||(d=b,b={});b||(b={});this.window=a;this.vttjs=b;this.state="INITIAL";this.buffer="";this.decoder=d||new TextDecoder("utf8");this.regionList=[]};Pa.Parser.prototype={reportOrThrowError:function(a){if(a instanceof
Q)this.onparsingerror&&this.onparsingerror(a);else throw a;},parse:function(a){function b(){for(var a=f.buffer,b=0;b<a.length&&"\r"!==a[b]&&"\n"!==a[b];)++b;var d=a.substr(0,b);"\r"===a[b]&&++b;"\n"===a[b]&&++b;f.buffer=a.substr(b);return d}function d(a){var b=new yb;pa(a,function(a,d){switch(a){case "id":b.set(a,d);break;case "width":b.percent(a,d);break;case "lines":b.integer(a,d);break;case "regionanchor":case "viewportanchor":d=d.split(",");if(2!==d.length)break;var c=new yb;c.percent("x",d[0]);
c.percent("y",d[1]);if(!c.has("x")||!c.has("y"))break;b.set(a+"X",c.get("x"));b.set(a+"Y",c.get("y"));break;case "scroll":b.alt(a,d,["up"])}},/=/,/\s/);b.has("id")&&(a=new (f.vttjs.VTTRegion||f.window.VTTRegion),a.width=b.get("width",100),a.lines=b.get("lines",3),a.regionAnchorX=b.get("regionanchorX",0),a.regionAnchorY=b.get("regionanchorY",100),a.viewportAnchorX=b.get("viewportanchorX",0),a.viewportAnchorY=b.get("viewportanchorY",100),a.scroll=b.get("scroll",""),f.onregion&&f.onregion(a),f.regionList.push({id:b.get("id"),
region:a}))}function c(a){var b=new yb;pa(a,function(a,d){switch(a){case "MPEGT":b.integer(a+"S",d);break;case "LOCA":b.set(a+"L",u(d))}},/[^\d]:/,/,/);f.ontimestampmap&&f.ontimestampmap({MPEGTS:b.get("MPEGTS"),LOCAL:b.get("LOCAL")})}function e(a){a.match(/X-TIMESTAMP-MAP/)?pa(a,function(a,b){switch(a){case "X-TIMESTAMP-MAP":c(b)}},/=/):pa(a,function(a,b){switch(a){case "Region":d(b)}},/:/)}var f=this;a&&(f.buffer+=f.decoder.decode(a,{stream:!0}));try{if("INITIAL"===f.state){if(!/\r\n|\n/.test(f.buffer))return this;
var p=b();var g=p.match(/^WEBVTT([ \t].*)?$/);if(!g||!g[0])throw new Q(Q.Errors.BadSignature);f.state="HEADER"}for(a=!1;f.buffer;){if(!/\r\n|\n/.test(f.buffer))return this;a?a=!1:p=b();switch(f.state){case "HEADER":/:/.test(p)?e(p):p||(f.state="ID");continue;case "NOTE":p||(f.state="ID");continue;case "ID":if(/^NOTE($|[ \t])/.test(p)){f.state="NOTE";break}if(!p)continue;f.cue=new (f.vttjs.VTTCue||f.window.VTTCue)(0,0,"");f.state="CUE";if(-1===p.indexOf("--\x3e")){f.cue.id=p;continue}case "CUE":try{vb(p,
f.cue,f.regionList)}catch(sh){f.reportOrThrowError(sh);f.cue=null;f.state="BADCUE";continue}f.state="CUETEXT";continue;case "CUETEXT":var h=-1!==p.indexOf("--\x3e");if(!p||h&&(a=!0)){f.oncue&&f.oncue(f.cue);f.cue=null;f.state="ID";continue}f.cue.text&&(f.cue.text+="\n");f.cue.text+=p;continue;case "BADCUE":p||(f.state="ID")}}}catch(sh){f.reportOrThrowError(sh);if("CUETEXT"===f.state&&f.cue&&f.oncue)f.oncue(f.cue);f.cue=null;f.state="INITIAL"===f.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{this.buffer+=
this.decoder.decode();if(this.cue||"HEADER"===this.state)this.buffer+="\n\n",this.parse();if("INITIAL"===this.state)throw new Q(Q.Errors.BadSignature);}catch(ej){this.reportOrThrowError(ej)}this.onflush&&this.onflush();return this}};var Ng=Object.freeze({default:Pa,__moduleExports:Pa}),ve={"":1,lr:1,rl:1},ug={start:1,middle:1,end:1,left:1,right:1};jb.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var wh=Object.freeze({default:jb,__moduleExports:jb}),Rf={"":!0,
up:!0},Lg=function(){var a=100,b=3,d=0,c=100,e=0,f=100,p="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(b){if(!Gd(b))throw Error("Width must be between 0 and 100.");a=b}},lines:{enumerable:!0,get:function(){return b},set:function(a){if("number"!==typeof a)throw new TypeError("Lines must be set to a number.");b=a}},regionAnchorY:{enumerable:!0,get:function(){return c},set:function(a){if(!Gd(a))throw Error("RegionAnchorX must be between 0 and 100.");c=a}},
regionAnchorX:{enumerable:!0,get:function(){return d},set:function(a){if(!Gd(a))throw Error("RegionAnchorY must be between 0 and 100.");d=a}},viewportAnchorY:{enumerable:!0,get:function(){return f},set:function(a){if(!Gd(a))throw Error("ViewportAnchorY must be between 0 and 100.");f=a}},viewportAnchorX:{enumerable:!0,get:function(){return e},set:function(a){if(!Gd(a))throw Error("ViewportAnchorX must be between 0 and 100.");e=a}},scroll:{enumerable:!0,get:function(){return p},set:function(a){a="string"!==
typeof a?!1:Rf[a.toLowerCase()]?a.toLowerCase():!1;if(!1===a)throw new SyntaxError("An invalid or illegal string was specified.");p=a}}})},Rg=Object.freeze({default:Lg,__moduleExports:Lg}),th=Ng&&Pa||Ng,kh=wh&&jb||wh,uh=Rg&&Lg||Rg,ac=k(function(a){a=a.exports={WebVTT:th,VTTCue:kh,VTTRegion:uh};N.vttjs=a;N.WebVTT=a.WebVTT;var b=a.VTTCue,d=a.VTTRegion,c=N.VTTCue,e=N.VTTRegion;a.shim=function(){N.VTTCue=b;N.VTTRegion=d};a.restore=function(){N.VTTCue=c;N.VTTRegion=e};N.VTTCue||a.shim()}),qb=function(a){function b(){var d=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};X(this,b);d.reportTouchActivity=!1;var e=S(this,a.call(this,null,d,c));e.hasStarted_=!1;e.on("playing",function(){this.hasStarted_=!0});e.on("loadstart",function(){this.hasStarted_=!1});Ia.names.forEach(function(a){a=Ia[a];d&&d[a.getterName]&&(e[a.privateName]=d[a.getterName])});e.featuresProgressEvents||e.manualProgressOn();e.featuresTimeupdateEvents||e.manualTimeUpdatesOn();
["Text","Audio","Video"].forEach(function(a){!1===d["native"+a+"Tracks"]&&(e["featuresNative"+a+"Tracks"]=!1)});if(!1===d.nativeCaptions||!1===d.nativeTextTracks)e.featuresNativeTextTracks=!1;else if(!0===d.nativeCaptions||!0===d.nativeTextTracks)e.featuresNativeTextTracks=!0;e.featuresNativeTextTracks||e.emulateTextTracks();e.autoRemoteTextTracks_=new Ia.text.ListClass;e.initTrackListeners();d.nativeControlsForTouch||e.emitTapEvents();e.constructor&&(e.name_=e.constructor.name||"Unknown Tech");return e}
ca(b,a);b.prototype.triggerSourceset=function(a){var b=this;if(!this.isReady_)this.one("ready",function(){return b.setTimeout(function(){return b.triggerSourceset(a)},1)});this.trigger({src:a,type:"sourceset"})};b.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange);this.manualProgress=!0;this.one("ready",this.trackProgress)};b.prototype.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)};
b.prototype.trackProgress=function(a){this.stopTrackingProgress();this.progressInterval=this.setInterval(Da(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress");this.bufferedPercent_=a;1===a&&this.stopTrackingProgress()}),500)};b.prototype.onDurationChange=function(a){this.duration_=this.duration()};b.prototype.buffered=function(){return Ha(0,0)};b.prototype.bufferedPercent=function(){return Ba(this.buffered(),this.duration_)};b.prototype.stopTrackingProgress=
function(){this.clearInterval(this.progressInterval)};b.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)};b.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};b.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=
this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)};b.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})};b.prototype.dispose=function(){this.clearTracks(Qa.names);this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();a.prototype.dispose.call(this)};b.prototype.clearTracks=function(a){var b=this;a=[].concat(a);
a.forEach(function(a){for(var d=b[a+"Tracks"]()||[],c=d.length;c--;){var e=d[c];"text"===a&&b.removeRemoteTextTrack(e);d.removeTrack(e)}})};b.prototype.cleanupAutoTextTracks=function(){for(var a=this.autoRemoteTextTracks_||[],b=a.length;b--;)this.removeRemoteTextTrack(a[b])};b.prototype.reset=function(){};b.prototype.error=function(a){void 0!==a&&(this.error_=new R(a),this.trigger("error"));return this.error_};b.prototype.played=function(){return this.hasStarted_?Ha(0,0):Ha()};b.prototype.setCurrentTime=
function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})};b.prototype.initTrackListeners=function(){var a=this;Qa.names.forEach(function(b){var d=function(){a.trigger(b+"trackchange")},c=a[Qa[b].getterName]();c.addEventListener("removetrack",d);c.addEventListener("addtrack",d);a.on("dispose",function(){c.removeEventListener("removetrack",d);c.removeEventListener("addtrack",d)})})};b.prototype.addWebVttScript_=function(){var a=this;if(!N.WebVTT)if(da.body.contains(this.el()))if(!this.options_["vtt.js"]&&
h(ac)&&0<Object.keys(ac).length)this.trigger("vttjsloaded");else{var b=da.createElement("script");b.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js";b.onload=function(){a.trigger("vttjsloaded")};b.onerror=function(){a.trigger("vttjserror")};this.on("dispose",function(){b.onload=null;b.onerror=null});N.WebVTT=!0;this.el().parentNode.appendChild(b)}else this.ready(this.addWebVttScript_)};b.prototype.emulateTextTracks=function(){var a=this,b=this.textTracks(),d=this.remoteTextTracks(),
c=function(a){return b.addTrack(a.track)},e=function(a){return b.removeTrack(a.track)};d.on("addtrack",c);d.on("removetrack",e);this.addWebVttScript_();var f=function(){return a.trigger("texttrackchange")},p=function(){f();for(var a=0;a<b.length;a++){var d=b[a];d.removeEventListener("cuechange",f);"showing"===d.mode&&d.addEventListener("cuechange",f)}};p();b.addEventListener("change",p);b.addEventListener("addtrack",p);b.addEventListener("removetrack",p);this.on("dispose",function(){d.off("addtrack",
c);d.off("removetrack",e);b.removeEventListener("change",p);b.removeEventListener("addtrack",p);b.removeEventListener("removetrack",p);for(var a=0;a<b.length;a++)b[a].removeEventListener("cuechange",f)})};b.prototype.addTextTrack=function(a,b,d){if(!a)throw Error("TextTrack kind is required but was not provided");return Pe(this,a,b,d)};b.prototype.createRemoteTextTrack=function(a){a=Oa(a,{tech:this});return new rc.remoteTextEl.TrackClass(a)};b.prototype.addRemoteTextTrack=function(){var a=this,b=
arguments[1],d=this.createRemoteTextTrack(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});!0!==b&&!1!==b&&(Ka.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),b=!0);this.remoteTextTrackEls().addTrackElement_(d);this.remoteTextTracks().addTrack(d.track);!0!==b&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(d.track)});return d};b.prototype.removeRemoteTextTrack=
function(a){var b=this.remoteTextTrackEls().getTrackElementByTrack_(a);this.remoteTextTrackEls().removeTrackElement_(b);this.remoteTextTracks().removeTrack(a);this.autoRemoteTextTracks_.removeTrack(a)};b.prototype.getVideoPlaybackQuality=function(){return{}};b.prototype.setPoster=function(){};b.prototype.playsinline=function(){};b.prototype.setPlaysinline=function(){};b.prototype.overrideNativeAudioTracks=function(){};b.prototype.overrideNativeVideoTracks=function(){};b.prototype.canPlayType=function(){return""};
b.canPlayType=function(){return""};b.canPlaySource=function(a,d){return b.canPlayType(a.type)};b.isTech=function(a){return a.prototype instanceof b||a instanceof b||a===b};b.registerTech=function(a,d){b.techs_||(b.techs_={});if(!b.isTech(d))throw Error("Tech "+a+" must be a Tech");if(!b.canPlayType)throw Error("Techs must have a static canPlayType method on them");if(!b.canPlaySource)throw Error("Techs must have a static canPlaySource method on them");a=Fa(a);b.techs_[a]=d;"Tech"!==a&&b.defaultTechOrder_.push(a);
return d};b.getTech=function(a){if(a){a=Fa(a);if(b.techs_&&b.techs_[a])return b.techs_[a];if(N&&N.videojs&&N.videojs[a])return Ka.warn("The "+a+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),N.videojs[a]}};return b}(P);Ia.names.forEach(function(a){var b=Ia[a];qb.prototype[b.getterName]=function(){this[b.privateName]=this[b.privateName]||new b.ListClass;return this[b.privateName]}});qb.prototype.featuresVolumeControl=!0;qb.prototype.featuresFullscreenResize=
!1;qb.prototype.featuresPlaybackRate=!1;qb.prototype.featuresProgressEvents=!1;qb.prototype.featuresSourceset=!1;qb.prototype.featuresTimeupdateEvents=!1;qb.prototype.featuresNativeTextTracks=!1;qb.withSourceHandlers=function(a){a.registerSourceHandler=function(b,d){var c=a.sourceHandlers;c||(c=a.sourceHandlers=[]);void 0===d&&(d=c.length);c.splice(d,0,b)};a.canPlayType=function(b){for(var d=a.sourceHandlers||[],c,e=0;e<d.length;e++)if(c=d[e].canPlayType(b))return c;return""};a.selectSourceHandler=
function(b,d){for(var c=a.sourceHandlers||[],e,f=0;f<c.length;f++)if(e=c[f].canHandleSource(b,d))return c[f];return null};a.canPlaySource=function(b,d){var c=a.selectSourceHandler(b,d);return c?c.canHandleSource(b,d):""};["seekable","seeking","duration"].forEach(function(a){var b=this[a];"function"===typeof b&&(this[a]=function(){return this.sourceHandler_&&this.sourceHandler_[a]?this.sourceHandler_[a].apply(this.sourceHandler_,arguments):b.apply(this,arguments)})},a.prototype);a.prototype.setSource=
function(b){var d=a.selectSourceHandler(b,this.options_);d||(a.nativeSourceHandler?d=a.nativeSourceHandler:Ka.error("No source handler found for the current source."));this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);d!==a.nativeSourceHandler&&(this.currentSource_=b);this.sourceHandler_=d.handleSource(b,this,this.options_);this.on("dispose",this.disposeSourceHandler)};a.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=
null);this.cleanupAutoTextTracks();this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};P.registerComponent("Tech",qb);qb.registerTech("Tech",qb);qb.defaultTechOrder_=[];var Kb={},ue={},wb={},jf={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Kf={setCurrentTime:1},Kg={play:1,pause:1},hh={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",
oga:"audio/ogg",m3u8:"application/x-mpegURL"},Ua=function(){var a=$d(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"");return hh[a.toLowerCase()]||""},$b=function(a,b){if(!b)return"";if(a.cache_.source.src===b&&a.cache_.source.type)return a.cache_.source.type;var d=a.cache_.sources.filter(function(a){return a.src===b});if(d.length)return d[0].type;a=a.$$("source");for(d=0;d<a.length;d++){var c=a[d];if(c.type&&c.src&&c.src===b)return c.type}return Ua(b)},ng=function Qi(b){if(Array.isArray(b)){var d=
[];b.forEach(function(b){b=Qi(b);Array.isArray(b)?d=d.concat(b):a(b)&&d.push(b)});b=d}else b="string"===typeof b&&b.trim()?[Sf({src:b})]:a(b)&&"string"===typeof b.src&&b.src&&b.src.trim()?[Sf(b)]:[];return b},Me=function(a){function b(d,c,e){X(this,b);var f=Oa({createEl:!1},c);e=S(this,a.call(this,d,f,e));if(c.playerOptions.sources&&0!==c.playerOptions.sources.length)d.src(c.playerOptions.sources);else for(f=0,c=c.playerOptions.techOrder;f<c.length;f++){var p=Fa(c[f]),g=qb.getTech(p);p||(g=P.getComponent(p));
if(g&&g.isSupported()){d.loadTech_(p);break}}return e}ca(b,a);return b}(P);P.registerComponent("MediaLoader",Me);var sa=function(a){function b(d,c){X(this,b);d=S(this,a.call(this,d,c));d.emitTapEvents();d.enable();return d}ca(b,a);b.prototype.createEl=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};d=f({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',
className:this.buildCSSClass(),tabIndex:0},d);"button"===b&&Ka.error("Creating a ClickableComponent with an HTML element of "+b+" is not supported; use a Button instead.");c=f({role:"button"},c);this.tabIndex_=d.tabIndex;b=a.prototype.createEl.call(this,b,d,c);this.createControlTextEl(b);return b};b.prototype.dispose=function(){this.controlTextEl_=null;a.prototype.dispose.call(this)};b.prototype.createControlTextEl=function(a){this.controlTextEl_=v("span",{className:"vjs-control-text"},{"aria-live":"polite"});
a&&a.appendChild(this.controlTextEl_);this.controlText(this.controlText_,a);return this.controlTextEl_};b.prototype.controlText=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===a)return this.controlText_||"Need Text";var d=this.localize(a);this.controlText_=a;A(this.controlTextEl_,d);this.nonIconControl||b.setAttribute("title",d)};b.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+a.prototype.buildCSSClass.call(this)};b.prototype.enable=
function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))};b.prototype.disable=function(){this.enabled_=!1;this.addClass("vjs-disabled");this.el_.setAttribute("aria-disabled","true");"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex");
this.off(["tap","click"],this.handleClick);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur)};b.prototype.handleClick=function(a){};b.prototype.handleFocus=function(a){xa(da,"keydown",Da(this,this.handleKeyPress))};b.prototype.handleKeyPress=function(b){32===b.which||13===b.which?(b.preventDefault(),this.trigger("click")):a.prototype.handleKeyPress&&a.prototype.handleKeyPress.call(this,b)};b.prototype.handleBlur=function(a){ma(da,"keydown",Da(this,this.handleKeyPress))};return b}(P);
P.registerComponent("ClickableComponent",sa);var hd=function(a){function b(d,c){X(this,b);c=S(this,a.call(this,d,c));c.update();d.on("posterchange",Da(c,c.update));return c}ca(b,a);b.prototype.dispose=function(){this.player().off("posterchange",this.update);a.prototype.dispose.call(this)};b.prototype.createEl=function(){return v("div",{className:"vjs-poster",tabIndex:-1})};b.prototype.update=function(a){a=this.player().poster();this.setSrc(a);a?this.show():this.hide()};b.prototype.setSrc=function(a){var b=
"";a&&(b='url("'+a+'")');this.el_.style.backgroundImage=b};b.prototype.handleClick=function(a){this.player_.controls()&&(this.player_.paused()?Ca(this.player_.play()):this.player_.pause())};return b}(sa);P.registerComponent("PosterImage",hd);var rg={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',
script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},Og=function(a){function b(d,c,e){X(this,b);c=S(this,a.call(this,d,c,e));d.on("loadstart",Da(c,c.toggleDisplay));d.on("texttrackchange",Da(c,c.updateDisplay));d.on("loadstart",Da(c,c.preselectTrack));d.ready(Da(c,function(){if(d.tech_&&d.tech_.featuresNativeTextTracks)this.hide();else{d.on("fullscreenchange",Da(this,this.updateDisplay));for(var a=this.options_.playerOptions.tracks||[],b=0;b<a.length;b++)this.player_.addRemoteTextTrack(a[b],
!0);this.preselectTrack()}}));return c}ca(b,a);b.prototype.preselectTrack=function(){for(var a={captions:1,subtitles:1},b=this.player_.textTracks(),d=this.player_.cache_.selectedLanguage,c=void 0,e=void 0,f=void 0,p=0;p<b.length;p++){var g=b[p];d&&d.enabled&&d.language===g.language?g.kind===d.kind?f=g:f||(f=g):d&&!d.enabled?e=c=f=null:g.default&&("descriptions"!==g.kind||c?g.kind in a&&!e&&(e=g):c=g)}f?f.mode="showing":e?e.mode="showing":c&&(c.mode="showing")};b.prototype.toggleDisplay=function(){this.player_.tech_&&
this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()};b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})};b.prototype.clearDisplay=function(){"function"===typeof N.WebVTT&&N.WebVTT.processCues(N,[],this.el_)};b.prototype.updateDisplay=function(){var a=this.player_.textTracks();this.clearDisplay();for(var b=null,d=null,c=a.length;c--;){var e=a[c];"showing"===e.mode&&("descriptions"===
e.kind?b=e:d=e)}d?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(d)):b&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(b))};b.prototype.updateForTrack=function(a){if("function"===typeof N.WebVTT&&a.activeCues){for(var b=[],d=0;d<a.activeCues.length;d++)b.push(a.activeCues[d]);N.WebVTT.processCues(N,b,this.el_);if(this.player_.textTrackSettings)for(a=this.player_.textTrackSettings.getValues(),
d=b.length;d--;){var c=b[d];if(c){c=c.displayState;a.color&&(c.firstChild.style.color=a.color);if(a.textOpacity){var e=mc(a.color||"#fff",a.textOpacity);try{c.firstChild.style.color=e}catch(Bh){}}a.backgroundColor&&(c.firstChild.style.backgroundColor=a.backgroundColor);if(a.backgroundOpacity){e=mc(a.backgroundColor||"#000",a.backgroundOpacity);try{c.firstChild.style.backgroundColor=e}catch(Bh){}}if(a.windowColor)if(a.windowOpacity){e=mc(a.windowColor,a.windowOpacity);try{c.style.backgroundColor=e}catch(Bh){}}else c.style.backgroundColor=
a.windowColor;a.edgeStyle&&("dropshadow"===a.edgeStyle?c.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===a.edgeStyle?c.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===a.edgeStyle?c.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===a.edgeStyle&&(c.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222"));a.fontPercent&&1!==a.fontPercent&&(e=N.parseFloat(c.style.fontSize),
c.style.fontSize=e*a.fontPercent+"px",c.style.height="auto",c.style.top="auto",c.style.bottom="2px");a.fontFamily&&"default"!==a.fontFamily&&("small-caps"===a.fontFamily?c.firstChild.style.fontVariant="small-caps":c.firstChild.style.fontFamily=rg[a.fontFamily])}}}};return b}(P);P.registerComponent("TextTrackDisplay",Og);var vh=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.createEl=function(){var b=this.player_.isAudio();b=this.localize(b?"Audio Player":
"Video Player");b=v("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[b])});var d=a.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});d.appendChild(b);return d};return b}(P);P.registerComponent("LoadingSpinner",vh);var pb=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.createEl=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:{};a="button";b=f({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},b);d=f({type:"button"},d);b=P.prototype.createEl.call(this,a,b,d);this.createControlTextEl(b);return b};b.prototype.addChild=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Ka.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead.");return P.prototype.addChild.call(this,
a,b)};b.prototype.enable=function(){a.prototype.enable.call(this);this.el_.removeAttribute("disabled")};b.prototype.disable=function(){a.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")};b.prototype.handleKeyPress=function(b){32!==b.which&&13!==b.which&&a.prototype.handleKeyPress.call(this,b)};return b}(sa);P.registerComponent("Button",pb);var ka=function(a){function b(d,c){X(this,b);d=S(this,a.call(this,d,c));d.mouseused_=!1;d.on("mousedown",d.handleMouseDown);return d}ca(b,
a);b.prototype.buildCSSClass=function(){return"vjs-big-play-button"};b.prototype.handleClick=function(a){var b=this.player_.play();if(this.mouseused_&&a.clientX&&a.clientY)Ca(b);else{var d=(a=this.player_.getChild("controlBar"))&&a.getChild("playToggle");d?(a=function(){return d.focus()},Aa(b)?b.then(a,function(){}):this.setTimeout(a,1)):this.player_.focus()}};b.prototype.handleKeyPress=function(b){this.mouseused_=!1;a.prototype.handleKeyPress.call(this,b)};b.prototype.handleMouseDown=function(a){this.mouseused_=
!0};return b}(pb);ka.prototype.controlText_="Play video";P.registerComponent("BigPlayButton",ka);var qc=function(a){function b(d,c){X(this,b);d=S(this,a.call(this,d,c));d.controlText(c&&c.controlText||d.localize("Close"));return d}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-close-button "+a.prototype.buildCSSClass.call(this)};b.prototype.handleClick=function(a){this.trigger({type:"close",bubbles:!1})};return b}(pb);P.registerComponent("CloseButton",qc);var bc=function(a){function b(d,
c){X(this,b);c=S(this,a.call(this,d,c));c.on(d,"play",c.handlePlay);c.on(d,"pause",c.handlePause);c.on(d,"ended",c.handleEnded);return c}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-play-control "+a.prototype.buildCSSClass.call(this)};b.prototype.handleClick=function(a){this.player_.paused()?this.player_.play():this.player_.pause()};b.prototype.handleSeeked=function(a){this.removeClass("vjs-ended");this.player_.paused()?this.handlePause(a):this.handlePlay(a)};b.prototype.handlePlay=function(a){this.removeClass("vjs-ended");
this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")};b.prototype.handlePause=function(a){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")};b.prototype.handleEnded=function(a){this.removeClass("vjs-playing");this.addClass("vjs-ended");this.controlText("Replay");this.one(this.player_,"seeked",this.handleSeeked)};return b}(pb);bc.prototype.controlText_="Play";P.registerComponent("PlayToggle",bc);var Xc=function(a,b){a=0>a?0:a;var d=
Math.floor(a%60),c=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60);b=Math.floor(b/3600);if(isNaN(a)||Infinity===a)e=c=d="-";e=0<e||0<b?e+":":"";return e+(((e||10<=f)&&10>c?"0"+c:c)+":")+(10>d?"0"+d:d)},Bb=Xc,wd=function(a){function b(d,c){X(this,b);c=S(this,a.call(this,d,c));c.throttledUpdateContent=ye(Da(c,c.updateContent),25);c.on(d,"timeupdate",c.throttledUpdateContent);return c}ca(b,a);b.prototype.createEl=function(b){b=this.buildCSSClass();var d=a.prototype.createEl.call(this,
"div",{className:b+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+"\u00a0</span>"});this.contentEl_=v("span",{className:b+"-display"},{"aria-live":"off"});this.updateTextNode_();d.appendChild(this.contentEl_);return d};b.prototype.dispose=function(){this.textNode_=this.contentEl_=null;a.prototype.dispose.call(this)};b.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);
this.textNode_=da.createTextNode(this.formattedTime_||this.formatTime_(0));this.contentEl_.appendChild(this.textNode_)}};b.prototype.formatTime_=function(a){return sb(a)};b.prototype.updateFormattedTime_=function(a){a=this.formatTime_(a);a!==this.formattedTime_&&(this.formattedTime_=a,this.requestAnimationFrame(this.updateTextNode_))};b.prototype.updateContent=function(a){};return b}(P);wd.prototype.labelText_="Time";wd.prototype.controlText_="Time";P.registerComponent("TimeDisplay",wd);var uf=function(a){function b(d,
c){X(this,b);c=S(this,a.call(this,d,c));c.on(d,"ended",c.handleEnded);return c}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-current-time"};b.prototype.updateContent=function(a){a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(a)};b.prototype.handleEnded=function(a){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())};return b}(wd);uf.prototype.labelText_="Current Time";uf.prototype.controlText_="Current Time";
P.registerComponent("CurrentTimeDisplay",uf);var zg=function(a){function b(d,c){X(this,b);c=S(this,a.call(this,d,c));c.on(d,"durationchange",c.updateContent);c.on(d,"loadedmetadata",c.throttledUpdateContent);return c}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-duration"};b.prototype.updateContent=function(a){(a=this.player_.duration())&&this.duration_!==a&&(this.duration_=a,this.updateFormattedTime_(a))};return b}(wd);zg.prototype.labelText_="Duration";zg.prototype.controlText_="Duration";
P.registerComponent("DurationDisplay",zg);var Mb=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};return b}(P);P.registerComponent("TimeDivider",Mb);var yg=function(a){function b(d,c){X(this,b);c=S(this,a.call(this,d,c));c.on(d,"durationchange",c.throttledUpdateContent);c.on(d,"ended",c.handleEnded);return c}
ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-remaining-time"};b.prototype.formatTime_=function(b){return"-"+a.prototype.formatTime_.call(this,b)};b.prototype.updateContent=function(a){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))};b.prototype.handleEnded=function(a){this.player_.duration()&&this.updateFormattedTime_(0)};return b}(wd);yg.prototype.labelText_=
"Remaining Time";yg.prototype.controlText_="Remaining Time";P.registerComponent("RemainingTimeDisplay",yg);var bg=function(a){function b(d,c){X(this,b);d=S(this,a.call(this,d,c));d.updateShowing();d.on(d.player(),"durationchange",d.updateShowing);return d}ca(b,a);b.prototype.createEl=function(){var b=a.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});this.contentEl_=v("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+
"\u00a0</span>"+this.localize("LIVE")},{"aria-live":"off"});b.appendChild(this.contentEl_);return b};b.prototype.dispose=function(){this.contentEl_=null;a.prototype.dispose.call(this)};b.prototype.updateShowing=function(a){Infinity===this.player().duration()?this.show():this.hide()};return b}(P);P.registerComponent("LiveDisplay",bg);var Xe=function(a){function b(d,c){X(this,b);d=S(this,a.call(this,d,c));d.bar=d.getChild(d.options_.barName);d.vertical(!!d.options_.vertical);d.enable();return d}ca(b,
a);b.prototype.enabled=function(){return this.enabled_};b.prototype.enable=function(){if(!this.enabled()){this.on("mousedown",this.handleMouseDown);this.on("touchstart",this.handleMouseDown);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur);this.on("click",this.handleClick);this.on(this.player_,"controlsvisible",this.update);if(this.playerEvent)this.on(this.player_,this.playerEvent,this.update);this.removeClass("disabled");this.setAttribute("tabindex",0);this.enabled_=!0}};b.prototype.disable=
function(){if(this.enabled()){var a=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown);this.off("touchstart",this.handleMouseDown);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur);this.off("click",this.handleClick);this.off(this.player_,"controlsvisible",this.update);this.off(a,"mousemove",this.handleMouseMove);this.off(a,"mouseup",this.handleMouseUp);this.off(a,"touchmove",this.handleMouseMove);this.off(a,"touchend",this.handleMouseUp);this.removeAttribute("tabindex");
this.addClass("disabled");this.playerEvent&&this.off(this.player_,this.playerEvent,this.update);this.enabled_=!1}};b.prototype.createEl=function(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};d.className+=" vjs-slider";d=f({tabIndex:0},d);c=f({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c);return a.prototype.createEl.call(this,b,d,c)};b.prototype.handleMouseDown=function(a){var b=
this.bar.el_.ownerDocument;"mousedown"===a.type&&a.preventDefault();"touchstart"!==a.type||Bc||a.preventDefault();F();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(b,"mousemove",this.handleMouseMove);this.on(b,"mouseup",this.handleMouseUp);this.on(b,"touchmove",this.handleMouseMove);this.on(b,"touchend",this.handleMouseUp);this.handleMouseMove(a)};b.prototype.handleMouseMove=function(a){};b.prototype.handleMouseUp=function(){var a=this.bar.el_.ownerDocument;J();this.removeClass("vjs-sliding");
this.trigger("sliderinactive");this.off(a,"mousemove",this.handleMouseMove);this.off(a,"mouseup",this.handleMouseUp);this.off(a,"touchmove",this.handleMouseMove);this.off(a,"touchend",this.handleMouseUp);this.update()};b.prototype.update=function(){if(this.el_){var a=this.getPercent(),b=this.bar;if(b){if("number"!==typeof a||a!==a||0>a||Infinity===a)a=0;var d=(100*a).toFixed(2)+"%";b=b.el().style;this.vertical()?b.height=d:b.width=d;return a}}};b.prototype.calculateDistance=function(a){a=l(this.el_,
a);return this.vertical()?a.y:a.x};b.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};b.prototype.handleKeyPress=function(a){if(37===a.which||40===a.which)a.preventDefault(),this.stepBack();else if(38===a.which||39===a.which)a.preventDefault(),this.stepForward()};b.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};b.prototype.handleClick=function(a){a.stopImmediatePropagation();a.preventDefault()};
b.prototype.vertical=function(a){if(void 0===a)return this.vertical_||!1;(this.vertical_=!!a)?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")};return b}(P);P.registerComponent("Slider",Xe);var vf=function(a){function b(d,c){X(this,b);c=S(this,a.call(this,d,c));c.partEls_=[];c.on(d,"progress",c.update);return c}ca(b,a);b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+
this.localize("Loaded")+"</span>: 0%</span>"})};b.prototype.dispose=function(){this.partEls_=null;a.prototype.dispose.call(this)};b.prototype.update=function(a){a=this.player_.buffered();var b=this.player_.duration(),d=this.player_.bufferedEnd(),c=this.partEls_,e=function(a,b){a=a/b||0;return 100*(1<=a?1:a)+"%"};this.el_.style.width=e(d,b);for(b=0;b<a.length;b++){var f=a.start(b),p=a.end(b),g=c[b];g||(g=this.el_.appendChild(v()),c[b]=g);g.style.left=e(f,d);g.style.width=e(p-f,d)}for(d=c.length;d>
a.length;d--)this.el_.removeChild(c[d-1]);c.length=a.length};return b}(P);P.registerComponent("LoadProgressBar",vf);var cg=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})};b.prototype.update=function(a,b,d){var c=L(this.el_),e=L(this.player_.el()),f=a.width*b;e&&c&&(b=a.left-e.left+f,a=a.width-f+(e.right-a.right),e=c.width/2,b<e?e+=e-b:a<e&&(e=a),0>e?e=0:e>
c.width&&(e=c.width),this.el_.style.right="-"+e+"px",A(this.el_,d))};return b}(P);P.registerComponent("TimeTooltip",cg);var dg=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})};b.prototype.update=function(a,b){var d=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_);
this.rafId_=this.requestAnimationFrame(function(){var c=d.player_.scrubbing()?d.player_.getCache().currentTime:d.player_.currentTime();c=sb(c,d.player_.duration());var e=d.getChild("timeTooltip");e&&e.update(a,b,c)})};return b}(P);dg.prototype.options_={children:[]};nd||sc||dg.prototype.options_.children.push("timeTooltip");P.registerComponent("PlayProgressBar",dg);var Ag=function(a){function b(d,c){X(this,b);d=S(this,a.call(this,d,c));d.update=ye(Da(d,d.update),25);return d}ca(b,a);b.prototype.createEl=
function(){return a.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})};b.prototype.update=function(a,b){var d=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_);this.rafId_=this.requestAnimationFrame(function(){var c=d.player_.duration();c=sb(b*c,c);d.el_.style.left=a.width*b+"px";d.getChild("timeTooltip").update(a,b,c)})};return b}(P);Ag.prototype.options_={children:["timeTooltip"]};P.registerComponent("MouseTimeDisplay",Ag);var me=function(a){function b(d,c){X(this,b);d=
S(this,a.call(this,d,c));d.setEventHandlers_();return d}ca(b,a);b.prototype.setEventHandlers_=function(){var a=this;this.update=ye(Da(this,this.update),30);this.on(this.player_,"timeupdate",this.update);this.on(this.player_,"ended",this.handleEnded);this.updateInterval=null;this.on(this.player_,["playing"],function(){a.clearInterval(a.updateInterval);a.updateInterval=a.setInterval(function(){a.requestAnimationFrame(function(){a.update()})},30)});this.on(this.player_,["ended","pause","waiting"],function(){a.clearInterval(a.updateInterval)});
this.on(this.player_,["timeupdate","ended"],this.update)};b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})};b.prototype.update_=function(a,b){var d=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*b).toFixed(2));this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[sb(a,d),sb(d,d)],"{1} of {2}"));this.bar.update(L(this.el_),
b)};b.prototype.update=function(b){b=a.prototype.update.call(this);this.update_(this.getCurrentTime_(),b);return b};b.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()};b.prototype.handleEnded=function(a){this.update_(this.player_.duration(),1)};b.prototype.getPercent=function(){var a=this.getCurrentTime_()/this.player_.duration();return 1<=a?1:a||0};b.prototype.handleMouseDown=function(b){W(b)&&(b.stopPropagation(),
this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),a.prototype.handleMouseDown.call(this,b))};b.prototype.handleMouseMove=function(a){W(a)&&(a=this.calculateDistance(a)*this.player_.duration(),a===this.player_.duration()&&(a-=.1),this.player_.currentTime(a))};b.prototype.enable=function(){a.prototype.enable.call(this);var b=this.getChild("mouseTimeDisplay");b&&b.show()};b.prototype.disable=function(){a.prototype.disable.call(this);var b=this.getChild("mouseTimeDisplay");
b&&b.hide()};b.prototype.handleMouseUp=function(b){a.prototype.handleMouseUp.call(this,b);b&&b.stopPropagation();this.player_.scrubbing(!1);this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0});this.videoWasPlaying&&Ca(this.player_.play())};b.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};b.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)};b.prototype.handleAction=function(a){this.player_.paused()?this.player_.play():
this.player_.pause()};b.prototype.handleKeyPress=function(b){32===b.which||13===b.which?(b.preventDefault(),this.handleAction(b)):a.prototype.handleKeyPress&&a.prototype.handleKeyPress.call(this,b)};return b}(Xe);me.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};nd||sc||me.prototype.options_.children.splice(1,0,"mouseTimeDisplay");me.prototype.playerEvent="timeupdate";P.registerComponent("SeekBar",me);var wf=function(a){function b(d,c){X(this,b);d=S(this,
a.call(this,d,c));d.handleMouseMove=ye(Da(d,d.handleMouseMove),25);d.throttledHandleMouseSeek=ye(Da(d,d.handleMouseSeek),25);d.enable();return d}ca(b,a);b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};b.prototype.handleMouseMove=function(a){var b=this.getChild("seekBar");if(b){var d=b.getChild("mouseTimeDisplay"),c=b.el();b=L(c);a=l(c,a).x;1<a?a=1:0>a&&(a=0);d&&d.update(b,a)}};b.prototype.handleMouseSeek=function(a){var b=
this.getChild("seekBar");b&&b.handleMouseMove(a)};b.prototype.enabled=function(){return this.enabled_};b.prototype.disable=function(){this.children().forEach(function(a){return a.disable&&a.disable()});this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)};b.prototype.enable=function(){this.children().forEach(function(a){return a.enable&&a.enable()});this.enabled()||
(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)};b.prototype.handleMouseDown=function(a){var b=this.el_.ownerDocument,d=this.getChild("seekBar");d&&d.handleMouseDown(a);this.on(b,"mousemove",this.throttledHandleMouseSeek);this.on(b,"touchmove",this.throttledHandleMouseSeek);this.on(b,"mouseup",this.handleMouseUp);this.on(b,"touchend",this.handleMouseUp)};b.prototype.handleMouseUp=function(a){var b=
this.el_.ownerDocument,d=this.getChild("seekBar");d&&d.handleMouseUp(a);this.off(b,"mousemove",this.throttledHandleMouseSeek);this.off(b,"touchmove",this.throttledHandleMouseSeek);this.off(b,"mouseup",this.handleMouseUp);this.off(b,"touchend",this.handleMouseUp)};return b}(P);wf.prototype.options_={children:["seekBar"]};P.registerComponent("ProgressControl",wf);var xf=function(a){function b(d,c){X(this,b);c=S(this,a.call(this,d,c));c.on(d,"fullscreenchange",c.handleFullscreenChange);return c}ca(b,
a);b.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+a.prototype.buildCSSClass.call(this)};b.prototype.handleFullscreenChange=function(a){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")};b.prototype.handleClick=function(a){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()};return b}(pb);xf.prototype.controlText_="Fullscreen";P.registerComponent("FullscreenToggle",xf);var Pd=function(a,b){b.tech_&&
!b.tech_.featuresVolumeControl&&a.addClass("vjs-hidden");a.on(b,"loadstart",function(){b.tech_.featuresVolumeControl?a.removeClass("vjs-hidden"):a.addClass("vjs-hidden")})},xd=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};return b}(P);P.registerComponent("VolumeLevel",xd);var Vg=function(a){function b(d,
c){X(this,b);var e=S(this,a.call(this,d,c));e.on("slideractive",e.updateLastVolume_);e.on(d,"volumechange",e.updateARIAAttributes);d.ready(function(){return e.updateARIAAttributes()});return e}ca(b,a);b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})};b.prototype.handleMouseDown=function(b){W(b)&&a.prototype.handleMouseDown.call(this,b)};b.prototype.handleMouseMove=
function(a){W(a)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(a)))};b.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)};b.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()};b.prototype.stepForward=function(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)};b.prototype.stepBack=function(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)};b.prototype.updateARIAAttributes=function(a){a=this.player_.muted()?
0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a);this.el_.setAttribute("aria-valuetext",a+"%")};b.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())};b.prototype.updateLastVolume_=function(){var a=this,b=this.player_.volume();this.one("sliderinactive",function(){0===a.player_.volume()&&a.player_.lastVolume_(b)})};return b}(Xe);Vg.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};Vg.prototype.playerEvent="volumechange";P.registerComponent("VolumeBar",
Vg);var yf=function(a){function b(d){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};X(this,b);c.vertical=!0;if("undefined"===typeof c.volumeBar||h(c.volumeBar))c.volumeBar=c.volumeBar||{},c.volumeBar.vertical=c.vertical;var e=S(this,a.call(this,d,c));Pd(e,d);e.throttledHandleMouseMove=ye(Da(e,e.handleMouseMove),25);e.on("mousedown",e.handleMouseDown);e.on("touchstart",e.handleMouseDown);e.on(e.volumeBar,["focus","slideractive"],function(){e.volumeBar.addClass("vjs-slider-active");
e.addClass("vjs-slider-active");e.trigger("slideractive")});e.on(e.volumeBar,["blur","sliderinactive"],function(){e.volumeBar.removeClass("vjs-slider-active");e.removeClass("vjs-slider-active");e.trigger("sliderinactive")});return e}ca(b,a);b.prototype.createEl=function(){var b="vjs-volume-horizontal";this.options_.vertical&&(b="vjs-volume-vertical");return a.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+b})};b.prototype.handleMouseDown=function(a){a=this.el_.ownerDocument;
this.on(a,"mousemove",this.throttledHandleMouseMove);this.on(a,"touchmove",this.throttledHandleMouseMove);this.on(a,"mouseup",this.handleMouseUp);this.on(a,"touchend",this.handleMouseUp)};b.prototype.handleMouseUp=function(a){a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove);this.off(a,"touchmove",this.throttledHandleMouseMove);this.off(a,"mouseup",this.handleMouseUp);this.off(a,"touchend",this.handleMouseUp)};b.prototype.handleMouseMove=function(a){this.volumeBar.handleMouseMove(a)};
return b}(P);yf.prototype.options_={children:["volumeBar"]};P.registerComponent("VolumeControl",yf);var Ma=function(a){function b(d,c){X(this,b);c=S(this,a.call(this,d,c));Pd(c,d);c.on(d,["loadstart","volumechange"],c.update);return c}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-mute-control "+a.prototype.buildCSSClass.call(this)};b.prototype.handleClick=function(a){a=this.player_.volume();var b=this.player_.lastVolume_();0===a?(this.player_.volume(.1>b?.1:b),this.player_.muted(!1)):this.player_.muted(this.player_.muted()?
!1:!0)};b.prototype.update=function(a){this.updateIcon_();this.updateControlText_()};b.prototype.updateIcon_=function(){var a=this.player_.volume(),b=3;0===a||this.player_.muted()?b=0:.33>a?b=1:.67>a&&(b=2);for(a=0;4>a;a++)B(this.el_,"vjs-vol-"+a);q(this.el_,"vjs-vol-"+b)};b.prototype.updateControlText_=function(){var a=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)};return b}(pb);Ma.prototype.controlText_="Mute";P.registerComponent("MuteToggle",
Ma);var Za=function(a){function b(d){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};X(this,b);c.inline="undefined"!==typeof c.inline?c.inline:!0;if("undefined"===typeof c.volumeControl||h(c.volumeControl))c.volumeControl=c.volumeControl||{},c.volumeControl.vertical=!c.inline;c=S(this,a.call(this,d,c));Pd(c,d);c.on(c.volumeControl,["slideractive"],c.sliderActive_);c.on(c.volumeControl,["sliderinactive"],c.sliderInactive_);return c}ca(b,a);b.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")};
b.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")};b.prototype.createEl=function(){var b="vjs-volume-panel-vertical";this.options_.inline||(b="vjs-volume-panel-vertical");return a.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+b})};return b}(P);Za.prototype.options_={children:["muteToggle","volumeControl"]};P.registerComponent("VolumePanel",Za);var zb=function(a){function b(d,c){X(this,b);d=S(this,a.call(this,d,c));c&&(d.menuButton_=c.menuButton);
d.focusedChild_=-1;d.on("keydown",d.handleKeyPress);return d}ca(b,a);b.prototype.addItem=function(a){this.addChild(a);a.on("click",Da(this,function(b){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==a.name()&&this.menuButton_.focus())}))};b.prototype.createEl=function(){this.contentEl_=v(this.options_.contentElType||"ul",{className:"vjs-menu-content"});this.contentEl_.setAttribute("role","menu");var b=a.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});
b.appendChild(this.contentEl_);xa(b,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return b};b.prototype.dispose=function(){this.contentEl_=null;a.prototype.dispose.call(this)};b.prototype.handleKeyPress=function(a){if(37===a.which||40===a.which)a.preventDefault(),this.stepForward();else if(38===a.which||39===a.which)a.preventDefault(),this.stepBack()};b.prototype.stepForward=function(){var a=0;void 0!==this.focusedChild_&&(a=this.focusedChild_+1);this.focus(a)};b.prototype.stepBack=
function(){var a=0;void 0!==this.focusedChild_&&(a=this.focusedChild_-1);this.focus(a)};b.prototype.focus=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,b=this.children().slice();b.length&&b[0].className&&/vjs-menu-title/.test(b[0].className)&&b.shift();0<b.length&&(0>a?a=0:a>=b.length&&(a=b.length-1),this.focusedChild_=a,b[a].el_.focus())};return b}(P);P.registerComponent("Menu",zb);var Bg=function(a){function b(d){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{};X(this,b);var e=S(this,a.call(this,d,c));e.menuButton_=new pb(d,c);e.menuButton_.controlText(e.controlText_);e.menuButton_.el_.setAttribute("aria-haspopup","true");c=pb.prototype.buildCSSClass();e.menuButton_.el_.className=e.buildCSSClass()+" "+c;e.menuButton_.removeClass("vjs-control");e.addChild(e.menuButton_);e.update();e.enabled_=!0;e.on(e.menuButton_,"tap",e.handleClick);e.on(e.menuButton_,"click",e.handleClick);e.on(e.menuButton_,"focus",e.handleFocus);e.on(e.menuButton_,"blur",e.handleBlur);
e.on("keydown",e.handleSubmenuKeyPress);return e}ca(b,a);b.prototype.update=function(){var a=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu));this.menu=a;this.addChild(a);this.buttonPressed_=!1;this.menuButton_.el_.setAttribute("aria-expanded","false");this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()};b.prototype.createMenu=function(){var a=new zb(this.player_,{menuButton:this});this.hideThreshold_=0;if(this.options_.title){var b=v("li",{className:"vjs-menu-title",
innerHTML:Fa(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;a.children_.unshift(b);y(b,a.contentEl())}if(this.items=this.createItems())for(b=0;b<this.items.length;b++)a.addItem(this.items[b]);return a};b.prototype.createItems=function(){};b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})};b.prototype.buildWrapperCSSClass=function(){var b="vjs-menu-button";b=!0===this.options_.inline?b+"-inline":b+"-popup";var d=pb.prototype.buildCSSClass();
return"vjs-menu-button "+b+" "+d+" "+a.prototype.buildCSSClass.call(this)};b.prototype.buildCSSClass=function(){var b="vjs-menu-button";b=!0===this.options_.inline?b+"-inline":b+"-popup";return"vjs-menu-button "+b+" "+a.prototype.buildCSSClass.call(this)};b.prototype.controlText=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(a,b)};b.prototype.handleClick=function(a){this.one(this.menu.contentEl(),"mouseleave",Da(this,
function(a){this.unpressButton();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()};b.prototype.focus=function(){this.menuButton_.focus()};b.prototype.blur=function(){this.menuButton_.blur()};b.prototype.handleFocus=function(){xa(da,"keydown",Da(this,this.handleKeyPress))};b.prototype.handleBlur=function(){ma(da,"keydown",Da(this,this.handleKeyPress))};b.prototype.handleKeyPress=function(a){27===a.which||9===a.which?(this.buttonPressed_&&this.unpressButton(),9!==a.which&&
(a.preventDefault(),this.menuButton_.el_.focus())):38!==a.which&&40!==a.which||this.buttonPressed_||(this.pressButton(),a.preventDefault())};b.prototype.handleSubmenuKeyPress=function(a){if(27===a.which||9===a.which)this.buttonPressed_&&this.unpressButton(),9!==a.which&&(a.preventDefault(),this.menuButton_.el_.focus())};b.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),nd&&r()||this.menu.focus())};
b.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))};b.prototype.disable=function(){this.unpressButton();this.enabled_=!1;this.addClass("vjs-disabled");this.menuButton_.disable()};b.prototype.enable=function(){this.enabled_=!0;this.removeClass("vjs-disabled");this.menuButton_.enable()};return b}(P);P.registerComponent("MenuButton",Bg);var Qd=function(a){function b(d,c){X(this,b);var e=c.tracks;
d=S(this,a.call(this,d,c));1>=d.items.length&&d.hide();if(!e)return S(d);var f=Da(d,d.update);e.addEventListener("removetrack",f);e.addEventListener("addtrack",f);d.player_.on("ready",f);d.player_.on("dispose",function(){e.removeEventListener("removetrack",f);e.removeEventListener("addtrack",f)});return d}ca(b,a);return b}(Bg);P.registerComponent("TrackButton",Qd);var Xb=function(a){function b(d,c){X(this,b);d=S(this,a.call(this,d,c));d.selectable=c.selectable;d.isSelected_=c.selected||!1;d.multiSelectable=
c.multiSelectable;d.selected(d.isSelected_);d.selectable?d.multiSelectable?d.el_.setAttribute("role","menuitemcheckbox"):d.el_.setAttribute("role","menuitemradio"):d.el_.setAttribute("role","menuitem");return d}ca(b,a);b.prototype.createEl=function(b,d,c){this.nonIconControl=!0;return a.prototype.createEl.call(this,"li",f({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},d),c)};b.prototype.handleClick=function(a){this.selected(!0)};
b.prototype.selected=function(a){this.selectable&&(a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))};return b}(sa);P.registerComponent("MenuItem",Xb);var Rd=function(a){function b(d,c){X(this,b);var e=c.track,f=d.textTracks();c.label=e.label||e.language||"Unknown";c.selected="showing"===e.mode;var p=
S(this,a.call(this,d,c));p.track=e;var g=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];p.handleTracksChange.apply(p,b)},h=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];p.handleSelectedLanguageChange.apply(p,b)};d.on(["loadstart","texttrackchange"],g);f.addEventListener("change",g);f.addEventListener("selectedlanguagechange",h);p.on("dispose",function(){d.off(["loadstart","texttrackchange"],g);f.removeEventListener("change",g);f.removeEventListener("selectedlanguagechange",
h)});if(void 0===f.onchange){var l=void 0;p.on(["tap","click"],function(){if("object"!==Ib(N.Event))try{l=new N.Event("change")}catch(lk){}l||(l=da.createEvent("Event"),l.initEvent("change",!0,!0));f.dispatchEvent(l)})}p.handleTracksChange();return p}ca(b,a);b.prototype.handleClick=function(b){var d=this.track.kind,c=this.track.kinds,e=this.player_.textTracks();c||(c=[d]);a.prototype.handleClick.call(this,b);if(e)for(b=0;b<e.length;b++)d=e[b],d===this.track&&-1<c.indexOf(d.kind)?"showing"!==d.mode&&
(d.mode="showing"):"disabled"!==d.mode&&(d.mode="disabled")};b.prototype.handleTracksChange=function(a){a="showing"===this.track.mode;a!==this.isSelected_&&this.selected(a)};b.prototype.handleSelectedLanguageChange=function(a){"showing"===this.track.mode&&(a=this.player_.cache_.selectedLanguage,a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}))};b.prototype.dispose=function(){this.track=
null;a.prototype.dispose.call(this)};return b}(Xb);P.registerComponent("TextTrackMenuItem",Rd);var xh=function(a){function b(d,c){X(this,b);c.track={player:d,kind:c.kind,kinds:c.kinds,default:!1,mode:"disabled"};c.kinds||(c.kinds=[c.kind]);c.track.label=c.label?c.label:c.kinds.join(" and ")+" off";c.selectable=!0;c.multiSelectable=!1;return S(this,a.call(this,d,c))}ca(b,a);b.prototype.handleTracksChange=function(a){a=this.player().textTracks();for(var b=!0,d=0,c=a.length;d<c;d++){var e=a[d];if(-1<
this.options_.kinds.indexOf(e.kind)&&"showing"===e.mode){b=!1;break}}b!==this.isSelected_&&this.selected(b)};b.prototype.handleSelectedLanguageChange=function(a){a=this.player().textTracks();for(var b=!0,d=0,c=a.length;d<c;d++){var e=a[d];if(-1<["captions","descriptions","subtitles"].indexOf(e.kind)&&"showing"===e.mode){b=!1;break}}b&&(this.player_.cache_.selectedLanguage={enabled:!1})};return b}(Rd);P.registerComponent("OffTextTrackMenuItem",xh);var zf=function(a){function b(d){var c=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{};X(this,b);c.tracks=d.textTracks();return S(this,a.call(this,d,c))}ca(b,a);b.prototype.createItems=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Rd,d=void 0;this.label_&&(d=this.label_+" off");a.push(new xh(this.player_,{kinds:this.kinds_,kind:this.kind_,label:d}));this.hideThreshold_+=1;d=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var c=
0;c<d.length;c++){var e=d[c];if(-1<this.kinds_.indexOf(e.kind)){var f=new b(this.player_,{track:e,selectable:!0,multiSelectable:!1});f.addClass("vjs-"+e.kind+"-menu-item");a.push(f)}}return a};return b}(Qd);P.registerComponent("TextTrackButton",zf);var Ye=function(a){function b(d,c){X(this,b);var e=c.track,f=c.cue,p=d.currentTime();c.selectable=!0;c.multiSelectable=!1;c.label=f.text;c.selected=f.startTime<=p&&p<f.endTime;d=S(this,a.call(this,d,c));d.track=e;d.cue=f;e.addEventListener("cuechange",
Da(d,d.update));return d}ca(b,a);b.prototype.handleClick=function(b){a.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};b.prototype.update=function(a){a=this.cue;var b=this.player_.currentTime();this.selected(a.startTime<=b&&b<a.endTime)};return b}(Xb);P.registerComponent("ChaptersTrackMenuItem",Ye);var yd=function(a){function b(d,c,e){X(this,b);return S(this,a.call(this,d,c,e))}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-chapters-button "+
a.prototype.buildCSSClass.call(this)};b.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+a.prototype.buildWrapperCSSClass.call(this)};b.prototype.update=function(b){this.track_&&(!b||"addtrack"!==b.type&&"removetrack"!==b.type)||this.setTrack(this.findChaptersTrack());a.prototype.update.call(this)};b.prototype.setTrack=function(a){if(this.track_!==a){this.updateHandler_||(this.updateHandler_=this.update.bind(this));if(this.track_){var b=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);
b&&b.removeEventListener("load",this.updateHandler_);this.track_=null}if(this.track_=a)this.track_.mode="hidden",(a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&a.addEventListener("load",this.updateHandler_)}};b.prototype.findChaptersTrack=function(){for(var a=this.player_.textTracks()||[],b=a.length-1;0<=b;b--){var d=a[b];if(d.kind===this.kind_)return d}};b.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Fa(this.kind_))};
b.prototype.createMenu=function(){this.options_.title=this.getMenuCaption();return a.prototype.createMenu.call(this)};b.prototype.createItems=function(){var a=[];if(!this.track_)return a;var b=this.track_.cues;if(!b)return a;for(var d=0,c=b.length;d<c;d++){var e=new Ye(this.player_,{track:this.track_,cue:b[d]});a.push(e)}return a};return b}(zf);yd.prototype.kind_="chapters";yd.prototype.controlText_="Chapters";P.registerComponent("ChaptersButton",yd);var Oc=function(a){function b(d,c,e){X(this,b);
c=S(this,a.call(this,d,c,e));var f=d.textTracks(),p=Da(c,c.handleTracksChange);f.addEventListener("change",p);c.on("dispose",function(){f.removeEventListener("change",p)});return c}ca(b,a);b.prototype.handleTracksChange=function(a){a=this.player().textTracks();for(var b=!1,d=0,c=a.length;d<c;d++){var e=a[d];if(e.kind!==this.kind_&&"showing"===e.mode){b=!0;break}}b?this.disable():this.enable()};b.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)};
b.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)};return b}(zf);Oc.prototype.kind_="descriptions";Oc.prototype.controlText_="Descriptions";P.registerComponent("DescriptionsButton",Oc);var Cg=function(a){function b(d,c,e){X(this,b);return S(this,a.call(this,d,c,e))}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+a.prototype.buildCSSClass.call(this)};b.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+
a.prototype.buildWrapperCSSClass.call(this)};return b}(zf);Cg.prototype.kind_="subtitles";Cg.prototype.controlText_="Subtitles";P.registerComponent("SubtitlesButton",Cg);var vc=function(a){function b(d,c){X(this,b);c.track={player:d,kind:c.kind,label:c.kind+" settings",selectable:!1,default:!1,mode:"disabled"};c.selectable=!1;c.name="CaptionSettingsMenuItem";d=S(this,a.call(this,d,c));d.addClass("vjs-texttrack-settings");d.controlText(", opens "+c.kind+" settings dialog");return d}ca(b,a);b.prototype.handleClick=
function(a){this.player().getChild("textTrackSettings").open()};return b}(Rd);P.registerComponent("CaptionSettingsMenuItem",vc);var Ze=function(a){function b(d,c,e){X(this,b);return S(this,a.call(this,d,c,e))}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-captions-button "+a.prototype.buildCSSClass.call(this)};b.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+a.prototype.buildWrapperCSSClass.call(this)};b.prototype.createItems=function(){var b=[];this.player().tech_&&
this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(b.push(new vc(this.player_,{kind:this.kind_})),this.hideThreshold_+=1);return a.prototype.createItems.call(this,b)};return b}(zf);Ze.prototype.kind_="captions";Ze.prototype.controlText_="Captions";P.registerComponent("CaptionsButton",Ze);var Af=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.createEl=function(b,d,c){var e='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);
"captions"===this.options_.track.kind&&(e+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      ");return a.prototype.createEl.call(this,b,f({innerHTML:e+"</span>"},d),c)};return b}(Rd);P.registerComponent("SubsCapsMenuItem",Af);var Wg=function(a){function b(d){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};X(this,b);c=S(this,a.call(this,d,c));c.label_="subtitles";-1<["en","en-us",
"en-ca","fr-ca"].indexOf(c.player_.language_)&&(c.label_="captions");c.menuButton_.controlText(Fa(c.label_));return c}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+a.prototype.buildCSSClass.call(this)};b.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+a.prototype.buildWrapperCSSClass.call(this)};b.prototype.createItems=function(){var b=[];this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||
(b.push(new vc(this.player_,{kind:this.label_})),this.hideThreshold_+=1);return b=a.prototype.createItems.call(this,b,Af)};return b}(zf);Wg.prototype.kinds_=["captions","subtitles"];Wg.prototype.controlText_="Subtitles";P.registerComponent("SubsCapsButton",Wg);var Ce=function(a){function b(d,c){X(this,b);var e=c.track,f=d.audioTracks();c.label=e.label||e.language||"Unknown";c.selected=e.enabled;var p=S(this,a.call(this,d,c));p.track=e;var g=function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=
arguments[d];p.handleTracksChange.apply(p,b)};f.addEventListener("change",g);p.on("dispose",function(){f.removeEventListener("change",g)});return p}ca(b,a);b.prototype.handleClick=function(b){var d=this.player_.audioTracks();a.prototype.handleClick.call(this,b);for(b=0;b<d.length;b++){var c=d[b];c.enabled=c===this.track}};b.prototype.handleTracksChange=function(a){this.selected(this.track.enabled)};return b}(Xb);P.registerComponent("AudioTrackMenuItem",Ce);var V=function(a){function b(d){var c=1<
arguments.length&&void 0!==arguments[1]?arguments[1]:{};X(this,b);c.tracks=d.audioTracks();return S(this,a.call(this,d,c))}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-audio-button "+a.prototype.buildCSSClass.call(this)};b.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+a.prototype.buildWrapperCSSClass.call(this)};b.prototype.createItems=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var b=this.player_.audioTracks(),
d=0;d<b.length;d++)a.push(new Ce(this.player_,{track:b[d],selectable:!0,multiSelectable:!1}));return a};return b}(Qd);V.prototype.controlText_="Audio Track";P.registerComponent("AudioTrackButton",V);var wa=function(a){function b(d,c){X(this,b);var e=c.rate,f=parseFloat(e,10);c.label=e;c.selected=1===f;c.selectable=!0;c.multiSelectable=!1;c=S(this,a.call(this,d,c));c.label=e;c.rate=f;c.on(d,"ratechange",c.update);return c}ca(b,a);b.prototype.handleClick=function(b){a.prototype.handleClick.call(this);
this.player().playbackRate(this.rate)};b.prototype.update=function(a){this.selected(this.player().playbackRate()===this.rate)};return b}(Xb);wa.prototype.contentElType="button";P.registerComponent("PlaybackRateMenuItem",wa);var Pc=function(a){function b(d,c){X(this,b);c=S(this,a.call(this,d,c));c.updateVisibility();c.updateLabel();c.on(d,"loadstart",c.updateVisibility);c.on(d,"ratechange",c.updateLabel);return c}ca(b,a);b.prototype.createEl=function(){var b=a.prototype.createEl.call(this);this.labelEl_=
v("div",{className:"vjs-playback-rate-value",innerHTML:"1x"});b.appendChild(this.labelEl_);return b};b.prototype.dispose=function(){this.labelEl_=null;a.prototype.dispose.call(this)};b.prototype.buildCSSClass=function(){return"vjs-playback-rate "+a.prototype.buildCSSClass.call(this)};b.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+a.prototype.buildWrapperCSSClass.call(this)};b.prototype.createMenu=function(){var a=new zb(this.player()),b=this.playbackRates();if(b)for(var d=
b.length-1;0<=d;d--)a.addChild(new wa(this.player(),{rate:b[d]+"x"}));return a};b.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())};b.prototype.handleClick=function(a){a=this.player().playbackRate();for(var b=this.playbackRates(),d=b[0],c=0;c<b.length;c++)if(b[c]>a){d=b[c];break}this.player().playbackRate(d)};b.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates};
b.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length};b.prototype.updateVisibility=function(a){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")};b.prototype.updateLabel=function(a){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")};return b}(Bg);Pc.prototype.controlText_="Playback Rate";P.registerComponent("PlaybackRateMenuButton",
Pc);var eg=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-spacer "+a.prototype.buildCSSClass.call(this)};b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};return b}(P);P.registerComponent("Spacer",eg);var Sd=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+
a.prototype.buildCSSClass.call(this)};b.prototype.createEl=function(){var b=a.prototype.createEl.call(this,{className:this.buildCSSClass()});b.innerHTML="\u00a0";return b};return b}(eg);P.registerComponent("CustomControlSpacer",Sd);var Td=function(a){function b(){X(this,b);return S(this,a.apply(this,arguments))}ca(b,a);b.prototype.createEl=function(){return a.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})};return b}(P);Td.prototype.options_={children:"playToggle volumePanel currentTimeDisplay timeDivider durationDisplay progressControl liveDisplay remainingTimeDisplay customControlSpacer playbackRateMenuButton chaptersButton descriptionsButton subsCapsButton audioTrackButton fullscreenToggle".split(" ")};
P.registerComponent("ControlBar",Td);var Xg=function(a){function b(d,c){X(this,b);c=S(this,a.call(this,d,c));c.on(d,"error",c.open);return c}ca(b,a);b.prototype.buildCSSClass=function(){return"vjs-error-display "+a.prototype.buildCSSClass.call(this)};b.prototype.content=function(){var a=this.player().error();return a?this.localize(a.message):""};return b}(Ob);Xg.prototype.options_=Oa(Ob.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});P.registerComponent("ErrorDisplay",
Xg);var ic=["#000","Black"],$e=["#00F","Blue"],Vd=["#0FF","Cyan"],De=["#0F0","Green"],Yb=["#F0F","Magenta"],Yg=["#F00","Red"],Qc=["#FFF","White"],fg=["#FF0","Yellow"],Va=["1","Opaque"],Eg=["0.5","Semi-Transparent"],Ee=["0","Transparent"],af={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ic,Qc,Yg,De,$e,fg,Yb,Vd]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Va,Eg,
Ee]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Qc,ic,Yg,De,$e,fg,Yb,Vd]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif",
"Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(a){return"1.00"===a?null:Number(a)}},textOpacity:{selector:".vjs-text-opacity > select",
id:"captions-foreground-opacity-%s",label:"Transparency",options:[Va,Eg]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Ee,Eg,Va]}};af.windowColor.options=af.backgroundColor.options;var nh=function(a){function b(d,c){X(this,b);c.temporary=!1;var e=S(this,a.call(this,d,c));e.updateDisplay=Da(e,e.updateDisplay);e.fill();e.hasBeenOpened_=
e.hasBeenFilled_=!0;e.endDialog=v("p",{className:"vjs-control-text",textContent:e.localize("End of dialog window.")});e.el().appendChild(e.endDialog);e.setDefaults();void 0===c.persistTextTrackSettings&&(e.options_.persistTextTrackSettings=e.options_.playerOptions.persistTextTrackSettings);e.on(e.$(".vjs-done-button"),"click",function(){e.saveSettings();e.close()});e.on(e.$(".vjs-default-button"),"click",function(){e.setDefaults();e.updateDisplay()});g(af,function(a){e.on(e.$(a.selector),"change",
e.updateDisplay)});e.options_.persistTextTrackSettings&&e.restoreSettings();return e}ca(b,a);b.prototype.dispose=function(){this.endDialog=null;a.prototype.dispose.call(this)};b.prototype.createElSelect_=function(a){var b=this,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"label",e=af[a],f=e.id.replace("%s",this.id_),p=[d,f].join(" ").trim();return["<"+c+' id="'+f+'" class="'+("label"===c?"vjs-label":"")+'">',this.localize(e.label),
"</"+c+">",'<select aria-labelledby="'+p+'">'].concat(e.options.map(function(a){var d=f+"-"+a[1].replace(/\W+/g,"");return['<option id="'+d+'" value="'+a[0]+'" ','aria-labelledby="'+p+" "+d+'">',b.localize(a[1]),"</option>"].join("")})).concat("</select>").join("")};b.prototype.createElFgColor_=function(){var a="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",a),'<span class="vjs-text-opacity vjs-opacity">',
this.createElSelect_("textOpacity",a),"</span></fieldset>"].join("")};b.prototype.createElBgColor_=function(){var a="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",a),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",a),"</span></fieldset>"].join("")};b.prototype.createElWinColor_=function(){var a="captions-window-"+this.id_;
return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+a+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",a),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",a),"</span></fieldset>"].join("")};b.prototype.createElColors_=function(){return v("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})};b.prototype.createElFont_=function(){return v("div",
{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),'</fieldset><fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),'</fieldset><fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})};b.prototype.createElControls_=function(){var a=this.localize("restore all settings to the default values");
return v("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+a+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+a+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})};b.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]};b.prototype.label=function(){return this.localize("Caption Settings Dialog")};b.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")};
b.prototype.buildCSSClass=function(){return a.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"};b.prototype.getValues=function(){var a=this;return c(af,function(b,d,c){var e=a.$(d.selector);d=Gc(e.options[e.options.selectedIndex].value,d.parser);void 0!==d&&(b[c]=d);return b},{})};b.prototype.setValues=function(a){var b=this;g(af,function(d,c){var e=b.$(d.selector);c=a[c];d=d.parser;if(c)for(var f=0;f<e.options.length;f++)if(Gc(e.options[f].value,d)===c){e.selectedIndex=f;break}})};b.prototype.setDefaults=
function(){var a=this;g(af,function(b){var d=b.hasOwnProperty("default")?b.default:0;a.$(b.selector).selectedIndex=d})};b.prototype.restoreSettings=function(){var a=void 0;try{a=JSON.parse(N.localStorage.getItem("vjs-text-track-settings"))}catch(ub){Ka.warn(ub)}a&&this.setValues(a)};b.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var a=this.getValues();try{Object.keys(a).length?N.localStorage.setItem("vjs-text-track-settings",JSON.stringify(a)):N.localStorage.removeItem("vjs-text-track-settings")}catch(ub){Ka.warn(ub)}}};
b.prototype.updateDisplay=function(){var a=this.player_.getChild("textTrackDisplay");a&&a.updateDisplay()};b.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null;this.off(da,"keydown",this.handleKeyDown);var a=this.player_.controlBar,b=a&&a.subsCapsButton;a=a&&a.captionsButton;b?b.focus():a&&a.focus()};return b}(Ob);P.registerComponent("TextTrackSettings",nh);var Fg=function(a){function b(d,c){X(this,b);var e=c.ResizeObserver||N.ResizeObserver;null===c.ResizeObserver&&(e=!1);var f=
Oa({createEl:!e},c),p=S(this,a.call(this,d,f));p.ResizeObserver=c.ResizeObserver||N.ResizeObserver;p.loadListener_=null;p.resizeObserver_=null;p.debouncedHandler_=Vf(function(){p.resizeHandler()},100,!1,d);e?(p.resizeObserver_=new p.ResizeObserver(p.debouncedHandler_),p.resizeObserver_.observe(d.el())):(p.loadListener_=function(){p.el_.contentWindow&&xa(p.el_.contentWindow,"resize",p.debouncedHandler_);p.off("load",p.loadListener_)},p.on("load",p.loadListener_));return p}ca(b,a);b.prototype.createEl=
function(){return a.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})};b.prototype.resizeHandler=function(){this.player_.trigger("playerresize")};b.prototype.dispose=function(){this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect());this.el_&&this.el_.contentWindow&&ma(this.el_.contentWindow,"resize",this.debouncedHandler_);this.loadListener_&&this.off("load",this.loadListener_);this.loadListener_=this.debouncedHandler_=
this.resizeObserver=this.ResizeObserver=null};return b}(P);P.registerComponent("ResizeManager",Fg);var Bf=function(a){var b=a.el();if(b.hasAttribute("src"))return a.triggerSourceset(b.src),!0;b=a.$$("source");var d=[],c="";if(!b.length)return!1;for(var e=0;e<b.length;e++){var f=b[e].src;f&&-1===d.indexOf(f)&&d.push(f)}if(!d.length)return!1;1===d.length&&(c=d[0]);a.triggerSourceset(c);return!0},oh=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(a){var b=
da.createElement(this.nodeName.toLowerCase());b.innerHTML=a;for(a=da.createDocumentFragment();b.childNodes.length;)a.appendChild(b.childNodes[0]);this.innerText="";N.Element.prototype.appendChild.call(this,a);return this.innerHTML}}),Fe=function(a,b){for(var d={},c=0;c<a.length&&!((d=Object.getOwnPropertyDescriptor(a[c],b))&&d.set&&d.get);c++);d.enumerable=!0;d.configurable=!0;return d},Rc=function(a){var b=a.el();if(!b.resetSourceWatch_){var d={},c=Fe([a.el(),N.HTMLMediaElement.prototype,N.Element.prototype,
oh],"innerHTML"),e=function(d){return function(){for(var c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];c=d.apply(b,e);Bf(a);return c}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){b[a]&&(d[a]=b[a],b[a]=e(d[a]))});Object.defineProperty(b,"innerHTML",Oa(c,{set:e(c.set)}));b.resetSourceWatch_=function(){b.resetSourceWatch_=null;Object.keys(d).forEach(function(a){b[a]=d[a]});Object.defineProperty(b,"innerHTML",c)};a.one("sourceset",b.resetSourceWatch_)}},Zg=Object.defineProperty({},
"src",{get:function(){return this.hasAttribute("src")?Cd(N.Element.prototype.getAttribute.call(this,"src")):""},set:function(a){N.Element.prototype.setAttribute.call(this,"src",a);return a}}),gg=function(a){if(a.featuresSourceset){var b=a.el();if(!b.resetSourceset_){var d=Fe([a.el(),N.HTMLMediaElement.prototype,Zg],"src"),c=b.setAttribute,e=b.load;Object.defineProperty(b,"src",Oa(d,{set:function(c){c=d.set.call(b,c);a.triggerSourceset(b.src);return c}}));b.setAttribute=function(d,e){e=c.call(b,d,
e);/src/i.test(d)&&a.triggerSourceset(b.src);return e};b.load=function(){var d=e.call(b);Bf(a)||(a.triggerSourceset(""),Rc(a));return d};b.currentSrc?a.triggerSourceset(b.currentSrc):Bf(a)||Rc(a);b.resetSourceset_=function(){b.resetSourceset_=null;b.load=e;b.setAttribute=c;Object.defineProperty(b,"src",d);b.resetSourceWatch_&&b.resetSourceWatch_()}}}},ne=Ac(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],
["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),ba=function(a){function b(d,c){X(this,b);c=S(this,a.call(this,d,c));var e=d.source,f=!1;e&&(c.el_.currentSrc!==e.src||d.tag&&3===d.tag.initNetworkState_)?c.setSource(e):c.handleLateInit_(c.el_);d.enableSourceset&&c.setupSourcesetHandling_();if(c.el_.hasChildNodes()){var p=c.el_.childNodes,g=p.length;for(e=[];g--;){var h=p[g];"track"===h.nodeName.toLowerCase()&&
(c.featuresNativeTextTracks?(c.remoteTextTrackEls().addTrackElement_(h),c.remoteTextTracks().addTrack(h.track),c.textTracks().addTrack(h.track),f||c.el_.hasAttribute("crossorigin")||!za(h.src)||(f=!0)):e.push(h))}for(p=0;p<e.length;p++)c.el_.removeChild(e[p])}c.proxyNativeTracks_();c.featuresNativeTextTracks&&f&&Ka.warn(Ke(ne));c.restoreMetadataTracksInIOSNativePlayer_();(Jd||fe||tc)&&!0===d.nativeControlsForTouch&&c.setControls(!0);c.proxyWebkitFullscreen_();c.triggerReady();return c}ca(b,a);b.prototype.dispose=
function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_();b.disposeMediaElement(this.el_);this.options_=null;a.prototype.dispose.call(this)};b.prototype.setupSourcesetHandling_=function(){gg(this)};b.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var a=this.textTracks(),b=void 0,d=function(){b=[];for(var d=0;d<a.length;d++){var c=a[d];"metadata"===c.kind&&b.push({track:c,storedMode:c.mode})}};d();a.addEventListener("change",d);this.on("dispose",function(){return a.removeEventListener("change",
d)});var c=function Bh(){for(var d=0;d<b.length;d++){var c=b[d];"disabled"===c.track.mode&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}a.removeEventListener("change",Bh)};this.on("webkitbeginfullscreen",function(){a.removeEventListener("change",d);a.removeEventListener("change",c);a.addEventListener("change",c)});this.on("webkitendfullscreen",function(){a.removeEventListener("change",d);a.addEventListener("change",d);a.removeEventListener("change",c)})};b.prototype.overrideNative_=function(a,
b){var d=this;if(b===this["featuresNative"+a+"Tracks"]){var c=a.toLowerCase();this[c+"TracksListeners_"]&&Object.keys(this[c+"TracksListeners_"]).forEach(function(a){d.el()[c+"Tracks"].removeEventListener(a,d[c+"TracksListeners_"][a])});this["featuresNative"+a+"Tracks"]=!b;this[c+"TracksListeners_"]=null;this.proxyNativeTracksForType_(c)}};b.prototype.overrideNativeAudioTracks=function(a){this.overrideNative_("Audio",a)};b.prototype.overrideNativeVideoTracks=function(a){this.overrideNative_("Video",
a)};b.prototype.proxyNativeTracksForType_=function(a){var b=this;a=Qa[a];var d=this.el()[a.getterName],c=this[a.getterName]();if(this["featuresNative"+a.capitalName+"Tracks"]&&d&&d.addEventListener){var e={change:function(a){c.trigger({type:"change",target:c,currentTarget:c,srcElement:c})},addtrack:function(a){c.addTrack(a.track)},removetrack:function(a){c.removeTrack(a.track)}},f=function(){for(var a=[],b=0;b<c.length;b++){for(var e=!1,f=0;f<d.length;f++)if(d[f]===c[b]){e=!0;break}e||a.push(c[b])}for(;a.length;)c.removeTrack(a.shift())};
this[a.getterName+"Listeners_"]=e;Object.keys(e).forEach(function(a){var c=e[a];d.addEventListener(a,c);b.on("dispose",function(b){return d.removeEventListener(a,c)})});this.on("loadstart",f);this.on("dispose",function(a){return b.off("loadstart",f)})}};b.prototype.proxyNativeTracks_=function(){var a=this;Qa.names.forEach(function(b){a.proxyNativeTracksForType_(b)})};b.prototype.createEl=function(){var a=this.options_.tag;if(!a||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(a){var d=
a.cloneNode(!0);a.parentNode&&a.parentNode.insertBefore(d,a);b.disposeMediaElement(a);a=d}else a=da.createElement("video"),d=this.options_.tag&&I(this.options_.tag),d=Oa({},d),Jd&&!0===this.options_.nativeControlsForTouch||delete d.controls,E(a,f(d,{id:this.options_.techId,class:"vjs-tech"}));a.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&a.setAttribute("preload",this.options_.preload);d=["loop","muted","playsinline","autoplay"];for(var c=0;c<d.length;c++){var e=d[c],
p=this.options_[e];"undefined"!==typeof p&&(p?a.setAttribute(e,e):a.removeAttribute(e),a[e]=p)}return a};b.prototype.handleLateInit_=function(a){if(0!==a.networkState&&3!==a.networkState)if(0===a.readyState){var b=!1,d=function(){b=!0};this.on("loadstart",d);var c=function(){b||this.trigger("loadstart")};this.on("loadedmetadata",c);this.ready(function(){this.off("loadstart",d);this.off("loadedmetadata",c);b||this.trigger("loadstart")})}else{var e=["loadstart"];e.push("loadedmetadata");2<=a.readyState&&
e.push("loadeddata");3<=a.readyState&&e.push("canplay");4<=a.readyState&&e.push("canplaythrough");this.ready(function(){e.forEach(function(a){this.trigger(a)},this)})}};b.prototype.setCurrentTime=function(a){try{this.el_.currentTime=a}catch(ub){Ka(ub,"Video is not ready. (Video.js)")}};b.prototype.duration=function(){var a=this;return Infinity===this.el_.duration&&sc&&Bc&&0===this.el_.currentTime?(this.on("timeupdate",function lb(){0<a.el_.currentTime&&(Infinity===a.el_.duration&&a.trigger("durationchange"),
a.off("timeupdate",lb))}),NaN):this.el_.duration||NaN};b.prototype.width=function(){return this.el_.offsetWidth};b.prototype.height=function(){return this.el_.offsetHeight};b.prototype.proxyWebkitFullscreen_=function(){var a=this;if("webkitDisplayingFullscreen"in this.el_){var b=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},d=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",b),this.trigger("fullscreenchange",
{isFullscreen:!0}))};this.on("webkitbeginfullscreen",d);this.on("dispose",function(){a.off("webkitbeginfullscreen",d);a.off("webkitendfullscreen",b)})}};b.prototype.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var a=N.navigator&&N.navigator.userAgent||"";if(/Android/.test(a)||!/Chrome|Mac OS X 10.5/.test(a))return!0}return!1};b.prototype.enterFullScreen=function(){var a=this.el_;a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){a.pause();
a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()};b.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};b.prototype.src=function(a){if(void 0===a)return this.el_.src;this.setSrc(a)};b.prototype.reset=function(){b.resetMediaElement(this.el_)};b.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc};b.prototype.setControls=function(a){this.el_.controls=!!a};b.prototype.addTextTrack=function(b,d,c){return this.featuresNativeTextTracks?
this.el_.addTextTrack(b,d,c):a.prototype.addTextTrack.call(this,b,d,c)};b.prototype.createRemoteTextTrack=function(b){if(!this.featuresNativeTextTracks)return a.prototype.createRemoteTextTrack.call(this,b);var d=da.createElement("track");b.kind&&(d.kind=b.kind);b.label&&(d.label=b.label);if(b.language||b.srclang)d.srclang=b.language||b.srclang;b.default&&(d.default=b.default);b.id&&(d.id=b.id);b.src&&(d.src=b.src);return d};b.prototype.addRemoteTextTrack=function(b,d){b=a.prototype.addRemoteTextTrack.call(this,
b,d);this.featuresNativeTextTracks&&this.el().appendChild(b);return b};b.prototype.removeRemoteTextTrack=function(b){a.prototype.removeRemoteTextTrack.call(this,b);if(this.featuresNativeTextTracks)for(var d=this.$$("track"),c=d.length;c--;)b!==d[c]&&b!==d[c].track||this.el().removeChild(d[c])};b.prototype.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var a={};"undefined"!==typeof this.el().webkitDroppedFrameCount&&
"undefined"!==typeof this.el().webkitDecodedFrameCount&&(a.droppedVideoFrames=this.el().webkitDroppedFrameCount,a.totalVideoFrames=this.el().webkitDecodedFrameCount);N.performance&&"function"===typeof N.performance.now?a.creationTime=N.performance.now():N.performance&&N.performance.timing&&"number"===typeof N.performance.timing.navigationStart&&(a.creationTime=N.Date.now()-N.performance.timing.navigationStart);return a};return b}(qb);if(m()){ba.TEST_VID=da.createElement("video");var Gg=da.createElement("track");
Gg.kind="captions";Gg.srclang="en";Gg.label="English";ba.TEST_VID.appendChild(Gg)}ba.isSupported=function(){try{ba.TEST_VID.volume=.5}catch(Qi){return!1}return!(!ba.TEST_VID||!ba.TEST_VID.canPlayType)};ba.canPlayType=function(a){return ba.TEST_VID.canPlayType(a)};ba.canPlaySource=function(a,b){return ba.canPlayType(a.type)};ba.canControlVolume=function(){try{var a=ba.TEST_VID.volume;ba.TEST_VID.volume=a/2+.1;return a!==ba.TEST_VID.volume}catch(Jg){return!1}};ba.canControlPlaybackRate=function(){if(sc&&
Bc&&58>te)return!1;try{var a=ba.TEST_VID.playbackRate;ba.TEST_VID.playbackRate=a/2+.1;return a!==ba.TEST_VID.playbackRate}catch(Jg){return!1}};ba.canOverrideAttributes=function(){try{var a=function(){};Object.defineProperty(da.createElement("video"),"src",{get:a,set:a});Object.defineProperty(da.createElement("audio"),"src",{get:a,set:a});Object.defineProperty(da.createElement("video"),"innerHTML",{get:a,set:a});Object.defineProperty(da.createElement("audio"),"innerHTML",{get:a,set:a})}catch(Jg){return!1}return!0};
ba.supportsNativeTextTracks=function(){return pd};ba.supportsNativeVideoTracks=function(){return!(!ba.TEST_VID||!ba.TEST_VID.videoTracks)};ba.supportsNativeAudioTracks=function(){return!(!ba.TEST_VID||!ba.TEST_VID.audioTracks)};ba.Events="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange resize volumechange".split(" ");ba.prototype.featuresVolumeControl=ba.canControlVolume();
ba.prototype.featuresPlaybackRate=ba.canControlPlaybackRate();ba.prototype.featuresSourceset=ba.canOverrideAttributes();ba.prototype.movingMediaElementInDOM=!nd;ba.prototype.featuresFullscreenResize=!0;ba.prototype.featuresProgressEvents=!0;ba.prototype.featuresTimeupdateEvents=!0;ba.prototype.featuresNativeTextTracks=ba.supportsNativeTextTracks();ba.prototype.featuresNativeVideoTracks=ba.supportsNativeVideoTracks();ba.prototype.featuresNativeAudioTracks=ba.supportsNativeAudioTracks();var $g=ba.TEST_VID&&
ba.TEST_VID.constructor.prototype.canPlayType,bf=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;ba.patchCanPlayType=function(){4<=se&&!Qb&&!Bc&&(ba.TEST_VID.constructor.prototype.canPlayType=function(a){return a&&bf.test(a)?"maybe":$g.call(this,a)})};ba.unpatchCanPlayType=function(){var a=ba.TEST_VID.constructor.prototype.canPlayType;ba.TEST_VID.constructor.prototype.canPlayType=$g;return a};ba.patchCanPlayType();ba.disposeMediaElement=function(a){if(a){for(a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);
a.removeAttribute("src");if("function"===typeof a.load)try{a.load()}catch(Jg){}}};ba.resetMediaElement=function(a){if(a){for(var b=a.querySelectorAll("source"),d=b.length;d--;)a.removeChild(b[d]);a.removeAttribute("src");if("function"===typeof a.load)try{a.load()}catch(ub){}}};"muted defaultMuted autoplay controls loop playsinline".split(" ").forEach(function(a){ba.prototype[a]=function(){return this.el_[a]||this.el_.hasAttribute(a)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(a){ba.prototype["set"+
Fa(a)]=function(b){(this.el_[a]=b)?this.el_.setAttribute(a,a):this.el_.removeAttribute(a)}});"paused currentTime buffered volume poster preload error seeking seekable ended playbackRate defaultPlaybackRate played networkState readyState videoWidth videoHeight".split(" ").forEach(function(a){ba.prototype[a]=function(){return this.el_[a]}});"volume src poster preload playbackRate defaultPlaybackRate".split(" ").forEach(function(a){ba.prototype["set"+Fa(a)]=function(b){this.el_[a]=b}});["pause","load",
"play"].forEach(function(a){ba.prototype[a]=function(){return this.el_[a]()}});qb.withSourceHandlers(ba);ba.nativeSourceHandler={};ba.nativeSourceHandler.canPlayType=function(a){try{return ba.TEST_VID.canPlayType(a)}catch(Jg){return""}};ba.nativeSourceHandler.canHandleSource=function(a,b){return a.type?ba.nativeSourceHandler.canPlayType(a.type):a.src?(a=$d(a.src),ba.nativeSourceHandler.canPlayType("video/"+a)):""};ba.nativeSourceHandler.handleSource=function(a,b,d){b.setSrc(a.src)};ba.nativeSourceHandler.dispose=
function(){};ba.registerSourceHandler(ba.nativeSourceHandler);qb.registerTech("Html5",ba);var hg=Ac(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Dc="progress abort suspend emptied stalled loadedmetadata loadeddata timeupdate resize volumechange texttrackchange".split(" "),
Ge={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Fb=function(a){function b(d,c,e){X(this,b);d.id=d.id||c.id||"vjs_video_"+Ra++;c=f(b.getTagSettings(d),c);c.initChildren=!1;c.createEl=!1;c.evented=!1;c.reportTouchActivity=!1;if(!c.language)if("function"===typeof d.closest){var p=d.closest("[lang]");p&&p.getAttribute&&(c.language=p.getAttribute("lang"))}else for(p=d;p&&1===p.nodeType;){if(I(p).hasOwnProperty("lang")){c.language=p.getAttribute("lang");break}p=
p.parentNode}e=S(this,a.call(this,null,c,e));e.isPosterFromTech_=!1;e.queuedCallbacks_=[];e.isReady_=!1;e.hasStarted_=!1;e.userActive_=!1;if(!e.options_||!e.options_.techOrder||!e.options_.techOrder.length)throw Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");e.tag=d;e.tagAttributes=d&&I(d);e.language(e.options_.language);if(c.languages){var g={};Object.getOwnPropertyNames(c.languages).forEach(function(a){g[a.toLowerCase()]=
c.languages[a]});e.languages_=g}else e.languages_=b.prototype.options_.languages;e.cache_={};e.poster_=c.poster||"";e.controls_=!!c.controls;e.cache_.lastVolume=1;d.controls=!1;d.removeAttribute("controls");e.scrubbing_=!1;e.el_=e.createEl();e.cache_.lastPlaybackRate=e.defaultPlaybackRate();fb(e,{eventBusKey:"el_"});p=Oa(e.options_);if(c.plugins){var h=c.plugins;Object.keys(h).forEach(function(a){if("function"===typeof this[a])this[a](h[a]);else throw Error('plugin "'+a+'" does not exist');},e)}e.options_.playerOptions=
p;e.middleware_=[];e.initChildren();e.isAudio("audio"===d.nodeName.toLowerCase());e.controls()?e.addClass("vjs-controls-enabled"):e.addClass("vjs-controls-disabled");e.el_.setAttribute("role","region");e.isAudio()?e.el_.setAttribute("aria-label",e.localize("Audio Player")):e.el_.setAttribute("aria-label",e.localize("Video Player"));e.isAudio()&&e.addClass("vjs-audio");e.flexNotSupported_()&&e.addClass("vjs-no-flex");nd||e.addClass("vjs-workinghover");b.players[e.id_]=e;e.addClass("vjs-v7");e.userActive(!0);
e.reportUserActivity();e.one("play",e.listenForUserActivity_);e.on("fullscreenchange",e.handleFullscreenChange_);e.on("stageclick",e.handleStageClick_);e.changingSrc_=!1;e.playWaitingForReady_=!1;e.playOnLoadstart_=null;return e}ca(b,a);b.prototype.dispose=function(){this.trigger("dispose");this.off("dispose");this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null);b.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);
this.el_&&this.el_.player&&(this.el_.player=null);this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_="");this.playerElIngest_&&(this.playerElIngest_=null);this.tag&&(this.tag=null);ue[this.id()]=null;a.prototype.dispose.call(this)};b.prototype.createEl=function(){var b=this.tag,d=void 0,c=this.playerElIngest_=b.parentNode&&b.parentNode.hasAttribute&&b.parentNode.hasAttribute("data-vjs-player"),e="video-js"===this.tag.tagName.toLowerCase();c?d=this.el_=b.parentNode:e||(d=this.el_=
a.prototype.createEl.call(this,"div"));var f=I(b);if(e){d=this.el_=b;for(b=this.tag=da.createElement("video");d.children.length;)b.appendChild(d.firstChild);x(d,"video-js")||q(d,"video-js");d.appendChild(b);c=this.playerElIngest_=d;Object.keys(d).forEach(function(a){b[a]=d[a]})}b.setAttribute("tabindex","-1");Id&&b.setAttribute("role","application");b.removeAttribute("width");b.removeAttribute("height");Object.getOwnPropertyNames(f).forEach(function(a){e&&"class"===a||d.setAttribute(a,f[a]);e&&b.setAttribute(a,
f[a])});b.playerId=b.id;b.id+="_html5_api";b.className="vjs-tech";b.player=d.player=this;this.addClass("vjs-paused");if(!0!==N.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=ad("vjs-styles-dimensions");var p=hb(".vjs-styles-defaults"),g=hb("head");g.insertBefore(this.styleEl_,p?p.nextSibling:g.firstChild)}this.width(this.options_.width);this.height(this.options_.height);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);p=b.getElementsByTagName("a");for(g=0;g<p.length;g++){var h=
p.item(g);q(h,"vjs-hidden");h.setAttribute("hidden","hidden")}b.initNetworkState_=b.networkState;b.parentNode&&!c&&b.parentNode.insertBefore(d,b);y(b,d);this.children_.unshift(b);this.el_.setAttribute("lang",this.language_);return this.el_=d};b.prototype.width=function(a){return this.dimension("width",a)};b.prototype.height=function(a){return this.dimension("height",a)};b.prototype.dimension=function(a,b){var d=a+"_";if(void 0===b)return this[d]||0;if(""===b)this[d]=void 0,this.updateStyleEl_();else{var c=
parseFloat(b);isNaN(c)?Ka.error('Improper value "'+b+'" supplied for for '+a):(this[d]=c,this.updateStyleEl_())}};b.prototype.fluid=function(a){if(void 0===a)return!!this.fluid_;this.fluid_=!!a;a?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid");this.updateStyleEl_()};b.prototype.aspectRatio=function(a){if(void 0===a)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(a))throw Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=
a;this.fluid(!0);this.updateStyleEl_()};b.prototype.updateStyleEl_=function(){if(!0===N.VIDEOJS_NO_DYNAMIC_STYLE){var a="number"===typeof this.width_?this.width_:this.options_.width,b="number"===typeof this.height_?this.height_:this.options_.height,d=this.tech_&&this.tech_.el();d&&(0<=a&&(d.width=a),0<=b&&(d.height=b))}else{a=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":");var c=a[1]/a[0];a=void 0!==
this.width_?this.width_:void 0!==this.height_?this.height_/c:this.videoWidth()||300;b=void 0!==this.height_?this.height_:a*c;d=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions";this.addClass(d);ld(this.styleEl_,"\n      ."+d+" {\n        width: "+a+"px;\n        height: "+b+"px;\n      }\n\n      ."+d+".vjs-fluid {\n        padding-top: "+100*c+"%;\n      }\n    ")}};b.prototype.loadTech_=function(a,b){var d=this;this.tech_&&this.unloadTech_();var c=Fa(a),e=a.charAt(0).toLowerCase()+
a.slice(1);"Html5"!==c&&this.tag&&(qb.getTech("Html5").disposeMediaElement(this.tag),this.tag=this.tag.player=null);this.techName_=c;this.isReady_=!1;var p={source:b,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+c+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||
!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Ia.names.forEach(function(a){a=Ia[a];p[a.getterName]=d[a.privateName]});f(p,this.options_[c]);f(p,this.options_[e]);f(p,this.options_[a.toLowerCase()]);this.tag&&(p.tag=this.tag);b&&b.src===this.cache_.src&&0<this.cache_.currentTime&&(p.startTime=this.cache_.currentTime);a=qb.getTech(a);if(!a)throw Error("No Tech named '"+c+"' exists! '"+c+"' should be registered using videojs.registerTech()'");
this.tech_=new a(p);this.tech_.ready(Da(this,this.handleTechReady_),!0);kg.jsonToTextTracks(this.textTracksJson_||[],this.tech_);Dc.forEach(function(a){d.on(d.tech_,a,d["handleTech"+Fa(a)+"_"])});Object.keys(Ge).forEach(function(a){d.on(d.tech_,a,function(b){if(0===d.tech_.playbackRate()&&d.tech_.seeking())d.queuedCallbacks_.push({callback:d["handleTech"+Ge[a]+"_"].bind(d),event:b});else d["handleTech"+Ge[a]+"_"](b)})});this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,
"sourceset",this.handleTechSourceset_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,
"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.on(this.tech_,"ratechange",this.handleTechRateChange_);this.usingNativeControls(this.techGet_("controls"));this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_();this.tech_.el().parentNode===this.el()||"Html5"===c&&this.tag||y(this.tech_.el(),this.el());this.tag&&
(this.tag=this.tag.player=null)};b.prototype.unloadTech_=function(){var a=this;Ia.names.forEach(function(b){b=Ia[b];a[b.privateName]=a[b.getterName]()});this.textTracksJson_=kg.textTracksToJson(this.tech_);this.isReady_=!1;this.tech_.dispose();this.tech_=!1;this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange"));this.isPosterFromTech_=!1};b.prototype.tech=function(a){void 0===a&&Ka.warn(Ke(hg));return this.tech_};b.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_();
this.on(this.tech_,"mousedown",this.handleTechClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,"touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)};b.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,
"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mousedown",this.handleTechClick_)};b.prototype.handleTechReady_=function(){this.triggerReady();this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume);this.handleTechPosterChange_();this.handleTechDurationChange_();if((this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(qe){Ka("deleting tag.poster throws in some browsers",qe)}};b.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended");
this.removeClass("vjs-seeking");this.error(null);this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))};b.prototype.updateSourceCaches_=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b=a,d="";"string"!==typeof b&&(b=a.src,d=a.type);this.cache_.source=this.cache_.source||{};this.cache_.sources=this.cache_.sources||[];b&&!d&&(d=$b(this,b));this.cache_.source={src:b,type:d};a=this.cache_.sources.filter(function(a){return a.src&&
a.src===b});d=[];for(var c=this.$$("source"),e=[],f=0;f<c.length;f++){var p=I(c[f]);d.push(p);p.src&&p.src===b&&e.push(p.src)}e.length&&!a.length?this.cache_.sources=d:a.length||(this.cache_.sources=[this.cache_.source]);this.cache_.src=b};b.prototype.handleTechSourceset_=function(a){var b=this;if(!this.changingSrc_&&(this.updateSourceCaches_(a.src),!a.src))this.tech_.one(["sourceset","loadstart"],function Fc(a){"sourceset"!==a.type&&b.updateSourceCaches_(b.techGet_("currentSrc"));b.tech_.off(["sourceset",
"loadstart"],Fc)});this.trigger({src:a.src,type:"sourceset"})};b.prototype.hasStarted=function(a){if(void 0===a)return this.hasStarted_;a!==this.hasStarted_&&((this.hasStarted_=a)?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))};b.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(!0);this.trigger("play")};b.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&
0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(a){return a.callback(a.event)}),this.queuedCallbacks_=[]);this.cache_.lastPlaybackRate=this.tech_.playbackRate();this.trigger("ratechange")};b.prototype.handleTechWaiting_=function(){var a=this;this.addClass("vjs-waiting");this.trigger("waiting");this.one("timeupdate",function(){return a.removeClass("vjs-waiting")})};b.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting");this.trigger("canplay")};b.prototype.handleTechCanPlayThrough_=
function(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")};b.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting");this.trigger("playing")};b.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking");this.trigger("seeking")};b.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking");this.trigger("seeked")};b.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(Ka.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),
this.currentTime(this.options_.starttime));this.addClass("vjs-has-started");this.trigger("firstplay")};b.prototype.handleTechPause_=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")};b.prototype.handleTechEnded_=function(){this.addClass("vjs-ended");this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause();this.trigger("ended")};b.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))};b.prototype.handleTechClick_=
function(a){W(a)&&this.controls_&&(this.paused()?Ca(this.play()):this.pause())};b.prototype.handleTechTap_=function(){this.userActive(!this.userActive())};b.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()};b.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()};b.prototype.handleTechTouchEnd_=function(a){a.preventDefault()};b.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")};
b.prototype.handleStageClick_=function(){this.reportUserActivity()};b.prototype.handleTechFullscreenChange_=function(a,b){b&&this.isFullscreen(b.isFullscreen);this.trigger("fullscreenchange")};b.prototype.handleTechError_=function(){var a=this.tech_.error();this.error(a)};b.prototype.handleTechTextData_=function(){var a=null;1<arguments.length&&(a=arguments[1]);this.trigger("textdata",a)};b.prototype.getCache=function(){return this.cache_};b.prototype.techCall_=function(a,b){this.ready(function(){if(a in
Kf)return this.tech_[a](this.middleware_.reduce(Ad(a),b));if(a in Kg)return Qe(this.middleware_,this.tech_,a,b);try{if(this.tech_)this.tech_[a](b)}catch(lb){throw Ka(lb),lb;}},!0)};b.prototype.techGet_=function(a){if(this.tech_&&this.tech_.isReady_){if(a in jf){var b=this.tech_;return this.middleware_.reduceRight(Ad(a),b[a]())}if(a in Kg)return Qe(this.middleware_,this.tech_,a);try{return this.tech_[a]()}catch(lb){if(void 0===this.tech_[a])throw Ka("Video.js: "+a+" method not defined for "+this.techName_+
" playback technology.",lb),lb;if("TypeError"===lb.name)throw Ka("Video.js: "+a+" unavailable on "+this.techName_+" playback technology element.",lb),this.tech_.isReady_=!1,lb;Ka(lb);throw lb;}}};b.prototype.play=function(){var a=this;this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_);if(this.isReady_)if(this.changingSrc_||!this.src()&&!this.currentSrc())this.playOnLoadstart_=function(){a.playOnLoadstart_=null;Ca(a.play())},this.one("loadstart",this.playOnLoadstart_);else return this.techGet_("play");
else this.playWaitingForReady_||(this.playWaitingForReady_=!0,this.ready(function(){a.playWaitingForReady_=!1;Ca(a.play())}))};b.prototype.pause=function(){this.techCall_("pause")};b.prototype.paused=function(){return!1===this.techGet_("paused")?!1:!0};b.prototype.played=function(){return this.techGet_("played")||Ha(0,0)};b.prototype.scrubbing=function(a){if("undefined"===typeof a)return this.scrubbing_;this.scrubbing_=!!a;a?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")};b.prototype.currentTime=
function(a){if("undefined"!==typeof a)0>a&&(a=0),this.techCall_("setCurrentTime",a);else return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime};b.prototype.duration=function(a){if(void 0===a)return void 0!==this.cache_.duration?this.cache_.duration:NaN;a=parseFloat(a);0>a&&(a=Infinity);a!==this.cache_.duration&&(this.cache_.duration=a,Infinity===a?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))};b.prototype.remainingTime=function(){return this.duration()-
this.currentTime()};b.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())};b.prototype.buffered=function(){var a=this.techGet_("buffered");a&&a.length||(a=Ha(0,0));return a};b.prototype.bufferedPercent=function(){return Ba(this.buffered(),this.duration())};b.prototype.bufferedEnd=function(){var a=this.buffered(),b=this.duration();a=a.end(a.length-1);a>b&&(a=b);return a};b.prototype.volume=function(a){if(void 0!==a)a=Math.max(0,Math.min(1,parseFloat(a))),
this.cache_.volume=a,this.techCall_("setVolume",a),0<a&&this.lastVolume_(a);else return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a};b.prototype.muted=function(a){if(void 0!==a)this.techCall_("setMuted",a);else return this.techGet_("muted")||!1};b.prototype.defaultMuted=function(a){return void 0!==a?this.techCall_("setDefaultMuted",a):this.techGet_("defaultMuted")||!1};b.prototype.lastVolume_=function(a){if(void 0!==a&&0!==a)this.cache_.lastVolume=a;else return this.cache_.lastVolume};b.prototype.supportsFullScreen=
function(){return this.techGet_("supportsFullScreen")||!1};b.prototype.isFullscreen=function(a){if(void 0!==a)this.isFullscreen_=!!a;else return!!this.isFullscreen_};b.prototype.requestFullscreen=function(){this.isFullscreen(!0);Rb.requestFullscreen?(xa(da,Rb.fullscreenchange,Da(this,function ub(a){this.isFullscreen(da[Rb.fullscreenElement]);!1===this.isFullscreen()&&ma(da,Rb.fullscreenchange,ub);this.trigger("fullscreenchange")})),this.el_[Rb.requestFullscreen]()):this.tech_.supportsFullScreen()?
this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))};b.prototype.exitFullscreen=function(){this.isFullscreen(!1);if(Rb.requestFullscreen)da[Rb.exitFullscreen]();else this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))};b.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=da.documentElement.style.overflow;xa(da,"keydown",Da(this,this.fullWindowOnEscKey));da.documentElement.style.overflow=
"hidden";q(da.body,"vjs-full-window");this.trigger("enterFullWindow")};b.prototype.fullWindowOnEscKey=function(a){27===a.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())};b.prototype.exitFullWindow=function(){this.isFullWindow=!1;ma(da,"keydown",this.fullWindowOnEscKey);da.documentElement.style.overflow=this.docOrigOverflow;B(da.body,"vjs-full-window");this.trigger("exitFullWindow")};b.prototype.canPlayType=function(a){for(var b,d=0,c=this.options_.techOrder;d<c.length;d++){b=
c[d];var e=qb.getTech(b);e||(e=P.getComponent(b));if(!e)Ka.error('The "'+b+'" tech is undefined. Skipped browser support check for that tech.');else if(e.isSupported()&&(b=e.canPlayType(a)))return b}return""};b.prototype.selectSource=function(a){var b=this,d=this.options_.techOrder.map(function(a){return[a,qb.getTech(a)]}).filter(function(a){var b=a[0];if(a=a[1])return a.isSupported();Ka.error('The "'+b+'" tech is undefined. Skipped browser support check for that tech.');return!1}),c=function(a,b,
d){var c=void 0;a.some(function(a){return b.some(function(b){if(c=d(a,b))return!0})});return c},e=void 0;e=function(a){return function(b,d){return a(d,b)}};var f=function(a,d){var c=a[0];if(a[1].canPlaySource(d,b.options_[c.toLowerCase()]))return{source:d,tech:c}};return(e=this.options_.sourceOrder?c(a,d,e(f)):c(d,a,f))||!1};b.prototype.src=function(a){var b=this;if("undefined"===typeof a)return this.cache_.src||"";var d=ng(a);d.length?(this.changingSrc_=!0,this.cache_.sources=d,this.updateSourceCaches_(d[0]),
lc(this,d[0],function(a,c){b.middleware_=c;b.cache_.sources=d;b.updateSourceCaches_(a);if(b.src_(a)){if(1<d.length)return b.src(d.slice(1));b.changingSrc_=!1;b.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);b.triggerReady()}else Ic(c,b.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)};b.prototype.src_=function(a){var b=this,d=this.selectSource([a]);if(!d)return!0;if(!yc(d.tech,
this.techName_))return this.changingSrc_=!0,this.loadTech_(d.tech,d.source),this.tech_.ready(function(){b.changingSrc_=!1}),!1;this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",a):this.techCall_("src",a.src);this.changingSrc_=!1},!0);return!1};b.prototype.load=function(){this.techCall_("load")};b.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null);this.techCall_("reset")};b.prototype.currentSources=function(){var a=
this.currentSource(),b=[];0!==Object.keys(a).length&&b.push(a);return this.cache_.sources||b};b.prototype.currentSource=function(){return this.cache_.source||{}};b.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""};b.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""};b.prototype.preload=function(a){if(void 0!==a)this.techCall_("setPreload",a),this.options_.preload=a;else return this.techGet_("preload")};b.prototype.autoplay=
function(a){if(void 0!==a)this.techCall_("setAutoplay",a),this.options_.autoplay=a;else return this.techGet_("autoplay",a)};b.prototype.playsinline=function(a){return void 0!==a?(this.techCall_("setPlaysinline",a),this.options_.playsinline=a,this):this.techGet_("playsinline")};b.prototype.loop=function(a){if(void 0!==a)this.techCall_("setLoop",a),this.options_.loop=a;else return this.techGet_("loop")};b.prototype.poster=function(a){if(void 0===a)return this.poster_;a||(a="");a!==this.poster_&&(this.poster_=
a,this.techCall_("setPoster",a),this.isPosterFromTech_=!1,this.trigger("posterchange"))};b.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var a=this.tech_.poster()||"";a!==this.poster_&&(this.poster_=a,this.isPosterFromTech_=!0,this.trigger("posterchange"))}};b.prototype.controls=function(a){if(void 0===a)return!!this.controls_;a=!!a;this.controls_!==a&&(this.controls_=a,this.usingNativeControls()&&this.techCall_("setControls",
a),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))};b.prototype.usingNativeControls=function(a){if(void 0===a)return!!this.usingNativeControls_;a=!!a;this.usingNativeControls_!==a&&
((this.usingNativeControls_=a)?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))};b.prototype.error=function(a){if(void 0===a)return this.error_||null;null===a?(this.error_=a,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close()):(this.error_=new R(a),this.addClass("vjs-error"),Ka.error("(CODE:"+this.error_.code+" "+R.errorTypes[this.error_.code]+")",this.error_.message,
this.error_),this.trigger("error"))};b.prototype.reportUserActivity=function(a){this.userActivity_=!0};b.prototype.userActive=function(a){if(void 0===a)return this.userActive_;a=!!a;if(a!==this.userActive_)if(this.userActive_=a)this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");else{if(this.tech_)this.tech_.one("mousemove",function(a){a.stopPropagation();a.preventDefault()});this.userActivity_=!1;this.removeClass("vjs-user-active");
this.addClass("vjs-user-inactive");this.trigger("userinactive")}};b.prototype.listenForUserActivity_=function(){var a=void 0,b=void 0,d=void 0,c=Da(this,this.reportUserActivity);this.on("mousedown",function(){c();this.clearInterval(a);a=this.setInterval(c,250)});this.on("mousemove",function(a){if(a.screenX!==b||a.screenY!==d)b=a.screenX,d=a.screenY,c()});this.on("mouseup",function(b){c();this.clearInterval(a)});this.on("keydown",c);this.on("keyup",c);var e=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=
!1;this.userActive(!0);this.clearTimeout(e);var a=this.options_.inactivityTimeout;0>=a||(e=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},a))}},250)};b.prototype.playbackRate=function(a){if(void 0!==a)this.techCall_("setPlaybackRate",a);else return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1};b.prototype.defaultPlaybackRate=function(a){return void 0!==a?this.techCall_("setDefaultPlaybackRate",a):this.tech_&&this.tech_.featuresPlaybackRate?
this.techGet_("defaultPlaybackRate"):1};b.prototype.isAudio=function(a){if(void 0!==a)this.isAudio_=!!a;else return!!this.isAudio_};b.prototype.addTextTrack=function(a,b,d){if(this.tech_)return this.tech_.addTextTrack(a,b,d)};b.prototype.addRemoteTextTrack=function(a,b){if(this.tech_)return this.tech_.addRemoteTextTrack(a,b)};b.prototype.removeRemoteTextTrack=function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).track;a=void 0===a?arguments[0]:a;if(this.tech_)return this.tech_.removeRemoteTextTrack(a)};
b.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")};b.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0};b.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0};b.prototype.language=function(a){if(void 0===a)return this.language_;this.language_=String(a).toLowerCase()};b.prototype.languages=function(){return Oa(b.prototype.options_.languages,this.languages_)};
b.prototype.toJSON=function(){var a=Oa(this.options_),b=a.tracks;a.tracks=[];for(var d=0;d<b.length;d++){var c=b[d];c=Oa(c);c.player=void 0;a.tracks[d]=c}return a};b.prototype.createModal=function(a,b){var d=this;b=b||{};b.content=a||"";var c=new Ob(this,b);this.addChild(c);c.on("dispose",function(){d.removeChild(c)});c.open();return c};b.getTagSettings=function(a){var b={sources:[],tracks:[]},d=I(a),c=d["data-setup"];x(a,"vjs-fluid")&&(d.fluid=!0);if(null!==c){var e=null;try{var p=JSON.parse(c||
"{}",void 0)}catch(sh){e=sh}p=[e,p];c=p[0];p=p[1];c&&Ka.error(c);f(d,p)}f(b,d);if(a.hasChildNodes())for(a=a.childNodes,d=0,c=a.length;d<c;d++)p=a[d],e=p.nodeName.toLowerCase(),"source"===e?b.sources.push(I(p)):"track"===e&&b.tracks.push(I(p));return b};b.prototype.flexNotSupported_=function(){var a=da.createElement("i");return!("flexBasis"in a.style||"webkitFlexBasis"in a.style||"mozFlexBasis"in a.style||"msFlexBasis"in a.style||"msFlexOrder"in a.style)};return b}(P);Ia.names.forEach(function(a){var b=
Ia[a];Fb.prototype[b.getterName]=function(){if(this.tech_)return this.tech_[b.getterName]();this[b.privateName]=this[b.privateName]||new b.ListClass;return this[b.privateName]}});Fb.players={};var D=N.navigator;Fb.prototype.options_={techOrder:qb.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2E3,playbackRates:[],children:"mediaLoader posterImage textTrackDisplay loadingSpinner bigPlayButton controlBar errorDisplay textTrackSettings resizeManager".split(" "),language:D&&(D.languages&&D.languages[0]||
D.userLanguage||D.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."};["ended","seeking","seekable","networkState","readyState"].forEach(function(a){Fb.prototype[a]=function(){return this.techGet_(a)}});Dc.forEach(function(a){Fb.prototype["handleTech"+Fa(a)+"_"]=function(){return this.trigger(a)}});P.registerComponent("Player",Fb);var Wd={},sd=function(a){return Wd.hasOwnProperty(a)?Wd[a]:void 0},Sc=function(a,b,d){d=(d?"before":"")+"pluginsetup";a.trigger(d,
b);a.trigger(d+":"+b.name,b)},Eb=function(a,b){var d=function(){Sc(this,{name:a,plugin:b,instance:null},!0);var d=b.apply(this,arguments);this.activePlugins_=this.activePlugins_||{};this.activePlugins_[a]=!0;Sc(this,{name:a,plugin:b,instance:d});return d};Object.keys(b).forEach(function(a){d[a]=b[a]});return d},Vb=function(a,b){b.prototype.name=a;return function(){Sc(this,{name:a,plugin:b,instance:null},!0);for(var d=arguments.length,c=Array(d),e=0;e<d;e++)c[e]=arguments[e];var f=new (Function.prototype.bind.apply(b,
[null].concat([this].concat(c))));this[a]=function(){return f};Sc(this,f.getEventHash());return f}},wc=function(){function a(b){X(this,a);if(this.constructor===a)throw Error("Plugin must be sub-classed; not directly instantiated.");this.player=b;fb(this);delete this.trigger;Ub(this,this.constructor.defaultState);var d=this.name;b.activePlugins_=b.activePlugins_||{};b.activePlugins_[d]=!0;this.dispose=Da(this,this.dispose);b.on("dispose",this.dispose)}a.prototype.version=function(){return this.constructor.VERSION};
a.prototype.getEventHash=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.name=this.name;a.plugin=this.constructor;a.instance=this;return a};a.prototype.trigger=function(a){return ha(this.eventBusEl_,a,this.getEventHash(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))};a.prototype.handleStateChanged=function(a){};a.prototype.dispose=function(){var a=this.name,b=this.player;this.trigger("dispose");this.off();b.off("dispose",this.dispose);b.activePlugins_[a]=!1;
this.player=this.state=null;b[a]=Vb(a,Wd[a])};a.isBasic=function(b){b="string"===typeof b?sd(b):b;return"function"===typeof b&&!a.prototype.isPrototypeOf(b.prototype)};a.registerPlugin=function(b,d){if("string"!==typeof b)throw Error('Illegal plugin name, "'+b+'", must be a string, was '+("undefined"===typeof b?"undefined":Ib(b))+".");if(Wd.hasOwnProperty(b))Ka.warn('A plugin named "'+b+'" already exists. You may want to avoid re-registering plugins!');else if(Fb.prototype.hasOwnProperty(b))throw Error('Illegal plugin name, "'+
b+'", cannot share a name with an existing player method!');if("function"!==typeof d)throw Error('Illegal plugin for "'+b+'", must be a function, was '+("undefined"===typeof d?"undefined":Ib(d))+".");Wd[b]=d;"plugin"!==b&&(a.isBasic(d)?Fb.prototype[b]=Eb(b,d):Fb.prototype[b]=Vb(b,d));return d};a.deregisterPlugin=function(a){if("plugin"===a)throw Error("Cannot de-register base plugin.");Wd.hasOwnProperty(a)&&(delete Wd[a],delete Fb.prototype[a])};a.getPlugins=function(){var a=void 0;(0<arguments.length&&
void 0!==arguments[0]?arguments[0]:Object.keys(Wd)).forEach(function(b){var d=sd(b);d&&(a=a||{},a[b]=d)});return a};a.getPluginVersion=function(a){return(a=sd(a))&&a.VERSION||""};return a}();wc.getPlugin=sd;wc.BASE_PLUGIN_NAME="plugin";wc.registerPlugin("plugin",wc);Fb.prototype.usingPlugin=function(a){return!!this.activePlugins_&&!0===this.activePlugins_[a]};Fb.prototype.hasPlugin=function(a){return!!Wd.hasOwnProperty(a)};var jc=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
("undefined"===typeof b?"undefined":Ib(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(a.super_=b)},ph=function(a){return 0===a.indexOf("#")?a.slice(1):a};M.hooks_={};M.hooks=function(a,b){M.hooks_[a]=M.hooks_[a]||[];b&&(M.hooks_[a]=M.hooks_[a].concat(b));return M.hooks_[a]};M.hook=function(a,b){M.hooks(a,b)};M.hookOnce=function(a,b){M.hooks(a,[].concat(b).map(function(b){return function lb(){M.removeHook(a,lb);return b.apply(void 0,
arguments)}}))};M.removeHook=function(a,b){b=M.hooks(a).indexOf(b);if(-1>=b)return!1;M.hooks_[a]=M.hooks_[a].slice();M.hooks_[a].splice(b,1);return!0};if(!0!==N.VIDEOJS_NO_DYNAMIC_STYLE&&m()){var Cf=hb(".vjs-styles-defaults");if(!Cf){Cf=ad("vjs-styles-defaults");var ra=hb("head");ra&&ra.insertBefore(Cf,ra.firstChild);ld(Cf,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Xa(1,M);M.VERSION="7.0.4";M.options=
Fb.prototype.options_;M.getPlayers=function(){return Fb.players};M.getPlayer=function(a){var b=Fb.players;if("string"===typeof a){a=ph(a);var d=b[a];if(d)return d;a=hb("#"+a)}if(n(a)&&(d=a,a=d.player,d=d.playerId,a||b[d]))return a||b[d]};M.getAllPlayers=function(){return Object.keys(Fb.players).map(function(a){return Fb.players[a]}).filter(Boolean)};M.players=Fb.players;M.getComponent=P.getComponent;M.registerComponent=function(a,b){qb.isTech(b)&&Ka.warn("The "+a+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)");
P.registerComponent.call(P,a,b)};M.getTech=qb.getTech;M.registerTech=qb.registerTech;M.use=function(a,b){Kb[a]=Kb[a]||[];Kb[a].push(b)};Object.defineProperty(M,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(M.middleware,"TERMINATOR",{value:wb,writeable:!1,enumerable:!0});M.browser=Kd;M.TOUCH_ENABLED=Jd;M.extend=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=function(){a.apply(this,arguments)},c={};"object"===("undefined"===typeof b?"undefined":
Ib(b))?(b.constructor!==Object.prototype.constructor&&(d=b.constructor),c=b):"function"===typeof b&&(d=b);jc(d,a);for(var e in c)c.hasOwnProperty(e)&&(d.prototype[e]=c[e]);return d};M.mergeOptions=Oa;M.bind=Da;M.registerPlugin=wc.registerPlugin;M.plugin=function(a,b){Ka.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead");return wc.registerPlugin(a,b)};M.getPlugins=wc.getPlugins;M.getPlugin=wc.getPlugin;M.getPluginVersion=wc.getPluginVersion;M.addLanguage=function(a,b){var d;
a=(""+a).toLowerCase();M.options.languages=Oa(M.options.languages,(d={},d[a]=b,d));return M.options.languages[a]};M.log=Ka;M.createTimeRange=M.createTimeRanges=Ha;M.formatTime=sb;M.setFormatTime=function(a){Bb=a};M.resetFormatTime=function(){Bb=Xc};M.parseUrl=Mf;M.isCrossOrigin=za;M.EventTarget=gb;M.on=xa;M.one=ua;M.off=ma;M.trigger=ha;M.xhr=ya;M.TextTrack=Lb;M.AudioTrack=Pf;M.VideoTrack=qa;"isEl isTextNode createEl hasClass addClass removeClass toggleClass setAttributes getAttributes emptyEl appendContent insertContent".split(" ").forEach(function(a){M[a]=
function(){Ka.warn("videojs."+a+"() is deprecated; use videojs.dom."+a+"() instead");return Zb[a].apply(null,arguments)}});M.computedStyle=e;M.dom=Zb;M.url=nf;var Ec=k(function(a,b){(function(b){var d=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,c=/^([^\/;?#]*)(.*)$/,e=/(?:\/|^)\.(?=\/)/g,f=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,p={buildAbsoluteURL:function(a,b,d){d=d||{};a=a.trim();b=b.trim();if(!b){if(!d.alwaysNormalize)return a;d=p.parseURL(a);if(!d)throw Error("Error trying to parse base URL.");
d.path=p.normalizePath(d.path);return p.buildURLFromParts(d)}var e=p.parseURL(b);if(!e)throw Error("Error trying to parse relative URL.");if(e.scheme){if(!d.alwaysNormalize)return b;e.path=p.normalizePath(e.path);return p.buildURLFromParts(e)}b=p.parseURL(a);if(!b)throw Error("Error trying to parse base URL.");!b.netLoc&&b.path&&"/"!==b.path[0]&&(a=c.exec(b.path),b.netLoc=a[1],b.path=a[2]);b.netLoc&&!b.path&&(b.path="/");a={scheme:b.scheme,netLoc:e.netLoc,path:null,params:e.params,query:e.query,fragment:e.fragment};
e.netLoc||(a.netLoc=b.netLoc,"/"!==e.path[0]&&(e.path?(b=b.path,b=b.substring(0,b.lastIndexOf("/")+1)+e.path,a.path=p.normalizePath(b)):(a.path=b.path,e.params||(a.params=b.params,e.query||(a.query=b.query)))));null===a.path&&(a.path=d.alwaysNormalize?p.normalizePath(e.path):e.path);return p.buildURLFromParts(a)},parseURL:function(a){return(a=d.exec(a))?{scheme:a[1]||"",netLoc:a[2]||"",path:a[3]||"",params:a[4]||"",query:a[5]||"",fragment:a[6]||""}:null},normalizePath:function(a){for(a=a.split("").reverse().join("").replace(e,
"");a.length!==(a=a.replace(f,"")).length;);return a.split("").reverse().join("")},buildURLFromParts:function(a){return a.scheme+a.netLoc+a.path+a.params+a.query+a.fragment}};a.exports=p})(Hb)}),ia=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");},rf=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var d=arguments[b],c;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}return a},Df=function(a,b){if("function"!==typeof b&&null!==
b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof b?"undefined":Ib(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},rd=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"===typeof b?"undefined":Ib(b))&&"function"!==typeof b?a:b},
Lc=function(){function a(){ia(this,a);this.listeners={}}a.prototype.on=function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)};a.prototype.off=function(a,b){if(!this.listeners[a])return!1;b=this.listeners[a].indexOf(b);this.listeners[a].splice(b,1);return-1<b};a.prototype.trigger=function(a){var b=this.listeners[a],d;if(b)if(2===arguments.length){var c=b.length;for(d=0;d<c;++d)b[d].call(this,arguments[1])}else{var e=Array.prototype.slice.call(arguments,1);c=b.length;for(d=
0;d<c;++d)b[d].apply(this,e)}};a.prototype.dispose=function(){this.listeners={}};a.prototype.pipe=function(a){this.on("data",function(b){a.push(b)})};return a}(),Xf=function(a){function b(){ia(this,b);var d=rd(this,a.call(this));d.buffer="";return d}Df(b,a);b.prototype.push=function(a){this.buffer+=a;for(a=this.buffer.indexOf("\n");-1<a;a=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)};return b}(Lc),zd=function(a){a=a.split(/(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))/);
for(var b={},d=a.length,c;d--;)""!==a[d]&&(c=/([^=]*)=(.*)/.exec(a[d]).slice(1),c[0]=c[0].replace(/^\s+|\s+$/g,""),c[1]=c[1].replace(/^\s+|\s+$/g,""),c[1]=c[1].replace(/^['"](.*)['"]$/g,"$1"),b[c[0]]=c[1]);return b},cd=function(a){function b(){ia(this,b);var d=rd(this,a.call(this));d.customParsers=[];return d}Df(b,a);b.prototype.push=function(a){var b;a=a.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"");if(0!==a.length)if("#"!==a[0])this.trigger("data",{type:"uri",uri:a});else{for(b=0;b<this.customParsers.length;b++)if(this.customParsers[b].call(this,
a))return;if(0!==a.indexOf("#EXT"))this.trigger("data",{type:"comment",text:a.slice(1)});else if(a=a.replace("\r",""),b=/^#EXTM3U/.exec(a))this.trigger("data",{type:"tag",tagType:"m3u"});else if(b=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(a))a={type:"tag",tagType:"inf"},b[1]&&(a.duration=parseFloat(b[1])),b[2]&&(a.title=b[2]),this.trigger("data",a);else if(b=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(a))a={type:"tag",tagType:"targetduration"},b[1]&&(a.duration=parseInt(b[1],10)),this.trigger("data",a);
else if(b=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(a))a={type:"tag",tagType:"totalduration"},b[1]&&(a.duration=parseInt(b[1],10)),this.trigger("data",a);else if(b=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(a))a={type:"tag",tagType:"version"},b[1]&&(a.version=parseInt(b[1],10)),this.trigger("data",a);else if(b=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))a={type:"tag",tagType:"media-sequence"},b[1]&&(a.number=parseInt(b[1],10)),this.trigger("data",a);else if(b=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))a=
{type:"tag",tagType:"discontinuity-sequence"},b[1]&&(a.number=parseInt(b[1],10)),this.trigger("data",a);else if(b=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(a))a={type:"tag",tagType:"playlist-type"},b[1]&&(a.playlistType=b[1]),this.trigger("data",a);else if(b=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(a))a={type:"tag",tagType:"byterange"},b[1]&&(a.length=parseInt(b[1],10)),b[2]&&(a.offset=parseInt(b[2],10)),this.trigger("data",a);else if(b=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(a))a={type:"tag",tagType:"allow-cache"},
b[1]&&(a.allowed=!/NO/.test(b[1])),this.trigger("data",a);else if(b=/^#EXT-X-MAP:?(.*)$/.exec(a)){a={type:"tag",tagType:"map"};if(b[1]&&(b=zd(b[1]),b.URI&&(a.uri=b.URI),b.BYTERANGE)){var d=b.BYTERANGE.split("@");b=d[0];d=d[1];a.byterange={};b&&(a.byterange.length=parseInt(b,10));d&&(a.byterange.offset=parseInt(d,10))}this.trigger("data",a)}else(b=/^#EXT-X-STREAM-INF:?(.*)$/.exec(a))?(a={type:"tag",tagType:"stream-inf"},b[1]&&(a.attributes=zd(b[1]),a.attributes.RESOLUTION&&(b=a.attributes.RESOLUTION.split("x"),
d={},b[0]&&(d.width=parseInt(b[0],10)),b[1]&&(d.height=parseInt(b[1],10)),a.attributes.RESOLUTION=d),a.attributes.BANDWIDTH&&(a.attributes.BANDWIDTH=parseInt(a.attributes.BANDWIDTH,10)),a.attributes["PROGRAM-ID"]&&(a.attributes["PROGRAM-ID"]=parseInt(a.attributes["PROGRAM-ID"],10))),this.trigger("data",a)):(b=/^#EXT-X-MEDIA:?(.*)$/.exec(a))?(a={type:"tag",tagType:"media"},b[1]&&(a.attributes=zd(b[1])),this.trigger("data",a)):(b=/^#EXT-X-ENDLIST/.exec(a))?this.trigger("data",{type:"tag",tagType:"endlist"}):
(b=/^#EXT-X-DISCONTINUITY/.exec(a))?this.trigger("data",{type:"tag",tagType:"discontinuity"}):(b=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(a))?(a={type:"tag",tagType:"program-date-time"},b[1]&&(a.dateTimeString=b[1],a.dateTimeObject=new Date(b[1])),this.trigger("data",a)):(b=/^#EXT-X-KEY:?(.*)$/.exec(a))?(a={type:"tag",tagType:"key"},b[1]&&(a.attributes=zd(b[1]),a.attributes.IV&&("0x"===a.attributes.IV.substring(0,2).toLowerCase()&&(a.attributes.IV=a.attributes.IV.substring(2)),a.attributes.IV=a.attributes.IV.match(/.{8}/g),
a.attributes.IV[0]=parseInt(a.attributes.IV[0],16),a.attributes.IV[1]=parseInt(a.attributes.IV[1],16),a.attributes.IV[2]=parseInt(a.attributes.IV[2],16),a.attributes.IV[3]=parseInt(a.attributes.IV[3],16),a.attributes.IV=new Uint32Array(a.attributes.IV))),this.trigger("data",a)):(b=/^#EXT-X-START:?(.*)$/.exec(a))?(a={type:"tag",tagType:"start"},b[1]&&(a.attributes=zd(b[1]),a.attributes["TIME-OFFSET"]=parseFloat(a.attributes["TIME-OFFSET"]),a.attributes.PRECISE=/YES/.test(a.attributes.PRECISE)),this.trigger("data",
a)):(b=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(a))?(a={type:"tag",tagType:"cue-out-cont"},a.data=b[1]?b[1]:"",this.trigger("data",a)):(b=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(a))?(a={type:"tag",tagType:"cue-out"},a.data=b[1]?b[1]:"",this.trigger("data",a)):(b=/^#EXT-X-CUE-IN:?(.*)?$/.exec(a))?(a={type:"tag",tagType:"cue-in"},a.data=b[1]?b[1]:"",this.trigger("data",a)):this.trigger("data",{type:"tag",data:a.slice(4)})}};b.prototype.addParser=function(a){var b=this,d=a.expression,c=a.customType,e=a.dataParser,
f=a.segment;"function"!==typeof e&&(e=function(a){return a});this.customParsers.push(function(a){if(d.exec(a))return b.trigger("data",{type:"custom",data:e(a),customType:c,segment:f}),!0})};return b}(Lc),La=function(a){function b(){ia(this,b);var d=rd(this,a.call(this));d.lineStream=new Xf;d.parseStream=new cd;d.lineStream.pipe(d.parseStream);var c=[],e={},f=void 0,p=void 0,g=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l=0;d.manifest={allowCache:!0,discontinuityStarts:[],
segments:[]};d.parseStream.on("data",function(a){var b=void 0,t=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=a.allowed;"allowed"in a||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var b={};"length"in a&&(e.byterange=b,b.length=a.length,"offset"in a||(this.trigger("info",{message:"defaulting offset to zero"}),a.offset=0));"offset"in a&&(e.byterange=b,b.offset=a.offset)},endlist:function(){this.manifest.endList=
!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"}));"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"}));0<a.duration&&(e.duration=a.duration);0===a.duration&&(e.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"}));this.manifest.segments=c},key:function(){a.attributes?
"NONE"===a.attributes.METHOD?p=null:a.attributes.URI?(a.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),p={method:a.attributes.METHOD||"AES-128",uri:a.attributes.URI},"undefined"!==typeof a.attributes.IV&&(p.iv=a.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(a.number)?this.manifest.mediaSequence=a.number:
this.trigger("warn",{message:"ignoring invalid media sequence: "+a.number})},"discontinuity-sequence":function(){isFinite(a.number)?l=this.manifest.discontinuitySequence=a.number:this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+a.number})},"playlist-type":function(){/VOD|EVENT/.test(a.playlistType)?this.manifest.playlistType=a.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+a.playlist})},map:function(){f={};a.uri&&(f.uri=a.uri);a.byterange&&(f.byterange=
a.byterange)},"stream-inf":function(){this.manifest.playlists=c;this.manifest.mediaGroups=this.manifest.mediaGroups||h;a.attributes?(e.attributes||(e.attributes={}),rf(e.attributes,a.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){this.manifest.mediaGroups=this.manifest.mediaGroups||h;if(a.attributes&&a.attributes.TYPE&&a.attributes["GROUP-ID"]&&a.attributes.NAME){var d=this.manifest.mediaGroups[a.attributes.TYPE];d[a.attributes["GROUP-ID"]]=d[a.attributes["GROUP-ID"]]||
{};b=d[a.attributes["GROUP-ID"]];t={"default":/yes/i.test(a.attributes.DEFAULT)};t.autoselect=t["default"]?!0:/yes/i.test(a.attributes.AUTOSELECT);a.attributes.LANGUAGE&&(t.language=a.attributes.LANGUAGE);a.attributes.URI&&(t.uri=a.attributes.URI);a.attributes["INSTREAM-ID"]&&(t.instreamId=a.attributes["INSTREAM-ID"]);a.attributes.CHARACTERISTICS&&(t.characteristics=a.attributes.CHARACTERISTICS);a.attributes.FORCED&&(t.forced=/yes/i.test(a.attributes.FORCED));b[a.attributes.NAME]=t}else this.trigger("warn",
{message:"ignoring incomplete or missing media group"})},discontinuity:function(){l+=1;e.discontinuity=!0;this.manifest.discontinuityStarts.push(c.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=a.dateTimeString,this.manifest.dateTimeObject=a.dateTimeObject);e.dateTimeString=a.dateTimeString;e.dateTimeObject=a.dateTimeObject},targetduration:function(){!isFinite(a.duration)||0>a.duration?this.trigger("warn",{message:"ignoring invalid target duration: "+
a.duration}):this.manifest.targetDuration=a.duration},totalduration:function(){!isFinite(a.duration)||0>a.duration?this.trigger("warn",{message:"ignoring invalid total duration: "+a.duration}):this.manifest.totalDuration=a.duration},start:function(){!a.attributes||isNaN(a.attributes["TIME-OFFSET"])?this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"}):this.manifest.start={timeOffset:a.attributes["TIME-OFFSET"],precise:a.attributes.PRECISE}},"cue-out":function(){e.cueOut=
a.data},"cue-out-cont":function(){e.cueOutCont=a.data},"cue-in":function(){e.cueIn=a.data}}[a.tagType]||g).call(d)},uri:function(){e.uri=a.uri;c.push(e);!this.manifest.targetDuration||"duration"in e||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),e.duration=this.manifest.targetDuration);p&&(e.key=p);e.timeline=l;f&&(e.map=f);e={}},comment:function(){},custom:function(){a.segment?(e.custom=e.custom||{},e.custom[a.customType]=a.data):(this.manifest.custom=this.manifest.custom||
{},this.manifest.custom[a.customType]=a.data)}})[a.type].call(d)});return d}Df(b,a);b.prototype.push=function(a){this.lineStream.push(a)};b.prototype.end=function(){this.lineStream.push("\n")};b.prototype.addParser=function(a){this.parseStream.addParser(a)};return b}(Lc),cf=function(a){return a.reduce(function(a,b){var d=b.attributes.role&&b.attributes.role.value||"main",c=b.attributes.lang||"",e="main";c&&(e=b.attributes.lang+" ("+d+")");if(a[e]&&a[e].playlists[0].attributes.BANDWIDTH>b.attributes.bandwidth)return a;
var f,p=b.attributes;b=b.segments;b={attributes:(f={NAME:p.id,BANDWIDTH:p.bandwidth,CODECS:p.codecs},f["PROGRAM-ID"]=1,f),uri:"",endList:"static"===(p.type||"static"),timeline:p.periodIndex,resolvedUri:"",targetDuration:p.duration,segments:b,mediaSequence:b.length?b[0].number:1};p.contentProtection&&(b.contentProtection=p.contentProtection);a[e]={language:c,autoselect:!0,"default":"main"===d,playlists:[b],uri:""};return a},{})},ze=function(a){return a.reduce(function(a,b){var d=b.attributes.lang||
"text";if(a[d])return a;var c;var e=b.attributes;b=b.segments;"undefined"===typeof b&&(b=[{uri:e.baseUrl,timeline:e.periodIndex,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);e={attributes:(c={NAME:e.id,BANDWIDTH:e.bandwidth},c["PROGRAM-ID"]=1,c),uri:"",endList:"static"===(e.type||"static"),timeline:e.periodIndex,resolvedUri:e.baseUrl||"",targetDuration:e.duration,segments:b,mediaSequence:b.length?b[0].number:1};a[d]={language:d,"default":!1,autoselect:!1,
playlists:[e],uri:""};return a},{})},bh=function(a){var b,d=a.attributes;a=a.segments;a={attributes:(b={NAME:d.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:d.width,height:d.height},CODECS:d.codecs,BANDWIDTH:d.bandwidth},b["PROGRAM-ID"]=1,b),uri:"",endList:"static"===(d.type||"static"),timeline:d.periodIndex,resolvedUri:"",targetDuration:d.duration,segments:a,mediaSequence:a.length?a[0].number:1};d.contentProtection&&(a.contentProtection=d.contentProtection);return a},Sg=function(a){var b;if(!a.length)return{};
var d=a[0].attributes,c=d.sourceDuration;d=d.minimumUpdatePeriod;var e=void 0===d?0:d,f=a.filter(function(a){a=a.attributes;return"video/mp4"===a.mimeType||"video"===a.contentType}).map(bh);d=a.filter(function(a){a=a.attributes;return"audio/mp4"===a.mimeType||"audio"===a.contentType});a=a.filter(function(a){a=a.attributes;return"text/vtt"===a.mimeType||"text"===a.contentType});c={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(b={AUDIO:{},VIDEO:{}},b["CLOSED-CAPTIONS"]={},
b.SUBTITLES={},b),uri:"",duration:c,playlists:f,minimumUpdatePeriod:1E3*e};d.length&&(c.mediaGroups.AUDIO.audio=cf(d));a.length&&(c.mediaGroups.SUBTITLES.subs=ze(a));return c},he="function"===typeof Symbol&&"symbol"===Ib(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":Ib(a)}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":Ib(a)},Tg=function(a){return!!a&&"object"===("undefined"===typeof a?
"undefined":he(a))},Sb=function Jg(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return b.reduce(function(a,b){Object.keys(b).forEach(function(d){Array.isArray(a[d])&&Array.isArray(b[d])?a[d]=a[d].concat(b[d]):Tg(a[d])&&Tg(b[d])?a[d]=Jg(a[d],b[d]):a[d]=b[d]});return a},{})},na=function(a,b){if(/^[a-z]+:/i.test(b))return b;/\/\//i.test(a)||(a=Ec.buildAbsoluteURL(N.location.href,a));return Ec.buildAbsoluteURL(a,b)},Sa=function(a){var b=a.baseUrl,d=a.source;d=void 0===d?"":d;
a=a.range;a=void 0===a?"":a;b={uri:d,resolvedUri:na((void 0===b?"":b)||"",d)};a&&(a=a.split("-"),d=parseInt(a[0],10),a=parseInt(a[1],10),b.byterange={length:a-d,offset:d});return b},ch=function(a,b){var d=a.type;d=void 0===d?"static":d;var c=a.minimumUpdatePeriod;c=void 0===c?0:c;var e=a.media;e=void 0===e?"":e;var f=a.sourceDuration,p=a.timescale;p=void 0===p?1:p;var g=a.startNumber;g=void 0===g?1:g;for(var h=a.periodIndex,l=[],t=-1,k=0;k<b.length;k++){var m=b[k],n=m.d,q=m.r||0;m=m.t||0;0>t&&(t=
m);m&&m>t&&(t=m);if(0>q)if(q=k+1,q===b.length)if("dynamic"===d&&0<c&&0<e.indexOf("$Number$")){q=a.timescale;m=a.start;var H=a.minimumUpdatePeriod;q=Math.ceil((((a.NOW+a.clientOffset)/1E3+(void 0===H?0:H)-(a.availabilityStartTime+(void 0===m?0:m)))*(void 0===q?1:q)-t)/n)}else q=(f*p-t)/n;else q=(b[q].t-t)/n;else q+=1;q=g+l.length+q;for(m=g+l.length;m<q;)l.push({number:m,duration:n/p,time:t,timeline:h}),t+=n,m++}return l},Ga=function(a){return a.reduce(function(a,b){return a.concat(b)},[])},oa=function(a){if(!a.length)return[];
for(var b=[],d=0;d<a.length;d++)b.push(a[d]);return b},db={"static":function(a){var b=a.timescale;return{start:0,end:Math.ceil(a.sourceDuration/(a.duration/(void 0===b?1:b)))}},dynamic:function(a){var b=a.timescale;b=void 0===b?1:b;var d=a.duration,c=a.start,e=a.minimumUpdatePeriod,f=a.timeShiftBufferDepth,p=(a.NOW+a.clientOffset)/1E3;a=a.availabilityStartTime+(void 0===c?0:c);return{start:Math.max(0,Math.floor((p-a-(void 0===f?Infinity:f))*b/d)),end:Math.min(Math.ceil((p+(void 0===e?0:e)-a)*b/d),
Math.floor((p-a)*b/d))}}},dh=function(a){return function(b,d){var c=a.duration,e=a.timescale,f=a.startNumber;return{number:(void 0===f?1:f)+b,duration:c/(void 0===e?1:e),timeline:a.periodIndex,time:d*c}}},Ig=function(a){var b=a.type,d=void 0===b?"static":b;b=a.duration;var c=a.timescale;c=void 0===c?1:c;var e=a.sourceDuration,f=db[d](a),p=f.end,g=[];for(f=f.start;f<p;f++)g.push(f);a=g.map(dh(a));"static"===d&&(d=a.length-1,a[d].duration=e-b/c*d);return a},Ef=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,He=function(a){return function(b,
d,c,e){if("$$"===b)return"$";if("undefined"===typeof a[d])return b;b=""+a[d];if("RepresentationID"===d)return b;e=c?parseInt(e,10):1;return b.length>=e?b:""+Array(e-b.length+1).join("0")+b}},df=function(a,b){return a.duration||b?a.duration?Ig(a):ch(a,b):[{number:a.startNumber||1,duration:a.sourceDuration,time:0,timeline:a.periodIndex}]},Ie=function(a,b){var d={RepresentationID:a.id,Bandwidth:a.bandwidth||0},c=a.initialization;c=void 0===c?{sourceURL:"",range:""}:c;var e=Sa({baseUrl:a.baseUrl,source:c.sourceURL.replace(Ef,
He(d)),range:c.range});return df(a,b).map(function(b){d.Number=b.number;d.Time=b.time;var c=(a.media||"").replace(Ef,He(d));return{uri:c,timeline:b.timeline,duration:b.duration,resolvedUri:na(a.baseUrl||"",c),map:e,number:b.number}})},p=function(a,b){var d=a.duration,c=a.segmentUrls;c=void 0===c?[]:c;if(!d&&!b||d&&b)throw Error("SEGMENT_TIME_UNSPECIFIED");var e=c.map(function(b){var d=a.baseUrl,c=a.initialization;c=void 0===c?{}:c;c=Sa({baseUrl:d,source:c.sourceURL,range:c.range});b=Sa({baseUrl:d,
source:b.media,range:b.mediaRange});b.map=c;return b});c=void 0;d&&(c=Ig(a));b&&(c=ch(a,b));return c.map(function(a,b){if(e[b])return b=e[b],b.timeline=a.timeline,b.duration=a.duration,b.number=a.number,b}).filter(function(a){return a})},t=function(a){var b=a.baseUrl,d=a.initialization,c=void 0===d?{}:d;d=a.sourceDuration;var e=a.timescale;e=void 0===e?1:e;var f=a.indexRange,p=void 0===f?"":f;f=a.duration;if(!b)throw Error("NO_BASE_URL");c=Sa({baseUrl:b,source:c.sourceURL,range:c.range});b=Sa({baseUrl:b,
source:b,range:p});b.map=c;f?(a=Ig(a),a.length&&(b.duration=a[0].duration,b.timeline=a[0].timeline)):d&&(b.duration=d/e,b.timeline=0);b.number=0;return[b]},H=function(a){var b=a.attributes,d=a.segmentInfo,c=a=void 0;d.template?(c=Ie,a=Sb(b,d.template)):d.base?(c=t,a=Sb(b,d.base)):d.list&&(c=p,a=Sb(b,d.list));if(!c)return{attributes:b};b=c(a,d.timeline);a.duration?(d=a,c=d.timescale,a.duration=d.duration/(void 0===c?1:c)):a.duration=b.length?b.reduce(function(a,b){return Math.max(a,Math.ceil(b.duration))},
0):0;return{attributes:a,segments:b}},la=function(a,b){return oa(a.childNodes).filter(function(a){return a.tagName===b})},Ta=function(a){a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(a);if(!a)return 0;a=a.slice(1);var b=a[1],d=a[2],c=a[3],e=a[4],f=a[5];return 31536E3*parseFloat(a[0]||0)+2592E3*parseFloat(b||0)+86400*parseFloat(d||0)+3600*parseFloat(c||0)+60*parseFloat(e||0)+parseFloat(f||0)},ef={mediaPresentationDuration:function(a){return Ta(a)},availabilityStartTime:function(a){/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(a)&&
(a+="Z");return Date.parse(a)/1E3},minimumUpdatePeriod:function(a){return Ta(a)},timeShiftBufferDepth:function(a){return Ta(a)},start:function(a){return Ta(a)},width:function(a){return parseInt(a,10)},height:function(a){return parseInt(a,10)},bandwidth:function(a){return parseInt(a,10)},startNumber:function(a){return parseInt(a,10)},timescale:function(a){return parseInt(a,10)},duration:function(a){var b=parseInt(a,10);return isNaN(b)?Ta(a):b},d:function(a){return parseInt(a,10)},t:function(a){return parseInt(a,
10)},r:function(a){return parseInt(a,10)},DEFAULT:function(a){return a}},va=function(a){return a&&a.attributes?oa(a.attributes).reduce(function(a,b){a[b.name]=(ef[b.name]||ef.DEFAULT)(b.value);return a},{}):{}},wg={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},td=function(a,
b){return b.length?Ga(a.map(function(a){return b.map(function(b){return na(a,b.textContent.trim())})})):a},Ue=function(a){var b=la(a,"SegmentTemplate")[0],d=la(a,"SegmentList")[0],c=d&&la(d,"SegmentURL").map(function(a){return Sb({tag:"SegmentURL"},va(a))});a=la(a,"SegmentBase")[0];var e=d||b;e=e&&la(e,"SegmentTimeline")[0];var f=d||a||b;f=f&&la(f,"Initialization")[0];(b=b&&va(b))&&f?b.initialization=f&&va(f):b&&b.initialization&&(b.initialization={sourceURL:b.initialization});var p={template:b,timeline:e&&
la(e,"S").map(function(a){return va(a)}),list:d&&Sb(va(d),{segmentUrls:c,initialization:va(f)}),base:a&&Sb(va(a),{initialization:va(f)})};Object.keys(p).forEach(function(a){p[a]||delete p[a]});return p},Yf=function(a,b,d){return function(c){var e=la(c,"BaseURL");e=td(b,e);var f=Sb(a,va(c)),p=Ue(c);return e.map(function(a){return{segmentInfo:Sb(d,p),attributes:Sb(f,{baseUrl:a})}})}},Nd=function(a){return a.reduce(function(a,b){var d=va(b),c=wg[d.schemeIdUri];if(c&&(a[c]={attributes:d},b=la(b,"cenc:pssh")[0])){if(d=
b=b.textContent.trim()){b=N.atob(b);d=new Uint8Array(b.length);for(var e=0;e<b.length;e++)d[e]=b.charCodeAt(e)}a[c].pssh=d}return a},{})},Ug=function(a,b,d){return function(c){var e=va(c),f=td(b,la(c,"BaseURL")),p=la(c,"Role")[0];p={role:va(p)};e=Sb(a,e,p);p=Nd(la(c,"ContentProtection"));Object.keys(p).length&&(e=Sb(e,{contentProtection:p}));p=Ue(c);c=la(c,"Representation");p=Sb(d,p);return Ga(c.map(Yf(e,f,p)))}},Zh=function(a,b){return function(d,c){var e=td(b,la(d,"BaseURL")),f=va(d);c=Sb(a,f,{periodIndex:c});
f=la(d,"AdaptationSet");d=Ue(d);return Ga(f.map(Ug(c,e,d)))}},Lh=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=b.manifestUri;d=void 0===d?"":d;var c=b.NOW;c=void 0===c?Date.now():c;b=b.clientOffset;b=void 0===b?0:b;var e=la(a,"Period");if(1!==e.length)throw Error("INVALID_NUMBER_OF_PERIOD");var f=va(a);d=td([d],la(a,"BaseURL"));f.sourceDuration=f.mediaPresentationDuration||0;f.NOW=c;f.clientOffset=b;return Ga(e.map(Zh(f,d)))},Eh=function(a){if(""===a)throw Error("DASH_EMPTY_MANIFEST");
a=(a=(new N.DOMParser).parseFromString(a,"application/xml"))&&"MPD"===a.documentElement.tagName?a.documentElement:null;if(!a||a&&0<a.getElementsByTagName("parsererror").length)throw Error("DASH_INVALID_XML");return a},Z=function(a){a=la(a,"UTCTiming")[0];if(!a)return null;a=va(a);switch(a.schemeIdUri){case "urn:mpeg:dash:utc:http-head:2014":case "urn:mpeg:dash:utc:http-head:2012":a.method="HEAD";break;case "urn:mpeg:dash:utc:http-xsdate:2014":case "urn:mpeg:dash:utc:http-iso:2014":case "urn:mpeg:dash:utc:http-xsdate:2012":case "urn:mpeg:dash:utc:http-iso:2012":a.method=
"GET";break;case "urn:mpeg:dash:utc:direct:2014":case "urn:mpeg:dash:utc:direct:2012":a.method="DIRECT";a.value=Date.parse(a.value);break;default:throw Error("UNSUPPORTED_UTC_TIMING_SCHEME");}return a},Cc=function(a,b){return Sg(Lh(Eh(a),b).map(H))},ed={toUnsigned:function(a){return a>>>0}},Zf=Object.freeze({default:ed,__moduleExports:ed,toUnsigned:ed.toUnsigned}),eb=(Zf&&ed||Zf).toUnsigned;var $f=function(a,b){var d=[],c;if(!b.length)return null;for(c=0;c<a.byteLength;){var e=eb(a[c]<<24|a[c+1]<<
16|a[c+2]<<8|a[c+3]);var f=yh(a.subarray(c+4,c+8));e=1<e?c+e:a.byteLength;f===b[0]&&(1===b.length?d.push(a.subarray(c+8,e)):(c=$f(a.subarray(c+8,e),b.slice(1)),c.length&&(d=d.concat(c))));c=e}return d};var yh=function(a){var b=""+String.fromCharCode(a[0]);b+=String.fromCharCode(a[1]);b+=String.fromCharCode(a[2]);return b+=String.fromCharCode(a[3])};var eh={parseType:yh,timescale:function(a){return $f(a,["moov","trak"]).reduce(function(a,b){var d=$f(b,["tkhd"])[0];if(!d)return null;var c=d[0];c=0===
c?12:20;d=eb(d[c]<<24|d[c+1]<<16|d[c+2]<<8|d[c+3]);b=$f(b,["mdia","mdhd"])[0];if(!b)return null;c=b[0];c=0===c?12:20;a[d]=eb(b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3]);return a},{})},startTime:function(a,b){b=$f(b,["moof","traf"]);b=[].concat.apply([],b.map(function(b){return $f(b,["tfhd"]).map(function(d){d=eb(d[4]<<24|d[5]<<16|d[6]<<8|d[7]);d=a[d]||9E4;var c=(c=$f(b,["tfdt"]).map(function(a){var b=a[0];var d=eb(a[4]<<24|a[5]<<16|a[6]<<8|a[7]);1===b&&(d*=Math.pow(2,32),d+=eb(a[8]<<24|a[9]<<16|a[10]<<
8|a[11]));return d})[0])||Infinity;return c/d})}));b=Math.min.apply(null,b);return isFinite(b)?b:0}},Ff={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Fh=Object.freeze({default:Ff,__moduleExports:Ff,H264_STREAM_TYPE:Ff.H264_STREAM_TYPE,ADTS_STREAM_TYPE:Ff.ADTS_STREAM_TYPE,METADATA_STREAM_TYPE:Ff.METADATA_STREAM_TYPE}),oe=function(){this.init=function(){var a={};this.on=function(b,d){a[b]||(a[b]=[]);a[b]=a[b].concat(d)};this.off=function(b,d){if(!a[b])return!1;d=a[b].indexOf(d);
a[b]=a[b].slice();a[b].splice(d,1);return-1<d};this.trigger=function(b){var d,c;if(d=a[b])if(2===arguments.length){var e=d.length;for(c=0;c<e;++c)d[c].call(this,arguments[1])}else{var f=[];for(c=1;c<arguments.length;++c)f.push(arguments[c]);e=d.length;for(c=0;c<e;++c)d[c].apply(this,f)}};this.dispose=function(){a={}}}};oe.prototype.pipe=function(a){this.on("data",function(b){a.push(b)});this.on("done",function(b){a.flush(b)});return a};oe.prototype.push=function(a){this.trigger("data",a)};oe.prototype.flush=
function(a){this.trigger("done",a)};var ag=Object.freeze({default:oe,__moduleExports:oe}),Mc=function(a,b){var d=1;for(a>b&&(d=-1);4294967296<Math.abs(b-a);)a+=8589934592*d;return a},hc=function qe(a){var b,d;qe.prototype.init.call(this);this.type_=a;this.push=function(a){a.type===this.type_&&(void 0===d&&(d=a.dts),a.dts=Mc(a.dts,d),a.pts=Mc(a.pts,d),b=a.dts,this.trigger("data",a))};this.flush=function(){d=b;this.trigger("done")};this.discontinuity=function(){b=d=void 0}};hc.prototype=new (ag&&oe||
ag);var We={TimestampRolloverStream:hc,handleRollover:Mc},Ve=Object.freeze({default:We,__moduleExports:We,TimestampRolloverStream:We.TimestampRolloverStream,handleRollover:We.handleRollover}),ie=Fh&&Ff||Fh,Ae=function(a){var b=a[1]&31;return b=b<<8|a[2]},je=function(a){return!!(a[1]&64)},ke=function(a){var b=0;1<(a[3]&48)>>>4&&(b+=a[4]+1);return b},ud=function(a){switch(a){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";
case 9:return"access_unit_delimiter_rbsp";default:return null}},Nc={parseType:function(a,b){a=Ae(a);return 0===a?"pat":a===b?"pmt":b?"pes":null},parsePat:function(a){var b=je(a),d=4+ke(a);b&&(d+=a[d]+1);return(a[d+10]&31)<<8|a[d+11]},parsePmt:function(a){var b={},d=je(a),c=4+ke(a);d&&(c+=a[c]+1);if(a[c+5]&1){d=3+((a[c+1]&15)<<8|a[c+2])-4;for(var e=12+((a[c+10]&15)<<8|a[c+11]);e<d;){var f=c+e;b[(a[f+1]&31)<<8|a[f+2]]=a[f];e+=((a[f+3]&15)<<8|a[f+4])+5}return b}},parsePayloadUnitStartIndicator:je,parsePesType:function(a,
b){a=Ae(a);switch(b[a]){case ie.H264_STREAM_TYPE:return"video";case ie.ADTS_STREAM_TYPE:return"audio";case ie.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(a){if(!je(a))return null;var b=4+ke(a);if(b>=a.byteLength)return null;var d=null;var c=a[b+7];c&192&&(d={},d.pts=(a[b+9]&14)<<27|(a[b+10]&255)<<20|(a[b+11]&254)<<12|(a[b+12]&255)<<5|(a[b+13]&254)>>>3,d.pts*=4,d.pts+=(a[b+13]&6)>>>1,d.dts=d.pts,c&64&&(d.dts=(a[b+14]&14)<<27|(a[b+15]&255)<<20|(a[b+16]&254)<<
12|(a[b+17]&255)<<5|(a[b+18]&254)>>>3,d.dts*=4,d.dts+=(a[b+18]&6)>>>1));return d},videoPacketContainsKeyFrame:function(a){var b=4+ke(a);a=a.subarray(b);for(var d=b=0,c=!1;d<a.byteLength-3;d++)if(1===a[d+2]){b=d+5;break}for(;b<a.byteLength;)switch(a[b]){case 0:if(0!==a[b-1]){b+=2;break}else if(0!==a[b-2]){b++;break}d+3!==b-2&&(d=ud(a[d+3]&31),"slice_layer_without_partitioning_rbsp_idr"===d&&(c=!0));do b++;while(1!==a[b]&&b<a.length);d=b-2;b+=3;break;case 1:if(0!==a[b-1]||0!==a[b-2]){b+=3;break}d=ud(a[d+
3]&31);"slice_layer_without_partitioning_rbsp_idr"===d&&(c=!0);d=b-2;b+=3;break;default:b+=3}(a=a.subarray(d))&&3<a.byteLength&&(d=ud(a[3]&31),"slice_layer_without_partitioning_rbsp_idr"===d&&(c=!0));return c}},sf=Object.freeze({default:Nc,__moduleExports:Nc,parseType:Nc.parseType,parsePat:Nc.parsePat,parsePmt:Nc.parsePmt,parsePayloadUnitStartIndicator:Nc.parsePayloadUnitStartIndicator,parsePesType:Nc.parsePesType,parsePesTime:Nc.parsePesTime,videoPacketContainsKeyFrame:Nc.videoPacketContainsKeyFrame}),
Ya=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],Wb=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},Be={parseId3TagSize:function(a,b){var d=a[b+6]<<21|a[b+7]<<14|a[b+8]<<7|a[b+9];return(a[b+5]&16)>>4?d+20:d+10},parseAdtsSize:function(a,b){return a[b+3]&6144|a[b+4]<<3|(a[b+5]&224)>>5},parseType:function(a,b){return 73===a[b]&&68===a[b+1]&&51===a[b+2]?"timed-metadata":a[b]&1&&240===(a[b+1]&240)?"audio":null},parseSampleRate:function(a){for(var b=0;b+5<a.length;)if(255!==a[b]||
240!==(a[b+1]&246))b++;else return Ya[(a[b+2]&60)>>>2];return null},parseAacTimestamp:function(a){var b=10;a[5]&64&&(b=b+4+Wb(a.subarray(10,14)));do{var d=Wb(a.subarray(b+4,b+8));if(1>d)break;var c=String.fromCharCode(a[b],a[b+1],a[b+2],a[b+3]);if("PRIV"===c){c=a.subarray(b+10,b+d+10);for(var e=0;e<c.byteLength;e++)if(0===c[e]){var f=unescape,p,g=c,h=e,l="";for(p=0;p<h;p++)l+="%"+("00"+g[p].toString(16)).slice(-2);if("com.apple.streaming.transportStreamTimestamp"===f(l))return a=c.subarray(e+1),b=
(a[3]&1)<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2,b*=4,b+=a[7]&3;break}}b+=10;b+=d}while(b<a.byteLength);return null}},Tc=Object.freeze({default:Be,__moduleExports:Be,parseId3TagSize:Be.parseId3TagSize,parseAdtsSize:Be.parseAdtsSize,parseType:Be.parseType,parseSampleRate:Be.parseSampleRate,parseAacTimestamp:Be.parseAacTimestamp}),Od=Tc&&Be||Tc,dd=(Ve&&We||Ve).handleRollover;var Ab=sf&&Nc||sf;var ig=function(a,b){if(a.audio&&a.audio.length){var d=b;"undefined"===typeof d&&(d=a.audio[0].dts);a.audio.forEach(function(a){a.dts=
dd(a.dts,d);a.pts=dd(a.pts,d);a.dtsTime=a.dts/9E4;a.ptsTime=a.pts/9E4})}if(a.video&&a.video.length){var c=b;"undefined"===typeof c&&(c=a.video[0].dts);a.video.forEach(function(a){a.dts=dd(a.dts,c);a.pts=dd(a.pts,c);a.dtsTime=a.dts/9E4;a.ptsTime=a.pts/9E4});a.firstKeyFrame&&(a=a.firstKeyFrame,a.dts=dd(a.dts,c),a.pts=dd(a.pts,c),a.dtsTime=a.dts/9E4,a.ptsTime=a.dts/9E4)}},ff=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");},Mh=function(){function a(a,b){for(var d=
0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),Pi=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof b?"undefined":Ib(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?
Object.setPrototypeOf(a,b):a.__proto__=b)},Tb=null,$h=function(){function a(b){ff(this,a);if(!Tb){var d=[[[],[],[],[],[]],[[],[],[],[],[]]],c=d[0],e=d[1],f=c[4],p=e[4],g,h,l,t=[],k=[],m;for(g=0;256>g;g++)k[(t[g]=g<<1^283*(g>>7))^g]=g;for(h=l=0;!f[h];h^=m||1,l=k[l]||1){var n=l^l<<1^l<<2^l<<3^l<<4;n=n>>8^n&255^99;f[h]=n;p[n]=h;var q=t[g=t[m=t[h]]];var H=16843009*q^65537*g^257*m^16843008*h;q=257*t[n]^16843008*n;for(g=0;4>g;g++)c[g][h]=q=q<<24^q>>>8,e[g][n]=H=H<<24^H>>>8}for(g=0;5>g;g++)c[g]=c[g].slice(0),
e[g]=e[g].slice(0);Tb=d}this._tables=[[Tb[0][0].slice(),Tb[0][1].slice(),Tb[0][2].slice(),Tb[0][3].slice(),Tb[0][4].slice()],[Tb[1][0].slice(),Tb[1][1].slice(),Tb[1][2].slice(),Tb[1][3].slice(),Tb[1][4].slice()]];d=this._tables[0][4];c=this._tables[1];h=b.length;l=1;if(4!==h&&6!==h&&8!==h)throw Error("Invalid aes key size");f=b.slice(0);p=[];this._key=[f,p];for(b=h;b<4*h+28;b++){e=f[b-1];if(0===b%h||8===h&&4===b%h)e=d[e>>>24]<<24^d[e>>16&255]<<16^d[e>>8&255]<<8^d[e&255],0===b%h&&(e=e<<8^e>>>24^l<<
24,l=l<<1^283*(l>>7));f[b]=f[b-h]^e}for(h=0;b;h++,b--)e=f[h&3?b:b-4],p[h]=4>=b||4>h?e:c[0][d[e>>>24]]^c[1][d[e>>16&255]]^c[2][d[e>>8&255]]^c[3][d[e&255]]}a.prototype.decrypt=function(a,b,d,c,e,f){var p=this._key[1];a^=p[0];c^=p[1];d^=p[2];b^=p[3];var g=p.length/4-2,h,l=4;var t=this._tables[1];var k=t[0],m=t[1],n=t[2],q=t[3],H=t[4];for(h=0;h<g;h++){t=k[a>>>24]^m[c>>16&255]^n[d>>8&255]^q[b&255]^p[l];var x=k[c>>>24]^m[d>>16&255]^n[b>>8&255]^q[a&255]^p[l+1];var r=k[d>>>24]^m[b>>16&255]^n[a>>8&255]^q[c&
255]^p[l+2];b=k[b>>>24]^m[a>>16&255]^n[c>>8&255]^q[d&255]^p[l+3];l+=4;a=t;c=x;d=r}for(h=0;4>h;h++)e[(3&-h)+f]=H[a>>>24]<<24^H[c>>16&255]<<16^H[d>>8&255]<<8^H[b&255]^p[l++],t=a,a=c,c=d,d=b,b=t};return a}(),rh=function(){function a(){ff(this,a);this.listeners={}}a.prototype.on=function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)};a.prototype.off=function(a,b){if(!this.listeners[a])return!1;b=this.listeners[a].indexOf(b);this.listeners[a].splice(b,1);return-1<b};a.prototype.trigger=
function(a){var b=this.listeners[a];if(b)if(2===arguments.length)for(var d=b.length,c=0;c<d;++c)b[c].call(this,arguments[1]);else{d=Array.prototype.slice.call(arguments,1);c=b.length;for(var e=0;e<c;++e)b[e].apply(this,d)}};a.prototype.dispose=function(){this.listeners={}};a.prototype.pipe=function(a){this.on("data",function(b){a.push(b)})};return a}(),ai=function(a){function b(){ff(this,b);var d=a.call(this,rh);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
d=!d||"object"!==("undefined"===typeof d?"undefined":Ib(d))&&"function"!==typeof d?this:d;d.jobs=[];d.delay=1;d.timeout_=null;return d}Pi(b,a);b.prototype.processJob_=function(){this.jobs.shift()();this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null};b.prototype.push=function(a){this.jobs.push(a);this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))};return b}(rh),pe=function(a){return a<<24|(a&65280)<<8|(a&16711680)>>8|a>>>24},bi=function(a,
b,d){var c=new Int32Array(a.buffer,a.byteOffset,a.byteLength>>2);b=new $h(Array.prototype.slice.call(b));a=new Uint8Array(a.byteLength);var e=new Int32Array(a.buffer),f;var p=d[0];var g=d[1];var h=d[2];d=d[3];for(f=0;f<c.length;f+=4){var l=pe(c[f]);var t=pe(c[f+1]);var k=pe(c[f+2]);var m=pe(c[f+3]);b.decrypt(l,t,k,m,e,f);e[f]=pe(e[f]^p);e[f+1]=pe(e[f+1]^g);e[f+2]=pe(e[f+2]^h);e[f+3]=pe(e[f+3]^d);p=l;g=t;h=k;d=m}return a},pi=function(){function a(b,d,c,e){ff(this,a);var f=a.STEP,p=new Int32Array(b.buffer),
g=new Uint8Array(b.byteLength);b=0;this.asyncStream_=new ai;this.asyncStream_.push(this.decryptChunk_(p.subarray(b,b+f),d,c,g));for(b=f;b<p.length;b+=f)c=new Uint32Array([pe(p[b-4]),pe(p[b-3]),pe(p[b-2]),pe(p[b-1])]),this.asyncStream_.push(this.decryptChunk_(p.subarray(b,b+f),d,c,g));this.asyncStream_.push(function(){e(null,g.subarray(0,g.byteLength-g[g.byteLength-1]))})}a.prototype.decryptChunk_=function(a,b,d,c){return function(){var e=bi(a,b,d);c.set(e,a.byteOffset)}};Mh(a,null,[{key:"STEP",get:function(){return 32E3}}]);
return a}(),jg=function(a,b){if(/^[a-z]+:/i.test(b))return b;/\/\//i.test(a)||(a=Ec.buildAbsoluteURL(N.location.href,a));return Ec.buildAbsoluteURL(a,b)},Xd=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");},vd=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),mh=function ub(a,
b,d){null===a&&(a=Function.prototype);var c=Object.getOwnPropertyDescriptor(a,b);if(void 0===c){if(a=Object.getPrototypeOf(a),null!==a)return ub(a,b,d)}else{if("value"in c)return c.value;b=c.get;return void 0===b?void 0:b.call(d)}},le=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof b?"undefined":Ib(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});
b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},tf=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"===typeof b?"undefined":Ib(b))&&"function"!==typeof b?a:b},Wh=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var d=[],c=!0,e=!1,f=void 0;try{for(var p=a[Symbol.iterator](),g;!(c=(g=p.next()).done)&&(d.push(g.value),!b||d.length!==b);c=!0);}catch(Ri){e=
!0,f=Ri}finally{try{if(!c&&p["return"])p["return"]()}finally{if(e)throw f;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),lh=M.mergeOptions,ji=M.log,zh=function(a,b){["AUDIO","SUBTITLES"].forEach(function(d){for(var c in a.mediaGroups[d])for(var e in a.mediaGroups[d][c])b(a.mediaGroups[d][c][e],d,c,e)})},Xh=function(a,b,d){var c=b.slice();d=d||0;b=Math.min(a.length,b.length+d);for(var e=d;e<b;e++)c[e-d]=lh(a[e],c[e-d]);return c},Gh=function(a,b){a=lh(a,
{});var d=a.playlists[b.uri];if(!d||d.segments&&b.segments&&d.segments.length===b.segments.length&&d.mediaSequence===b.mediaSequence)return null;var c=lh(d,b);d.segments&&(c.segments=Xh(d.segments,b.segments,b.mediaSequence-d.mediaSequence));c.segments.forEach(function(a){var b=c.resolvedUri;a.resolvedUri||(a.resolvedUri=jg(b,a.uri));a.key&&!a.key.resolvedUri&&(a.key.resolvedUri=jg(b,a.key.uri));a.map&&!a.map.resolvedUri&&(a.map.resolvedUri=jg(b,a.map.uri))});for(d=0;d<a.playlists.length;d++)a.playlists[d].uri===
b.uri&&(a.playlists[d]=c);a.playlists[b.uri]=c;return a},Nh=function(a){for(var b=a.playlists.length;b--;){var d=a.playlists[b];a.playlists[d.uri]=d;d.resolvedUri=jg(a.uri,d.uri);d.id=b;d.attributes||(d.attributes={},ji.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},qi=function(a){zh(a,function(b){b.uri&&(b.resolvedUri=jg(a.uri,b.uri))})},ri=function(a,b){var d=a.segments[a.segments.length-1];return b&&d&&d.duration?1E3*d.duration:500*(a.targetDuration||10)},Oh=function(a){function b(a,
d,c){Xd(this,b);var e=tf(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));e.srcUrl=a;e.hls_=d;e.withCredentials=c;if(!e.srcUrl)throw Error("A non-empty playlist URL is required");e.state="HAVE_NOTHING";e.on("mediaupdatetimeout",function(){"HAVE_METADATA"===e.state&&(e.state="HAVE_CURRENT_METADATA",e.request=e.hls_.xhr({uri:jg(e.master.uri,e.media().uri),withCredentials:e.withCredentials},function(a,b){if(e.request){if(a)return e.playlistRequestError(e.request,e.media().uri,"HAVE_METADATA");
e.haveMetadata(e.request,e.media().uri)}}))});return e}le(b,a);vd(b,[{key:"playlistRequestError",value:function(a,b,d){this.request=null;d&&(this.state=d);this.error={playlist:this.master.playlists[b],status:a.status,message:"HLS playlist request error at URL: "+b,responseText:a.responseText,code:500<=a.status?4:2};this.trigger("error")}},{key:"haveMetadata",value:function(a,b){var d=this;this.request=null;this.state="HAVE_METADATA";var c=new La;c.push(a.responseText);c.end();c.manifest.uri=b;c.manifest.attributes=
c.manifest.attributes||{};a=Gh(this.master,c.manifest);this.targetDuration=c.manifest.targetDuration;a?(this.master=a,this.media_=this.master.playlists[c.manifest.uri]):this.trigger("playlistunchanged");this.media().endList||(N.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=N.setTimeout(function(){d.trigger("mediaupdatetimeout")},ri(this.media(),!!a)));this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest();N.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",
value:function(){if(this.request){var a=this.request;this.request=null;a.onreadystatechange=null;a.abort()}}},{key:"media",value:function(a){var b=this;if(!a)return this.media_;if("HAVE_NOTHING"===this.state)throw Error("Cannot switch media playlist from "+this.state);var d=this.state;if("string"===typeof a){if(!this.master.playlists[a])throw Error("Unknown playlist URI: "+a);a=this.master.playlists[a]}var c=!this.media_||a.uri!==this.media_.uri;if(this.master.playlists[a.uri].endList)this.request&&
(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=a,c&&(this.trigger("mediachanging"),this.trigger("mediachange"));else if(c){this.state="SWITCHING_MEDIA";if(this.request){if(jg(this.master.uri,a.uri)===this.request.url)return;this.request.onreadystatechange=null;this.request.abort();this.request=null}this.media_&&this.trigger("mediachanging");this.request=this.hls_.xhr({uri:jg(this.master.uri,a.uri),withCredentials:this.withCredentials},
function(c,e){if(b.request){if(c)return b.playlistRequestError(b.request,a.uri,d);b.haveMetadata(e,a.uri);"HAVE_MASTER"===d?b.trigger("loadedmetadata"):b.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest();N.clearTimeout(this.mediaUpdateTimeout);"HAVE_NOTHING"===this.state&&(this.started=!1);"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(a){var b=
this;N.clearTimeout(this.mediaUpdateTimeout);var d=this.media();a?this.mediaUpdateTimeout=N.setTimeout(function(){return b.load()},d?d.targetDuration/2*1E3:5E3):this.started?d&&!d.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var a=this;this.started=!0;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(b,d){if(a.request){a.request=null;if(b)return a.error={status:d.status,message:"HLS playlist request error at URL: "+
a.srcUrl,responseText:d.responseText,code:2},"HAVE_NOTHING"===a.state&&(a.started=!1),a.trigger("error");b=new La;b.push(d.responseText);b.end();a.state="HAVE_MASTER";b.manifest.uri=a.srcUrl;if(b.manifest.playlists)a.master=b.manifest,Nh(a.master),qi(a.master),a.trigger("loadedplaylist"),a.request||a.media(b.manifest.playlists[0]);else return a.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:N.location.href,playlists:[{uri:a.srcUrl,id:0}]},a.master.playlists[a.srcUrl]=
a.master.playlists[0],a.master.playlists[0].resolvedUri=a.srcUrl,a.master.playlists[0].attributes=a.master.playlists[0].attributes||{},a.haveMetadata(d,a.srcUrl),a.trigger("loadedmetadata")}})}}]);return b}(M.EventTarget),si=M.createTimeRange,ti=function(a,b){var d=0;b-=a.mediaSequence;var c=a.segments[b];if(c){if("undefined"!==typeof c.start)return{result:c.start,precise:!0};if("undefined"!==typeof c.end)return{result:c.end-c.duration,precise:!0}}for(;b--;){c=a.segments[b];if("undefined"!==typeof c.end)return{result:d+
c.end,precise:!0};d+=c.duration;if("undefined"!==typeof c.start)return{result:d+c.start,precise:!0}}return{result:d,precise:!1}},ui=function(a,b,d){"undefined"===typeof b&&(b=a.mediaSequence+a.segments.length);if(b<a.mediaSequence)return 0;var c=ti(a,b);if(c.precise)return c.result;a:{var e=0;for(var f=b-a.mediaSequence;f<a.segments.length;f++){b=a.segments[f];if("undefined"!==typeof b.start){a=b.start-e;e=!0;break a}e+=b.duration;if("undefined"!==typeof b.end){a=b.end-e;e=!0;break a}}a=-1;e=!1}return e?
a:c.result+d},ci=function(a,b,d){if(!a)return 0;"number"!==typeof d&&(d=0);if("undefined"===typeof b){if(a.totalDuration)return a.totalDuration;if(!a.endList)return N.Infinity}return ui(a,b,d)},Hh=function(a,b,d){var c=0;b>d&&(d=[d,b],b=d[0],d=d[1]);if(0>b){for(;b<Math.min(0,d);b++)c+=a.targetDuration;b=0}for(;b<d;b++)c+=a.segments[b].duration;return c},vi=function(a){if(!a.segments.length)return 0;for(var b=a.segments.length-1,d=a.segments[b].duration||a.targetDuration,c=d+2*a.targetDuration;b--&&
!(d+=a.segments[b].duration,d>=c););return Math.max(0,b)},ki=function(a,b,d){if(!a||!a.segments)return null;if(a.endList)return ci(a);if(null===b)return null;b=b||0;d=d?vi(a):a.segments.length;return ui(a,a.mediaSequence+d,b)},li=function(a,b){if(0===b-Math.floor(b))return b+.1*a;for(var d=b.toString().split(".")[1].length,c=1;c<=d;c++){var e=Math.pow(10,c),f=b*e;if(0===f-Math.floor(f)||c===d)return(f+a)/e}},mi=li.bind(null,1),Mi=li.bind(null,-1),wi=function(a){return a.excludeUntil&&a.excludeUntil>
Date.now()},di=function(a){return a.excludeUntil&&Infinity===a.excludeUntil},Ph=function(a){var b=wi(a);return!a.disabled&&!b},xi=function(a,b){return b.attributes&&b.attributes[a]},Ah=function(a,b){if(1===a.playlists.length)return!0;var d=b.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===a.playlists.filter(function(a){return Ph(a)?(a.attributes.BANDWIDTH||0)<d:!1}).length},Ud={duration:ci,seekable:function(a,b){var d=b||0;a=ki(a,b,!0);return null===a?si():si(d,a)},safeLiveIndex:vi,getMediaInfoForTime:function(a,
b,d,c){var e,f=a.segments.length,p=b-c;if(0>p){if(0<d)for(e=d-1;0<=e;e--){var g=a.segments[e];p+=Mi(g.duration);if(0<p)return{mediaIndex:e,startTime:c-Hh(a,d,e)}}return{mediaIndex:0,startTime:b}}if(0>d){for(e=d;0>e;e++)if(p-=a.targetDuration,0>p)return{mediaIndex:0,startTime:b};d=0}for(e=d;e<f;e++)if(g=a.segments[e],p-=mi(g.duration),0>p)return{mediaIndex:e,startTime:c+Hh(a,d,e)};return{mediaIndex:f-1,startTime:b}},isEnabled:Ph,isDisabled:function(a){return a.disabled},isBlacklisted:wi,isIncompatible:di,
playlistEnd:ki,isAes:function(a){for(var b=0;b<a.segments.length;b++)if(a.segments[b].key)return!0;return!1},isFmp4:function(a){for(var b=0;b<a.segments.length;b++)if(a.segments[b].map)return!0;return!1},hasAttribute:xi,estimateSegmentRequestTime:function(a,b,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return xi("BANDWIDTH",d)?(a*d.attributes.BANDWIDTH-8*c)/b:NaN},isLowestEnabledRendition:Ah},ni=M.xhr,oi=M.mergeOptions,Dg=function(){return function lb(a,b){a=oi({timeout:45E3},
a);var d=lb.beforeRequest||M.Hls.xhr.beforeRequest;d&&"function"===typeof d&&(d=d(a))&&(a=d);var c=ni(a,function(a,d){var e=c.response;!a&&e&&(c.responseTime=Date.now(),c.roundTripTime=c.responseTime-c.requestTime,c.bytesReceived=e.byteLength||e.length,c.bandwidth||(c.bandwidth=Math.floor(c.bytesReceived/c.roundTripTime*8E3)));d.headers&&(c.responseHeaders=d.headers);a&&"ETIMEDOUT"===a.code&&(c.timedout=!0);a||c.aborted||200===d.statusCode||206===d.statusCode||0===d.statusCode||(a=Error("XHR Failed with a response of: "+
(c&&(e||c.responseText))));b(a,c)}),e=c.abort;c.abort=function(){c.aborted=!0;return e.apply(c,arguments)};c.uri=a.uri;c.requestTime=Date.now();return c}},yi=function(a,b){a=a.toString(16);return"00".substring(0,2-a.length)+a+(b%2?" ":"")},Qh=function(a){return 32<=a&&126>a?String.fromCharCode(a):"."},ei=function(a){var b={};Object.keys(a).forEach(function(d){var c=a[d];ArrayBuffer.isView(c)?b[d]={bytes:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength}:b[d]=c});return b},Nb=function(a){var b=
a.byterange||{length:Infinity,offset:0};return[b.length,b.offset,a.resolvedUri].join()},Yh=function(a){a=Array.prototype.slice.call(a);for(var b="",d,c,e=0;e<a.length/16;e++)d=a.slice(16*e,16*e+16).map(yi).join(""),c=a.slice(16*e,16*e+16).map(Qh).join(""),b+=d+" "+c+"\n";return b},qh=Object.freeze({createTransferableMessage:ei,initSegmentId:Nb,hexDump:Yh,tagDump:function(a){return Yh(a.bytes)},textRanges:function(a){var b="",d;for(d=0;d<a.length;d++){var c=a;var e=d;c=c.start(e)+"-"+c.end(e);b+=c+
" "}return b}}),Hg=1/30,fh=3*Hg,zi=function(a,b){var d=[],c;if(a&&a.length)for(c=0;c<a.length;c++)b(a.start(c),a.end(c))&&d.push([a.start(c),a.end(c)]);return M.createTimeRanges(d)},Ai=function(a,b){return zi(a,function(a,d){return a-Hg<=b&&d+Hg>=b})},Rh=function(a,b){return zi(a,function(a){return a-Hg>=b})},Ih=function(a){var b=[];if(!a||!a.length)return"";for(var d=0;d<a.length;d++)b.push(a.start(d)+" => "+a.end(d));return b.join(", ")},Bi=function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:1;return((a.length?a.end(a.length-1):0)-b)/d},fi=function(a){for(var b=[],d=0;d<a.length;d++)b.push({start:a.start(d),end:a.end(d)});return b},ah=function(a,b,d){var c;if(d&&d.cues)for(c=d.cues.length;c--;){var e=d.cues[c];e.startTime<=b&&e.endTime>=a&&d.removeCue(e)}},gi=function(a){Object.defineProperties(a.frame,{id:{get:function(){M.log.warn("cue.frame.id is deprecated. Use cue.value.key instead.");return a.value.key}},value:{get:function(){M.log.warn("cue.frame.value is deprecated. Use cue.value.data instead.");
return a.value.data}},privateData:{get:function(){M.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead.");return a.value.data}}})},Ci=function(a){return isNaN(a)||Infinity===Math.abs(a)?Number.MAX_VALUE:a},Ni=function(a,b,d){var c=N.WebKitDataCue||N.VTTCue;b&&b.forEach(function(a){this.inbandTextTracks_[a.stream].addCue(new c(a.startTime+this.timestampOffset,a.endTime+this.timestampOffset,a.text))},a);if(d){var e=Ci(a.mediaSource_.duration);d.forEach(function(a){var b=a.cueTime+
this.timestampOffset;a.frames.forEach(function(a){var d=new c(b,b,a.value||a.url||a.data||"");d.frame=a;d.value=a;gi(d);this.metadataTrack_.addCue(d)},this)},a);if(a.metadataTrack_&&a.metadataTrack_.cues&&a.metadataTrack_.cues.length){a=a.metadataTrack_.cues;b=[];for(d=0;d<a.length;d++)a[d]&&b.push(a[d]);var f=b.reduce(function(a,b){var d=a[b.startTime]||[];d.push(b);a[b.startTime]=d;return a},{}),p=Object.keys(f).sort(function(a,b){return Number(a)-Number(b)});p.forEach(function(a,b){var d=Number(p[b+
1])||e;f[a].forEach(function(a){a.endTime=d})})}}},gh="undefined"!==typeof window?window:{},hi="undefined"===typeof Symbol?"__target":Symbol(),U=gh.BlobBuilder||gh.WebKitBlobBuilder||gh.MozBlobBuilder||gh.MSBlobBuilder,rb=gh.URL||gh.webkitURL||rb&&rb.msURL,ge=gh.Worker;if(ge){var Ti=xc("self.onmessage = function () {}"),Ui=new Uint8Array(1);try{var Fi=new ge(Ti);Fi.postMessage(Ui,[Ui.buffer])}catch(ub){ge=null}finally{rb.revokeObjectURL(Ti),Fi&&Fi.terminate()}}var mj=new $a("./transmuxer-worker.worker.js",
function(a,b){var d=this;(function(){var b="undefined"!==typeof a?a:"undefined"!==typeof global?global:"undefined"!==typeof d?d:{},c="undefined"!==typeof a?a:"undefined"!==typeof b?b:"undefined"!==typeof d?d:{},e=Math.pow(2,32)-1,f,p,g,h,l,t,k,m,n,q,H,x,r,y,w,la;(function(){var a;g={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],
tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]};if("undefined"!==typeof Uint8Array){for(a in g)g.hasOwnProperty(a)&&(g[a]=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]);h=new Uint8Array([105,115,111,109]);t=new Uint8Array([97,118,99,49]);l=new Uint8Array([0,0,0,1]);k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);m=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,
110,100,72,97,110,100,108,101,114,0]);n={video:k,audio:m};x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);H=new Uint8Array([0,0,0,0,0,0,0,0]);y=r=new Uint8Array([0,0,0,0,0,0,0,0]);w=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);la=r;q=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})();var B=function(a){var b=[],d=0,c;for(c=1;c<arguments.length;c++)b.push(arguments[c]);for(c=b.length;c--;)d+=b[c].byteLength;var e=new Uint8Array(d+8);(new DataView(e.buffer,e.byteOffset,e.byteLength)).setUint32(0,
e.byteLength);e.set(a,4);c=0;for(d=8;c<b.length;c++)e.set(b[c],d),d+=b[c].byteLength;return e};var z=function(){return B(g.dinf,B(g.dref,x))};var v=function(a){return B(g.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,a.audioobjecttype<<3|a.samplingfrequencyindex>>>1,a.samplingfrequencyindex<<7|a.channelcount<<3,6,1,2]))};var A=function(){return B(g.ftyp,h,l,h,t)};var Ta=function(a){return B(g.hdlr,n[a])};var C=function(a){var b=new Uint8Array([0,0,0,0,0,0,0,
2,0,0,0,3,0,1,95,144,a.duration>>>24&255,a.duration>>>16&255,a.duration>>>8&255,a.duration&255,85,196,0,0]);a.samplerate&&(b[12]=a.samplerate>>>24&255,b[13]=a.samplerate>>>16&255,b[14]=a.samplerate>>>8&255,b[15]=a.samplerate&255);return B(g.mdhd,b)};var Nc=function(a){return B(g.mdia,C(a),Ta(a.type),Wb(a))};var Fc=function(a){return B(g.mfhd,new Uint8Array([0,0,0,0,(a&4278190080)>>24,(a&16711680)>>16,(a&65280)>>8,a&255]))};var Wb=function(a){return B(g.minf,"video"===a.type?B(g.vmhd,q):B(g.smhd,H),
z(),F(a))};var E=function(a){for(var b=a.length,d=[];b--;)d[b]=sf(a[b]);return B.apply(null,[g.moov,K(4294967295)].concat(d).concat(J(a)))};var J=function(a){for(var b=a.length,d=[];b--;)d[b]=ef(a[b]);return B.apply(null,[g.mvex].concat(d))};var K=function(a){a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(a&4278190080)>>24,(a&16711680)>>16,(a&65280)>>8,a&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return B(g.mvhd,a)};var G=function(a){a=a.samples||[];var b=new Uint8Array(4+a.length),d;for(d=0;d<a.length;d++){var c=a[d].flags;b[d+4]=c.dependsOn<<4|c.isDependedOn<<2|c.hasRedundancy}return B(g.sdtp,b)};var F=function(a){return B(g.stbl,f(a),B(g.stts,la),B(g.stsc,y),B(g.stsz,w),B(g.stco,r))};(function(){f=function(d){return B(g.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===d.type?a(d):b(d))};var a=function(a){var b=a.sps||[],d=a.pps||[],c=[],e=[],f;for(f=
0;f<b.length;f++)c.push((b[f].byteLength&65280)>>>8),c.push(b[f].byteLength&255),c=c.concat(Array.prototype.slice.call(b[f]));for(f=0;f<d.length;f++)e.push((d[f].byteLength&65280)>>>8),e.push(d[f].byteLength&255),e=e.concat(Array.prototype.slice.call(d[f]));return B(g.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(a.width&65280)>>8,a.width&255,(a.height&65280)>>8,a.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,
115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),B(g.avcC,new Uint8Array([1,a.profileIdc,a.profileCompatibility,a.levelIdc,255].concat([b.length]).concat(c).concat([d.length]).concat(e))),B(g.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))};var b=function(a){return B(g.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(a.channelcount&65280)>>8,a.channelcount&255,(a.samplesize&65280)>>8,a.samplesize&255,0,0,0,0,(a.samplerate&65280)>>8,a.samplerate&255,0,0]),v(a))}})();var I=function(a){a=
new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(a.id&4278190080)>>24,(a.id&16711680)>>16,(a.id&65280)>>8,a.id&255,0,0,0,0,(a.duration&4278190080)>>24,(a.duration&16711680)>>16,(a.duration&65280)>>8,a.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(a.width&65280)>>8,a.width&255,0,0,(a.height&65280)>>8,a.height&255,0,0]);return B(g.tkhd,a)};var u=function(a){var b=B(g.tfhd,new Uint8Array([0,0,0,58,(a.id&4278190080)>>24,(a.id&16711680)>>
16,(a.id&65280)>>8,a.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]));var d=Math.floor(a.baseMediaDecodeTime/(e+1));var c=Math.floor(a.baseMediaDecodeTime%(e+1));d=B(g.tfdt,new Uint8Array([1,0,0,0,d>>>24&255,d>>>16&255,d>>>8&255,d&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255]));if("audio"===a.type)return a=p(a,92),B(g.traf,b,d,a);c=G(a);a=p(a,c.length+92);return B(g.traf,b,d,a,c)};var sf=function(a){a.duration=a.duration||4294967295;return B(g.trak,I(a),Nc(a))};var ef=function(a){var b=new Uint8Array([0,0,
0,0,(a.id&4278190080)>>24,(a.id&16711680)>>16,(a.id&65280)>>8,a.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);"video"!==a.type&&(b[b.length-1]=0);return B(g.trex,b)};(function(){var a=function(a,b){var d=0,c=0,e=0,f=0;a.length&&(void 0!==a[0].duration&&(d=1),void 0!==a[0].size&&(c=2),void 0!==a[0].flags&&(e=4),void 0!==a[0].compositionTimeOffset&&(f=8));return[0,0,d|c|e|f,1,(a.length&4278190080)>>>24,(a.length&16711680)>>>16,(a.length&65280)>>>8,a.length&255,(b&4278190080)>>>24,(b&16711680)>>>16,(b&65280)>>>
8,b&255]};var b=function(b,d){var c;b=b.samples||[];d+=20+16*b.length;d=a(b,d);for(c=0;c<b.length;c++){var e=b[c];d=d.concat([(e.duration&4278190080)>>>24,(e.duration&16711680)>>>16,(e.duration&65280)>>>8,e.duration&255,(e.size&4278190080)>>>24,(e.size&16711680)>>>16,(e.size&65280)>>>8,e.size&255,e.flags.isLeading<<2|e.flags.dependsOn,e.flags.isDependedOn<<6|e.flags.hasRedundancy<<4|e.flags.paddingValue<<1|e.flags.isNonSyncSample,e.flags.degradationPriority&61440,e.flags.degradationPriority&15,(e.compositionTimeOffset&
4278190080)>>>24,(e.compositionTimeOffset&16711680)>>>16,(e.compositionTimeOffset&65280)>>>8,e.compositionTimeOffset&255])}return B(g.trun,new Uint8Array(d))};var d=function(b,d){var c;b=b.samples||[];d+=20+8*b.length;d=a(b,d);for(c=0;c<b.length;c++){var e=b[c];d=d.concat([(e.duration&4278190080)>>>24,(e.duration&16711680)>>>16,(e.duration&65280)>>>8,e.duration&255,(e.size&4278190080)>>>24,(e.size&16711680)>>>16,(e.size&65280)>>>8,e.size&255])}return B(g.trun,new Uint8Array(d))};p=function(a,c){return"audio"===
a.type?d(a,c):b(a,c)}})();var L={ftyp:A,mdat:function(a){return B(g.mdat,a)},moof:function(a,b){for(var d=[],c=b.length;c--;)d[c]=u(b[c]);return B.apply(null,[g.moof,Fc(a)].concat(d))},moov:E,initSegment:function(a){var b=A();a=E(a);var d=new Uint8Array(b.byteLength+a.byteLength);d.set(b);d.set(a,b.byteLength);return d}};b=function(){this.init=function(){var a={};this.on=function(b,d){a[b]||(a[b]=[]);a[b]=a[b].concat(d)};this.off=function(b,d){if(!a[b])return!1;d=a[b].indexOf(d);a[b]=a[b].slice();
a[b].splice(d,1);return-1<d};this.trigger=function(b){var d,c;if(d=a[b])if(2===arguments.length){var e=d.length;for(c=0;c<e;++c)d[c].call(this,arguments[1])}else{var f=[];for(c=1;c<arguments.length;++c)f.push(arguments[c]);e=d.length;for(c=0;c<e;++c)d[c].apply(this,f)}};this.dispose=function(){a={}}}};b.prototype.pipe=function(a){this.on("data",function(b){a.push(b)});this.on("done",function(b){a.flush(b)});return a};b.prototype.push=function(a){this.trigger("data",a)};b.prototype.flush=function(a){this.trigger("done",
a)};var Be=function(a,b){var d=[],c;if(!(b[0]&64))return d;var e=b[0]&31;for(c=0;c<e;c++){var f=3*c;var p={type:b[f+2]&3,pts:a};b[f+2]&4&&(p.ccData=b[f+3]<<8|b[f+4],d.push(p))}return d},aa=function Jj(){Jj.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new Ya(0,0),new Ya(0,1),new Ya(1,0),new Ya(1,1)];this.reset();this.ccStreams_.forEach(function(a){a.on("data",this.trigger.bind(this,"data"));a.on("done",this.trigger.bind(this,"done"))},this)};aa.prototype=new b;aa.prototype.push=
function(a){if("sei_rbsp"===a.nalUnitType){var b=a.escapedRBSP;for(var d=0,c={payloadType:-1,payloadSize:0},e=0,f=0;d<b.byteLength&&128!==b[d];){for(;255===b[d];)e+=255,d++;for(e+=b[d++];255===b[d];)f+=255,d++;f+=b[d++];if(!c.payload&&4===e){c.payloadType=e;c.payloadSize=f;c.payload=b.subarray(d,d+f);break}d+=f;f=e=0}4===c.payloadType&&(b=181!==c.payload[0]||49!==(c.payload[1]<<8|c.payload[2])||"GA94"!==String.fromCharCode(c.payload[3],c.payload[4],c.payload[5],c.payload[6])||3!==c.payload[7]?null:
c.payload.subarray(8,c.payload.length-1))&&(a.dts<this.latestDts_?this.ignoreNextEqualDts_=!0:a.dts===this.latestDts_&&this.ignoreNextEqualDts_?(this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1)):(this.captionPackets_=this.captionPackets_.concat(Be(a.pts,b)),this.latestDts_!==a.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=a.dts))}};aa.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(a,b){a.presortIndex=b}),this.captionPackets_.sort(function(a,
b){return a.pts===b.pts?a.presortIndex-b.presortIndex:a.pts-b.pts}),this.captionPackets_.forEach(function(a){2>a.type&&this.dispatchCea608Packet(a)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(a){a.flush()},this)):this.ccStreams_.forEach(function(a){a.flush()},this)};aa.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=!1;this.numSameDts_=0;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(a){a.reset()})};aa.prototype.dispatchCea608Packet=
function(a){this.setsChannel1Active(a)?this.activeCea608Channel_[a.type]=0:this.setsChannel2Active(a)&&(this.activeCea608Channel_[a.type]=1);null!==this.activeCea608Channel_[a.type]&&this.ccStreams_[(a.type<<1)+this.activeCea608Channel_[a.type]].push(a)};aa.prototype.setsChannel1Active=function(a){return 4096===(a.ccData&30720)};aa.prototype.setsChannel2Active=function(a){return 6144===(a.ccData&30720)};var Y={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,
306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,
817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},W=function(a){if(null===a)return"";a=Y[a]||a;return String.fromCharCode(a)},T=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],O=function(){for(var a=[],b=15;b--;)a.push("");return a},Ya=function Kj(a,b){Kj.prototype.init.call(this);this.field_=a||0;this.dataChannel_=b||0;this.name_="CC"+((this.field_<<1|this.dataChannel_)+1);this.setConstants();
this.reset();this.push=function(a){var b=a.ccData&32639;if(b===this.lastControlCode_)this.lastControlCode_=null;else{4096===(b&61440)?this.lastControlCode_=b:b!==this.PADDING_&&(this.lastControlCode_=null);var d=b>>>8;var c=b&255;b!==this.PADDING_&&(b===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":b===this.END_OF_CAPTION_?(this.clearFormatting(a.pts),this.flushDisplayed(a.pts),c=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=c,this.startPts_=a.pts):b===this.ROLL_UP_2_ROWS_?
(this.topRow_=13,this.mode_="rollUp"):b===this.ROLL_UP_3_ROWS_?(this.topRow_=12,this.mode_="rollUp"):b===this.ROLL_UP_4_ROWS_?(this.topRow_=11,this.mode_="rollUp"):b===this.CARRIAGE_RETURN_?(this.clearFormatting(a.pts),this.flushDisplayed(a.pts),this.shiftRowsUp_(),this.startPts_=a.pts):b===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1):b===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(a.pts),this.displayed_=
O()):b===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=O():b===this.RESUME_DIRECT_CAPTIONING_?this.mode_="paintOn":this.isSpecialCharacter(d,c)?(b=W((d&3)<<8|c),this[this.mode_](a.pts,b),this.column_++):this.isExtCharacter(d,c)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1),b=W((d&3)<<8|c),this[this.mode_](a.pts,b),this.column_++):this.isMidRowCode(d,c)?(this.clearFormatting(a.pts),this[this.mode_](a.pts,
" "),this.column_++,14===(c&14)&&this.addFormatting(a.pts,["i"]),1===(c&1)&&this.addFormatting(a.pts,["u"])):this.isOffsetControlCode(d,c)?this.column_+=c&3:this.isPAC(d,c)?(d=T.indexOf(b&7968),d!==this.row_&&(this.clearFormatting(a.pts),this.row_=d),c&1&&-1===this.formatting_.indexOf("u")&&this.addFormatting(a.pts,["u"]),16===(b&16)&&(this.column_=4*((b&14)>>1)),this.isColorPAC(c)&&14===(c&14)&&this.addFormatting(a.pts,["i"])):this.isNormalChar(d)&&(0===c&&(c=null),b=W(d),b+=W(c),this[this.mode_](a.pts,
b),this.column_+=b.length))}}};Ya.prototype=new b;Ya.prototype.flushDisplayed=function(a){var b=this.displayed_.map(function(a){return a.trim()}).join("\n").replace(/^\n+|\n+$/g,"");b.length&&this.trigger("data",{startPts:this.startPts_,endPts:a,text:b,stream:this.name_})};Ya.prototype.reset=function(){this.mode_="popOn";this.startPts_=this.topRow_=0;this.displayed_=O();this.nonDisplayed_=O();this.lastControlCode_=null;this.column_=0;this.row_=14;this.formatting_=[]};Ya.prototype.setConstants=function(){0===
this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31);this.PADDING_=0;this.RESUME_CAPTION_LOADING_=this.CONTROL_|32;this.END_OF_CAPTION_=this.CONTROL_|47;this.ROLL_UP_2_ROWS_=this.CONTROL_|37;this.ROLL_UP_3_ROWS_=this.CONTROL_|38;this.ROLL_UP_4_ROWS_=this.CONTROL_|39;this.CARRIAGE_RETURN_=this.CONTROL_|45;this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41;this.BACKSPACE_=
this.CONTROL_|33;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};Ya.prototype.isSpecialCharacter=function(a,b){return a===this.EXT_&&48<=b&&63>=b};Ya.prototype.isExtCharacter=function(a,b){return(a===this.EXT_+1||a===this.EXT_+2)&&32<=b&&63>=b};Ya.prototype.isMidRowCode=function(a,b){return a===this.EXT_&&32<=b&&47>=b};Ya.prototype.isOffsetControlCode=function(a,b){return a===this.OFFSET_&&33<=b&&35>=b};Ya.prototype.isPAC=function(a,b){return a>=this.BASE_&&
a<this.BASE_+8&&64<=b&&127>=b};Ya.prototype.isColorPAC=function(a){return 64<=a&&79>=a||96<=a&&127>=a};Ya.prototype.isNormalChar=function(a){return 32<=a&&127>=a};Ya.prototype.addFormatting=function(a,b){this.formatting_=this.formatting_.concat(b);b=b.reduce(function(a,b){return a+"<"+b+">"},"");this[this.mode_](a,b)};Ya.prototype.clearFormatting=function(a){if(this.formatting_.length){var b=this.formatting_.reverse().reduce(function(a,b){return a+"</"+b+">"},"");this.formatting_=[];this[this.mode_](a,
b)}};Ya.prototype.popOn=function(a,b){this.nonDisplayed_[this.row_]+=b};Ya.prototype.rollUp=function(a,b){this.displayed_[14]+=b};Ya.prototype.shiftRowsUp_=function(){var a;for(a=0;a<this.topRow_;a++)this.displayed_[a]="";for(a=this.topRow_;14>a;a++)this.displayed_[a]=this.displayed_[a+1];this.displayed_[14]=""};Ya.prototype.paintOn=function(){};var va=Ya,Tc={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ma=function(a,b){var d=1;for(a>b&&(d=-1);4294967296<Math.abs(b-a);)a+=8589934592*
d;return a},wg=function Lj(a){var b,d;Lj.prototype.init.call(this);this.type_=a;this.push=function(a){a.type===this.type_&&(void 0===d&&(d=a.dts),a.dts=ma(a.dts,d),a.pts=ma(a.pts,d),b=a.dts,this.trigger("data",a))};this.flush=function(){d=b;this.trigger("done")};this.discontinuity=function(){b=d=void 0}};wg.prototype=new b;var Ea=function(a,b,d){for(var c="";b<d;b++)c+="%"+("00"+a[b].toString(16)).slice(-2);return c},ea=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},ja={TXXX:function(a){var b;
if(3===a.data[0]){for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=decodeURIComponent(Ea(a.data,1,b));a.value=decodeURIComponent(Ea(a.data,b+1,a.data.length)).replace(/\0*$/,"");break}a.data=a.value}},WXXX:function(a){var b;if(3===a.data[0])for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=decodeURIComponent(Ea(a.data,1,b));a.url=decodeURIComponent(Ea(a.data,b+1,a.data.length));break}},PRIV:function(a){var b;for(b=0;b<a.data.length;b++)if(0===a.data[b]){a.owner=unescape(Ea(a.data,
0,b));break}a.privateData=a.data.subarray(b+1);a.data=a.privateData}};var td=function(a){var b=!(!a||!a.debug);a=a&&a.descriptor;var d=0,c=[],e=0,f;td.prototype.init.call(this);this.dispatchType=Tc.METADATA_STREAM_TYPE.toString(16);if(a)for(f=0;f<a.length;f++)this.dispatchType+=("00"+a[f].toString(16)).slice(-2);this.push=function(a){var f;if("timed-metadata"===a.type)if(a.dataAlignmentIndicator&&(e=0,c.length=0),0===c.length&&(10>a.data.length||73!==a.data[0]||68!==a.data[1]||51!==a.data[2]))b&&
console.log("Skipping unrecognized metadata packet");else if(c.push(a),e+=a.data.byteLength,1===c.length&&(d=ea(a.data.subarray(6,10)),d+=10),!(e<d)){a={data:new Uint8Array(d),frames:[],pts:c[0].pts,dts:c[0].dts};for(f=0;f<d;)a.data.set(c[0].data.subarray(0,d-f),f),f+=c[0].data.byteLength,e-=c[0].data.byteLength,c.shift();f=10;a.data[5]&64&&(f=f+4+ea(a.data.subarray(10,14)),d-=ea(a.data.subarray(16,20)));do{var p=ea(a.data.subarray(f+4,f+8));if(1>p)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");
var g=String.fromCharCode(a.data[f],a.data[f+1],a.data[f+2],a.data[f+3]);g={id:g,data:a.data.subarray(f+10,f+p+10)};g.key=g.id;if(ja[g.id]&&(ja[g.id](g),"com.apple.streaming.transportStreamTimestamp"===g.owner)){var h=g.data,l=(h[3]&1)<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;l*=4;l+=h[7]&3;g.timeStamp=l;void 0===a.pts&&void 0===a.dts&&(a.pts=g.timeStamp,a.dts=g.timeStamp);this.trigger("timestamp",g)}a.frames.push(g);f+=10;f+=p}while(f<d);this.trigger("data",a)}}};td.prototype=new b;var Od=function(){var a=
new Uint8Array(188),b=0;Od.prototype.init.call(this);this.push=function(d){var c=0,e=188;if(b){var f=new Uint8Array(d.byteLength+b);f.set(a.subarray(0,b));f.set(d,b);b=0}else f=d;for(;e<f.byteLength;)71===f[c]&&71===f[e]?(this.trigger("data",f.subarray(c,e)),c+=188,e+=188):(c++,e++);c<f.byteLength&&(a.set(f.subarray(c),0),b=f.byteLength-c)};this.flush=function(){188===b&&71===a[0]&&(this.trigger("data",a),b=0);this.trigger("done")}};Od.prototype=new b;var Oa=function(){Oa.prototype.init.call(this);
var a=this;this.packetsWaitingForPmt=[];this.programMapTable=void 0;var b=function(a,b){var e=0;b.payloadUnitStartIndicator&&(e+=a[e]+1);"pat"===b.type?d(a.subarray(e),b):c(a.subarray(e),b)};var d=function(b,d){d.section_number=b[7];d.last_section_number=b[8];a.pmtPid=(b[10]&31)<<8|b[11];d.pmtPid=a.pmtPid};var c=function(b,d){var c;if(b[5]&1){a.programMapTable={video:null,audio:null,"timed-metadata":{}};var e=3+((b[1]&15)<<8|b[2])-4;for(c=12+((b[10]&15)<<8|b[11]);c<e;){var f=b[c],p=(b[c+1]&31)<<8|
b[c+2];f===Tc.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=p:f===Tc.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?a.programMapTable.audio=p:f===Tc.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][p]=f);c+=((b[c+3]&15)<<8|b[c+4])+5}d.programMapTable=a.programMapTable}};this.push=function(a){var d={},c=4;d.payloadUnitStartIndicator=!!(a[1]&64);d.pid=a[1]&31;d.pid<<=8;d.pid|=a[2];1<(a[3]&48)>>>4&&(c+=a[c]+1);if(0===d.pid)d.type="pat",b(a.subarray(c),d),this.trigger("data",
d);else if(d.pid===this.pmtPid)for(d.type="pmt",b(a.subarray(c),d),this.trigger("data",d);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([a,c,d]):this.processPes_(a,c,d)};this.processPes_=function(a,b,d){d.streamType=d.pid===this.programMapTable.video?Tc.H264_STREAM_TYPE:d.pid===this.programMapTable.audio?Tc.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][d.pid];d.type="pes";
d.data=a.subarray(b);this.trigger("data",d)}};Oa.prototype=new b;Oa.STREAM_TYPES={h264:27,adts:15};var D=function(){var a=this,b={data:[],size:0},d={data:[],size:0},c={data:[],size:0},e=function(b,d,c){var e=new Uint8Array(b.size),f={type:d},p,g=0;if(b.data.length&&!(9>b.size)){f.trackId=b.data[0].pid;for(p=0;p<b.data.length;p++){var h=b.data[p];e.set(h.data,g);g+=h.data.byteLength}f.packetLength=6+(e[4]<<8|e[5]);f.dataAlignmentIndicator=0!==(e[6]&4);p=e[7];p&192&&(f.pts=(e[9]&14)<<27|(e[10]&255)<<
20|(e[11]&254)<<12|(e[12]&255)<<5|(e[13]&254)>>>3,f.pts*=4,f.pts+=(e[13]&6)>>>1,f.dts=f.pts,p&64&&(f.dts=(e[14]&14)<<27|(e[15]&255)<<20|(e[16]&254)<<12|(e[17]&255)<<5|(e[18]&254)>>>3,f.dts*=4,f.dts+=(e[18]&6)>>>1));f.data=e.subarray(9+e[8]);d="video"===d||f.packetLength<=b.size;if(c||d)b.size=0,b.data.length=0;d&&a.trigger("data",f)}};D.prototype.init.call(this);this.push=function(f){({pat:function(){},pes:function(){switch(f.streamType){case Tc.H264_STREAM_TYPE:case Tc.H264_STREAM_TYPE:var a=b;var p=
"video";break;case Tc.ADTS_STREAM_TYPE:a=d;p="audio";break;case Tc.METADATA_STREAM_TYPE:a=c;p="timed-metadata";break;default:return}f.payloadUnitStartIndicator&&e(a,p,!0);a.data.push(f);a.size+=f.data.byteLength},pmt:function(){var b={type:"metadata",tracks:[]},d=f.programMapTable;null!==d.video&&b.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+d.video,codec:"avc",type:"video"});null!==d.audio&&b.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+d.audio,codec:"adts",type:"audio"});
a.trigger("data",b)}})[f.type]()};this.flush=function(){e(b,"video");e(d,"audio");e(c,"timed-metadata");this.trigger("done")}};D.prototype=new b;var lb={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Od,TransportParseStream:Oa,ElementaryStream:D,TimestampRolloverStream:wg,CaptionStream:aa,Cea608Stream:va,MetadataStream:td};for(ha in Tc)Tc.hasOwnProperty(ha)&&(lb[ha]=Tc[ha]);var yc=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];var fa=function(){var a;fa.prototype.init.call(this);
this.push=function(b){var d=0,c=0;if("audio"===b.type){if(a){var e=a;a=new Uint8Array(e.byteLength+b.data.byteLength);a.set(e);a.set(b.data,e.byteLength)}else a=b.data;for(;d+5<a.length;)if(255!==a[d]||240!==(a[d+1]&246))d++;else{e=2*(~a[d+1]&1);var f=(a[d+3]&3)<<11|a[d+4]<<3|(a[d+5]&224)>>5;var p=1024*((a[d+6]&3)+1);var g=9E4*p/yc[(a[d+2]&60)>>>2];f=d+f;if(a.byteLength<f)break;this.trigger("data",{pts:b.pts+c*g,dts:b.dts+c*g,sampleCount:p,audioobjecttype:(a[d+2]>>>6&3)+1,channelcount:(a[d+2]&1)<<
2|(a[d+3]&192)>>>6,samplerate:yc[(a[d+2]&60)>>>2],samplingfrequencyindex:(a[d+2]&60)>>>2,samplesize:16,data:a.subarray(d+7+e,f)});if(a.byteLength===f){a=void 0;break}c++;a=a.subarray(f)}}};this.flush=function(){this.trigger("done")}};fa.prototype=new b;var Ue=function(a){var b=a.byteLength,d=0,c=0;this.length=function(){return 8*b};this.bitsAvailable=function(){return 8*b+c};this.loadWord=function(){var e=a.byteLength-b,f=new Uint8Array(4),p=Math.min(4,b);if(0===p)throw Error("no bytes available");
f.set(a.subarray(e,e+p));d=(new DataView(f.buffer)).getUint32(0);c=8*p;b-=p};this.skipBits=function(a){if(!(c>a)){a-=c;var e=Math.floor(a/8);a-=8*e;b-=e;this.loadWord()}d<<=a;c-=a};this.readBits=function(a){var e=Math.min(c,a),f=d>>>32-e;c-=e;0<c?d<<=e:0<b&&this.loadWord();e=a-e;return 0<e?f<<e|this.readBits(e):f};this.skipLeadingZeros=function(){var a;for(a=0;a<c;++a)if(0!==(d&2147483648>>>a))return d<<=a,c-=a,a;this.loadWord();return a+this.skipLeadingZeros()};this.skipUnsignedExpGolomb=function(){this.skipBits(1+
this.skipLeadingZeros())};this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.readUnsignedExpGolomb=function(){var a=this.skipLeadingZeros();return this.readBits(a+1)-1};this.readExpGolomb=function(){var a=this.readUnsignedExpGolomb();return 1&a?1+a>>>1:-1*(a>>>1)};this.readBoolean=function(){return 1===this.readBits(1)};this.readUnsignedByte=function(){return this.readBits(8)};this.loadWord()};var dd=function(){var a=0,b,d;dd.prototype.init.call(this);this.push=function(c){if(d){var e=
new Uint8Array(d.byteLength+c.data.byteLength);e.set(d);e.set(c.data,d.byteLength);d=e}else d=c.data;for(;a<d.byteLength-3;a++)if(1===d[a+2]){b=a+5;break}for(;b<d.byteLength;)switch(d[b]){case 0:if(0!==d[b-1]){b+=2;break}else if(0!==d[b-2]){b++;break}a+3!==b-2&&this.trigger("data",d.subarray(a+3,b-2));do b++;while(1!==d[b]&&b<d.length);a=b-2;b+=3;break;case 1:if(0!==d[b-1]||0!==d[b-2]){b+=3;break}this.trigger("data",d.subarray(a+3,b-2));a=b-2;b+=3;break;default:b+=3}d=d.subarray(a);b-=a;a=0};this.flush=
function(){d&&3<d.byteLength&&this.trigger("data",d.subarray(a+3));d=null;a=0;this.trigger("done")}};dd.prototype=new b;var ub={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};var Aa=function(){var a=new dd,b,d,c;Aa.prototype.init.call(this);var e=this;this.push=function(e){"video"===e.type&&(b=e.trackId,d=e.pts,c=e.dts,a.push(e))};a.on("data",function(a){var f={trackId:b,pts:d,dts:c,data:a};switch(a[0]&31){case 5:f.nalUnitType="slice_layer_without_partitioning_rbsp_idr";
break;case 6:f.nalUnitType="sei_rbsp";f.escapedRBSP=p(a.subarray(1));break;case 7:f.nalUnitType="seq_parameter_set_rbsp";f.escapedRBSP=p(a.subarray(1));f.config=g(f.escapedRBSP);break;case 8:f.nalUnitType="pic_parameter_set_rbsp";break;case 9:f.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",f)});a.on("done",function(){e.trigger("done")});this.flush=function(){a.flush()};var f=function(a,b){var d=8,c=8,e;for(e=0;e<a;e++)0!==c&&(c=b.readExpGolomb(),c=(d+c+256)%256),d=0===c?d:c};var p=function(a){for(var b=
a.byteLength,d=[],c=1,e;c<b-2;)0===a[c]&&0===a[c+1]&&3===a[c+2]?(d.push(c+2),c+=2):c++;if(0===d.length)return a;b-=d.length;e=new Uint8Array(b);var f=0;for(c=0;c<b;f++,c++)f===d[0]&&(f++,d.shift()),e[c]=a[f];return e};var g=function(a){var b=0,d=0,c=0,e=0,p=1;a=new Ue(a);var g=a.readUnsignedByte();var h=a.readUnsignedByte();var l=a.readUnsignedByte();a.skipUnsignedExpGolomb();if(ub[g]){var t=a.readUnsignedExpGolomb();3===t&&a.skipBits(1);a.skipUnsignedExpGolomb();a.skipUnsignedExpGolomb();a.skipBits(1);
if(a.readBoolean()){var k=3!==t?8:12;for(t=0;t<k;t++)a.readBoolean()&&(6>t?f(16,a):f(64,a))}}a.skipUnsignedExpGolomb();t=a.readUnsignedExpGolomb();if(0===t)a.readUnsignedExpGolomb();else if(1===t)for(a.skipBits(1),a.skipExpGolomb(),a.skipExpGolomb(),k=a.readUnsignedExpGolomb(),t=0;t<k;t++)a.skipExpGolomb();a.skipUnsignedExpGolomb();a.skipBits(1);t=a.readUnsignedExpGolomb();k=a.readUnsignedExpGolomb();var m=a.readBits(1);0===m&&a.skipBits(1);a.skipBits(1);a.readBoolean()&&(b=a.readUnsignedExpGolomb(),
d=a.readUnsignedExpGolomb(),c=a.readUnsignedExpGolomb(),e=a.readUnsignedExpGolomb());if(a.readBoolean()&&a.readBoolean()){var n=a.readUnsignedByte();switch(n){case 1:var q=[1,1];break;case 2:q=[12,11];break;case 3:q=[10,11];break;case 4:q=[16,11];break;case 5:q=[40,33];break;case 6:q=[24,11];break;case 7:q=[20,11];break;case 8:q=[32,11];break;case 9:q=[80,33];break;case 10:q=[18,11];break;case 11:q=[15,11];break;case 12:q=[64,33];break;case 13:q=[160,99];break;case 14:q=[4,3];break;case 15:q=[3,2];
break;case 16:q=[2,1];break;case 255:q=[a.readUnsignedByte()<<8|a.readUnsignedByte(),a.readUnsignedByte()<<8|a.readUnsignedByte()]}q&&(p=q[0]/q[1])}return{profileIdc:g,levelIdc:l,profileCompatibility:h,width:Math.ceil((16*(t+1)-2*b-2*d)*p),height:(2-m)*(k+1)*16-2*c-2*e}}};Aa.prototype=new b;var Yf=function(){var a=new Uint8Array,b=0;Yf.prototype.init.call(this);this.setTimestamp=function(a){b=a};this.parseId3TagSize=function(a,b){var d=a[b+6]<<21|a[b+7]<<14|a[b+8]<<7|a[b+9];return(a[b+5]&16)>>4?d+
20:d+10};this.parseAdtsSize=function(a,b){return a[b+3]&6144|a[b+4]<<3|(a[b+5]&224)>>5};this.push=function(d){var c=0;if(a.length){var e=a.length;a=new Uint8Array(d.byteLength+e);a.set(a.subarray(0,e));a.set(d,e)}else a=d;for(;3<=a.length-c;)if(73===a[c]&&68===a[c+1]&&51===a[c+2]){if(10>a.length-c)break;d=this.parseId3TagSize(a,c);if(d>a.length)break;e={type:"timed-metadata",data:a.subarray(c,c+d)};this.trigger("data",e);c+=d}else if(a[c]&1&&240===(a[c+1]&240)){if(7>a.length-c)break;d=this.parseAdtsSize(a,
c);if(d>a.length)break;e={type:"audio",data:a.subarray(c,c+d),pts:b,dts:b};this.trigger("data",e);c+=d}else c++;a=0<a.length-c?a.subarray(c):new Uint8Array}};Yf.prototype=new b;var ha=[33,16,5,32,164,27];aa=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252];va=function(a){for(var b=[];a--;)b.push(0);return b};var mb=function(a){return Object.keys(a).reduce(function(b,d){b[d]=new Uint8Array(a[d].reduce(function(a,b){return a.concat(b)},[]));return b},{})}({96E3:[ha,[227,64],va(154),[56]],88200:[ha,[231],
va(170),[56]],64E3:[ha,[248,192],va(240),[56]],48E3:[ha,[255,192],va(268),[55,148,128],va(54),[112]],44100:[ha,[255,192],va(268),[55,163,128],va(84),[112]],32E3:[ha,[255,192],va(268),[55,234],va(226),[112]],24E3:[ha,[255,192],va(268),[55,255,128],va(268),[111,112],va(126),[224]],16E3:[ha,[255,192],va(268),[55,255,128],va(268),[111,255],va(269),[223,108],va(195),[1,192]],12E3:[aa,va(268),[3,127,248],va(268),[6,255,240],va(268),[13,255,224],va(268),[27,253,128],va(259),[56]],11025:[aa,va(268),[3,127,
248],va(268),[6,255,240],va(268),[13,255,224],va(268),[27,255,192],va(268),[55,175,128],va(108),[112]],8E3:[aa,va(268),[3,121,16],va(47),[7]]});var ua=function(a){return 9E4*a};var Ab=function(a,b){return a*b};var R=function(a){return a/9E4};var xb=function(a,b){return a/b};var ab={secondsToVideoTs:ua,secondsToAudioTs:Ab,videoTsToSeconds:R,audioTsToSeconds:xb,audioTsToVideoTs:function(a,b){return ua(xb(a,b))},videoTsToAudioTs:function(a,b){return Ab(R(a),b)}},Ca=["audioobjecttype","channelcount",
"samplerate","samplingfrequencyindex","samplesize"],Ug=["width","height","profileIdc","levelIdc","profileCompatibility"];var Jb=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}};var xa=function(a){return 73===a[0]&&68===a[1]&&51===a[2]?!0:!1};var Nd=function(a,b){var d;if(a.length!==b.length)return!1;for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};var Ba=function(a){var b,d=0;for(b=0;b<a.length;b++){var c=a[b];d+=c.data.byteLength}return d};
var Ha=function(a,b){var d=[],c=0,e=0,f=0,p=Infinity;b=b||{};Ha.prototype.init.call(this);this.push=function(b){Q(a,b);a&&Ca.forEach(function(d){a[d]=b[d]});d.push(b)};this.setEarliestDts=function(b){e=b-a.timelineStartInfo.baseMediaDecodeTime};this.setVideoBaseMediaDecodeTime=function(a){p=a};this.setAudioAppendStart=function(a){f=a};this.flush=function(){if(0!==d.length){var e=this.trimAdtsFramesByEarliestDts_(d);a.baseMediaDecodeTime=Xa(a,b.keepOriginalTimestamps);this.prefixWithSilence_(a,e);
a.samples=this.generateSampleTable_(e);var f=L.mdat(this.concatenateFrameData_(e));d=[];e=L.moof(c,[a]);var p=new Uint8Array(e.byteLength+f.byteLength);c++;p.set(e);p.set(f,e.byteLength);N(a);this.trigger("data",{track:a,boxes:p})}this.trigger("done","AudioSegmentStream")};this.prefixWithSilence_=function(a,b){var d,c=d=0;if(b.length){var e=ab.audioTsToVideoTs(a.baseMediaDecodeTime,a.samplerate);var g=Math.ceil(9E4/(a.samplerate/1024));f&&p&&(d=e-Math.max(f,p),d=Math.floor(d/g),c=d*g);if(!(1>d||45E3<
c)){g=mb[a.samplerate];g||(g=b[0].data);for(e=0;e<d;e++)b.splice(e,0,{data:g});a.baseMediaDecodeTime-=Math.floor(ab.videoTsToAudioTs(c,a.samplerate))}}};this.trimAdtsFramesByEarliestDts_=function(b){if(a.minSegmentDts>=e)return b;a.minSegmentDts=Infinity;return b.filter(function(b){return b.dts>=e?(a.minSegmentDts=Math.min(a.minSegmentDts,b.dts),a.minSegmentPts=a.minSegmentDts,!0):!1})};this.generateSampleTable_=function(a){var b,d=[];for(b=0;b<a.length;b++){var c=a[b];d.push({size:c.data.byteLength,
duration:1024})}return d};this.concatenateFrameData_=function(a){var b,d=0,c=new Uint8Array(Ba(a));for(b=0;b<a.length;b++){var e=a[b];c.set(e.data,d);d+=e.data.byteLength}return c}};Ha.prototype=new b;var M=function(a,b){var d=0,c=[],e=[],f,p;b=b||{};M.prototype.init.call(this);delete a.minPTS;this.gopCache_=[];this.push=function(b){Q(a,b);"seq_parameter_set_rbsp"!==b.nalUnitType||f||(f=b.config,a.sps=[b.data],Ug.forEach(function(b){a[b]=f[b]},this));"pic_parameter_set_rbsp"!==b.nalUnitType||p||(p=
b.data,a.pps=[b.data]);c.push(b)};this.flush=function(){for(var f,p,g;c.length&&"access_unit_delimiter_rbsp"!==c[0].nalUnitType;)c.shift();if(0!==c.length){f=this.groupNalsIntoFrames_(c);f=this.groupFramesIntoGops_(f);f[0][0].keyFrame||((p=this.getGopForFusion_(c[0],a))?(f.unshift(p),f.byteLength+=p.byteLength,f.nalCount+=p.nalCount,f.pts=p.pts,f.dts=p.dts,f.duration+=p.duration):f=this.extendFirstKeyFrame_(f));if(e.length){p=b.alignGopsAtEnd?this.alignGopsAtEnd_(f):this.alignGopsAtStart_(f);if(!p){this.gopCache_.unshift({gop:f.pop(),
pps:a.pps,sps:a.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);c=[];this.resetStream_();this.trigger("done","VideoSegmentStream");return}N(a);f=p}Q(a,f);a.samples=this.generateSampleTable_(f);p=L.mdat(this.concatenateNalData_(f));a.baseMediaDecodeTime=Xa(a,b.keepOriginalTimestamps);this.trigger("processedGopsInfo",f.map(function(a){return{pts:a.pts,dts:a.dts,byteLength:a.byteLength}}));this.gopCache_.unshift({gop:f.pop(),pps:a.pps,sps:a.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);
c=[];this.trigger("baseMediaDecodeTime",a.baseMediaDecodeTime);this.trigger("timelineStartInfo",a.timelineStartInfo);f=L.moof(d,[a]);g=new Uint8Array(f.byteLength+p.byteLength);d++;g.set(f);g.set(p,f.byteLength);this.trigger("data",{track:a,boxes:g})}this.resetStream_();this.trigger("done","VideoSegmentStream")};this.resetStream_=function(){N(a);p=f=void 0};this.getGopForFusion_=function(b){var d=Infinity,c;for(c=0;c<this.gopCache_.length;c++){var e=this.gopCache_[c];var f=e.gop;if(a.pps&&Nd(a.pps[0],
e.pps[0])&&a.sps&&Nd(a.sps[0],e.sps[0])&&!(f.dts<a.timelineStartInfo.dts)&&(f=b.dts-f.dts-f.duration,-1E4<=f&&45E3>=f&&(!p||d>f))){var p=e;d=f}}return p?p.gop:null};this.extendFirstKeyFrame_=function(a){if(!a[0][0].keyFrame&&1<a.length){var b=a.shift();a.byteLength-=b.byteLength;a.nalCount-=b.nalCount;a[0][0].dts=b.dts;a[0][0].pts=b.pts;a[0][0].duration+=b.duration}return a};this.groupNalsIntoFrames_=function(a){var b,d=[],c=[];for(b=d.byteLength=0;b<a.length;b++){var e=a[b];"access_unit_delimiter_rbsp"===
e.nalUnitType?(d.length&&(d.duration=e.dts-d.dts,c.push(d)),d=[e],d.byteLength=e.data.byteLength,d.pts=e.pts,d.dts=e.dts):("slice_layer_without_partitioning_rbsp_idr"===e.nalUnitType&&(d.keyFrame=!0),d.duration=e.dts-d.dts,d.byteLength+=e.data.byteLength,d.push(e))}c.length&&(!d.duration||0>=d.duration)&&(d.duration=c[c.length-1].duration);c.push(d);return c};this.groupFramesIntoGops_=function(a){var b,d=[],c=[];d.byteLength=0;d.nalCount=0;d.duration=0;d.pts=a[0].pts;d.dts=a[0].dts;c.byteLength=0;
c.nalCount=0;c.duration=0;c.pts=a[0].pts;c.dts=a[0].dts;for(b=0;b<a.length;b++){var e=a[b];e.keyFrame?(d.length&&(c.push(d),c.byteLength+=d.byteLength,c.nalCount+=d.nalCount,c.duration+=d.duration),d=[e],d.nalCount=e.length,d.byteLength=e.byteLength,d.pts=e.pts,d.dts=e.dts,d.duration=e.duration):(d.duration+=e.duration,d.nalCount+=e.length,d.byteLength+=e.byteLength,d.push(e))}c.length&&0>=d.duration&&(d.duration=c[c.length-1].duration);c.byteLength+=d.byteLength;c.nalCount+=d.nalCount;c.duration+=
d.duration;c.push(d);return c};this.generateSampleTable_=function(a,b){var d,c=b||0,e=[];for(b=0;b<a.length;b++){var f=a[b];for(d=0;d<f.length;d++){var p=f[d];var g=Jb();g.dataOffset=c;g.compositionTimeOffset=p.pts-p.dts;g.duration=p.duration;g.size=4*p.length;g.size+=p.byteLength;p.keyFrame&&(g.flags.dependsOn=2);c+=g.size;e.push(g)}}return e};this.concatenateNalData_=function(a){var b,d,c,e=0,f=new Uint8Array(a.byteLength+4*a.nalCount),p=new DataView(f.buffer);for(b=0;b<a.length;b++){var g=a[b];
for(d=0;d<g.length;d++){var h=g[d];for(c=0;c<h.length;c++){var l=h[c];p.setUint32(e,l.data.byteLength);e+=4;f.set(l.data,e);e+=l.data.byteLength}}}return f};this.alignGopsAtStart_=function(a){var b,d;var c=a.byteLength;var f=a.nalCount;var p=a.duration;for(b=d=0;b<e.length&&d<a.length;){var g=e[b];var h=a[d];if(g.pts===h.pts)break;h.pts>g.pts?b++:(d++,c-=h.byteLength,f-=h.nalCount,p-=h.duration)}if(0===d)return a;if(d===a.length)return null;a=a.slice(d);a.byteLength=c;a.duration=p;a.nalCount=f;a.pts=
a[0].pts;a.dts=a[0].dts;return a};this.alignGopsAtEnd_=function(a){var b;var d=e.length-1;var c=a.length-1;var f=null;for(b=!1;0<=d&&0<=c;){var p=e[d];var g=a[c];if(p.pts===g.pts){b=!0;break}p.pts>g.pts?d--:(d===e.length-1&&(f=c),c--)}if(!b&&null===f)return null;d=b?c:f;if(0===d)return a;a=a.slice(d);d=a.reduce(function(a,b){a.byteLength+=b.byteLength;a.duration+=b.duration;a.nalCount+=b.nalCount;return a},{byteLength:0,duration:0,nalCount:0});a.byteLength=d.byteLength;a.duration=d.duration;a.nalCount=
d.nalCount;a.pts=a[0].pts;a.dts=a[0].dts;return a};this.alignGopsWith=function(a){e=a}};M.prototype=new b;var Q=function(a,b){"number"===typeof b.pts&&(void 0===a.timelineStartInfo.pts&&(a.timelineStartInfo.pts=b.pts),a.minSegmentPts=void 0===a.minSegmentPts?b.pts:Math.min(a.minSegmentPts,b.pts),a.maxSegmentPts=void 0===a.maxSegmentPts?b.pts:Math.max(a.maxSegmentPts,b.pts));"number"===typeof b.dts&&(void 0===a.timelineStartInfo.dts&&(a.timelineStartInfo.dts=b.dts),a.minSegmentDts=void 0===a.minSegmentDts?
b.dts:Math.min(a.minSegmentDts,b.dts),a.maxSegmentDts=void 0===a.maxSegmentDts?b.dts:Math.max(a.maxSegmentDts,b.dts))};var N=function(a){delete a.minSegmentDts;delete a.maxSegmentDts;delete a.minSegmentPts;delete a.maxSegmentPts};var Xa=function(a,b){var d=a.minSegmentDts;b||(d-=a.timelineStartInfo.dts);b=a.timelineStartInfo.baseMediaDecodeTime;b=Math.max(0,b+d);"audio"===a.type&&(a=a.samplerate/9E4,b=Math.floor(b*a));return b};var ig=function(a,b){this.numberOfTracks=0;this.metadataStream=b;this.remuxTracks=
"undefined"!==typeof a.remux?!!a.remux:!0;this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.emittedTracks=this.pendingBytes=0;ig.prototype.init.call(this);this.push=function(a){if(a.text)return this.pendingCaptions.push(a);if(a.frames)return this.pendingMetadata.push(a);this.pendingTracks.push(a.track);this.pendingBoxes.push(a.boxes);this.pendingBytes+=a.boxes.byteLength;"video"===a.track.type&&(this.videoTrack=a.track);"audio"===
a.track.type&&(this.audioTrack=a.track)}};ig.prototype=new b;ig.prototype.flush=function(a){var b=0,d={captions:[],captionStreams:{},metadata:[],info:{}},c=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==a&&"AudioSegmentStream"!==a||this.remuxTracks)return;if(0===this.pendingTracks.length){this.emittedTracks++;this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}this.videoTrack?(c=this.videoTrack.timelineStartInfo.pts,Ug.forEach(function(a){d.info[a]=
this.videoTrack[a]},this)):this.audioTrack&&(c=this.audioTrack.timelineStartInfo.pts,Ca.forEach(function(a){d.info[a]=this.audioTrack[a]},this));d.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined";this.emittedTracks+=this.pendingTracks.length;a=L.initSegment(this.pendingTracks);d.initSegment=new Uint8Array(a.byteLength);d.initSegment.set(a);d.data=new Uint8Array(this.pendingBytes);for(a=0;a<this.pendingBoxes.length;a++)d.data.set(this.pendingBoxes[a],b),b+=this.pendingBoxes[a].byteLength;
for(a=0;a<this.pendingCaptions.length;a++)b=this.pendingCaptions[a],b.startTime=b.startPts-c,b.startTime/=9E4,b.endTime=b.endPts-c,b.endTime/=9E4,d.captionStreams[b.stream]=!0,d.captions.push(b);for(a=0;a<this.pendingMetadata.length;a++)b=this.pendingMetadata[a],b.cueTime=b.pts-c,b.cueTime/=9E4,d.metadata.push(b);d.metadata.dispatchType=this.metadataStream.dispatchType;this.pendingTracks.length=0;this.videoTrack=null;this.pendingBoxes.length=0;this.pendingBytes=this.pendingCaptions.length=0;this.pendingMetadata.length=
0;this.trigger("data",d);this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};var Fa=function(a){var b=this,d=!0,c,e;Fa.prototype.init.call(this);a=a||{};this.baseMediaDecodeTime=a.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var d={};this.transmuxPipeline_=d;d.type="aac";d.metadataStream=new lb.MetadataStream;d.aacStream=new Yf;d.audioTimestampRolloverStream=new lb.TimestampRolloverStream("audio");d.timedMetadataTimestampRolloverStream=
new lb.TimestampRolloverStream("timed-metadata");d.adtsStream=new fa;d.coalesceStream=new ig(a,d.metadataStream);d.headOfPipeline=d.aacStream;d.aacStream.pipe(d.audioTimestampRolloverStream).pipe(d.adtsStream);d.aacStream.pipe(d.timedMetadataTimestampRolloverStream).pipe(d.metadataStream).pipe(d.coalesceStream);d.metadataStream.on("timestamp",function(a){d.aacStream.setTimestamp(a.timeStamp)});d.aacStream.on("data",function(c){"timed-metadata"!==c.type||d.audioSegmentStream||(e=e||{timelineStartInfo:{baseMediaDecodeTime:b.baseMediaDecodeTime},
codec:"adts",type:"audio"},d.coalesceStream.numberOfTracks++,d.audioSegmentStream=new Ha(e,a),d.adtsStream.pipe(d.audioSegmentStream).pipe(d.coalesceStream))});d.coalesceStream.on("data",this.trigger.bind(this,"data"));d.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setupTsPipeline=function(){var d={};this.transmuxPipeline_=d;d.type="ts";d.metadataStream=new lb.MetadataStream;d.packetStream=new lb.TransportPacketStream;d.parseStream=new lb.TransportParseStream;d.elementaryStream=
new lb.ElementaryStream;d.videoTimestampRolloverStream=new lb.TimestampRolloverStream("video");d.audioTimestampRolloverStream=new lb.TimestampRolloverStream("audio");d.timedMetadataTimestampRolloverStream=new lb.TimestampRolloverStream("timed-metadata");d.adtsStream=new fa;d.h264Stream=new Aa;d.captionStream=new lb.CaptionStream;d.coalesceStream=new ig(a,d.metadataStream);d.headOfPipeline=d.packetStream;d.packetStream.pipe(d.parseStream).pipe(d.elementaryStream);d.elementaryStream.pipe(d.videoTimestampRolloverStream).pipe(d.h264Stream);
d.elementaryStream.pipe(d.audioTimestampRolloverStream).pipe(d.adtsStream);d.elementaryStream.pipe(d.timedMetadataTimestampRolloverStream).pipe(d.metadataStream).pipe(d.coalesceStream);d.h264Stream.pipe(d.captionStream).pipe(d.coalesceStream);d.elementaryStream.on("data",function(f){var p;if("metadata"===f.type){for(p=f.tracks.length;p--;)c||"video"!==f.tracks[p].type?e||"audio"!==f.tracks[p].type||(e=f.tracks[p],e.timelineStartInfo.baseMediaDecodeTime=b.baseMediaDecodeTime):(c=f.tracks[p],c.timelineStartInfo.baseMediaDecodeTime=
b.baseMediaDecodeTime);c&&!d.videoSegmentStream&&(d.coalesceStream.numberOfTracks++,d.videoSegmentStream=new M(c,a),d.videoSegmentStream.on("timelineStartInfo",function(a){e&&(e.timelineStartInfo=a,d.audioSegmentStream.setEarliestDts(a.dts))}),d.videoSegmentStream.on("processedGopsInfo",b.trigger.bind(b,"gopInfo")),d.videoSegmentStream.on("baseMediaDecodeTime",function(a){e&&d.audioSegmentStream.setVideoBaseMediaDecodeTime(a)}),d.h264Stream.pipe(d.videoSegmentStream).pipe(d.coalesceStream));e&&!d.audioSegmentStream&&
(d.coalesceStream.numberOfTracks++,d.audioSegmentStream=new Ha(e,a),d.adtsStream.pipe(d.audioSegmentStream).pipe(d.coalesceStream))}});d.coalesceStream.on("data",this.trigger.bind(this,"data"));d.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setBaseMediaDecodeTime=function(a){var b=this.transmuxPipeline_;this.baseMediaDecodeTime=a;e&&(e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,N(e),e.timelineStartInfo.baseMediaDecodeTime=a,b.audioTimestampRolloverStream&&b.audioTimestampRolloverStream.discontinuity());
c&&(b.videoSegmentStream&&(b.videoSegmentStream.gopCache_=[],b.videoTimestampRolloverStream.discontinuity()),c.timelineStartInfo.dts=void 0,c.timelineStartInfo.pts=void 0,N(c),b.captionStream.reset(),c.timelineStartInfo.baseMediaDecodeTime=a);b.timedMetadataTimestampRolloverStream&&b.timedMetadataTimestampRolloverStream.discontinuity()};this.setAudioAppendStart=function(a){e&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(a)};this.alignGopsWith=function(a){c&&this.transmuxPipeline_.videoSegmentStream&&
this.transmuxPipeline_.videoSegmentStream.alignGopsWith(a)};this.push=function(a){if(d){var b=xa(a);b&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():b||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline();d=!1}this.transmuxPipeline_.headOfPipeline.push(a)};this.flush=function(){d=!0;this.transmuxPipeline_.headOfPipeline.flush()};this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}};Fa.prototype=new b;var ya=function(){function a(a,
b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),ff=function(a){a.on("data",function(a){var b=a.initSegment;a.initSegment={data:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength};b=a.data;a.data=b.buffer;c.postMessage({action:"data",segment:a,byteOffset:b.byteOffset,byteLength:b.byteLength},[a.data])});if(a.captionStream)a.captionStream.on("data",
function(a){c.postMessage({action:"caption",data:a})});a.on("done",function(a){c.postMessage({action:"done"})});a.on("gopInfo",function(a){c.postMessage({action:"gopInfo",gopInfo:a})})},P=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.options=b||{};this.init()}ya(a,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose();this.transmuxer=new Fa(this.options);ff(this.transmuxer)}},{key:"push",value:function(a){a=new Uint8Array(a.data,
a.byteOffset,a.byteLength);this.transmuxer.push(a)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(a){this.transmuxer.setBaseMediaDecodeTime(Math.round(9E4*(a.timestampOffset||0)))}},{key:"setAudioAppendStart",value:function(a){this.transmuxer.setAudioAppendStart(Math.ceil(9E4*a.appendStart))}},{key:"flush",value:function(a){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(a){this.transmuxer.alignGopsWith(a.gopsToAlignWith.slice())}}]);
return a}();return new function(a){a.onmessage=function(a){if("init"===a.data.action&&a.data.options)this.messageHandlers=new P(a.data.options);else if(this.messageHandlers||(this.messageHandlers=new P),a.data&&a.data.action&&"init"!==a.data.action&&this.messageHandlers[a.data.action])this.messageHandlers[a.data.action](a.data)}}(d)})()}),nj=function(a){var b={type:"",parameters:{}};a=a.trim().split(";");b.type=a.shift().trim();a.forEach(function(a){var d=a.trim().split("=");1<d.length&&(a=d[0].replace(/"/g,
"").trim(),d=d[1].replace(/"/g,"").trim(),b.parameters[a]=d)});return b},Vi=function(a){return a.map(function(a){return a.replace(/avc1\.(\d+)\.(\d+)/i,function(a,b,d){a=("00"+Number(b).toString(16)).slice(-2);d=("00"+Number(d).toString(16)).slice(-2);return"avc1."+a+"00"+d})})},pj=function(a,b){var d=a.addSourceBuffer(b),c=Object.create(null);c.updating=!1;c.realBuffer_=d;a=function(a){"function"===typeof d[a]?c[a]=function(){return d[a].apply(d,arguments)}:"undefined"===typeof c[a]&&Object.defineProperty(c,
a,{get:function(){return d[a]},set:function(b){return d[a]=b}})};for(var e in d)a(e);return c},Kh=function(a,b,d){if(!b||!a.length)return[];b=Math.ceil(9E4*(b.currentTime()-d+3));for(d=0;d<a.length&&!(a[d].pts>b);d++);return a.slice(d)},oj=function(a){function b(a,d){Xd(this,b);var c=tf(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,M.EventTarget));c.timestampOffset_=0;c.pendingBuffers_=[];c.bufferUpdating_=!1;c.mediaSource_=a;c.codecs_=d;c.audioCodec_=null;c.videoCodec_=null;c.audioDisabled_=
!1;c.appendAudioInitSegment_=!0;c.gopBuffer_=[];c.timeMapping_=0;c.safeAppend_=11<=M.browser.IE_VERSION;a={remux:!1,alignGopsAtEnd:c.safeAppend_};c.codecs_.forEach(function(a){/mp4a\.\d+.\d+/i.test(a)?c.audioCodec_=a:/avc1\.[\da-f]+/i.test(a)&&(c.videoCodec_=a)});c.transmuxer_=new mj;c.transmuxer_.postMessage({action:"init",options:a});c.transmuxer_.onmessage=function(a){if("data"===a.data.action)return c.data_(a);if("done"===a.data.action)return c.done_(a);if("gopInfo"===a.data.action)return c.appendGopInfo_(a)};
Object.defineProperty(c,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(a){"number"===typeof a&&0<=a&&(this.timestampOffset_=a,this.appendAudioInitSegment_=!0,this.timeMapping_=this.gopBuffer_.length=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:a}))}});Object.defineProperty(c,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(a){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=
a);this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=a)}});Object.defineProperty(c,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}});Object.defineProperty(c,"buffered",{get:function(){var a=null,b=null,d=0,c=[],e=[];if(!this.videoBuffer_&&!this.audioBuffer_)return M.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_||this.audioDisabled_)return this.videoBuffer_.buffered;
if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return M.createTimeRange();for(var f=this.videoBuffer_.buffered,p=this.audioBuffer_.buffered,g=f.length;g--;)c.push({time:f.start(g),type:"start"}),c.push({time:f.end(g),type:"end"});for(g=p.length;g--;)c.push({time:p.start(g),type:"start"}),c.push({time:p.end(g),type:"end"});c.sort(function(a,b){return a.time-b.time});for(g=0;g<c.length;g++)"start"===c[g].type?(d++,2===d&&(a=c[g].time)):"end"===c[g].type&&(d--,1===d&&
(b=c[g].time)),null!==a&&null!==b&&(e.push([a,b]),b=a=null);return M.createTimeRanges(e)}});return c}le(b,a);vd(b,[{key:"data_",value:function(a){var b=a.data.segment;b.data=new Uint8Array(b.data,a.data.byteOffset,a.data.byteLength);b.initSegment=new Uint8Array(b.initSegment.data,b.initSegment.byteOffset,b.initSegment.byteLength);a=this.mediaSource_.player_;if(b.captions&&b.captions.length){this.inbandTextTracks_||(this.inbandTextTracks_={});for(var d in b.captionStreams)if(!this.inbandTextTracks_[d]){a.tech_.trigger({type:"usage",
name:"hls-608"});var c=a.textTracks().getTrackById(d);this.inbandTextTracks_[d]=c?c:a.addRemoteTextTrack({kind:"captions",id:d,label:d},!1).track}}b.metadata&&b.metadata.length&&!this.metadataTrack_&&(this.metadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,this.metadataTrack_.inBandMetadataTrackDispatchType=b.metadata.dispatchType);this.pendingBuffers_.push(b)}},{key:"done_",value:function(a){"closed"===this.mediaSource_.readyState?this.pendingBuffers_.length=0:
this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var a=this,b=["audio","video"];b.forEach(function(d){if(a[d+"Codec_"]&&!a[d+"Buffer_"]){var c=null;a.mediaSource_[d+"Buffer_"]?(c=a.mediaSource_[d+"Buffer_"],c.updating=!1):(c=pj(a.mediaSource_.nativeMediaSource_,d+'/mp4;codecs="'+a[d+"Codec_"]+'"'),a.mediaSource_[d+"Buffer_"]=c);a[d+"Buffer_"]=c;["update","updatestart","updateend"].forEach(function(e){c.addEventListener(e,function(){if("audio"!==d||!a.audioDisabled_)if("updateend"===
e&&(a[d+"Buffer_"].updating=!1),b.every(function(b){return"audio"===b&&a.audioDisabled_?!0:d!==b&&a[b+"Buffer_"]&&a[b+"Buffer_"].updating?!1:!0}))return a.trigger(e)})})}})}},{key:"appendBuffer",value:function(a){this.bufferUpdating_=!0;if(this.audioBuffer_&&this.audioBuffer_.buffered.length){var b=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:b.end(b.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:Kh(this.gopBuffer_,
this.mediaSource_.player_,this.timeMapping_)});this.transmuxer_.postMessage({action:"push",data:a.buffer,byteOffset:a.byteOffset,byteLength:a.byteLength},[a.buffer]);this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(a){var b=this.gopBuffer_;a=a.data.gopInfo;if(a.length)if(this.safeAppend_)b=a.slice();else{var d=a[0].pts,c=0;for(c;c<b.length&&!(b[c].pts>=d);c++);b=b.slice(0,c).concat(a)}this.gopBuffer_=b}},{key:"remove",value:function(a,b){if(this.videoBuffer_){this.videoBuffer_.updating=
!0;this.videoBuffer_.remove(a,b);var d=this.gopBuffer_,c=this.timeMapping_,e=Math.ceil(9E4*(a-c)),f=Math.ceil(9E4*(b-c));c=d.slice();for(var p=d.length;p--&&!(d[p].pts<=f););if(-1!==p){for(f=p+1;f--&&!(d[f].pts<=e););f=Math.max(f,0);c.splice(f,p-f+1)}this.gopBuffer_=c}!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(a,b));ah(a,b,this.metadataTrack_);if(this.inbandTextTracks_)for(var g in this.inbandTextTracks_)ah(a,b,this.inbandTextTracks_[g])}},{key:"processPendingSegments_",
value:function(){var a={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};a=this.pendingBuffers_.reduce(function(a,b){var d=b.type,c=b.data,e=b.initSegment;a[d].segments.push(c);a[d].bytes+=c.byteLength;a[d].initSegment=e;b.captions&&(a.captions=a.captions.concat(b.captions));b.info&&(a[d].info=b.info);b.metadata&&(a.metadata=a.metadata.concat(b.metadata));return a},a);this.videoBuffer_||this.audioBuffer_||(0===a.video.bytes&&(this.videoCodec_=null),0===a.audio.bytes&&
(this.audioCodec_=null),this.createRealSourceBuffers_());a.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:a.audio.info});a.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:a.video.info});this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(a.audio.segments.unshift(a.audio.initSegment),a.audio.bytes+=a.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var b=!1;this.videoBuffer_&&a.video.bytes?(a.video.segments.unshift(a.video.initSegment),
a.video.bytes+=a.video.initSegment.byteLength,this.concatAndAppendSegments_(a.video,this.videoBuffer_),Ni(this,a.captions,a.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(b=!0);!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(a.audio,this.audioBuffer_);this.pendingBuffers_.length=0;b&&this.trigger("updateend");this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(a,b){var d=0,c=void 0;if(a.bytes){c=new Uint8Array(a.bytes);a.segments.forEach(function(a){c.set(a,
d);d+=a.byteLength});try{b.updating=!0,b.appendBuffer(c)}catch(Jh){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:Jh.message,originalError:Jh})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort();!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort();this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"});this.pendingBuffers_.length=0;this.bufferUpdating_=!1}}]);return b}(M.EventTarget),Gi=function(a){function b(){Xd(this,
b);var a=tf(this,(b.__proto__||Object.getPrototypeOf(b)).call(this)),d=void 0;a.nativeMediaSource_=new N.MediaSource;for(d in a.nativeMediaSource_)d in b.prototype||"function"!==typeof a.nativeMediaSource_[d]||(a[d]=a.nativeMediaSource_[d].bind(a.nativeMediaSource_));a.duration_=NaN;Object.defineProperty(a,"duration",{get:function(){return Infinity===this.duration_?this.duration_:this.nativeMediaSource_.duration},set:function(a){this.duration_=a;Infinity!==a&&(this.nativeMediaSource_.duration=a)}});
Object.defineProperty(a,"seekable",{get:function(){return Infinity===this.duration_?M.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}});Object.defineProperty(a,"readyState",{get:function(){return this.nativeMediaSource_.readyState}});Object.defineProperty(a,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}});a.sourceBuffers=[];a.activeSourceBuffers_=[];a.updateActiveSourceBuffers_=function(){a.activeSourceBuffers_.length=0;if(1===a.sourceBuffers.length){var b=
a.sourceBuffers[0];b.appendAudioInitSegment_=!0;b.audioDisabled_=!b.audioCodec_;a.activeSourceBuffers_.push(b)}else{var d=!1,c=!0;for(b=0;b<a.player_.audioTracks().length;b++){var e=a.player_.audioTracks()[b];if(e.enabled&&"main"!==e.kind){d=!0;c=!1;break}}a.sourceBuffers.forEach(function(b,e){b.appendAudioInitSegment_=!0;if(b.videoCodec_&&b.audioCodec_)b.audioDisabled_=d;else if(b.videoCodec_&&!b.audioCodec_)b.audioDisabled_=!0,c=!1;else if(!b.videoCodec_&&b.audioCodec_&&(b.audioDisabled_=e?c:!c,
b.audioDisabled_))return;a.activeSourceBuffers_.push(b)})}};a.onPlayerMediachange_=function(){a.sourceBuffers.forEach(function(a){a.appendAudioInitSegment_=!0})};a.onHlsReset_=function(){a.sourceBuffers.forEach(function(a){a.transmuxer_&&a.transmuxer_.postMessage({action:"resetCaptions"})})};a.onHlsSegmentTimeMapping_=function(b){a.sourceBuffers.forEach(function(a){return a.timeMapping_=b.mapping})};["sourceopen","sourceclose","sourceended"].forEach(function(a){this.nativeMediaSource_.addEventListener(a,
this.trigger.bind(this))},a);a.on("sourceopen",function(b){if(b=da.querySelector('[src="'+a.url_+'"]'))a.player_=M(b.parentNode),a.player_.tech_.on("hls-reset",a.onHlsReset_),a.player_.tech_.on("hls-segment-time-mapping",a.onHlsSegmentTimeMapping_),a.player_.audioTracks&&a.player_.audioTracks()&&(a.player_.audioTracks().on("change",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("addtrack",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("removetrack",a.updateActiveSourceBuffers_)),
a.player_.on("mediachange",a.onPlayerMediachange_)});a.on("sourceended",function(b){b=Ci(a.duration);for(var d=0;d<a.sourceBuffers.length;d++){var c=a.sourceBuffers[d];(c=c.metadataTrack_&&c.metadataTrack_.cues)&&c.length&&(c[c.length-1].endTime=b)}});a.on("sourceclose",function(a){this.sourceBuffers.forEach(function(a){a.transmuxer_&&a.transmuxer_.terminate()});this.sourceBuffers.length=0;this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",
this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))});return a}le(b,a);vd(b,[{key:"addSeekableRange_",value:function(a,b){if(Infinity!==this.duration)throw a=
Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),a.name="InvalidStateError",a.code=11,a;if(b>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))this.nativeMediaSource_.duration=b}},{key:"addSourceBuffer",value:function(a){var b=void 0;b=nj(a);/^(video|audio)\/mp2t$/i.test(b.type)?(a=[],b.parameters&&b.parameters.codecs&&(a=b.parameters.codecs.split(","),a=Vi(a),a=a.filter(function(a){return/mp4a\.\d+.\d+/i.test(a)||/avc1\.[\da-f]+/i.test(a)})),
0===a.length&&(a=["avc1.4d400d","mp4a.40.2"]),b=new oj(this,a),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),b.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)):b=this.nativeMediaSource_.addSourceBuffer(a);this.sourceBuffers.push(b);return b}}]);return b}(M.EventTarget),ii=0;M.mediaSources={};var Wi=function(a,b){if(a=M.mediaSources[a])a.trigger({type:"sourceopen",swfId:b});else throw Error("Media Source not found (Video.js)");},Hi=function(){return!!N.MediaSource&&
!!N.MediaSource.isTypeSupported&&N.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Sh=function(){this.MediaSource={open:Wi,supportsNativeMediaSources:Hi};if(Hi())return new Gi;throw Error("Cannot use create a virtual MediaSource for this video");};Sh.open=Wi;Sh.supportsNativeMediaSources=Hi;var Xi={createObjectURL:function(a){if(a instanceof Gi){var b=N.URL.createObjectURL(a.nativeMediaSource_);return a.url_=b}if(!(a instanceof Gi))return b=N.URL.createObjectURL(a),a.url_=
b;b="blob:vjs-media-source/"+ii;ii++;M.mediaSources[b]=a;return b}};M.MediaSource=Sh;M.URL=Xi;var qj=M.mergeOptions,Yi=function(a,b){var d=qj(a,{duration:b.duration,minimumUpdatePeriod:b.minimumUpdatePeriod});for(a=0;a<b.playlists.length;a++){var c=Gh(d,b.playlists[a]);c&&(d=c)}zh(b,function(a,b,c,e){if(a.playlists&&a.playlists.length){var f=a.playlists[0].uri;if(a=Gh(d,a.playlists[0]))d=a,d.mediaGroups[b][c][e].playlists[0]=d.playlists[f]}});return d},Ii=function(a){function b(a,d,c,e){Xd(this,b);
var f=tf(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));f.hls_=d;f.withCredentials=c;if(!a)throw Error("A non-empty playlist URL or playlist is required");f.on("minimumUpdatePeriod",function(){f.refreshXml_()});f.on("mediaupdatetimeout",function(){f.refreshMedia_()});if("string"===typeof a)return f.srcUrl=a,f.state="HAVE_NOTHING",tf(f);f.masterPlaylistLoader_=e;f.state="HAVE_METADATA";f.started=!0;f.media(a);N.setTimeout(function(){f.trigger("loadedmetadata")},0);return f}le(b,a);vd(b,[{key:"dispose",
value:function(){this.stopRequest();N.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var a=this.request;this.request=null;a.onreadystatechange=null;a.abort()}}},{key:"media",value:function(a){if(!a)return this.media_;if("HAVE_NOTHING"===this.state)throw Error("Cannot switch media playlist from "+this.state);var b=this.state;if("string"===typeof a){if(!this.master.playlists[a])throw Error("Unknown playlist URI: "+a);a=this.master.playlists[a]}var d=!this.media_||
a.uri!==this.media_.uri;this.state="HAVE_METADATA";d&&(this.media_&&this.trigger("mediachanging"),this.media_=a,this.refreshMedia_(),"HAVE_MASTER"!==b&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest();"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(){this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var a=Cc(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});a.uri=this.srcUrl;
for(var b=0;b<a.playlists.length;b++){var d="placeholder-uri-"+b;a.playlists[b].uri=d;a.playlists[d]=a.playlists[b]}zh(a,function(b,d,c,e){b.playlists&&b.playlists.length&&(d="placeholder-uri-"+d+"-"+c+"-"+e,b.playlists[0].uri=d,a.playlists[d]=b.playlists[0])});Nh(a);qi(a);return a}},{key:"start",value:function(){var a=this;this.started=!0;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(b,d){if(a.request){a.request=null;if(b)return a.error={status:d.status,
message:"DASH playlist request error at URL: "+a.srcUrl,responseText:d.responseText,code:2},"HAVE_NOTHING"===a.state&&(a.started=!1),a.trigger("error");a.masterXml_=d.responseText;a.masterLoaded_=d.responseHeaders&&d.responseHeaders.date?Date.parse(d.responseHeaders.date):Date.now();a.syncClientServerClock_(a.onClientServerClockSync_.bind(a))}})}},{key:"syncClientServerClock_",value:function(a){var b=this,d=Z(Eh(this.masterXml_));if(null===d)return this.clientOffset_=this.masterLoaded_-Date.now(),
a();if("DIRECT"===d.method)return this.clientOffset_=d.value-Date.now(),a();this.request=this.hls_.xhr({uri:jg(this.srcUrl,d.value),method:d.method,withCredentials:this.withCredentials},function(c,e){if(b.request){if(c)return b.clientOffset_=b.masterLoaded_-Date.now(),a();c="HEAD"===d.method?e.responseHeaders&&e.responseHeaders.date?Date.parse(e.responseHeaders.date):b.masterLoaded_:Date.parse(e.responseText);b.clientOffset_=c-Date.now();a()}})}},{key:"onClientServerClockSync_",value:function(){var a=
this;this.master=this.parseMasterXml();this.state="HAVE_MASTER";this.trigger("loadedplaylist");this.media_||this.media(this.master.playlists[0]);N.setTimeout(function(){a.trigger("loadedmetadata")},0);this.master.minimumUpdatePeriod&&N.setTimeout(function(){a.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var a=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(b,d){if(a.request){a.request=null;if(b)return a.error=
{status:d.status,message:"DASH playlist request error at URL: "+a.srcUrl,responseText:d.responseText,code:2},"HAVE_NOTHING"===a.state&&(a.started=!1),a.trigger("error");a.masterXml_=d.responseText;b=a.parseMasterXml();a.master=Yi(a.master,b);N.setTimeout(function(){a.trigger("minimumUpdatePeriod")},a.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var a=this,b=void 0,d=void 0;this.masterPlaylistLoader_?(b=this.masterPlaylistLoader_.master,d=this.masterPlaylistLoader_.parseMasterXml()):
(b=this.master,d=this.parseMasterXml());(b=Yi(b,d))?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=b:this.master=b,this.media_=b.playlists[this.media_.uri]):this.trigger("playlistunchanged");this.media().endList||(this.mediaUpdateTimeout=N.setTimeout(function(){a.trigger("mediaupdatetimeout")},ri(this.media(),!!b)));this.trigger("loadedplaylist")}}]);return b}(M.EventTarget),Th=function(a){return M.log.debug?M.log.debug.bind(M,"VHS:",a+" >"):function(){}},rj=function(){function a(b,
d,c,e){Xd(this,a);this.callbacks_=[];this.pendingCallback_=null;this.timestampOffset_=0;this.mediaSource=b;this.processedAppend_=!1;this.type_=c;this.mimeType_=d;this.logger_=Th("SourceUpdater["+c+"]["+d+"]");"closed"===b.readyState?b.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,d,e)):this.createSourceBuffer_(d,e)}vd(a,[{key:"createSourceBuffer_",value:function(a,b){var d=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(a);this.logger_("created SourceBuffer");if(b&&(b.trigger("sourcebufferadded"),
2>this.mediaSource.sourceBuffers.length)){b.on("sourcebufferadded",function(){d.start_()});return}this.start_()}},{key:"start_",value:function(){var a=this;this.started_=!0;this.onUpdateendCallback_=function(){var b=a.pendingCallback_;a.pendingCallback_=null;a.logger_("buffered ["+Ih(a.buffered())+"]");b&&b();a.runCallback_()};this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_);this.runCallback_()}},{key:"abort",value:function(a){var b=this;this.processedAppend_&&this.queueCallback_(function(){b.sourceBuffer_.abort()},
a)}},{key:"appendBuffer",value:function(a,b){var d=this;this.processedAppend_=!0;this.queueCallback_(function(){d.sourceBuffer_.appendBuffer(a)},b)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:M.createTimeRanges()}},{key:"remove",value:function(a,b){var d=this;this.processedAppend_&&this.queueCallback_(function(){d.logger_("remove ["+a+" => "+b+"]");d.sourceBuffer_.remove(a,b)},Yd)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||
this.pendingCallback_}},{key:"timestampOffset",value:function(a){var b=this;"undefined"!==typeof a&&(this.queueCallback_(function(){b.sourceBuffer_.timestampOffset=a}),this.timestampOffset_=a);return this.timestampOffset_}},{key:"queueCallback_",value:function(a,b){this.callbacks_.push([a.bind(this),b]);this.runCallback_()}},{key:"runCallback_",value:function(){if(!this.updating()&&this.callbacks_.length&&this.started_){var a=this.callbacks_.shift();this.pendingCallback_=a[1];a[0]()}}},{key:"dispose",
value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_);this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]);return a}(),xg={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Zi=function(a){var b={};a.byterange&&(a=a.byterange,b.Range="bytes="+a.offset+"-"+(a.offset+a.length-1));return b},$i=function(a){a.forEach(function(a){a.abort()})},
sj=function(a){var b=a.target;b=Date.now()-b.requestTime;b={bandwidth:Infinity,bytesReceived:0,roundTripTime:b||0};b.bytesReceived=a.loaded;b.bandwidth=Math.floor(b.bytesReceived/b.roundTripTime*8E3);return b},Ji=function(a,b){return b.timedout?{status:b.status,message:"HLS request timed-out at URL: "+b.uri,code:-101,xhr:b}:b.aborted?{status:b.status,message:"HLS request aborted at URL: "+b.uri,code:-102,xhr:b}:a?{status:b.status,message:"HLS request errored at URL: "+b.uri,code:2,xhr:b}:null},tj=
function(a,b){return function(d,c){var e=c.response;if(d=Ji(d,c))return b(d,a);if(16!==e.byteLength)return b({status:c.status,message:"Invalid HLS key at URL: "+c.uri,code:2,xhr:c},a);c=new DataView(e);a.key.bytes=new Uint32Array([c.getUint32(0),c.getUint32(4),c.getUint32(8),c.getUint32(12)]);return b(null,a)}},uj=function(a,b){return function(d,c){var e=c.response;if(d=Ji(d,c))return b(d,a);if(0===e.byteLength)return b({status:c.status,message:"Empty HLS segment content at URL: "+c.uri,code:2,xhr:c},
a);a.map.bytes=new Uint8Array(c.response);return b(null,a)}},vj=function(a,b){return function(d,c){var e=c.response;if(d=Ji(d,c))return b(d,a);if(0===e.byteLength)return b({status:c.status,message:"Empty HLS segment content at URL: "+c.uri,code:2,xhr:c},a);a.stats={bandwidth:c.bandwidth,bytesReceived:c.bytesReceived||0,roundTripTime:c.roundTripTime||0};a.key?a.encryptedBytes=new Uint8Array(c.response):a.bytes=new Uint8Array(c.response);return b(null,a)}},wj=function(a,b,d){a.addEventListener("message",
function Bh(c){if(c.data.source===b.requestId)return a.removeEventListener("message",Bh),c=c.data.decrypted,b.bytes=new Uint8Array(c.bytes,c.byteOffset,c.byteLength),d(null,b)});a.postMessage(ei({source:b.requestId,encrypted:b.encryptedBytes,key:b.key.bytes,iv:b.key.iv}),[b.encryptedBytes.buffer,b.key.bytes.buffer])},xj=function(a){return a.reduce(function(a,b){return b.code>a.code?b:a})},yj=function(a,b,d){var c=[],e=0;return function(f,p){f&&($i(a),c.push(f));e+=1;if(e===a.length)return p.endOfAllRequests=
Date.now(),0<c.length?(f=xj(c),d(f,p)):p.encryptedBytes?wj(b,p,d):d(null,p)}},zj=function(a,b){return function(d){a.stats=M.mergeOptions(a.stats,sj(d));!a.stats.firstBytesReceivedAt&&a.stats.bytesReceived&&(a.stats.firstBytesReceivedAt=Date.now());return b(d,a)}},Aj=function(a,b,d,c,e,f){var p=[];d=yj(p,d,f);if(c.key){f=M.mergeOptions(b,{uri:c.key.resolvedUri,responseType:"arraybuffer"});var g=tj(c,d);f=a(f,g);p.push(f)}c.map&&!c.map.bytes&&(f=M.mergeOptions(b,{uri:c.map.resolvedUri,responseType:"arraybuffer",
headers:Zi(c.map)}),g=uj(c,d),f=a(f,g),p.push(f));b=M.mergeOptions(b,{uri:c.resolvedUri,responseType:"arraybuffer",headers:Zi(c)});d=vj(c,d);a=a(b,d);a.addEventListener("progress",zj(c,e));p.push(a);return function(){return $i(p)}},aj={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Uh=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",b={codecCount:0},d;b.codecCount=a.split(",").length;b.codecCount=b.codecCount||2;if(d=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(a))b.videoCodec=
d[2],b.videoObjectTypeIndicator=d[3];b.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(a);b.audioProfile=b.audioProfile&&b.audioProfile[2];return b},Bj=function(a){return a.replace(/avc1\.(\d+)\.(\d+)/i,function(a){return Vi([a])[0]})},Ki=function(a,b,d){return a+"/"+b+'; codecs="'+d.filter(function(a){return!!a}).join(", ")+'"'},Cj=function(a,b){if(!a.mediaGroups.AUDIO||!b)return null;a=a.mediaGroups.AUDIO[b];if(!a)return null;for(var d in a)if(b=a[d],b.default&&b.playlists)return Uh(b.playlists[0].attributes.CODECS).audioProfile;
return null},bj=function(a,b){return a?(a=N.getComputedStyle(a))?a[b]:"":""},Vh=function(a,b){var d=a.slice();a.sort(function(a,c){var e=b(a,c);return 0===e?d.indexOf(a)-d.indexOf(c):e})},Li=function(a,b){var d=void 0,c=void 0;a.attributes.BANDWIDTH&&(d=a.attributes.BANDWIDTH);d=d||N.Number.MAX_VALUE;b.attributes.BANDWIDTH&&(c=b.attributes.BANDWIDTH);c=c||N.Number.MAX_VALUE;return d-c},Dj=function(a,b,d,c){a=a.playlists.map(function(a){var b=a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width;
var d=a.attributes.RESOLUTION&&a.attributes.RESOLUTION.height;var c=(c=a.attributes.BANDWIDTH)||N.Number.MAX_VALUE;return{bandwidth:c,width:b,height:d,playlist:a}});Vh(a,function(a,b){return a.bandwidth-b.bandwidth});a=a.filter(function(a){return!Ud.isIncompatible(a.playlist)});var e=a.filter(function(a){return Ud.isEnabled(a.playlist)});e.length||(e=a.filter(function(a){return!Ud.isDisabled(a.playlist)}));var f=e.filter(function(a){return a.bandwidth*xg.BANDWIDTH_VARIANCE<b}),p=f[f.length-1],g=f.filter(function(a){return a.bandwidth===
p.bandwidth})[0];f=f.filter(function(a){return a.width&&a.height});Vh(f,function(a,b){return a.width-b.width});var h=f.filter(function(a){return a.width===d&&a.height===c});p=h[h.length-1];h=h.filter(function(a){return a.bandwidth===p.bandwidth})[0];var l=void 0,t=void 0;t=void 0;h||(l=f.filter(function(a){return a.width>d||a.height>c}),t=l.filter(function(a){return a.width===l[0].width&&a.height===l[0].height}),p=t[t.length-1],t=t.filter(function(a){return a.bandwidth===p.bandwidth})[0]);return(a=
t||h||g||e[0]||a[0])?a.playlist:null},Ej=function(a){var b=a.currentTime,d=a.bandwidth,c=a.duration,e=a.segmentDuration,f=a.timeUntilRebuffer,p=a.currentTimeline,g=a.syncController;a=a.master.playlists.filter(function(a){return!Ud.isIncompatible(a)});var h=a.filter(Ud.isEnabled);h.length||(h=a.filter(function(a){return!Ud.isDisabled(a)}));a=h.filter(Ud.hasAttribute.bind(null,"BANDWIDTH")).map(function(a){var h=g.getSyncPoint(a,c,p,b)?1:2;h=Ud.estimateSegmentRequestTime(e,d,a)*h-f;return{playlist:a,
rebufferingImpact:h}});h=a.filter(function(a){return 0>=a.rebufferingImpact});Vh(h,function(a,b){return Li(b.playlist,a.playlist)});if(h.length)return h[0];Vh(a,function(a,b){return a.rebufferingImpact-b.rebufferingImpact});return a[0]||null},cj=function(a,b,d){if(!a||!b)return!1;d=d===a.segments.length;return a.endList&&"open"===b.readyState&&d},Fj=function(a,b,d){return"main"===a&&b&&d?d.containsAudio||d.containsVideo?b.containsVideo&&!d.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":
!b.containsVideo&&d.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null},Gj=function(a){var b=a.segment,d=a.playlist,c=d.mediaSequence,e=d.segments;return["appending ["+a.mediaIndex+"] of ["+c+", "+(c+(void 0===e?[]:e).length)+"] from playlist ["+d.id+"]","["+b.start+" => "+b.end+"] in timeline ["+
a.timeline+"]"].join(" ")},Oi=function(a){function b(a){Xd(this,b);var d=tf(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(!a)throw new TypeError("Initialization settings are required");if("function"!==typeof a.currentTime)throw new TypeError("No currentTime getter specified");if(!a.mediaSource)throw new TypeError("No MediaSource specified");d.bandwidth=a.bandwidth;d.throughput={rate:0,count:0};d.roundTrip=NaN;d.resetStats_();d.mediaIndex=null;d.hasPlayed_=a.hasPlayed;d.currentTime_=
a.currentTime;d.seekable_=a.seekable;d.seeking_=a.seeking;d.duration_=a.duration;d.mediaSource_=a.mediaSource;d.hls_=a.hls;d.loaderType_=a.loaderType;d.startingMedia_=void 0;d.segmentMetadataTrack_=a.segmentMetadataTrack;d.goalBufferLength_=a.goalBufferLength;d.sourceType_=a.sourceType;d.state_="INIT";d.checkBufferTimeout_=null;d.error_=void 0;d.currentTimeline_=-1;d.pendingSegment_=null;d.mimeType_=null;d.sourceUpdater_=null;d.xhrOptions_=null;d.activeInitSegmentId_=null;d.initSegments_={};d.decrypter_=
a.decrypter;d.syncController_=a.syncController;d.syncPoint_={segmentIndex:0,time:0};d.syncController_.on("syncinfoupdate",function(){return d.trigger("syncinfoupdate")});d.mediaSource_.addEventListener("sourceopen",function(){return d.ended_=!1});d.fetchAtBuffer_=!1;d.logger_=Th("SegmentLoader["+d.loaderType_+"]");Object.defineProperty(d,"state",{get:function(){return this.state_},set:function(a){a!==this.state_&&(this.logger_(this.state_+" -> "+a),this.state_=a)}});return d}le(b,a);vd(b,[{key:"resetStats_",
value:function(){this.mediaSecondsLoaded=this.mediaTransferDuration=this.mediaRequestsErrored=this.mediaRequestsTimedout=this.mediaRequestsAborted=this.mediaRequests=this.mediaBytesTransferred=0}},{key:"dispose",value:function(){this.state="DISPOSED";this.pause();this.abort_();this.sourceUpdater_&&this.sourceUpdater_.dispose();this.resetStats_()}},{key:"abort",value:function(){"WAITING"!==this.state?this.pendingSegment_&&(this.pendingSegment_=null):(this.abort_(),this.state="READY",this.paused()||
this.monitorBuffer_())}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests();this.pendingSegment_=null}},{key:"error",value:function(a){"undefined"!==typeof a&&(this.error_=a);this.pendingSegment_=null;return this.error_}},{key:"endOfStream",value:function(){this.ended_=!0;this.pause();this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():M.createTimeRanges()}},{key:"initSegment",value:function(a){var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(!a)return null;var d=Nb(a),c=this.initSegments_[d];b&&!c&&a.bytes&&(this.initSegments_[d]=c={resolvedUri:a.resolvedUri,byterange:a.byterange,bytes:a.bytes});return c||a}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){this.monitorBuffer_();if(this.playlist_){this.syncController_.setDateTimeMapping(this.playlist_);
if("INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){this.state="READY";this.sourceUpdater_=new rj(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_);this.resetEverything();return this.monitorBuffer_()}},{key:"playlist",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a){var d=this.playlist_,c=this.pendingSegment_;
this.playlist_=a;this.xhrOptions_=b;this.hasPlayed_()||(a.syncInfo={mediaSequence:a.mediaSequence,time:0});this.logger_("playlist update ["+(d?d.id:null)+" => "+a.id+"]");this.trigger("syncinfoupdate");if("INIT"===this.state&&this.couldBeginLoading_())return this.init_();d&&d.uri===a.uri?(b=a.mediaSequence-d.mediaSequence,this.logger_("live window shift ["+b+"]"),null!==this.mediaIndex&&(this.mediaIndex-=b),c&&(c.mediaIndex-=b,0<=c.mediaIndex&&(c.segment=a.segments[c.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(d,
a)):null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(N.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(a,b){this.mimeType_||(this.mimeType_=a,this.sourceBufferEmitter_=b,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1;this.resetLoader();this.remove(0,
this.duration_());this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1;this.resyncLoader()}},{key:"resyncLoader",value:function(){this.syncPoint_=this.mediaIndex=null;this.abort()}},{key:"remove",value:function(a,b){this.sourceUpdater_&&this.sourceUpdater_.remove(a,b);ah(a,b,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&N.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=N.setTimeout(this.monitorBufferTick_.bind(this),
1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_();this.checkBufferTimeout_&&N.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=N.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var a=this.checkBuffer_(this.buffered_(),this.playlist_,
this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(a)if(cj(this.playlist_,this.mediaSource_,a.mediaIndex))this.endOfStream();else if(a.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_()){if(a.timeline!==this.currentTimeline_||null!==a.startOfSegment&&a.startOfSegment<this.sourceUpdater_.timestampOffset())this.syncController_.reset(),a.timestampOffset=a.startOfSegment;this.loadSegment_(a)}}}},{key:"checkBuffer_",value:function(a,
b,d,c,e,f){var p=0;a.length&&(p=a.end(a.length-1));a=Math.max(0,p-e);if(!b.segments.length||a>=this.goalBufferLength_()||!c&&1<=a)return null;if(null===f)return d=this.getSyncSegmentCandidate_(b),this.generateSegmentInfo_(b,d,null,!0);if(null!==d)return p=(c=b.segments[d])&&c.end?c.end:p,this.generateSegmentInfo_(b,d+1,p,!1);p=this.fetchAtBuffer_?Ud.getMediaInfoForTime(b,p,f.segmentIndex,f.time):Ud.getMediaInfoForTime(b,e,f.segmentIndex,f.time);d=p.mediaIndex;p=p.startTime;return this.generateSegmentInfo_(b,
d,p,!1)}},{key:"getSyncSegmentCandidate_",value:function(a){var b=this;if(-1===this.currentTimeline_)return 0;var d=a.segments.map(function(a,b){return{timeline:a.timeline,segmentIndex:b}}).filter(function(a){return a.timeline===b.currentTimeline_});return d.length?d[Math.min(d.length-1,1)].segmentIndex:Math.max(a.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(a,b,d,c){if(0>b||b>=a.segments.length)return null;var e=a.segments[b];return{requestId:"segment-loader-"+Math.random(),
uri:e.resolvedUri,mediaIndex:b,isSyncRequest:c,startOfSegment:d,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:e.timeline,duration:e.duration,segment:e}}},{key:"abortRequestEarly_",value:function(a){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||1E3>Date.now()-(a.firstBytesReceivedAt||Date.now()))return!1;var b=this.currentTime_(),d=a.bandwidth,c=this.pendingSegment_.duration,e=Ud.estimateSegmentRequestTime(c,d,this.playlist_,
a.bytesReceived);a=Bi(this.buffered_(),b,this.hls_.tech_.playbackRate())-1;if(e<=a)return!1;if(b=Ej({master:this.hls_.playlists.master,currentTime:b,bandwidth:d,duration:this.duration_(),segmentDuration:c,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_})){d=e-a-b.rebufferingImpact;c=.5;a<=Hg&&(c=1);if(!b.playlist||b.playlist.uri===this.playlist_.uri||d<c)return!1;this.bandwidth=b.playlist.attributes.BANDWIDTH*xg.BANDWIDTH_VARIANCE+1;this.abort();this.trigger("earlyabort");
return!0}}},{key:"handleProgress_",value:function(a,b){this.pendingSegment_&&b.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(b.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(a){this.state="WAITING";this.pendingSegment_=a;this.trimBackBuffer_(a);a.abortRequests=Aj(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(a),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(a){var b=
this.seekable_();a=this.currentTime_();var d=this.playlist_.targetDuration||10;b=b.length&&0<b.start(0)&&b.start(0)<a?b.start(0):a-30;a=Math.min(b,a-d);0<a&&this.remove(0,a)}},{key:"createSimplifiedSegmentObj_",value:function(a){var b=a.segment,d={resolvedUri:b.resolvedUri,byterange:b.byterange,requestId:a.requestId};b.key&&(a=b.key.iv||new Uint32Array([0,0,0,a.mediaIndex+a.playlist.mediaSequence]),d.key={resolvedUri:b.key.resolvedUri,iv:a});b.map&&(d.map=this.initSegment(b.map));return d}},{key:"segmentRequestFinished_",
value:function(a,b){this.mediaRequests+=1;b.stats&&(this.mediaBytesTransferred+=b.stats.bytesReceived,this.mediaTransferDuration+=b.stats.roundTripTime);this.pendingSegment_?b.requestId===this.pendingSegment_.requestId&&(a?(this.pendingSegment_=null,this.state="READY",-102===a.code?this.mediaRequestsAborted+=1:(this.pause(),-101===a.code?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(a),this.trigger("error")))):
(this.bandwidth=b.stats.bandwidth,this.roundTrip=b.stats.roundTripTime,b.map&&(b.map=this.initSegment(b.map,!0)),this.processSegmentResponse_(b))):this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(a){var b=this.pendingSegment_;b.bytes=a.bytes;a.map&&(b.segment.map.bytes=a.map.bytes);b.endOfAllRequests=a.endOfAllRequests;this.handleSegment_()}},{key:"handleSegment_",value:function(){var a=this;if(this.pendingSegment_){var b=this.pendingSegment_,d=b.segment,c=this.syncController_.probeSegmentInfo(b);
"undefined"===typeof this.startingMedia_&&c&&(c.containsAudio||c.containsVideo)&&(this.startingMedia_={containsAudio:c.containsAudio,containsVideo:c.containsVideo});if(c=Fj(this.loaderType_,this.startingMedia_,c))this.error({message:c,blacklistDuration:Infinity}),this.trigger("error");else if(b.isSyncRequest)this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";else{null!==b.timestampOffset&&b.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(b.timestampOffset),
this.trigger("timestampoffset"));c=this.syncController_.mappingForTimeline(b.timeline);null!==c&&this.trigger({type:"segmenttimemapping",mapping:c});this.state="APPENDING";if(d.map){var e=Nb(d.map);this.activeInitSegmentId_&&this.activeInitSegmentId_===e||(c=this.initSegment(d.map),this.sourceUpdater_.appendBuffer(c.bytes,function(){a.activeInitSegmentId_=e}))}b.byteLength=b.bytes.byteLength;this.mediaSecondsLoaded="number"===typeof d.start&&"number"===typeof d.end?this.mediaSecondsLoaded+(d.end-
d.start):this.mediaSecondsLoaded+d.duration;this.logger_(Gj(b));this.sourceUpdater_.appendBuffer(b.bytes,this.handleUpdateEnd_.bind(this))}}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(this.pendingSegment_){var a=this.pendingSegment_,b=a.segment,d=null!==this.mediaIndex;this.pendingSegment_=null;this.recordThroughput_(a);this.addSegmentMetadataCue_(a);this.state="READY";this.mediaIndex=a.mediaIndex;this.fetchAtBuffer_=!0;this.currentTimeline_=a.timeline;this.trigger("syncinfoupdate");
b.end&&this.currentTime_()-b.end>3*a.playlist.targetDuration?this.resetEverything():(d&&this.trigger("bandwidthupdate"),this.trigger("progress"),cj(a.playlist,this.mediaSource_,a.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}else this.state="READY",this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(a){var b=this.throughput.rate,d=Date.now()-a.endOfAllRequests+1;this.throughput.rate+=(Math.floor(a.byteLength/d*8E3)-b)/++this.throughput.count}},
{key:"addSegmentMetadataCue_",value:function(a){if(this.segmentMetadataTrack_){var b=a.segment,d=b.start;b=b.end;if("number"===typeof d&&isFinite(d)&&"number"===typeof b&&isFinite(b)){ah(d,b,this.segmentMetadataTrack_);var c=N.WebKitDataCue||N.VTTCue;a={bandwidth:a.playlist.attributes.BANDWIDTH,resolution:a.playlist.attributes.RESOLUTION,codecs:a.playlist.attributes.CODECS,byteLength:a.byteLength,uri:a.uri,timeline:a.timeline,playlist:a.playlist.uri,start:d,end:b};var e=JSON.stringify(a);d=new c(d,
b,e);d.value=a;this.segmentMetadataTrack_.addCue(d)}}}}]);return b}(M.EventTarget),dj=new Uint8Array(["\n","\n"].map(function(a){return a.charCodeAt(0)})),Mj=function(a){function b(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Xd(this,b);d=tf(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,d));d.mediaSource_=null;d.subtitlesTrack_=null;return d}le(b,a);vd(b,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return M.createTimeRanges();
var a=this.subtitlesTrack_.cues;return M.createTimeRanges([[a[0].startTime,a[a.length-1].startTime]])}},{key:"initSegment",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(!a)return null;var d=Nb(a),c=this.initSegments_[d];b&&!c&&a.bytes&&(b=new Uint8Array(dj.byteLength+a.bytes.byteLength),b.set(a.bytes),b.set(dj,a.bytes.byteLength),this.initSegments_[d]=c={resolvedUri:a.resolvedUri,byterange:a.byterange,bytes:b});return c||a}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&
this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){this.state="READY";this.resetEverything();return this.monitorBuffer_()}},{key:"track",value:function(a){if("undefined"===typeof a)return this.subtitlesTrack_;this.subtitlesTrack_=a;"INIT"===this.state&&this.couldBeginLoading_()&&this.init_();return this.subtitlesTrack_}},{key:"remove",value:function(a,b){ah(a,b,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var a=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,
this.duration_(),this.currentTimeline_,this.currentTime_()));var b=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(b=this.skipEmptySegments_(b))null===this.syncController_.timestampOffsetForTimeline(b.timeline)?(this.syncController_.one("timestampoffset",function(){a.state="READY";a.paused()||a.monitorBuffer_()}),this.state="WAITING_ON_TIMELINE"):this.loadSegment_(b)}},{key:"skipEmptySegments_",value:function(a){for(;a&&a.segment.empty;)a=
this.generateSegmentInfo_(a.playlist,a.mediaIndex+1,a.startOfSegment+a.duration,a.isSyncRequest);return a}},{key:"handleSegment_",value:function(){var a=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var b=this.pendingSegment_,d=b.segment;if("function"!==typeof N.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var c=function(){a.handleSegment_()};this.state="WAITING_ON_VTTJS";this.subtitlesTrack_.tech_.one("vttjsloaded",c);this.subtitlesTrack_.tech_.one("vttjserror",
function(){a.subtitlesTrack_.tech_.off("vttjsloaded",c);a.error({message:"Error loading vtt.js"});a.state="READY";a.pause();a.trigger("error")})}else{d.requested=!0;try{this.parseVTTCues_(b)}catch(Jh){return this.error({message:Jh.message}),this.state="READY",this.pause(),this.trigger("error")}this.updateTimeMapping_(b,this.syncController_.timelines[b.timeline],this.playlist_);b.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY"):(b.byteLength=b.bytes.byteLength,
this.mediaSecondsLoaded+=d.duration,b.cues.length&&this.remove(b.cues[0].endTime,b.cues[b.cues.length-1].endTime),b.cues.forEach(function(b){a.subtitlesTrack_.addCue(b)}),this.handleUpdateEnd_())}}else this.state="READY"}},{key:"parseVTTCues_",value:function(a){var b=void 0,d=!1;"function"===typeof N.TextDecoder?b=new N.TextDecoder("utf8"):(b=N.WebVTT.StringDecoder(),d=!0);b=new N.WebVTT.Parser(N,N.vttjs,b);a.cues=[];a.timestampmap={MPEGTS:0,LOCAL:0};b.oncue=a.cues.push.bind(a.cues);b.ontimestampmap=
function(b){return a.timestampmap=b};b.onparsingerror=function(a){M.log.warn("Error encountered when parsing cues: "+a.message)};if(a.segment.map){var c=a.segment.map.bytes;d&&(c=String.fromCharCode.apply(null,c));b.parse(c)}c=a.bytes;d&&(c=String.fromCharCode.apply(null,c));b.parse(c);b.flush()}},{key:"updateTimeMapping_",value:function(a,b,d){var c=a.segment;if(b)if(a.cues.length){var e=a.timestampmap,f=e.MPEGTS/9E4-e.LOCAL+b.mapping;a.cues.forEach(function(a){a.startTime+=f;a.endTime+=f});d.syncInfo||
(d.syncInfo={mediaSequence:d.mediaSequence+a.mediaIndex,time:Math.min(a.cues[0].startTime,a.cues[a.cues.length-1].startTime-c.duration)})}else c.empty=!0}}]);return b}(Oi),Nj=function(a,b){if(a.segments)for(var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=void 0,e=0;e<a.segments.length;e++){var f=a.segments[e];if(!c)a:{var p=d+f.duration/2;c=b.cues;for(var g=0;g<c.length;g++){var h=c[g];if(p>=h.adStartTime&&p<=h.adEndTime){c=h;break a}}c=null}if(c){if("cueIn"in f){c.endTime=d;c.adEndTime=
d;d+=f.duration;c=null;continue}if(d<c.endTime){d+=f.duration;continue}c.endTime+=f.duration}else"cueOut"in f&&(c=new N.VTTCue(d,d+f.duration,f.cueOut),c.adStartTime=d,c.adEndTime=d+parseFloat(f.cueOut),b.addCue(c)),"cueOutCont"in f&&(p=f.cueOutCont.split("/").map(parseFloat),c=Wh(p,2),p=c[0],g=c[1],c=new N.VTTCue(d,d+f.duration,""),c.adStartTime=d-p,c.adEndTime=c.adStartTime+g,b.addCue(c));d+=f.duration}},fj=[{name:"VOD",run:function(a,b,d,c,e){return Infinity!==d?{time:0,segmentIndex:0}:null}},
{name:"ProgramDateTime",run:function(a,b,d,c,e){if(!a.datetimeToDisplayTime)return null;b=b.segments||[];c=d=null;e=e||0;for(var f=0;f<b.length;f++){var p=b[f];if(p.dateTimeObject){p=p.dateTimeObject.getTime()/1E3+a.datetimeToDisplayTime;var g=Math.abs(e-p);if(null!==c&&c<g)break;c=g;d={time:p,segmentIndex:f}}}return d}},{name:"Segment",run:function(a,b,d,c,e){a=b.segments||[];d=b=null;e=e||0;for(var f=0;f<a.length;f++){var p=a[f];if(p.timeline===c&&"undefined"!==typeof p.start){var g=Math.abs(e-
p.start);if(null!==d&&d<g)break;if(!b||null===d||d>=g)d=g,b={time:p.start,segmentIndex:f}}}return b}},{name:"Discontinuity",run:function(a,b,d,c,e){d=null;e=e||0;if(b.discontinuityStarts&&b.discontinuityStarts.length){c=null;for(var f=0;f<b.discontinuityStarts.length;f++){var p=b.discontinuityStarts[f],g=a.discontinuities[b.discontinuitySequence+f+1];if(g){var h=Math.abs(e-g.time);if(null!==c&&c<h)break;if(!d||null===c||c>=h)c=h,d={time:g.time,segmentIndex:p}}}}return d}},{name:"Playlist",run:function(a,
b,d,c,e){return b.syncInfo?{time:b.syncInfo.time,segmentIndex:b.syncInfo.mediaSequence-b.mediaSequence}:null}}],Oj=function(a){function b(){Xd(this,b);var a=tf(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));a.inspectCache_=void 0;a.timelines=[];a.discontinuities=[];a.datetimeToDisplayTime=null;a.logger_=Th("SyncController");return a}le(b,a);vd(b,[{key:"getSyncPoint",value:function(a,b,d,c){a=this.runStrategies_(a,b,d,c);return a.length?this.selectSyncPoint_(a,{key:"time",value:c}):null}},
{key:"getExpiredTime",value:function(a,b){if(!a||!a.segments)return null;b=this.runStrategies_(a,b,a.discontinuitySequence,0);if(!b.length)return null;b=this.selectSyncPoint_(b,{key:"segmentIndex",value:0});0<b.segmentIndex&&(b.time*=-1);return Math.abs(b.time+Hh(a,b.segmentIndex,0))}},{key:"runStrategies_",value:function(a,b,d,c){for(var e=[],f=0;f<fj.length;f++){var p=fj[f],g=p.run(this,a,b,d,c);g&&(g.strategy=p.name,e.push({strategy:p.name,syncPoint:g}))}return e}},{key:"selectSyncPoint_",value:function(a,
b){for(var d=a[0].syncPoint,c=Math.abs(a[0].syncPoint[b.key]-b.value),e=a[0].strategy,f=1;f<a.length;f++){var p=Math.abs(a[f].syncPoint[b.key]-b.value);p<c&&(c=p,d=a[f].syncPoint,e=a[f].strategy)}this.logger_("syncPoint for ["+b.key+": "+b.value+"] chosen with strategy"+(" ["+e+"]: [time:"+d.time+",")+(" segmentIndex:"+d.segmentIndex+"]"));return d}},{key:"saveExpiredSegmentInfo",value:function(a,b){for(var d=b.mediaSequence-a.mediaSequence-1;0<=d;d--){var c=a.segments[d];if(c&&"undefined"!==typeof c.start){b.syncInfo=
{mediaSequence:a.mediaSequence+d,time:c.start};this.logger_("playlist refresh sync: [time:"+b.syncInfo.time+","+(" mediaSequence: "+b.syncInfo.mediaSequence+"]"));this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(a){!this.datetimeToDisplayTime&&a.segments&&a.segments.length&&a.segments[0].dateTimeObject&&(this.datetimeToDisplayTime=-(a.segments[0].dateTimeObject.getTime()/1E3))}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(a){var b=
a.segment,d=a.playlist,c;(c=b.map?this.probeMp4Segment_(a):this.probeTsSegment_(a))&&this.calculateSegmentTimeMapping_(a,c)&&(this.saveDiscontinuitySyncInfo_(a),d.syncInfo||(d.syncInfo={mediaSequence:d.mediaSequence+a.mediaIndex,time:b.start}));return c}},{key:"probeMp4Segment_",value:function(a){var b=a.segment,d=eh.timescale(b.map.bytes);d=eh.startTime(d,a.bytes);null!==a.timestampOffset&&(a.timestampOffset-=d);return{start:d,end:d+b.duration}}},{key:"probeTsSegment_",value:function(a){var b=a.bytes;
a=this.inspectCache_;var d=73===b[0]&&68===b[1]&&51===b[2]?!0:!1;if(d)b:{var c=!1,e=0,f=null;d=null;for(var p,g=0,h;3<=b.length-g;){switch(Od.parseType(b,g)){case "timed-metadata":if(10>b.length-g){c=!0;break}p=Od.parseId3TagSize(b,g);if(p>b.length){c=!0;break}null===d&&(h=b.subarray(g,g+p),d=Od.parseAacTimestamp(h));g+=p;break;case "audio":if(7>b.length-g){c=!0;break}p=Od.parseAdtsSize(b,g);if(p>b.length){c=!0;break}null===f&&(h=b.subarray(g,g+p),f=Od.parseSampleRate(h));e++;g+=p;break;default:g++}if(c){b=
null;break b}}null===f||null===d?b=null:(b=9E4/f,b={audio:[{type:"audio",dts:d,pts:d},{type:"audio",dts:d+1024*e*b,pts:d+1024*e*b}]})}else{d={pid:null,table:null};c={};f=0;for(p=188;p<b.byteLength;)if(71===b[f]&&71===b[p]){g=b.subarray(f,p);h=Ab.parseType(g,d.pid);switch(h){case "pat":d.pid||(d.pid=Ab.parsePat(g));break;case "pmt":d.table||(d.table=Ab.parsePmt(g))}if(d.pid&&d.table)break;f+=188;p+=188}else f++,p++;for(e in d.table)if(d.table.hasOwnProperty(e))switch(d.table[e]){case ie.H264_STREAM_TYPE:c.video=
[];var l;p=b;g=d;h=c;var t=0,k=188,m=!1,n=[];for(l=0;k<p.byteLength;)if(71===p[t]&&71===p[k]){f=p.subarray(t,k);var q=Ab.parseType(f,g.pid);switch(q){case "pes":var H=Ab.parsePesType(f,g.table);q=Ab.parsePayloadUnitStartIndicator(f);if("video"===H&&(q&&!m&&(H=Ab.parsePesTime(f))&&(H.type="video",h.video.push(H),m=!0),!h.firstKeyFrame)){if(q&&0!==l){H=new Uint8Array(l);for(q=0;n.length;)l=n.shift(),H.set(l,q),q+=l.byteLength;Ab.videoPacketContainsKeyFrame(H)&&(h.firstKeyFrame=Ab.parsePesTime(H),h.firstKeyFrame.type=
"video");l=0}n.push(f);l+=f.byteLength}}if(m&&h.firstKeyFrame)break;t+=188;k+=188}else t++,k++;k=p.byteLength;t=k-188;for(m=!1;0<=t;)if(71===p[t]&&71===p[k]){f=p.subarray(t,k);q=Ab.parseType(f,g.pid);switch(q){case "pes":if(H=Ab.parsePesType(f,g.table),q=Ab.parsePayloadUnitStartIndicator(f),"video"===H&&q&&(H=Ab.parsePesTime(f)))H.type="video",h.video.push(H),m=!0}if(m)break;t-=188;k-=188}else t--,k--;0===c.video.length&&delete c.video;break;case ie.ADTS_STREAM_TYPE:c.audio=[];f=b;p=d;g=c;h=0;t=188;
for(k=!1;t<f.byteLength;)if(71===f[h]&&71===f[t]){m=f.subarray(h,t);n=Ab.parseType(m,p.pid);switch(n){case "pes":if(l=Ab.parsePesType(m,p.table),n=Ab.parsePayloadUnitStartIndicator(m),"audio"===l&&n&&(m=Ab.parsePesTime(m)))m.type="audio",g.audio.push(m),k=!0}if(k)break;h+=188;t+=188}else h++,t++;t=f.byteLength;h=t-188;for(k=!1;0<=h;)if(71===f[h]&&71===f[t]){m=f.subarray(h,t);n=Ab.parseType(m,p.pid);switch(n){case "pes":if(l=Ab.parsePesType(m,p.table),n=Ab.parsePayloadUnitStartIndicator(m),"audio"===
l&&n&&(m=Ab.parsePesTime(m)))m.type="audio",g.audio.push(m),k=!0}if(k)break;h-=188;t-=188}else h--,t--;0===c.audio.length&&delete c.audio}b=c}b&&(b.audio||b.video)?(ig(b,a),a=b):a=null;e=b=void 0;if(!a)return null;a.video&&2===a.video.length?(this.inspectCache_=a.video[1].dts,b=a.video[0].dtsTime,e=a.video[1].dtsTime):a.audio&&2===a.audio.length&&(this.inspectCache_=a.audio[1].dts,b=a.audio[0].dtsTime,e=a.audio[1].dtsTime);return{start:b,end:e,containsVideo:a.video&&2===a.video.length,containsAudio:a.audio&&
2===a.audio.length}}},{key:"timestampOffsetForTimeline",value:function(a){return"undefined"===typeof this.timelines[a]?null:this.timelines[a].time}},{key:"mappingForTimeline",value:function(a){return"undefined"===typeof this.timelines[a]?null:this.timelines[a].mapping}},{key:"calculateSegmentTimeMapping_",value:function(a,b){var d=a.segment,c=this.timelines[a.timeline];if(null!==a.timestampOffset)c={time:a.startOfSegment,mapping:a.startOfSegment-b.start},this.timelines[a.timeline]=c,this.trigger("timestampoffset"),
this.logger_("time mapping for timeline "+a.timeline+": "+("[time: "+c.time+"] [mapping: "+c.mapping+"]")),d.start=a.startOfSegment,d.end=b.end+c.mapping;else if(c)d.start=b.start+c.mapping,d.end=b.end+c.mapping;else return!1;return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(a){var b=a.playlist,d=a.segment;if(d.discontinuity)this.discontinuities[d.timeline]={time:d.start,accuracy:0};else if(b.discontinuityStarts&&b.discontinuityStarts.length)for(var c=0;c<b.discontinuityStarts.length;c++){var e=
b.discontinuityStarts[c],f=b.discontinuitySequence+c+1,p=e-a.mediaIndex,g=Math.abs(p);if(!this.discontinuities[f]||this.discontinuities[f].accuracy>g)e=0>p?d.start-Hh(b,a.mediaIndex,e):d.end+Hh(b,a.mediaIndex+1,e),this.discontinuities[f]={time:e,accuracy:g}}}}]);return b}(M.EventTarget),Pj=new $a("./decrypter-worker.worker.js",function(a,b){var d=this;(function(){var b="undefined"!==typeof a?a:"undefined"!==typeof global?global:"undefined"!==typeof d?d:{},c="undefined"!==typeof a?a:"undefined"!==
typeof b?b:"undefined"!==typeof d?d:{},e=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");},f=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),p=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
("undefined"===typeof b?"undefined":Ib(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},g=null,h=function(){function a(b){e(this,a);if(!g){var d=[[[],[],[],[],[]],[[],[],[],[],[]]],c=d[0],f=d[1],p=c[4],h=f[4],l,t,k,m=[],n=[],q;for(l=0;256>l;l++)n[(m[l]=l<<1^283*(l>>7))^l]=l;for(t=k=0;!p[t];t^=q||1,k=n[k]||1){var H=k^k<<1^k<<2^k<<3^k<<4;H=H>>8^H&255^99;p[t]=H;h[H]=t;
var x=m[l=m[q=m[t]]];var r=16843009*x^65537*l^257*q^16843008*t;x=257*m[H]^16843008*H;for(l=0;4>l;l++)c[l][t]=x=x<<24^x>>>8,f[l][H]=r=r<<24^r>>>8}for(l=0;5>l;l++)c[l]=c[l].slice(0),f[l]=f[l].slice(0);g=d}this._tables=[[g[0][0].slice(),g[0][1].slice(),g[0][2].slice(),g[0][3].slice(),g[0][4].slice()],[g[1][0].slice(),g[1][1].slice(),g[1][2].slice(),g[1][3].slice(),g[1][4].slice()]];d=this._tables[0][4];c=this._tables[1];t=b.length;k=1;if(4!==t&&6!==t&&8!==t)throw Error("Invalid aes key size");p=b.slice(0);
h=[];this._key=[p,h];for(b=t;b<4*t+28;b++){f=p[b-1];if(0===b%t||8===t&&4===b%t)f=d[f>>>24]<<24^d[f>>16&255]<<16^d[f>>8&255]<<8^d[f&255],0===b%t&&(f=f<<8^f>>>24^k<<24,k=k<<1^283*(k>>7));p[b]=p[b-t]^f}for(t=0;b;t++,b--)f=p[t&3?b:b-4],h[t]=4>=b||4>t?f:c[0][d[f>>>24]]^c[1][d[f>>16&255]]^c[2][d[f>>8&255]]^c[3][d[f&255]]}a.prototype.decrypt=function(a,b,d,c,e,f){var p=this._key[1];a^=p[0];c^=p[1];d^=p[2];b^=p[3];var g=p.length/4-2,h,l=4;var t=this._tables[1];var k=t[0],m=t[1],n=t[2],q=t[3],H=t[4];for(h=
0;h<g;h++){t=k[a>>>24]^m[c>>16&255]^n[d>>8&255]^q[b&255]^p[l];var x=k[c>>>24]^m[d>>16&255]^n[b>>8&255]^q[a&255]^p[l+1];var r=k[d>>>24]^m[b>>16&255]^n[a>>8&255]^q[c&255]^p[l+2];b=k[b>>>24]^m[a>>16&255]^n[c>>8&255]^q[d&255]^p[l+3];l+=4;a=t;c=x;d=r}for(h=0;4>h;h++)e[(3&-h)+f]=H[a>>>24]<<24^H[c>>16&255]<<16^H[d>>8&255]<<8^H[b&255]^p[l++],t=a,a=c,c=d,d=b,b=t};return a}(),l=function(){function a(){e(this,a);this.listeners={}}a.prototype.on=function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)};
a.prototype.off=function(a,b){if(!this.listeners[a])return!1;b=this.listeners[a].indexOf(b);this.listeners[a].splice(b,1);return-1<b};a.prototype.trigger=function(a){var b=this.listeners[a];if(b)if(2===arguments.length)for(var d=b.length,c=0;c<d;++c)b[c].call(this,arguments[1]);else{d=Array.prototype.slice.call(arguments,1);c=b.length;for(var e=0;e<c;++e)b[e].apply(this,d)}};a.prototype.dispose=function(){this.listeners={}};a.prototype.pipe=function(a){this.on("data",function(b){a.push(b)})};return a}(),
t=function(a){function b(){e(this,b);var d=a.call(this,l);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==("undefined"===typeof d?"undefined":Ib(d))&&"function"!==typeof d?this:d;d.jobs=[];d.delay=1;d.timeout_=null;return d}p(b,a);b.prototype.processJob_=function(){this.jobs.shift()();this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null};b.prototype.push=function(a){this.jobs.push(a);this.timeout_||(this.timeout_=
setTimeout(this.processJob_.bind(this),this.delay))};return b}(l),k=function(a){return a<<24|(a&65280)<<8|(a&16711680)>>8|a>>>24},m=function(){function a(b,d,c,f){e(this,a);var p=a.STEP,g=new Int32Array(b.buffer),h=new Uint8Array(b.byteLength);b=0;this.asyncStream_=new t;this.asyncStream_.push(this.decryptChunk_(g.subarray(b,b+p),d,c,h));for(b=p;b<g.length;b+=p)c=new Uint32Array([k(g[b-4]),k(g[b-3]),k(g[b-2]),k(g[b-1])]),this.asyncStream_.push(this.decryptChunk_(g.subarray(b,b+p),d,c,h));this.asyncStream_.push(function(){f(null,
h.subarray(0,h.byteLength-h[h.byteLength-1]))})}a.prototype.decryptChunk_=function(a,b,d,c){return function(){var e=new Int32Array(a.buffer,a.byteOffset,a.byteLength>>2),f=new h(Array.prototype.slice.call(b)),p=new Uint8Array(a.byteLength),g=new Int32Array(p.buffer),l;var t=d[0];var m=d[1];var n=d[2];var q=d[3];for(l=0;l<e.length;l+=4){var H=k(e[l]);var x=k(e[l+1]);var r=k(e[l+2]);var y=k(e[l+3]);f.decrypt(H,x,r,y,g,l);g[l]=k(g[l]^t);g[l+1]=k(g[l+1]^m);g[l+2]=k(g[l+2]^n);g[l+3]=k(g[l+3]^q);t=H;m=
x;n=r;q=y}c.set(p,a.byteOffset)}};f(a,null,[{key:"STEP",get:function(){return 32E3}}]);return a}(),n=function(a){var b={};Object.keys(a).forEach(function(d){var c=a[d];ArrayBuffer.isView(c)?b[d]={bytes:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength}:b[d]=c});return b};return new function(a){a.onmessage=function(a){var b=a.data;a=new Uint8Array(b.encrypted.bytes,b.encrypted.byteOffset,b.encrypted.byteLength);var d=new Uint32Array(b.key.bytes,b.key.byteOffset,b.key.byteLength/4),e=new Uint32Array(b.iv.bytes,
b.iv.byteOffset,b.iv.byteLength/4);new m(a,d,e,function(a,d){c.postMessage(n({source:b.source,decrypted:d}),[d.buffer])})}}(d)})()}),Di=function(a,b){a.abort();a.pause();b&&b.activePlaylistLoader&&(b.activePlaylistLoader.pause(),b.activePlaylistLoader=null)},Qj=function(a,b){return function(){var d=b.segmentLoaders,c=d[a],e=d.main;d=b.mediaTypes[a];var f=d.activeTrack();f=d.activeGroup(f);var p=d.activePlaylistLoader;Di(c,d);f&&(f.playlistLoader?(c.resyncLoader(),c=f.playlistLoader,d.activePlaylistLoader=
c,c.load()):p&&e.resetEverything())}},Rj=function(a,b){return function(){var d=b.segmentLoaders,c=d[a],e=d.main;d=b.mediaTypes[a];var f=d.activeTrack(),p=d.activeGroup(f),g=d.activePlaylistLoader;Di(c,d);p&&(p.playlistLoader?(g!==p.playlistLoader&&(c.track&&c.track(f),c.resetEverything()),c=p.playlistLoader,d.activePlaylistLoader=c,c.load()):e.resetEverything())}},Ei={AUDIO:function(a,b){return function(){var d=b.mediaTypes[a],c=b.blacklistCurrentPlaylist;Di(b.segmentLoaders[a],d);var e=d.activeTrack(),
f=d.activeGroup();f=(f.filter(function(a){return a.default})[0]||f[0]).id;f=d.tracks[f];if(e===f)c({message:"Problem encountered loading the default audio track."});else{M.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var p in d.tracks)d.tracks[p].enabled=d.tracks[p]===f;d.onTrackChanged()}}},SUBTITLES:function(a,b){return function(){var d=b.segmentLoaders[a],c=b.mediaTypes[a];M.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");
Di(d,c);if(d=c.activeTrack())d.mode="disabled";c.onTrackChanged()}}},gj={AUDIO:function(a,b,d){if(b){var c=d.tech,e=d.requestOptions,f=d.segmentLoaders[a];b.on("loadedmetadata",function(){var a=b.media();f.playlist(a,e);(!c.paused()||a.endList&&"none"!==c.preload())&&f.load()});b.on("loadedplaylist",function(){f.playlist(b.media(),e);c.paused()||f.load()});b.on("error",Ei[a](a,d))}},SUBTITLES:function(a,b,d){var c=d.tech,e=d.requestOptions,f=d.segmentLoaders[a],p=d.mediaTypes[a];b.on("loadedmetadata",
function(){var a=b.media();f.playlist(a,e);f.track(p.activeTrack());(!c.paused()||a.endList&&"none"!==c.preload())&&f.load()});b.on("loadedplaylist",function(){f.playlist(b.media(),e);c.paused()||f.load()});b.on("error",Ei[a](a,d))}},Sj=function(a,b){return function(d){return d.attributes[a]===b}},Tj=function(a){return function(b){return b.resolvedUri===a}},Uj={AUDIO:function(a,b){var d=b.hls,c=b.sourceType,e=b.segmentLoaders[a],f=b.requestOptions.withCredentials,p=b.master,g=p.mediaGroups;p=p.playlists;
var h=b.mediaTypes[a],l=h.groups;h=h.tracks;var t=b.masterPlaylistLoader;g[a]&&0!==Object.keys(g[a]).length||(g[a]={main:{default:{default:!0}}});for(var k in g[a]){l[k]||(l[k]=[]);var m=p.filter(Sj(a,k)),n;for(n in g[a][k]){var q=g[a][k][n];m.filter(Tj(q.resolvedUri)).length&&delete q.resolvedUri;var H=q.resolvedUri?new Oh(q.resolvedUri,d,f):q.playlists&&"dash"===c?new Ii(q.playlists[0],d,f,t):null;q=M.mergeOptions({id:n,playlistLoader:H},q);gj[a](a,q.playlistLoader,b);l[k].push(q);if("undefined"===
typeof h[n]){H=M.AudioTrack;var x=n,r=q.default?"main":"alternative";q.characteristics&&0<=q.characteristics.indexOf("public.accessibility.describes-video")&&(r="main-desc");q=new H({id:x,kind:r,enabled:!1,language:q.language,default:q.default,label:n});h[n]=q}}}e.on("error",Ei[a](a,b))},SUBTITLES:function(a,b){var d=b.tech,c=b.hls,e=b.sourceType,f=b.segmentLoaders[a],p=b.requestOptions.withCredentials,g=b.master.mediaGroups,h=b.mediaTypes[a],l=h.groups;h=h.tracks;var t=b.masterPlaylistLoader,k;for(k in g[a]){l[k]||
(l[k]=[]);for(var m in g[a][k])if(!g[a][k][m].forced){var n=g[a][k][m],q=void 0;"hls"===e?q=new Oh(n.resolvedUri,c,p):"dash"===e&&(q=new Ii(n.playlists[0],c,p,t));n=M.mergeOptions({id:m,playlistLoader:q},n);gj[a](a,n.playlistLoader,b);l[k].push(n);"undefined"===typeof h[m]&&(n=d.addRemoteTextTrack({id:m,kind:"subtitles",enabled:!1,language:n.language,label:m},!1).track,h[m]=n)}}f.on("error",Ei[a](a,b))},"CLOSED-CAPTIONS":function(a,b){var d=b.tech,c=b.master.mediaGroups,e=b.mediaTypes[a];b=e.groups;
e=e.tracks;for(var f in c[a]){b[f]||(b[f]=[]);for(var p in c[a][f]){var g=c[a][f][p];g.instreamId.match(/CC\d/)&&(b[f].push(M.mergeOptions({id:p},g)),"undefined"===typeof e[p]&&(g=d.addRemoteTextTrack({id:g.instreamId,kind:"captions",enabled:!1,language:g.language,label:p},!1).track,e[p]=g))}}}},Vj=function(a,b){return function(d){var c=b.mediaTypes[a].groups,e=b.masterPlaylistLoader.media();if(!e)return null;var f=null;e.attributes[a]&&(f=c[e.attributes[a]]);f=f||c.main;return"undefined"===typeof d?
f:null===d?null:f.filter(function(a){return a.id===d.id})[0]||null}},Wj={AUDIO:function(a,b){return function(){var d=b.mediaTypes[a].tracks,c;for(c in d)if(d[c].enabled)return d[c];return null}},SUBTITLES:function(a,b){return function(){var d=b.mediaTypes[a].tracks,c;for(c in d)if("showing"===d[c].mode)return d[c];return null}}},Xj=function(a){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(b){Uj[b](b,a)});var b=a.mediaTypes,d=a.masterPlaylistLoader,c=a.tech,e=a.hls;["AUDIO","SUBTITLES"].forEach(function(d){b[d].activeGroup=
Vj(d,a);b[d].activeTrack=Wj[d](d,a);b[d].onGroupChanged=Qj(d,a);b[d].onTrackChanged=Rj(d,a)});var f=b.AUDIO.activeGroup();f=(f.filter(function(a){return a.default})[0]||f[0]).id;b.AUDIO.tracks[f].enabled=!0;b.AUDIO.onTrackChanged();d.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(a){return b[a].onGroupChanged()})});var p=function(){b.AUDIO.onTrackChanged();c.trigger({type:"usage",name:"hls-audio-change"})};c.audioTracks().addEventListener("change",p);c.remoteTextTracks().addEventListener("change",
b.SUBTITLES.onTrackChanged);e.on("dispose",function(){c.audioTracks().removeEventListener("change",p);c.remoteTextTracks().removeEventListener("change",b.SUBTITLES.onTrackChanged)});c.clearTracks("audio");for(var g in b.AUDIO.tracks)c.audioTracks().addTrack(b.AUDIO.tracks[g])},Yj=function(){var a={};["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(b){a[b]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Yd,activeTrack:Yd,onGroupChanged:Yd,onTrackChanged:Yd}});return a},Ch=void 0,
Zj="mediaRequests mediaRequestsAborted mediaRequestsTimedout mediaRequestsErrored mediaTransferDuration mediaBytesTransferred".split(" "),ak=function(a){return this.audioSegmentLoader_[a]+this.mainSegmentLoader_[a]},bk=function(a){function b(a){Xd(this,b);var d=tf(this,(b.__proto__||Object.getPrototypeOf(b)).call(this)),c=a.url,e=a.withCredentials,f=a.tech,p=a.bandwidth,g=a.externHls,h=a.useCueTags,l=a.blacklistDuration,t=a.enableLowInitialPlaylist,k=a.sourceType;if(!c)throw Error("A non-empty playlist URL is required");
Ch=g;d.withCredentials=e;d.tech_=f;d.hls_=f.hls;d.sourceType_=k;d.useCueTags_=h;d.blacklistDuration=l;d.enableLowInitialPlaylist=t;d.useCueTags_&&(d.cueTagsTrack_=d.tech_.addTextTrack("metadata","ad-cues"),d.cueTagsTrack_.inBandMetadataTrackDispatchType="");d.requestOptions_={withCredentials:d.withCredentials,timeout:null};d.mediaTypes_=Yj();d.mediaSource=new M.MediaSource;d.mediaSource.addEventListener("sourceopen",d.handleSourceOpen_.bind(d));d.seekable_=M.createTimeRanges();d.hasPlayed_=function(){return!1};
d.syncController_=new Oj(a);d.segmentMetadataTrack_=f.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track;d.decrypter_=new Pj;e={hls:d.hls_,mediaSource:d.mediaSource,currentTime:d.tech_.currentTime.bind(d.tech_),seekable:function(){return d.seekable()},seeking:function(){return d.tech_.seeking()},duration:function(){return d.mediaSource.duration},hasPlayed:function(){return d.hasPlayed_()},goalBufferLength:function(){return d.goalBufferLength()},bandwidth:p,syncController:d.syncController_,
decrypter:d.decrypter_,sourceType:d.sourceType_};d.masterPlaylistLoader_="dash"===d.sourceType_?new Ii(c,d.hls_,d.withCredentials):new Oh(c,d.hls_,d.withCredentials);d.setupMasterPlaylistLoaderListeners_();d.mainSegmentLoader_=new Oi(M.mergeOptions(e,{segmentMetadataTrack:d.segmentMetadataTrack_,loaderType:"main"}),a);d.audioSegmentLoader_=new Oi(M.mergeOptions(e,{loaderType:"audio"}),a);d.subtitleSegmentLoader_=new Mj(M.mergeOptions(e,{loaderType:"vtt"}),a);d.setupSegmentLoaderListeners_();Zj.forEach(function(a){d[a+
"_"]=ak.bind(d,a)});d.logger_=Th("MPC");d.masterPlaylistLoader_.load();return d}le(b,a);vd(b,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var a=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var b=a.masterPlaylistLoader_.media(),d=1500*a.masterPlaylistLoader_.targetDuration;Ah(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.media())?a.requestOptions_.timeout=0:a.requestOptions_.timeout=d;b.endList&&"none"!==a.tech_.preload()&&(a.mainSegmentLoader_.playlist(b,
a.requestOptions_),a.mainSegmentLoader_.load());Xj({sourceType:a.sourceType_,segmentLoaders:{AUDIO:a.audioSegmentLoader_,SUBTITLES:a.subtitleSegmentLoader_,main:a.mainSegmentLoader_},tech:a.tech_,requestOptions:a.requestOptions_,masterPlaylistLoader:a.masterPlaylistLoader_,hls:a.hls_,master:a.master(),mediaTypes:a.mediaTypes_,blacklistCurrentPlaylist:a.blacklistCurrentPlaylist.bind(a)});a.triggerPresenceUsage_(a.master(),b);try{a.setupSourceBuffers_()}catch(sh){return M.log.warn("Failed to create SourceBuffers",
sh),a.mediaSource.endOfStream("decode")}a.setupFirstPlay();a.trigger("selectedinitialmedia")});this.masterPlaylistLoader_.on("loadedplaylist",function(){var b=a.masterPlaylistLoader_.media();if(b){if(a.useCueTags_&&a.updateAdCues_(b),a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.updateDuration(),a.tech_.paused()||a.mainSegmentLoader_.load(),!b.endList){var d=function(){var b=a.seekable();0!==b.length&&a.mediaSource.addSeekableRange_(b.start(0),b.end(0))};if(Infinity!==a.duration())a.tech_.one("durationchange",
function Jh(){if(Infinity===a.duration())d();else a.tech_.one("durationchange",Jh)});else d()}}else a.excludeUnsupportedVariants_(),b=void 0,a.enableLowInitialPlaylist&&(b=a.selectInitialPlaylist()),b||(b=a.selectPlaylist()),a.initialMedia_=b,a.masterPlaylistLoader_.media(a.initialMedia_)});this.masterPlaylistLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.masterPlaylistLoader_.error)});this.masterPlaylistLoader_.on("mediachanging",function(){a.mainSegmentLoader_.abort();a.mainSegmentLoader_.pause()});
this.masterPlaylistLoader_.on("mediachange",function(){var b=a.masterPlaylistLoader_.media(),d=1500*a.masterPlaylistLoader_.targetDuration;Ah(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.media())?a.requestOptions_.timeout=0:a.requestOptions_.timeout=d;a.mainSegmentLoader_.playlist(b,a.requestOptions_);a.mainSegmentLoader_.load();a.tech_.trigger({type:"mediachange",bubbles:!0})});this.masterPlaylistLoader_.on("playlistunchanged",function(){var b=a.masterPlaylistLoader_.media();a.stuckAtPlaylistEnd_(b)&&
(a.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),a.tech_.trigger("playliststuck"))});this.masterPlaylistLoader_.on("renditiondisabled",function(){a.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})});this.masterPlaylistLoader_.on("renditionenabled",function(){a.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(a,b){a=a.mediaGroups||{};var d=!0,c=Object.keys(a.AUDIO),e;for(e in a.AUDIO)for(var f in a.AUDIO[e])a.AUDIO[e][f].uri||
(d=!1);d&&this.tech_.trigger({type:"usage",name:"hls-demuxed"});Object.keys(a.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"});Ch.Playlist.isAes(b)&&this.tech_.trigger({type:"usage",name:"hls-aes"});Ch.Playlist.isFmp4(b)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"});c.length&&1<Object.keys(a.AUDIO[c[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"});this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",
value:function(){var a=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var b=a.selectPlaylist(),d=a.masterPlaylistLoader_.media(),c=a.tech_.buffered();c=c.length?c.end(c.length-1)-a.tech_.currentTime():0;var e=a.bufferLowWaterLine();(!d.endList||a.duration()<xg.MAX_BUFFER_LOW_WATER_LINE||b.attributes.BANDWIDTH<d.attributes.BANDWIDTH||c>=e)&&a.masterPlaylistLoader_.media(b);a.tech_.trigger("bandwidthupdate")});this.mainSegmentLoader_.on("progress",function(){a.trigger("progress")});this.mainSegmentLoader_.on("error",
function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())});this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("timestampoffset",function(){a.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})});this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("ended",function(){a.onEndOfStream()});this.mainSegmentLoader_.on("earlyabort",function(){a.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},
120)});this.mainSegmentLoader_.on("reseteverything",function(){a.tech_.trigger("hls-reset")});this.mainSegmentLoader_.on("segmenttimemapping",function(b){a.tech_.trigger({type:"hls-segment-time-mapping",mapping:b.mapping})});this.audioSegmentLoader_.on("ended",function(){a.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load();
this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load();this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var a=this.selectPlaylist();a!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(a),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0);this.hasPlayed_()&&this.load();var a=this.tech_.seekable();
if(Infinity===this.tech_.duration()&&this.tech_.currentTime()<a.start(0))return this.tech_.setCurrentTime(a.end(a.length-1))}}},{key:"setupFirstPlay",value:function(){var a=this,b=this.masterPlaylistLoader_.media();if(!b||this.tech_.paused()||this.hasPlayed_())return!1;if(!b.endList){var d=this.seekable();if(!d.length)return!1;if(M.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){a.trigger("firstplay");a.tech_.setCurrentTime(d.end(0));a.hasPlayed_=
function(){return!0}}),!1;this.trigger("firstplay");this.tech_.setCurrentTime(d.end(0))}this.hasPlayed_=function(){return!0};this.load();return!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(Hj){return M.log.warn("Failed to create Source Buffers",Hj),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var a=this.tech_.play();"undefined"!==typeof a&&"function"===typeof a.then&&a.then(null,function(a){})}this.trigger("sourceopen")}},{key:"onEndOfStream",
value:function(){var a=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?a&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_);a&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(a){if(!this.seekable().length)return!1;var b=this.syncController_.getExpiredTime(a,this.mediaSource.duration);if(null===b)return!1;a=Ch.Playlist.playlistEnd(a,
b);b=this.tech_.currentTime();var d=this.tech_.buffered();if(!d.length)return a-b<=fh;d=d.end(d.length-1);return d-b<=fh&&a-d<=fh}},{key:"blacklistCurrentPlaylist",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1];var d=a.playlist||this.masterPlaylistLoader_.media();b=b||a.blacklistDuration||this.blacklistDuration;if(!d){this.error=a;try{return this.mediaSource.endOfStream("network")}catch(Jh){return this.trigger("error")}}var c=1===this.masterPlaylistLoader_.master.playlists.filter(Ph).length;
if(c)return M.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(c);d.excludeUntil=Date.now()+1E3*b;this.tech_.trigger("blacklistplaylist");this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});b=this.selectPlaylist();M.log.warn("Problem encountered with the current HLS playlist."+(a.message?" "+a.message:"")+" Switching to another playlist.");return this.masterPlaylistLoader_.media(b)}},
{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause();this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause();this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(a){var b=Ai(this.tech_.buffered(),a);if(!this.masterPlaylistLoader_||!this.masterPlaylistLoader_.media()||!this.masterPlaylistLoader_.media().segments)return 0;if(b&&b.length)return a;this.mainSegmentLoader_.resetEverything();this.mainSegmentLoader_.abort();
this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort());this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort());this.load()}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Ch.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",
value:function(){var a=void 0;if(this.masterPlaylistLoader_){var b=this.masterPlaylistLoader_.media();if(b){var d=this.syncController_.getExpiredTime(b,this.mediaSource.duration);if(null!==d){var c=Ch.Playlist.seekable(b,d);if(0!==c.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){b=this.mediaTypes_.AUDIO.activePlaylistLoader.media();d=this.syncController_.getExpiredTime(b,this.mediaSource.duration);if(null===d)return;a=Ch.Playlist.seekable(b,d);if(0===a.length)return}a?a.start(0)>c.end(0)||
c.start(0)>a.end(0)?this.seekable_=c:this.seekable_=M.createTimeRanges([[a.start(0)>c.start(0)?a.start(0):c.start(0),a.end(0)<c.end(0)?a.end(0):c.end(0)]]):this.seekable_=c;this.logger_("seekable updated ["+Ih(this.seekable_)+"]");this.tech_.trigger("seekablechanged")}}}}}},{key:"updateDuration",value:function(){var a=this,b=this.mediaSource.duration,d=Ch.Playlist.duration(this.masterPlaylistLoader_.media()),c=this.tech_.buffered(),e=function Ri(){a.mediaSource.duration=d;a.tech_.trigger("durationchange");
a.mediaSource.removeEventListener("sourceopen",Ri)};0<c.length&&(d=Math.max(d,c.end(c.length-1)));b!==d&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",e):e())}},{key:"dispose",value:function(){var a=this;this.decrypter_.terminate();this.masterPlaylistLoader_.dispose();this.mainSegmentLoader_.dispose();["AUDIO","SUBTITLES"].forEach(function(b){b=a.mediaTypes_[b].groups;for(var d in b)b[d].forEach(function(a){a.playlistLoader&&a.playlistLoader.dispose()})});this.audioSegmentLoader_.dispose();
this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var a=this.masterPlaylistLoader_.media(),b;if(a&&"open"===this.mediaSource.readyState){var d=this.masterPlaylistLoader_.master;var c=a.segments&&a.segments.length&&a.segments[0].map?"mp4":"mp2t";var e=a.attributes||{};var f=e.CODECS?Uh(e.CODECS):aj;
var p=a.attributes||{};e=!0;var g=!1;if(a){if(d.mediaGroups.AUDIO&&p.AUDIO){var h=d.mediaGroups.AUDIO[p.AUDIO];if(h){g=!0;e=!1;for(var l in h)if(!h[l].uri&&!h[l].playlists){e=!0;break}}}g&&!f.audioProfile&&(e||(f.audioProfile=Cj(d,p.AUDIO)),f.audioProfile||(M.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),f.audioProfile=aj.audioProfile));var t;f.videoCodec&&(b=""+f.videoCodec+f.videoObjectTypeIndicator);f.audioProfile&&
(t="mp4a.40."+f.audioProfile);d=Ki("audio",c,[t]);l=Ki("video",c,[b]);c=Ki("video",c,[b,t]);b=g?!e&&b?[l,d]:e||b?[c,d]:[d,d]:b?[c]:[d]}else b=[];if(1>b.length)return this.error="No compatible SourceBuffer configuration for the variant stream:"+a.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(b);this.excludeIncompatibleVariants_(a)}}},{key:"configureLoaderMimeTypes_",value:function(a){var b=1<a.length&&-1===a[0].indexOf(",")&&a[0]!==a[1]?new M.EventTarget:null;this.mainSegmentLoader_.mimeType(a[0],
b);a[1]&&this.audioSegmentLoader_.mimeType(a[1],b)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(a){a.attributes.CODECS&&N.MediaSource&&N.MediaSource.isTypeSupported&&!N.MediaSource.isTypeSupported('video/mp4; codecs="'+Bj(a.attributes.CODECS)+'"')&&(a.excludeUntil=Infinity)})}},{key:"excludeIncompatibleVariants_",value:function(a){var b=2,d=null,c=void 0;a.attributes.CODECS&&(c=Uh(a.attributes.CODECS),d=c.videoCodec,b=c.codecCount);this.master().playlists.forEach(function(a){var c=
{codecCount:2,videoCodec:null};a.attributes.CODECS&&(c=Uh(a.attributes.CODECS));c.codecCount!==b&&(a.excludeUntil=Infinity);c.videoCodec!==d&&(a.excludeUntil=Infinity)})}},{key:"updateAdCues_",value:function(a){var b=0,d=this.seekable();d.length&&(b=d.start(0));Nj(a,this.cueTagsTrack_,b)}},{key:"goalBufferLength",value:function(){var a=this.tech_.currentTime(),b=xg.GOAL_BUFFER_LENGTH;return Math.min(b+a*xg.GOAL_BUFFER_LENGTH_RATE,Math.max(b,xg.MAX_GOAL_BUFFER_LENGTH))}},{key:"bufferLowWaterLine",
value:function(){var a=this.tech_.currentTime(),b=xg.BUFFER_LOW_WATER_LINE;return Math.min(b+a*xg.BUFFER_LOW_WATER_LINE_RATE,Math.max(b,xg.MAX_BUFFER_LOW_WATER_LINE))}}]);return b}(M.EventTarget),ck=function(a,b,d){return function(c){var e=a.master.playlists[b],f=di(e),p=Ph(e);if("undefined"===typeof c)return p;c?delete e.disabled:e.disabled=!0;c===p||f||(d(),c?a.trigger("renditionenabled"):a.trigger("renditiondisabled"));return c}},dk=function lb(a,b,d){Xd(this,lb);var c=a.masterPlaylistController_.fastQualityChange_.bind(a.masterPlaylistController_);
if(b.attributes.RESOLUTION){var e=b.attributes.RESOLUTION;this.width=e.width;this.height=e.height}this.bandwidth=b.attributes.BANDWIDTH;this.id=d;this.enabled=ck(a.playlists,b.uri,c)},ek=function(a){var b=a.playlists;a.representations=function(){return b.master.playlists.filter(function(a){return!di(a)}).map(function(b,d){return new dk(a,b,b.uri)})}},hj=["seeking","seeked","pause","playing","error"],fk=function(){function a(b){var d=this;Xd(this,a);this.tech_=b.tech;this.seekable=b.seekable;this.consecutiveUpdates=
0;this.checkCurrentTimeTimeout_=this.timer_=this.lastRecordedTime=null;this.logger_=Th("PlaybackWatcher");this.logger_("initialize");var c=function(){return d.monitorCurrentTime_()},e=function(){return d.techWaiting_()},f=function(){return d.cancelTimer_()},p=function(){return d.fixesBadSeeks_()};this.tech_.on("seekablechanged",p);this.tech_.on("waiting",e);this.tech_.on(hj,f);this.tech_.on("canplay",c);this.dispose=function(){d.logger_("dispose");d.tech_.off("seekablechanged",p);d.tech_.off("waiting",
e);d.tech_.off(hj,f);d.tech_.off("canplay",c);d.checkCurrentTimeTimeout_&&N.clearTimeout(d.checkCurrentTimeTimeout_);d.cancelTimer_()}}vd(a,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_();this.checkCurrentTimeTimeout_&&N.clearTimeout(this.checkCurrentTimeTimeout_);this.checkCurrentTimeTimeout_=N.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())this.consecutiveUpdates=0,this.lastRecordedTime=
this.tech_.currentTime();else if(!this.tech_.paused()&&!this.tech_.seeking()){var a=this.tech_.currentTime(),b=this.tech_.buffered();if(this.lastRecordedTime===a&&(!b.length||a+fh>=b.end(b.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&a===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):a===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=a)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0;this.timer_&&
(this.logger_("cancelTimer_"),clearTimeout(this.timer_));this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var a=this.tech_.seeking(),b=this.seekable(),d=this.tech_.currentTime(),c=void 0;a&&this.afterSeekableWindow_(b,d)&&(c=b.end(b.length-1));a&&this.beforeSeekableWindow_(b,d)&&(c=b.start(0)+fh);return"undefined"!==typeof c?(this.logger_("Trying to seek outside of seekable at time "+d+" with "+("seekable range "+Ih(b)+". Seeking to ")+(c+".")),this.tech_.setCurrentTime(c),!0):!1}},{key:"waiting_",
value:function(){if(!this.techWaiting_()){var a=this.tech_.currentTime(),b=this.tech_.buffered();b=Ai(b,a);b.length&&a+3<=b.end(0)&&(this.cancelTimer_(),this.tech_.setCurrentTime(a),this.logger_("Stopped at "+a+" while inside a buffered region "+("["+b.start(0)+" -> "+b.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"}))}}},{key:"techWaiting_",value:function(){var a=this.seekable(),b=this.tech_.currentTime();
if(this.tech_.seeking()&&this.fixesBadSeeks_()||this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(a,b))return a=a.end(a.length-1),this.logger_("Fell out of live window at time "+b+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0;var d=this.tech_.buffered();a=Rh(d,b);return this.videoUnderflow_(a,d,b)?(this.cancelTimer_(),this.tech_.setCurrentTime(b),this.tech_.trigger({type:"usage",
name:"hls-video-underflow"}),!0):0<a.length?(d=a.start(0)-b,this.logger_("Stopped at "+b+", setting timer for "+d+", seeking "+("to "+a.start(0))),this.timer_=setTimeout(this.skipTheGap_.bind(this),1E3*d,b),!0):!1}},{key:"afterSeekableWindow_",value:function(a,b){return a.length?b>a.end(a.length-1)+fh?!0:!1:!1}},{key:"beforeSeekableWindow_",value:function(a,b){return a.length&&0<a.start(0)&&b<a.start(0)-fh?!0:!1}},{key:"videoUnderflow_",value:function(a,b,d){return 0===a.length&&(a=this.gapFromVideoUnderflow_(b,
d))?(this.logger_("Encountered a gap in video from "+a.start+" to "+a.end+". "+("Seeking to current time "+d)),!0):!1}},{key:"skipTheGap_",value:function(a){var b=this.tech_.buffered(),d=this.tech_.currentTime();b=Rh(b,d);this.cancelTimer_();0!==b.length&&d===a&&(this.logger_("skipTheGap_:","currentTime:",d,"scheduled currentTime:",a,"nextRange start:",b.start(0)),this.tech_.setCurrentTime(b.start(0)+Hg),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(a,
b){if(2>a.length)a=M.createTimeRanges();else{for(var d=[],c=1;c<a.length;c++){var e=a.end(c-1),f=a.start(c);d.push([e,f])}a=M.createTimeRanges(d)}for(d=0;d<a.length;d++)if(c=a.start(d),e=a.end(d),4>b-c&&2<b-c)return{start:c,end:e};return null}}]);return a}(),gk={errorInterval:30,getSource:function(a){var b=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_;return a(b)}},hk=function Fc(a,b){var d=0,c=0,e=M.mergeOptions(gk,b);a.ready(function(){a.trigger({type:"usage",name:"hls-error-reload-initialized"})});
var f=function(){c&&a.currentTime(c)},p=function(b){null!==b&&void 0!==b&&(c=Infinity!==a.duration()&&a.currentTime()||0,a.one("loadedmetadata",f),a.src(b),a.trigger({type:"usage",name:"hls-error-reload"}),a.play())},g=function(){if(Date.now()-d<1E3*e.errorInterval)a.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(e.getSource&&"function"===typeof e.getSource)return d=Date.now(),e.getSource.call(a,p);M.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},
h=function Ij(){a.off("loadedmetadata",f);a.off("error",g);a.off("dispose",Ij)};a.on("error",g);a.on("dispose",h);a.reloadSourceOnError=function(b){h();Fc(a,b)}},ij=function(a){hk(this,a)},gf={PlaylistLoader:Oh,Playlist:Ud,Decrypter:pi,AsyncStream:ai,decrypt:bi,utils:qh,STANDARD_PLAYLIST_SELECTOR:function(){return Dj(this.playlists.master,this.systemBandwidth,parseInt(bj(this.tech_.el(),"width"),10),parseInt(bj(this.tech_.el(),"height"),10))},INITIAL_PLAYLIST_SELECTOR:function(){var a=this.playlists.master.playlists.filter(Ud.isEnabled);
Vh(a,function(a,b){return Li(a,b)});return a.filter(function(a){return Uh(a.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:Li,comparePlaylistResolution:function(a,b){var d=void 0,c=void 0;a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width&&(d=a.attributes.RESOLUTION.width);d=d||N.Number.MAX_VALUE;b.attributes.RESOLUTION&&b.attributes.RESOLUTION.width&&(c=b.attributes.RESOLUTION.width);c=c||N.Number.MAX_VALUE;return d===c&&a.attributes.BANDWIDTH&&b.attributes.BANDWIDTH?a.attributes.BANDWIDTH-
b.attributes.BANDWIDTH:d-c},xhr:Dg()};"GOAL_BUFFER_LENGTH MAX_GOAL_BUFFER_LENGTH GOAL_BUFFER_LENGTH_RATE BUFFER_LOW_WATER_LINE MAX_BUFFER_LOW_WATER_LINE BUFFER_LOW_WATER_LINE_RATE BANDWIDTH_VARIANCE".split(" ").forEach(function(a){Object.defineProperty(gf,a,{get:function(){M.log.warn("using Hls."+a+" is UNSAFE be sure you know what you are doing");return xg[a]},set:function(b){M.log.warn("using Hls."+a+" is UNSAFE be sure you know what you are doing");"number"!==typeof b||0>b?M.log.warn("value of Hls."+
a+" must be greater than or equal to 0"):xg[a]=b}})});var jj=function(a){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(a)?"hls":/^application\/dash\+xml/i.test(a)?"dash":null},kj=function(a,b){b=b.media();for(var d=-1,c=0;c<a.length;c++)if(a[c].id===b.uri){d=c;break}a.selectedIndex_=d;a.trigger({selectedIndex:d,type:"change"})},ik=function(a,b){b.representations().forEach(function(b){a.addQualityLevel(b)});kj(a,b.playlists)};gf.canPlaySource=function(){return M.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};
gf.supportsNativeHls=function(){var a=da.createElement("video");return M.getTech("Html5").isSupported()?"application/vnd.apple.mpegurl audio/mpegurl audio/x-mpegurl application/x-mpegurl video/x-mpegurl video/mpegurl application/mpegurl".split(" ").some(function(b){return/maybe|probably/i.test(a.canPlayType(b))}):!1}();var jk=M.getTech("Html5").isSupported()?/maybe|probably/i.test(da.createElement("video").canPlayType("application/dash+xml")):!1;gf.supportsNativeDash=jk;gf.supportsTypeNatively=function(a){return"hls"===
a?gf.supportsNativeHls:"dash"===a?gf.supportsNativeDash:!1};gf.isSupported=function(){return M.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var lj=function(a){function b(a,d,c){Xd(this,b);var e=tf(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,d,c.hls));d.options_&&d.options_.playerId&&(c=M(d.options_.playerId),c.hasOwnProperty("hls")||Object.defineProperty(c,"hls",{get:function(){M.log.warn("player.hls is deprecated. Use player.tech_.hls instead.");
d.trigger({type:"usage",name:"hls-player-access"});return e}}),c.vhs=e,c.dash=e);e.tech_=d;e.source_=a;e.stats={};e.ignoreNextSeekingEvent_=!1;e.setOptions_();if(e.options_.overrideNative&&(d.featuresNativeVideoTracks||d.featuresNativeAudioTracks))throw Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");e.on(da,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(a){(a=da.fullscreenElement||da.webkitFullscreenElement||da.mozFullScreenElement||
da.msFullscreenElement)&&a.contains(e.tech_.el())&&e.masterPlaylistController_.fastQualityChange_()});e.on(e.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())});e.on(e.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()});e.on(e.tech_,"play",e.play);return e}le(b,a);vd(b,[{key:"setOptions_",value:function(){var a=this;this.options_.withCredentials=this.options_.withCredentials||
!1;"number"!==typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300);"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304);this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth;["withCredentials","bandwidth"].forEach(function(b){"undefined"!==typeof a.source_[b]&&(a.options_[b]=a.source_[b])});this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(a,b){var d=this;a&&(this.setOptions_(),
this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=gf,this.options_.sourceType=jj(b),this.masterPlaylistController_=new bk(this.options_),this.playbackWatcher_=new fk(M.mergeOptions(this.options_,{seekable:function(){return d.seekable()}})),this.masterPlaylistController_.on("error",function(){M.players[d.tech_.options_.playerId].error(d.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):
gf.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=gf.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(a){this.masterPlaylistController_.selectPlaylist=a.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},
set:function(a){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=a;this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=a;this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){return Math.floor(1/(1/(this.bandwidth||1)+(0<this.throughput?
1/this.throughput:0)))},set:function(){M.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return d.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return d.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return d.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return d.masterPlaylistController_.mediaRequestsTimedout_()||
0},enumerable:!0},mediaRequestsErrored:{get:function(){return d.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return d.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return d.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return d.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return fi(d.tech_.buffered())},
enumerable:!0},currentTime:{get:function(){return d.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return d.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return d.tech_.name_},enumerable:!0},duration:{get:function(){return d.tech_.duration()},enumerable:!0},master:{get:function(){return d.playlists.master},enumerable:!0},playerDimensions:{get:function(){return d.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return fi(d.tech_.seekable())},
enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return d.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){ek(d);if("dash"===d.options_.sourceType){var a=M.players[d.tech_.options_.playerId];if(a.eme){var b=d.source_.keySystems;var c=d.playlists.media(),e=d.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media();
if(b){var f={},p;for(p in b)f[p]={audioContentType:'audio/mp4; codecs="'+e.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+c.attributes.CODECS+'"'},c.contentProtection&&c.contentProtection[p]&&c.contentProtection[p].pssh&&(f[p].pssh=c.contentProtection[p].pssh),"string"===typeof b[p]&&(f[p].url=b[p]);b=M.mergeOptions(b,f)}b&&(a.currentSource().keySystems=b)}}}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,
"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return d.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(M.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var a=this,b=M.players[this.tech_.options_.playerId];b&&b.qualityLevels&&(this.qualityLevels_=b.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){ik(a.qualityLevels_,a)}),this.playlists.on("mediachange",
function(){kj(a.qualityLevels_,a.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(a){this.masterPlaylistController_.setCurrentTime(a)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose();this.masterPlaylistController_&&this.masterPlaylistController_.dispose();
this.qualityLevels_&&this.qualityLevels_.dispose();mh(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"dispose",this).call(this)}}]);return b}(M.getComponent("Component")),Si={name:"videojs-http-streaming",VERSION:"1.0.2",canHandleSource:function(a){var b=M.mergeOptions(M.options,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return Si.canPlayType(a.type,b)},handleSource:function(a,b){var d=M.mergeOptions(M.options,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});b.hls=
new lj(a,b,d);b.hls.xhr=Dg();b.hls.src(a.src,a.type);return b.hls},canPlayType:function(a){var b=M.mergeOptions(M.options,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).hls.overrideNative,d=jj(a);return!d||gf.supportsTypeNatively(d)&&!b?"":"maybe"}};if("undefined"===typeof M.MediaSource||"undefined"===typeof M.URL)M.MediaSource=Sh,M.URL=Xi;Sh.supportsNativeMediaSources()&&M.getTech("Html5").registerSourceHandler(Si,0);M.HlsHandler=lj;M.HlsSourceHandler=Si;M.Hls=gf;M.use||M.registerComponent("Hls",
gf);M.options.hls=M.options.hls||{};M.registerPlugin?M.registerPlugin("reloadSourceOnError",ij):M.plugin("reloadSourceOnError",ij);return M});(function(k,g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g(require("video.js")):"function"===typeof define&&define.amd?define(["videojs"],function(c){return k.Youtube=g(c)}):k.Youtube=g(k.videojs)})(this,function(k){function g(){YT.ready(function(){e.isApiReady=!0;for(var a=0;a<e.apiReadyQueue.length;++a)e.apiReadyQueue[a].initYTPlayer()})}function c(a,c){var b=!1,e=document.createElement("script"),f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,
f);e.onload=function(){b||(b=!0,c())};e.onreadystatechange=function(){b||"complete"!==this.readyState&&"loaded"!==this.readyState||(b=!0,c())};e.src=a}function f(){var a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }":
c.appendChild(document.createTextNode(".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }"));a.appendChild(c)}var a=k.browser.IS_IOS||k.browser.IS_NATIVE_ANDROID,h=k.getTech("Tech"),e=k.extend(h,{constructor:function(b,c){h.call(this,b,c);this.setPoster(b.poster);this.setSrc(this.options_.source,!0);this.setTimeout(function(){this.el_&&
(this.el_.parentNode.className+=" vjs-youtube",a&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),e.isApiReady?this.initYTPlayer():e.apiReadyQueue.push(this))}.bind(this))},dispose:function(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var a=e.apiReadyQueue.indexOf(this);-1!==a&&e.apiReadyQueue.splice(a,1)}this.ytPlayer=null;this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",
"");this.el_.parentNode.removeChild(this.el_);h.prototype.dispose.call(this)},createEl:function(){var b=document.createElement("div");b.setAttribute("id",this.options_.techId);b.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute");b.setAttribute("class","vjs-tech");var c=document.createElement("div");c.appendChild(b);a||this.options_.ytControls||(b=document.createElement("div"),b.setAttribute("class","vjs-iframe-blocker"),b.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),
b.onclick=function(){this.pause()}.bind(this),c.appendChild(b));return c},initYTPlayer:function(){var a={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};"undefined"!==typeof this.options_.autohide&&(a.autohide=this.options_.autohide);"undefined"!==typeof this.options_.cc_load_policy&&(a.cc_load_policy=this.options_.cc_load_policy);"undefined"!==typeof this.options_.ytControls&&(a.controls=this.options_.ytControls);"undefined"!==typeof this.options_.disablekb&&(a.disablekb=
this.options_.disablekb);"undefined"!==typeof this.options_.end&&(a.end=this.options_.end);"undefined"!==typeof this.options_.color&&(a.color=this.options_.color);a.controls?"undefined"!==typeof this.options_.fs&&(a.fs=this.options_.fs):a.fs=0;"undefined"!==typeof this.options_.end&&(a.end=this.options_.end);"undefined"!==typeof this.options_.hl?a.hl=this.options_.hl:"undefined"!==typeof this.options_.language&&(a.hl=this.options_.language.substr(0,2));"undefined"!==typeof this.options_.iv_load_policy&&
(a.iv_load_policy=this.options_.iv_load_policy);"undefined"!==typeof this.options_.list?a.list=this.options_.list:this.url&&"undefined"!==typeof this.url.listId&&(a.list=this.url.listId);"undefined"!==typeof this.options_.listType&&(a.listType=this.options_.listType);"undefined"!==typeof this.options_.modestbranding&&(a.modestbranding=this.options_.modestbranding);"undefined"!==typeof this.options_.playlist&&(a.playlist=this.options_.playlist);"undefined"!==typeof this.options_.playsinline&&(a.playsinline=
this.options_.playsinline);"undefined"!==typeof this.options_.rel&&(a.rel=this.options_.rel);"undefined"!==typeof this.options_.showinfo&&(a.showinfo=this.options_.showinfo);"undefined"!==typeof this.options_.start&&(a.start=this.options_.start);"undefined"!==typeof this.options_.theme&&(a.theme=this.options_.theme);if("undefined"!==typeof this.options_.customVars){var c=this.options_.customVars;Object.keys(c).forEach(function(b){a[b]=c[b]})}this.activeVideoId=this.url?this.url.videoId:null;this.activeList=
a.list;var e={videoId:this.activeVideoId,playerVars:a,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};"undefined"!==typeof this.options_.enablePrivacyEnhancedMode&&this.options_.enablePrivacyEnhancedMode&&(e.host="https://www.youtube-nocookie.com");
this.ytPlayer=new YT.Player(this.options_.techId,e)},onPlayerReady:function(){this.options_.muted&&this.ytPlayer.mute();1<this.ytPlayer.getAvailablePlaybackRates().length&&(this.featuresPlaybackRate=!0);this.playerReady_=!0;this.triggerReady();this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)},onPlayerPlaybackQualityChange:function(){},onPlayerPlaybackRateChange:function(){this.trigger("ratechange")},onPlayerStateChange:function(a){a=
a.data;if(a!==this.lastState&&!this.errorNumber)switch(this.lastState=a,a){case -1:this.trigger("loadstart");this.trigger("loadedmetadata");this.trigger("durationchange");this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate");this.trigger("durationchange");this.trigger("playing");this.trigger("play");if(this.isSeeking)this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay");if(this.isSeeking)this.onSeeked();
else this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting")}},onPlayerVolumeChange:function(){this.trigger("volumechange")},onPlayerError:function(a){this.errorNumber=a.data;this.trigger("pause");this.trigger("error")},error:function(){var a=1E3+this.errorNumber;switch(this.errorNumber){case 5:return{code:a,message:"Error while trying to play the video"};case 2:case 100:return{code:a,message:"Unable to find the video"};case 101:case 150:return{code:a,
message:"Playback on other Websites has been disabled by the video owner."}}return{code:a,message:"YouTube unknown error ("+this.errorNumber+")"}},loadVideoById_:function(a){a={videoId:a};this.options_.start&&(a.startSeconds=this.options_.start);this.options_.end&&(a.endEnd=this.options_.end);this.ytPlayer.loadVideoById(a)},cueVideoById_:function(a){a={videoId:a};this.options_.start&&(a.startSeconds=this.options_.start);this.options_.end&&(a.endEnd=this.options_.end);this.ytPlayer.cueVideoById(a)},
src:function(a){a&&this.setSrc({src:a});return this.source},poster:function(){return a?null:this.poster_},setPoster:function(a){this.poster_=a},setSrc:function(b){b&&b.src&&(delete this.errorNumber,this.source=b,this.url=e.parseUrl(b.src),!this.options_.poster&&this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!a?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&
(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))},autoplay:function(){return this.options_.autoplay},setAutoplay:function(a){this.options_.autoplay=a},loop:function(){return this.options_.loop},setLoop:function(a){this.options_.loop=a},play:function(){this.url&&this.url.videoId&&(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),
this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))},pause:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()},paused:function(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(a){this.lastState===
YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime());this.isSeeking||(this.wasPausedBeforeSeek=this.paused());this.ytPlayer.seekTo(a,!0);this.trigger("timeupdate");this.trigger("seeking");this.isSeeking=!0;this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==a&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval(function(){this.lastState===YT.PlayerState.PAUSED&&this.isSeeking?this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),
this.onSeeked()):clearInterval(this.checkSeekedInPauseInterval)}.bind(this),250))},seeking:function(){return this.isSeeking},seekable:function(){return this.ytPlayer?k.createTimeRange(0,this.ytPlayer.getDuration()):k.createTimeRange()},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval);this.isSeeking=!1;this.wasPausedBeforeSeek&&this.pause();this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(a){this.ytPlayer&&
this.ytPlayer.setPlaybackRate(a)},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source&&this.source.src},ended:function(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(a){this.ytPlayer&&this.ytPlayer.setVolume(100*a)},muted:function(){return this.ytPlayer?this.ytPlayer.isMuted():!1},setMuted:function(a){this.ytPlayer&&(this.muted(!0),
a?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50))},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return k.createTimeRange();var a=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return k.createTimeRange(0,a)},preload:function(){},load:function(){},reset:function(){},networkState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case -1:return 0;case 3:return 2;default:return 1}},
readyState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case -1:return 0;case 5:return 1;case 3:return 2;default:return 4}},supportsFullScreen:function(){return!0},checkHighResPoster:function(){var a="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var c=new Image;c.onload=function(){if("naturalHeight"in c){if(90>=c.naturalHeight||120>=c.naturalWidth)return}else if(90>=c.height||120>=c.width)return;this.poster_=a;this.trigger("posterchange")}.bind(this);
c.onerror=function(){};c.src=a}catch(n){}}});e.isSupported=function(){return!0};e.canPlaySource=function(a){return e.canPlayType(a.type)};e.canPlayType=function(a){return"video/youtube"===a};e.parseUrl=function(a){var b={videoId:null},c=a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);c&&11===c[2].length&&(b.videoId=c[2]);(c=a.match(/[?&]list=([^#\&\?]+)/))&&c[1]&&(b.listId=c[1]);return b};e.apiReadyQueue=[];"undefined"!==typeof document&&(c("https://www.youtube.com/iframe_api",
g),f());"undefined"!==typeof k.registerTech?k.registerTech("Youtube",e):k.registerComponent("Youtube",e)});/*
 2018 Brightcove, Inc
 @license Apache-2.0
*/
(function(k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k():"function"===typeof define&&define.amd?define([],k):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).videojsContribHls=k()})(function(){return function g(c,f,a){function h(b,n){if(!f[b]){if(!c[b]){var m="function"==typeof require&&require;if(!n&&m)return m(b,!0);if(e)return e(b,!0);n=Error("Cannot find module '"+b+"'");throw n.code="MODULE_NOT_FOUND",n;
}n=f[b]={exports:{}};c[b][0].call(n.exports,function(a){var e=c[b][1][a];return h(e?e:a)},n,n.exports,g,c,f,a)}return f[b].exports}for(var e="function"==typeof require&&require,b=0;b<a.length;b++)h(a[b]);return h}({1:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=function(){return function(a,c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var b=[],e=!0,f=!1,g=void 0;try{for(var h=a[Symbol.iterator](),m;!(e=(m=h.next()).done)&&(b.push(m.value),!c||b.length!==
c);e=!0);}catch(x){f=!0,g=x}finally{try{if(!e&&h["return"])h["return"]()}finally{if(f)throw g;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),h=(g=g("global/window"))&&g.__esModule?g:{"default":g},e=function(a,c){a=a.cues;for(var b=0;b<a.length;b++){var e=a[b];if(c>=e.adStartTime&&c<=e.adEndTime)return e}return null};f["default"]={updateAdCues:function(b,c){if(b.segments)for(var f=2>=arguments.length||void 0===arguments[2]?0:arguments[2],g=void 0,m=0;m<
b.segments.length;m++){var v=b.segments[m];g||(g=e(c,f+v.duration/2));if(g){if("cueIn"in v){g.endTime=f;g.adEndTime=f;f+=v.duration;g=null;continue}if(f<g.endTime){f+=v.duration;continue}g.endTime+=v.duration}else if("cueOut"in v&&(g=new h["default"].VTTCue(f,f+v.duration,v.cueOut),g.adStartTime=f,g.adEndTime=f+parseFloat(v.cueOut),c.addCue(g)),"cueOutCont"in v){var A=v.cueOutCont.split("/").map(parseFloat);g=a(A,2);A=g[0];var y=g[1];g=new h["default"].VTTCue(f,f+v.duration,"");g.adStartTime=f-A;
g.adEndTime=g.adStartTime+y;c.addCue(g)}f+=v.duration}},findAdCue:e};c.exports=f["default"]},{"global/window":32}],2:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=function(a,c){a=a.toString(16);return"00".substring(0,2-a.length)+a+(c%2?" ":"")},h=function(a){return 32<=a&&126>a?String.fromCharCode(a):"."},e={hexDump:function(b){b=Array.prototype.slice.call(b);for(var c="",e,f,g=0;g<b.length/16;g++)e=b.slice(16*g,16*g+16).map(a).join(""),f=b.slice(16*g,16*g+16).map(h).join(""),
c+=e+" "+f+"\n";return c},tagDump:function(a){return e.hexDump(a.bytes)},textRanges:function(a){var b="",c;for(c=0;c<a.length;c++){var e=a;var f=c;e=e.start(f)+"-"+e.end(f);b+=e+" "}return b},createTransferableMessage:function(a){var b={};Object.keys(a).forEach(function(c){var e=a[c];ArrayBuffer.isView(e)?b[c]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:b[c]=e});return b},initSegmentId:function(a){var b=a.byterange||{length:Infinity,offset:0};return[b.length,b.offset,a.resolvedUri].join()}};
f["default"]=e;c.exports=f["default"]},{}],3:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});f["default"]={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1};c.exports=f["default"]},{}],4:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=g("global/window"),h=a&&a.__esModule?a:{"default":a},e=g("aes-decrypter"),b=g("./bin-utils"),m=
function(a){a.onmessage=function(a){var c=a.data;a=new Uint8Array(c.encrypted.bytes,c.encrypted.byteOffset,c.encrypted.byteLength);var f=new Uint32Array(c.key.bytes,c.key.byteOffset,c.key.byteLength/4),g=new Uint32Array(c.iv.bytes,c.iv.byteOffset,c.iv.byteLength/4);new e.Decrypter(a,f,g,function(a,e){h["default"].postMessage((0,b.createTransferableMessage)({source:c.source,decrypted:e}),[e.buffer])})}};f["default"]=function(a){return new m(a)};c.exports=f["default"]},{"./bin-utils":2,"aes-decrypter":25,
"global/window":32}],5:[function(g,c,f){(function(a){function c(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});var b=function(){function a(a,
b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),m=function(a,b,d){var c=!0;for(;c;)if(null===a&&(a=Function.prototype),c=Object.getOwnPropertyDescriptor(a,b),void 0===c){a=Object.getPrototypeOf(a);if(null===a)break;c=!0}else{if("value"in c)return c.value;b=c.get;return void 0===b?void 0:b.call(d)}},n=g("./playlist-loader"),r=c(n),
w=g("./playlist.js");n=g("./segment-loader");var v=c(n);n=g("./vtt-segment-loader");var A=c(n);n=g("./ranges");var y=c(n),x=c("undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null);a=g("./ad-cue-tags");var q=c(a);a=g("./sync-controller");var B=c(a),C=g("videojs-contrib-media-sources/es5/codec-utils");a=g("webwackify");var E=c(a);a=g("./decrypter-worker");var I=c(a);a=g("./config");var F=c(a),J=g("./util/codecs.js"),L=g("./media-groups"),d=void 0,l={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",
audioProfile:"2"},z="mediaRequests mediaRequestsAborted mediaRequestsTimedout mediaRequestsErrored mediaTransferDuration mediaBytesTransferred".split(" "),G=function(a){return this.audioSegmentLoader_[a]+this.mainSegmentLoader_[a]},K=function(){var a=void 0;try{a=g.resolve("./decrypter-worker")}catch(ea){}return a},T=function(a){return a.replace(/avc1\.(\d+)\.(\d+)/i,function(a){return(0,C.translateLegacyCodecs)([a])[0]})};f.mapLegacyAvcCodecs_=T;var ja=function(a,b,d){return a+"/"+b+'; codecs="'+
d.filter(function(a){return!!a}).join(", ")+'"'},W=function(a,b){var d=b.segments&&b.segments.length&&b.segments[0].map?"mp4":"mp2t";var c=b.attributes||{};var e=c.CODECS?(0,J.parseCodecs)(c.CODECS):l;var f=b.attributes||{};c=!0;var g=!1;if(!b)return[];if(a.mediaGroups.AUDIO&&f.AUDIO&&(a=a.mediaGroups.AUDIO[f.AUDIO])){g=!0;c=!1;for(var h in a)if(!a[h].uri){c=!0;break}}g&&!e.audioProfile&&(x["default"].log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),
e.audioProfile=l.audioProfile);var m,n;e.videoCodec&&(m=""+e.videoCodec+e.videoObjectTypeIndicator);e.audioProfile&&(n="mp4a.40."+e.audioProfile);h=ja("audio",d,[n]);a=ja("video",d,[m]);d=ja("video",d,[m,n]);return g?!c&&m?[a,h]:[d,h]:m?[d]:[h]};f.mimeTypesForPlaylist_=W;a=function(a){function c(a){var b=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");m(Object.getPrototypeOf(c.prototype),"constructor",this).call(this);var e=a.url,f=a.withCredentials,g=a.mode,
h=a.tech,l=a.bandwidth,n=a.externHls,q=a.useCueTags,y=a.blacklistDuration,w=a.enableLowInitialPlaylist;if(!e)throw Error("A non-empty playlist URL is required");d=n;this.withCredentials=f;this.tech_=h;this.hls_=h.hls;this.mode_=g;this.useCueTags_=q;this.blacklistDuration=y;this.enableLowInitialPlaylist=w;this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType="");this.requestOptions_={withCredentials:this.withCredentials,
timeout:null};this.mediaTypes_=(0,L.createMediaTypes)();this.mediaSource=new x["default"].MediaSource({mode:g});this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this));this.seekable_=x["default"].createTimeRanges();this.hasPlayed_=function(){return!1};this.syncController_=new B["default"](a);this.segmentMetadataTrack_=h.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track;this.decrypter_=(0,E["default"])(I["default"],K());f={hls:this.hls_,mediaSource:this.mediaSource,
currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return b.seekable()},seeking:function(){return b.tech_.seeking()},duration:function(){return b.mediaSource.duration},hasPlayed:function(){return b.hasPlayed_()},goalBufferLength:function(){return b.goalBufferLength()},bandwidth:l,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new r["default"](e,this.hls_,this.withCredentials);this.setupMasterPlaylistLoaderListeners_();this.mainSegmentLoader_=
new v["default"](x["default"].mergeOptions(f,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),a);this.audioSegmentLoader_=new v["default"](x["default"].mergeOptions(f,{loaderType:"audio"}),a);this.subtitleSegmentLoader_=new A["default"](x["default"].mergeOptions(f,{loaderType:"vtt"}),a);this.setupSegmentLoaderListeners_();z.forEach(function(a){b[a+"_"]=G.bind(b,a)});this.masterPlaylistLoader_.load()}e(c,a);b(c,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var a=
this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var b=a.masterPlaylistLoader_.media(),d=1500*a.masterPlaylistLoader_.targetDuration;(0,w.isLowestEnabledRendition)(a.masterPlaylistLoader_.master,a.masterPlaylistLoader_.media())?a.requestOptions_.timeout=0:a.requestOptions_.timeout=d;b.endList&&"none"!==a.tech_.preload()&&(a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.mainSegmentLoader_.load());(0,L.setupMediaGroups)({segmentLoaders:{AUDIO:a.audioSegmentLoader_,SUBTITLES:a.subtitleSegmentLoader_,
main:a.mainSegmentLoader_},tech:a.tech_,requestOptions:a.requestOptions_,masterPlaylistLoader:a.masterPlaylistLoader_,mode:a.mode_,hls:a.hls_,master:a.master(),mediaTypes:a.mediaTypes_,blacklistCurrentPlaylist:a.blacklistCurrentPlaylist.bind(a)});a.triggerPresenceUsage_(a.master(),b);try{a.setupSourceBuffers_()}catch(fa){return x["default"].log.warn("Failed to create SourceBuffers",fa),a.mediaSource.endOfStream("decode")}a.setupFirstPlay();a.trigger("selectedinitialmedia")});this.masterPlaylistLoader_.on("loadedplaylist",
function(){var b=a.masterPlaylistLoader_.media();b?(a.useCueTags_&&a.updateAdCues_(b),a.mainSegmentLoader_.playlist(b,a.requestOptions_),a.updateDuration(),a.tech_.paused()||a.mainSegmentLoader_.load(),b.endList||function(){var b=function(){var b=a.seekable();0!==b.length&&a.mediaSource.addSeekableRange_(b.start(0),b.end(0))};Infinity!==a.duration()?function(){a.tech_.one("durationchange",function xa(){if(Infinity===a.duration())b();else a.tech_.one("durationchange",xa)})}():b()}()):(b=void 0,a.enableLowInitialPlaylist&&
(b=a.selectInitialPlaylist()),b||(b=a.selectPlaylist()),a.initialMedia_=b,a.masterPlaylistLoader_.media(a.initialMedia_))});this.masterPlaylistLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.masterPlaylistLoader_.error)});this.masterPlaylistLoader_.on("mediachanging",function(){a.mainSegmentLoader_.abort();a.mainSegmentLoader_.pause()});this.masterPlaylistLoader_.on("mediachange",function(){var b=a.masterPlaylistLoader_.media(),d=1500*a.masterPlaylistLoader_.targetDuration;(0,w.isLowestEnabledRendition)(a.masterPlaylistLoader_.master,
a.masterPlaylistLoader_.media())?a.requestOptions_.timeout=0:a.requestOptions_.timeout=d;a.mainSegmentLoader_.playlist(b,a.requestOptions_);a.mainSegmentLoader_.load();a.tech_.trigger({type:"mediachange",bubbles:!0})});this.masterPlaylistLoader_.on("playlistunchanged",function(){var b=a.masterPlaylistLoader_.media();a.stuckAtPlaylistEnd_(b)&&(a.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),a.tech_.trigger("playliststuck"))});this.masterPlaylistLoader_.on("renditiondisabled",function(){a.tech_.trigger({type:"usage",
name:"hls-rendition-disabled"})});this.masterPlaylistLoader_.on("renditionenabled",function(){a.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(a,b){a=a.mediaGroups||{};var c=!0,e=Object.keys(a.AUDIO),f;for(f in a.AUDIO)for(var g in a.AUDIO[f])a.AUDIO[f][g].uri||(c=!1);c&&this.tech_.trigger({type:"usage",name:"hls-demuxed"});Object.keys(a.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"});d.Playlist.isAes(b)&&this.tech_.trigger({type:"usage",
name:"hls-aes"});d.Playlist.isFmp4(b)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"});e.length&&1<Object.keys(a.AUDIO[e[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"});this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var a=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var b=a.selectPlaylist(),d=a.masterPlaylistLoader_.media(),c=a.tech_.buffered();c=c.length?c.end(c.length-
1)-a.tech_.currentTime():0;var e=a.bufferLowWaterLine();(!d.endList||a.duration()<F["default"].MAX_BUFFER_LOW_WATER_LINE||b.attributes.BANDWIDTH<d.attributes.BANDWIDTH||c>=e)&&a.masterPlaylistLoader_.media(b);a.tech_.trigger("bandwidthupdate")});this.mainSegmentLoader_.on("progress",function(){a.trigger("progress")});this.mainSegmentLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())});this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()});
this.mainSegmentLoader_.on("timestampoffset",function(){a.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})});this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("ended",function(){a.onEndOfStream()});this.mainSegmentLoader_.on("earlyabort",function(){a.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)});this.mainSegmentLoader_.on("reseteverything",
function(){a.tech_.trigger("hls-reset")});this.mainSegmentLoader_.on("segmenttimemapping",function(b){a.tech_.trigger({type:"hls-segment-time-mapping",mapping:b.mapping})});this.audioSegmentLoader_.on("ended",function(){a.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load();this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load();
this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var a=this.selectPlaylist();a!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(a),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0);this.hasPlayed_()&&this.load();var a=this.tech_.seekable();if(Infinity===this.tech_.duration()&&this.tech_.currentTime()<
a.start(0))return this.tech_.setCurrentTime(a.end(a.length-1))}}},{key:"setupFirstPlay",value:function(){var a=this,b=this.masterPlaylistLoader_.media();if(!b||this.tech_.paused()||this.hasPlayed_())return!1;if(!b.endList&&(b=function(){var b=a.seekable();if(!b.length)return{v:!1};if(x["default"].browser.IE_VERSION&&"html5"===a.mode_&&0===a.tech_.readyState())return a.tech_.one("loadedmetadata",function(){a.trigger("firstplay");a.tech_.setCurrentTime(b.end(0));a.hasPlayed_=function(){return!0}}),
{v:!1};a.trigger("firstplay");a.tech_.setCurrentTime(b.end(0))}(),"object"===typeof b))return b.v;this.hasPlayed_=function(){return!0};this.load();return!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(aa){return x["default"].log.warn("Failed to create Source Buffers",aa),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var a=this.tech_.play();"undefined"!==typeof a&&"function"===typeof a.then&&a.then(null,function(a){})}this.trigger("sourceopen")}},
{key:"onEndOfStream",value:function(){var a=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=a&&this.audioSegmentLoader_.ended_);a&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(a){if(!this.seekable().length)return!1;var b=this.syncController_.getExpiredTime(a,this.mediaSource.duration);if(null===b)return!1;a=d.Playlist.playlistEnd(a,b);b=this.tech_.currentTime();var c=this.tech_.buffered();if(!c.length)return a-b<=y["default"].SAFE_TIME_DELTA;
c=c.end(c.length-1);return c-b<=y["default"].SAFE_TIME_DELTA&&a-c<=y["default"].SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(a,b){void 0===a&&(a={});var d=a.playlist||this.masterPlaylistLoader_.media();b=b||a.blacklistDuration||this.blacklistDuration;if(!d){this.error=a;try{return this.mediaSource.endOfStream("network")}catch(xa){return this.trigger("error")}}var c=1===this.masterPlaylistLoader_.master.playlists.filter(w.isEnabled).length;if(c)return x["default"].log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),
this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(c);d.excludeUntil=Date.now()+1E3*b;this.tech_.trigger("blacklistplaylist");this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});b=this.selectPlaylist();x["default"].log.warn("Problem encountered with the current HLS playlist."+(a.message?" "+a.message:"")+" Switching to another playlist.");return this.masterPlaylistLoader_.media(b)}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause();this.mediaTypes_.AUDIO.activePlaylistLoader&&
this.audioSegmentLoader_.pause();this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(a){var b=y["default"].findRange(this.tech_.buffered(),a);if(!this.masterPlaylistLoader_||!this.masterPlaylistLoader_.media()||!this.masterPlaylistLoader_.media().segments)return 0;if(b&&b.length&&"flash"!==this.mode_)return a;this.mainSegmentLoader_.resetEverything();this.mainSegmentLoader_.abort();this.mediaTypes_.AUDIO.activePlaylistLoader&&
(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort());this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort());this.load()}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:d.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var a=void 0;
if(this.masterPlaylistLoader_){var b=this.masterPlaylistLoader_.media();if(b){var c=this.syncController_.getExpiredTime(b,this.mediaSource.duration);if(null!==c){var e=d.Playlist.seekable(b,c);if(0!==e.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){b=this.mediaTypes_.AUDIO.activePlaylistLoader.media();c=this.syncController_.getExpiredTime(b,this.mediaSource.duration);if(null===c)return;a=d.Playlist.seekable(b,c);if(0===a.length)return}a?a.start(0)>e.end(0)||e.start(0)>a.end(0)?this.seekable_=
e:this.seekable_=x["default"].createTimeRanges([[a.start(0)>e.start(0)?a.start(0):e.start(0),a.end(0)<e.end(0)?a.end(0):e.end(0)]]):this.seekable_=e;this.tech_.trigger("seekablechanged")}}}}}},{key:"updateDuration",value:function(){var a=this,b=this.mediaSource.duration,c=d.Playlist.duration(this.masterPlaylistLoader_.media()),e=this.tech_.buffered(),f=function ha(){a.mediaSource.duration=c;a.tech_.trigger("durationchange");a.mediaSource.removeEventListener("sourceopen",ha)};0<e.length&&(c=Math.max(c,
e.end(e.length-1)));b!==c&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",f):f())}},{key:"dispose",value:function(){var a=this;this.decrypter_.terminate();this.masterPlaylistLoader_.dispose();this.mainSegmentLoader_.dispose();["AUDIO","SUBTITLES"].forEach(function(b){b=a.mediaTypes_[b].groups;for(var d in b)b[d].forEach(function(a){a.playlistLoader&&a.playlistLoader.dispose()})});this.audioSegmentLoader_.dispose();this.subtitleSegmentLoader_.dispose()}},{key:"master",
value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var a=this.masterPlaylistLoader_.media();if(a&&"open"===this.mediaSource.readyState){var b=W(this.masterPlaylistLoader_.master,a);if(1>b.length)return this.error="No compatible SourceBuffer configuration for the variant stream:"+a.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(b[0]);
b[1]&&this.audioSegmentLoader_.mimeType(b[1]);this.excludeIncompatibleVariants_(a)}}},{key:"excludeIncompatibleVariants_",value:function(a){var b=this.masterPlaylistLoader_.master,d=2,c=null,e=void 0;a.attributes.CODECS&&(e=(0,J.parseCodecs)(a.attributes.CODECS),c=e.videoCodec,d=e.codecCount);b.playlists.forEach(function(a){var b={codecCount:2,videoCodec:null};if(a.attributes.CODECS){var e=a.attributes.CODECS;b=(0,J.parseCodecs)(e);window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+
T(e)+'"')&&(a.excludeUntil=Infinity)}b.codecCount!==d&&(a.excludeUntil=Infinity);b.videoCodec!==c&&(a.excludeUntil=Infinity)})}},{key:"updateAdCues_",value:function(a){var b=0,d=this.seekable();d.length&&(b=d.start(0));q["default"].updateAdCues(a,this.cueTagsTrack_,b)}},{key:"goalBufferLength",value:function(){var a=this.tech_.currentTime(),b=F["default"].GOAL_BUFFER_LENGTH;return Math.min(b+a*F["default"].GOAL_BUFFER_LENGTH_RATE,Math.max(b,F["default"].MAX_GOAL_BUFFER_LENGTH))}},{key:"bufferLowWaterLine",
value:function(){var a=this.tech_.currentTime(),b=F["default"].BUFFER_LOW_WATER_LINE;return Math.min(b+a*F["default"].BUFFER_LOW_WATER_LINE_RATE,Math.max(b,F["default"].MAX_BUFFER_LOW_WATER_LINE))}}]);return c}(x["default"].EventTarget);f.MasterPlaylistController=a}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./ad-cue-tags":1,"./config":3,"./decrypter-worker":4,"./media-groups":6,"./playlist-loader":9,"./playlist.js":11,"./ranges":12,
"./segment-loader":16,"./sync-controller":18,"./util/codecs.js":19,"./vtt-segment-loader":20,"videojs-contrib-media-sources/es5/codec-utils":65,webwackify:76}],6:[function(g,c,f){(function(a){Object.defineProperty(f,"__esModule",{value:!0});var c=(a="undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null)&&a.__esModule?a:{"default":a},e=(a=g("./playlist-loader"))&&a.__esModule?a:{"default":a},b=function(){},m=function(a,b){a.abort();a.pause();b&&b.activePlaylistLoader&&(b.activePlaylistLoader.pause(),
b.activePlaylistLoader=null)};f.stopLoaders=m;var n=function(a,b){b.activePlaylistLoader=a;a.load()};f.startLoaders=n;var r=function(a,b){return function(){var c=b.segmentLoaders,e=c[a];c=c.main;var f=b.mediaTypes[a],g=f.activeTrack();g=f.activeGroup(g);var h=f.activePlaylistLoader;m(e,f);g&&(g.playlistLoader?(e.resyncLoader(),n(g.playlistLoader,f)):h&&c.resetEverything())}};f.onGroupChanged=r;var w=function(a,b){return function(){var c=b.segmentLoaders,e=c[a];c=c.main;var f=b.mediaTypes[a],g=f.activeTrack(),
h=f.activeGroup(g),d=f.activePlaylistLoader;m(e,f);h&&(h.playlistLoader?(d!==h.playlistLoader&&(e.track&&e.track(g),e.resetEverything()),n(h.playlistLoader,f)):c.resetEverything())}};f.onTrackChanged=w;var v={AUDIO:function(a,b){return function(){var e=b.mediaTypes[a],f=b.blacklistCurrentPlaylist;m(b.segmentLoaders[a],e);var g=e.activeTrack(),h=e.activeGroup();h=(h.filter(function(a){return a["default"]})[0]||h[0]).id;h=e.tracks[h];if(g===h)f({message:"Problem encountered loading the default audio track."});
else{c["default"].log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var n in e.tracks)e.tracks[n].enabled=e.tracks[n]===h;e.onTrackChanged()}}},SUBTITLES:function(a,b){return function(){var e=b.segmentLoaders[a],f=b.mediaTypes[a];c["default"].log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");m(e,f);if(e=f.activeTrack())e.mode="disabled";f.onTrackChanged()}}};f.onError=v;var A={AUDIO:function(a,b,c){if(b){var e=c.tech,
f=c.requestOptions,g=c.segmentLoaders[a];b.on("loadedmetadata",function(){var a=b.media();g.playlist(a,f);(!e.paused()||a.endList&&"none"!==e.preload())&&g.load()});b.on("loadedplaylist",function(){g.playlist(b.media(),f);e.paused()||g.load()});b.on("error",v[a](a,c))}},SUBTITLES:function(a,b,c){var e=c.tech,f=c.requestOptions,g=c.segmentLoaders[a],h=c.mediaTypes[a];b.on("loadedmetadata",function(){var a=b.media();g.playlist(a,f);g.track(h.activeTrack());(!e.paused()||a.endList&&"none"!==e.preload())&&
g.load()});b.on("loadedplaylist",function(){g.playlist(b.media(),f);e.paused()||g.load()});b.on("error",v[a](a,c))}};f.setupListeners=A;var y={AUDIO:function(a,b){var f=b.mode,g=b.hls,h=b.segmentLoaders[a],m=b.requestOptions.withCredentials,n=b.master.mediaGroups,d=b.mediaTypes[a],l=d.groups;d=d.tracks;n[a]&&0!==Object.keys(n[a]).length&&"html5"===f||(n[a]={main:{"default":{"default":!0}}});for(var q in n[a]){l[q]||(l[q]=[]);for(var x in n[a][q]){f=n[a][q][x];var r=f.resolvedUri?new e["default"](f.resolvedUri,
g,m):null;f=c["default"].mergeOptions({id:x,playlistLoader:r},f);A[a](a,f.playlistLoader,b);l[q].push(f);if("undefined"===typeof d[x]){r=c["default"].AudioTrack;var y=x,w=f["default"]?"main":"alternative";f.characteristics&&0<=f.characteristics.indexOf("public.accessibility.describes-video")&&(w="main-desc");f=new r({id:y,kind:w,enabled:!1,language:f.language,"default":f["default"],label:x});d[x]=f}}}h.on("error",v[a](a,b))},SUBTITLES:function(a,b){var f=b.tech,g=b.hls,h=b.segmentLoaders[a],m=b.requestOptions.withCredentials,
n=b.master.mediaGroups,d=b.mediaTypes[a],l=d.groups;d=d.tracks;for(var q in n[a]){l[q]||(l[q]=[]);for(var x in n[a][q])if(!n[a][q][x].forced){var r=n[a][q][x];r=c["default"].mergeOptions({id:x,playlistLoader:new e["default"](r.resolvedUri,g,m)},r);A[a](a,r.playlistLoader,b);l[q].push(r);"undefined"===typeof d[x]&&(r=f.addRemoteTextTrack({id:x,kind:"subtitles",enabled:!1,language:r.language,label:x},!1).track,d[x]=r)}}h.on("error",v[a](a,b))},"CLOSED-CAPTIONS":function(a,b){var e=b.tech,f=b.master.mediaGroups,
g=b.mediaTypes[a];b=g.groups;g=g.tracks;for(var h in f[a]){b[h]||(b[h]=[]);for(var m in f[a][h]){var d=f[a][h][m];d.instreamId.match(/CC\d/)&&(b[h].push(c["default"].mergeOptions({id:m},d)),"undefined"===typeof g[m]&&(d=e.addRemoteTextTrack({id:d.instreamId,kind:"captions",enabled:!1,language:d.language,label:m},!1).track,g[m]=d))}}}};f.initialize=y;var x=function(a,b){return function(c){var e=b.mediaTypes[a].groups,f=b.masterPlaylistLoader.media();if(!f)return null;var g=null;f.attributes[a]&&(g=
e[f.attributes[a]]);g=g||e.main;return"undefined"===typeof c?g:null===c?null:g.filter(function(a){return a.id===c.id})[0]||null}};f.activeGroup=x;var q={AUDIO:function(a,b){return function(){var c=b.mediaTypes[a].tracks,e;for(e in c)if(c[e].enabled)return c[e];return null}},SUBTITLES:function(a,b){return function(){var c=b.mediaTypes[a].tracks,e;for(e in c)if("showing"===c[e].mode)return c[e];return null}}};f.activeTrack=q;f.setupMediaGroups=function(a){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(b){y[b](b,
a)});var b=a.mediaTypes,c=a.masterPlaylistLoader,e=a.tech,f=a.hls;["AUDIO","SUBTITLES"].forEach(function(d){b[d].activeGroup=x(d,a);b[d].activeTrack=q[d](d,a);b[d].onGroupChanged=r(d,a);b[d].onTrackChanged=w(d,a)});var g=b.AUDIO.activeGroup();g=(g.filter(function(a){return a["default"]})[0]||g[0]).id;b.AUDIO.tracks[g].enabled=!0;b.AUDIO.onTrackChanged();c.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(a){return b[a].onGroupChanged()})});var h=function(){b.AUDIO.onTrackChanged();
e.trigger({type:"usage",name:"hls-audio-change"})};e.audioTracks().addEventListener("change",h);e.remoteTextTracks().addEventListener("change",b.SUBTITLES.onTrackChanged);f.on("dispose",function(){e.audioTracks().removeEventListener("change",h);e.remoteTextTracks().removeEventListener("change",b.SUBTITLES.onTrackChanged)});e.clearTracks("audio");for(var d in b.AUDIO.tracks)e.audioTracks().addTrack(b.AUDIO.tracks[d])};f.createMediaTypes=function(){var a={};["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(c){a[c]=
{groups:{},tracks:{},activePlaylistLoader:null,activeGroup:b,activeTrack:b,onGroupChanged:b,onTrackChanged:b}});return a}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./playlist-loader":9}],7:[function(g,c,f){(function(a){Object.defineProperty(f,"__esModule",{value:!0});var c=(a="undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null)&&a.__esModule?a:{"default":a},e=g("./bin-utils"),b={FAILURE:2,TIMEOUT:-101,
ABORTED:-102};f.REQUEST_ERRORS=b;var m=function(a){var b={};a.byterange&&(a=a.byterange,b.Range="bytes="+a.offset+"-"+(a.offset+a.length-1));return b},n=function(a){a.forEach(function(a){a.abort()})},r=function(a){var b=a.target;b=Date.now()-b.requestTime;b={bandwidth:Infinity,bytesReceived:0,roundTripTime:b||0};b.bytesReceived=a.loaded;b.bandwidth=Math.floor(b.bytesReceived/b.roundTripTime*8E3);return b},w=function(a,c){return c.timedout?{status:c.status,message:"HLS request timed-out at URL: "+
c.uri,code:b.TIMEOUT,xhr:c}:c.aborted?{status:c.status,message:"HLS request aborted at URL: "+c.uri,code:b.ABORTED,xhr:c}:a?{status:c.status,message:"HLS request errored at URL: "+c.uri,code:b.FAILURE,xhr:c}:null},v=function(a,c){return function(e,f){var g=f.response;if(e=w(e,f))return c(e,a);if(16!==g.byteLength)return c({status:f.status,message:"Invalid HLS key at URL: "+f.uri,code:b.FAILURE,xhr:f},a);f=new DataView(g);a.key.bytes=new Uint32Array([f.getUint32(0),f.getUint32(4),f.getUint32(8),f.getUint32(12)]);
return c(null,a)}},A=function(a,c){return function(e,f){var g=f.response;if(e=w(e,f))return c(e,a);if(0===g.byteLength)return c({status:f.status,message:"Empty HLS segment content at URL: "+f.uri,code:b.FAILURE,xhr:f},a);a.map.bytes=new Uint8Array(f.response);return c(null,a)}},y=function(a,c){return function(e,f){var g=f.response;if(e=w(e,f))return c(e,a);if(0===g.byteLength)return c({status:f.status,message:"Empty HLS segment content at URL: "+f.uri,code:b.FAILURE,xhr:f},a);a.stats={bandwidth:f.bandwidth,
bytesReceived:f.bytesReceived||0,roundTripTime:f.roundTripTime||0};a.key?a.encryptedBytes=new Uint8Array(f.response):a.bytes=new Uint8Array(f.response);return c(null,a)}},x=function(a,b,c){a.addEventListener("message",function L(d){if(d.data.source===b.requestId)return a.removeEventListener("message",L),d=d.data.decrypted,b.bytes=new Uint8Array(d.bytes,d.byteOffset,d.byteLength),c(null,b)});a.postMessage((0,e.createTransferableMessage)({source:b.requestId,encrypted:b.encryptedBytes,key:b.key.bytes,
iv:b.key.iv}),[b.encryptedBytes.buffer,b.key.bytes.buffer])},q=function(a){return a.reduce(function(a,b){return b.code>a.code?b:a})},B=function(a,b,c){var e=[],f=0;return function(d,g){d&&(n(a),e.push(d));f+=1;if(f===a.length)return g.endOfAllRequests=Date.now(),0<e.length?(d=q(e),c(d,g)):g.encryptedBytes?x(b,g,c):c(null,g)}},C=function(a,b){return function(e){a.stats=c["default"].mergeOptions(a.stats,r(e));!a.stats.firstBytesReceivedAt&&a.stats.bytesReceived&&(a.stats.firstBytesReceivedAt=Date.now());
return b(e,a)}};f.mediaSegmentRequest=function(a,b,e,f,g,d){var h=[];e=B(h,e,d);if(f.key){d=c["default"].mergeOptions(b,{uri:f.key.resolvedUri,responseType:"arraybuffer"});var q=v(f,e);d=a(d,q);h.push(d)}f.map&&!f.map.bytes&&(d=c["default"].mergeOptions(b,{uri:f.map.resolvedUri,responseType:"arraybuffer",headers:m(f.map)}),q=A(f,e),d=a(d,q),h.push(d));b=c["default"].mergeOptions(b,{uri:f.resolvedUri,responseType:"arraybuffer",headers:m(f)});e=y(f,e);a=a(b,e);a.addEventListener("progress",C(f,g));
h.push(a);return function(){return n(h)}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bin-utils":2}],8:[function(g,c,f){(function(a){function h(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,
c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),b=g("global/window"),m=h(b);b=g("./ranges");var n=h(b),r=h("undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null),w=["seeking","seeked","pause","playing","error"];a=function(){function a(b){var c=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.tech_=b.tech;this.seekable=b.seekable;this.consecutiveUpdates=0;this.checkCurrentTimeTimeout_=this.timer_=this.lastRecordedTime=null;b.debug&&
(this.logger_=r["default"].log.bind(r["default"],"playback-watcher ->"));this.logger_("initialize");var e=function(){return c.monitorCurrentTime_()},f=function(){return c.techWaiting_()},g=function(){return c.cancelTimer_()},h=function(){return c.fixesBadSeeks_()};this.tech_.on("seekablechanged",h);this.tech_.on("waiting",f);this.tech_.on(w,g);this.tech_.on("canplay",e);this.dispose=function(){c.logger_("dispose");c.tech_.off("seekablechanged",h);c.tech_.off("waiting",f);c.tech_.off(w,g);c.tech_.off("canplay",
e);c.checkCurrentTimeTimeout_&&m["default"].clearTimeout(c.checkCurrentTimeTimeout_);c.cancelTimer_()}}e(a,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_();this.checkCurrentTimeTimeout_&&m["default"].clearTimeout(this.checkCurrentTimeTimeout_);this.checkCurrentTimeTimeout_=m["default"].setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime();
else if(!this.tech_.paused()&&!this.tech_.seeking()){var a=this.tech_.currentTime(),b=this.tech_.buffered();if(this.lastRecordedTime===a&&(!b.length||a+n["default"].SAFE_TIME_DELTA>=b.end(b.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&a===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):a===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=a)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0;this.timer_&&
(this.logger_("cancelTimer_"),clearTimeout(this.timer_));this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var a=this.tech_.seeking(),b=this.seekable(),c=this.tech_.currentTime(),e=void 0;a&&this.afterSeekableWindow_(b,c)&&(e=b.end(b.length-1));a&&this.beforeSeekableWindow_(b,c)&&(e=b.start(0)+n["default"].SAFE_TIME_DELTA);return"undefined"!==typeof e?(this.logger_("Trying to seek outside of seekable at time "+c+" with "+("seekable range "+n["default"].printableRange(b)+". Seeking to ")+(e+
".")),this.tech_.setCurrentTime(e),!0):!1}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var a=this.tech_.currentTime(),b=this.tech_.buffered();b=n["default"].findRange(b,a);b.length&&a+3<=b.end(0)&&(this.cancelTimer_(),this.tech_.setCurrentTime(a),this.logger_("Stopped at "+a+" while inside a buffered region "+("["+b.start(0)+" -> "+b.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"}))}}},{key:"techWaiting_",
value:function(){var a=this.seekable(),b=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_()||this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(a,b))return a=a.end(a.length-1),this.logger_("Fell out of live window at time "+b+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0;var c=this.tech_.buffered();a=n["default"].findNextRange(c,b);return this.videoUnderflow_(a,
c,b)?(this.cancelTimer_(),this.tech_.setCurrentTime(b),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):0<a.length?(c=a.start(0)-b,this.logger_("Stopped at "+b+", setting timer for "+c+", seeking "+("to "+a.start(0))),this.timer_=setTimeout(this.skipTheGap_.bind(this),1E3*c,b),!0):!1}},{key:"afterSeekableWindow_",value:function(a,b){return a.length?b>a.end(a.length-1)+n["default"].SAFE_TIME_DELTA?!0:!1:!1}},{key:"beforeSeekableWindow_",value:function(a,b){return a.length&&0<a.start(0)&&
b<a.start(0)-n["default"].SAFE_TIME_DELTA?!0:!1}},{key:"videoUnderflow_",value:function(a,b,c){return 0===a.length&&(a=this.gapFromVideoUnderflow_(b,c))?(this.logger_("Encountered a gap in video from "+a.start+" to "+a.end+". "+("Seeking to current time "+c)),!0):!1}},{key:"skipTheGap_",value:function(a){var b=this.tech_.buffered(),c=this.tech_.currentTime();b=n["default"].findNextRange(b,c);this.cancelTimer_();0!==b.length&&c===a&&(this.logger_("skipTheGap_:","currentTime:",c,"scheduled currentTime:",
a,"nextRange start:",b.start(0)),this.tech_.setCurrentTime(b.start(0)+n["default"].TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(a,b){a=n["default"].findGaps(a);for(var c=0;c<a.length;c++){var e=a.start(c),f=a.end(c);if(4>b-e&&2<b-e)return{start:e,end:f}}return null}},{key:"logger_",value:function(){}}]);return a}();f["default"]=a;c.exports=f["default"]}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{"./ranges":12,"global/window":32}],9:[function(g,c,f){(function(a){function c(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,
"__esModule",{value:!0});var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),m=function(a,b,c){var e=!0;for(;e;)if(null===a&&(a=Function.prototype),e=Object.getOwnPropertyDescriptor(a,b),void 0===e){a=Object.getPrototypeOf(a);if(null===a)break;e=!0}else{if("value"in e)return e.value;b=e.get;return void 0===
b?void 0:b.call(c)}},n=g("./resolve-url"),r=c(n),w="undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null;a=g("m3u8-parser");var v=c(a);a=g("global/window");var A=c(a),y=function(a,b,c){var e=b.slice();c=c||0;b=Math.min(a.length,b.length+c);for(var d=c;d<b;d++)e[d-c]=(0,w.mergeOptions)(a[d],e[d-c]);return e};f.updateSegments=y;var x=function(a,b){a.resolvedUri||(a.resolvedUri=(0,r["default"])(b,a.uri));a.key&&!a.key.resolvedUri&&(a.key.resolvedUri=(0,r["default"])(b,a.key.uri));
a.map&&!a.map.resolvedUri&&(a.map.resolvedUri=(0,r["default"])(b,a.map.uri))};f.resolveSegmentUris=x;var q=function(a,b){a=(0,w.mergeOptions)(a,{});var c=a.playlists.filter(function(a){return a.uri===b.uri})[0];if(!c||c.segments&&b.segments&&c.segments.length===b.segments.length&&c.mediaSequence===b.mediaSequence)return null;var e=(0,w.mergeOptions)(c,b);c.segments&&(e.segments=y(c.segments,b.segments,b.mediaSequence-c.mediaSequence));e.segments.forEach(function(a){x(a,e.resolvedUri)});for(c=0;c<
a.playlists.length;c++)a.playlists[c].uri===b.uri&&(a.playlists[c]=e);a.playlists[b.uri]=e;return a};f.updateMaster=q;var B=function(a){for(var b=a.playlists.length;b--;){var c=a.playlists[b];a.playlists[c.uri]=c;c.resolvedUri=(0,r["default"])(a.uri,c.uri);c.attributes||(c.attributes={},w.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};f.setupMediaPlaylists=B;var C=function(a){["AUDIO","SUBTITLES"].forEach(function(b){for(var c in a.mediaGroups[b])for(var e in a.mediaGroups[b][c]){var d=
a.mediaGroups[b][c][e];d.uri&&(d.resolvedUri=(0,r["default"])(a.uri,d.uri))}})};f.resolveMediaGroupUris=C;var E=function(a,b){var c=a.segments[a.segments.length-1];return b&&c&&c.duration?1E3*c.duration:500*(a.targetDuration||10)};f.refreshDelay=E;a=function(a){function c(a,b,d){var e=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");m(Object.getPrototypeOf(c.prototype),"constructor",this).call(this);this.srcUrl=a;this.hls_=b;this.withCredentials=d;if(!this.srcUrl)throw Error("A non-empty playlist URL is required");
this.state="HAVE_NOTHING";this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===e.state&&(e.state="HAVE_CURRENT_METADATA",e.request=e.hls_.xhr({uri:(0,r["default"])(e.master.uri,e.media().uri),withCredentials:e.withCredentials},function(a,b){if(e.request){if(a)return e.playlistRequestError(e.request,e.media().uri,"HAVE_METADATA");e.haveMetadata(e.request,e.media().uri)}}))})}e(c,a);b(c,[{key:"playlistRequestError",value:function(a,b,d){this.request=null;d&&(this.state=d);this.error={playlist:this.master.playlists[b],
status:a.status,message:"HLS playlist request error at URL: "+b,responseText:a.responseText,code:500<=a.status?4:2};this.trigger("error")}},{key:"haveMetadata",value:function(a,b){var d=this;this.request=null;this.state="HAVE_METADATA";var c=new v["default"].Parser;c.push(a.responseText);c.end();c.manifest.uri=b;c.manifest.attributes=c.manifest.attributes||{};a=q(this.master,c.manifest);this.targetDuration=c.manifest.targetDuration;a?(this.master=a,this.media_=this.master.playlists[c.manifest.uri]):
this.trigger("playlistunchanged");this.media().endList||(A["default"].clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=A["default"].setTimeout(function(){d.trigger("mediaupdatetimeout")},E(this.media(),!!a)));this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest();A["default"].clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var a=this.request;this.request=null;a.onreadystatechange=null;a.abort()}}},{key:"media",
value:function(a){var b=this;if(!a)return this.media_;if("HAVE_NOTHING"===this.state)throw Error("Cannot switch media playlist from "+this.state);var d=this.state;if("string"===typeof a){if(!this.master.playlists[a])throw Error("Unknown playlist URI: "+a);a=this.master.playlists[a]}var c=!this.media_||a.uri!==this.media_.uri;if(this.master.playlists[a.uri].endList)this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=a,c&&
(this.trigger("mediachanging"),this.trigger("mediachange"));else if(c){this.state="SWITCHING_MEDIA";if(this.request){if((0,r["default"])(this.master.uri,a.uri)===this.request.url)return;this.request.onreadystatechange=null;this.request.abort();this.request=null}this.media_&&this.trigger("mediachanging");this.request=this.hls_.xhr({uri:(0,r["default"])(this.master.uri,a.uri),withCredentials:this.withCredentials},function(c,e){if(b.request){if(c)return b.playlistRequestError(b.request,a.uri,d);b.haveMetadata(e,
a.uri);"HAVE_MASTER"===d?b.trigger("loadedmetadata"):b.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest();A["default"].clearTimeout(this.mediaUpdateTimeout);"HAVE_NOTHING"===this.state&&(this.started=!1);"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(a){var b=this;A["default"].clearTimeout(this.mediaUpdateTimeout);var d=this.media();a?this.mediaUpdateTimeout=
A["default"].setTimeout(function(){return b.load()},d?d.targetDuration/2*1E3:5E3):this.started?d&&!d.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var a=this;this.started=!0;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(b,d){if(a.request){a.request=null;if(b)return a.error={status:d.status,message:"HLS playlist request error at URL: "+a.srcUrl,responseText:d.responseText,code:2},"HAVE_NOTHING"===
a.state&&(a.started=!1),a.trigger("error");b=new v["default"].Parser;b.push(d.responseText);b.end();a.state="HAVE_MASTER";b.manifest.uri=a.srcUrl;if(b.manifest.playlists)a.master=b.manifest,B(a.master),C(a.master),a.trigger("loadedplaylist"),a.request||a.media(b.manifest.playlists[0]);else return a.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:A["default"].location.href,playlists:[{uri:a.srcUrl}]},a.master.playlists[a.srcUrl]=a.master.playlists[0],a.master.playlists[0].resolvedUri=
a.srcUrl,a.master.playlists[0].attributes=a.master.playlists[0].attributes||{},a.haveMetadata(d,a.srcUrl),a.trigger("loadedmetadata")}})}}]);return c}(w.EventTarget);f["default"]=a}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./resolve-url":15,"global/window":32,"m3u8-parser":33}],10:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=(c=g("./config"))&&c.__esModule?c:{"default":c},h=(c=g("./playlist"))&&
c.__esModule?c:{"default":c},e=g("./util/codecs.js"),b=function(a,b){return a?(a=window.getComputedStyle(a))?a[b]:"":""},m=function(a,b){var c=a.slice();a.sort(function(a,e){var f=b(a,e);return 0===f?c.indexOf(a)-c.indexOf(e):f})},n=function(a,b){var c=void 0,e=void 0;a.attributes.BANDWIDTH&&(c=a.attributes.BANDWIDTH);c=c||window.Number.MAX_VALUE;b.attributes.BANDWIDTH&&(e=b.attributes.BANDWIDTH);e=e||window.Number.MAX_VALUE;return c-e};f.comparePlaylistBandwidth=n;f.comparePlaylistResolution=function(a,
b){var c=void 0,e=void 0;a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width&&(c=a.attributes.RESOLUTION.width);c=c||window.Number.MAX_VALUE;b.attributes.RESOLUTION&&b.attributes.RESOLUTION.width&&(e=b.attributes.RESOLUTION.width);e=e||window.Number.MAX_VALUE;return c===e&&a.attributes.BANDWIDTH&&b.attributes.BANDWIDTH?a.attributes.BANDWIDTH-b.attributes.BANDWIDTH:c-e};var r=function(b,c,e,f){b=b.playlists.map(function(a){var b=a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width;var d=a.attributes.RESOLUTION&&
a.attributes.RESOLUTION.height;var c=(c=a.attributes.BANDWIDTH)||window.Number.MAX_VALUE;return{bandwidth:c,width:b,height:d,playlist:a}});m(b,function(a,b){return a.bandwidth-b.bandwidth});b=b.filter(function(a){return!h["default"].isIncompatible(a.playlist)});var g=b.filter(function(a){return h["default"].isEnabled(a.playlist)});g.length||(g=b.filter(function(a){return!h["default"].isDisabled(a.playlist)}));var n=g.filter(function(b){return b.bandwidth*a["default"].BANDWIDTH_VARIANCE<c}),r=n[n.length-
1],y=n.filter(function(a){return a.bandwidth===r.bandwidth})[0];n=n.filter(function(a){return a.width&&a.height});m(n,function(a,b){return a.width-b.width});var w=n.filter(function(a){return a.width===e&&a.height===f});r=w[w.length-1];w=w.filter(function(a){return a.bandwidth===r.bandwidth})[0];var v=void 0,A=void 0;A=void 0;w||(v=n.filter(function(a){return a.width>e||a.height>f}),A=v.filter(function(a){return a.width===v[0].width&&a.height===v[0].height}),r=A[A.length-1],A=A.filter(function(a){return a.bandwidth===
r.bandwidth})[0]);return(b=A||w||y||g[0]||b[0])?b.playlist:null};f.simpleSelector=r;f.lastBandwidthSelector=function(){return r(this.playlists.master,this.systemBandwidth,parseInt(b(this.tech_.el(),"width"),10),parseInt(b(this.tech_.el(),"height"),10))};f.movingAverageBandwidthSelector=function(a){var c=-1;if(0>a||1<a)throw Error("Moving average bandwidth decay must be between 0 and 1.");return function(){0>c&&(c=this.systemBandwidth);c=a*this.systemBandwidth+(1-a)*c;return r(this.playlists.master,
c,parseInt(b(this.tech_.el(),"width"),10),parseInt(b(this.tech_.el(),"height"),10))}};f.minRebufferMaxBandwidthSelector=function(a){var b=a.currentTime,c=a.bandwidth,e=a.duration,f=a.segmentDuration,g=a.timeUntilRebuffer,r=a.currentTimeline,w=a.syncController;a=a.master.playlists.filter(function(a){return!h["default"].isIncompatible(a)});var E=a.filter(h["default"].isEnabled);E.length||(E=a.filter(function(a){return!h["default"].isDisabled(a)}));a=E.filter(h["default"].hasAttribute.bind(null,"BANDWIDTH")).map(function(a){var m=
w.getSyncPoint(a,e,r,b)?1:2;m=h["default"].estimateSegmentRequestTime(f,c,a)*m-g;return{playlist:a,rebufferingImpact:m}});E=a.filter(function(a){return 0>=a.rebufferingImpact});m(E,function(a,b){return n(b.playlist,a.playlist)});if(E.length)return E[0];m(a,function(a,b){return a.rebufferingImpact-b.rebufferingImpact});return a[0]||null};f.lowestBitrateCompatibleVariantSelector=function(){var a=this.playlists.master.playlists.filter(h["default"].isEnabled);m(a,function(a,b){return n(a,b)});return a.filter(function(a){return(0,
e.parseCodecs)(a.attributes.CODECS).videoCodec})[0]||null}},{"./config":3,"./playlist":11,"./util/codecs.js":19}],11:[function(g,c,f){(function(a){Object.defineProperty(f,"__esModule",{value:!0});var c="undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null,e=(a=g("global/window"))&&a.__esModule?a:{"default":a},b=function(a,b){var d=0;b-=a.mediaSequence;var c=a.segments[b];if(c){if("undefined"!==typeof c.start)return{result:c.start,precise:!0};if("undefined"!==typeof c.end)return{result:c.end-
c.duration,precise:!0}}for(;b--;){c=a.segments[b];if("undefined"!==typeof c.end)return{result:d+c.end,precise:!0};d+=c.duration;if("undefined"!==typeof c.start)return{result:d+c.start,precise:!0}}return{result:d,precise:!1}},m=function(a,d,c){"undefined"===typeof d&&(d=a.mediaSequence+a.segments.length);if(d<a.mediaSequence)return 0;var e=b(a,d);if(e.precise)return e.result;a:{var f=0;for(var g=d-a.mediaSequence;g<a.segments.length;g++){d=a.segments[g];if("undefined"!==typeof d.start){a=d.start-f;
f=!0;break a}f+=d.duration;if("undefined"!==typeof d.end){a=d.end-f;f=!0;break a}}a=-1;f=!1}return f?a:e.result+c},n=function(a,b,d){if(!a)return 0;"number"!==typeof d&&(d=0);if("undefined"===typeof b){if(a.totalDuration)return a.totalDuration;if(!a.endList)return e["default"].Infinity}return m(a,b,d)};f.duration=n;var r=function(a,b,d){var c=0;b>d&&(d=[d,b],b=d[0],d=d[1]);if(0>b){for(;b<Math.min(0,d);b++)c+=a.targetDuration;b=0}for(;b<d;b++)c+=a.segments[b].duration;return c};f.sumDurations=r;var w=
function(a){if(!a.segments.length)return 0;for(var b=a.segments.length-1,d=a.segments[b].duration||a.targetDuration,c=d+2*a.targetDuration;b--&&!(d+=a.segments[b].duration,d>=c););return Math.max(0,b)};f.safeLiveIndex=w;var v=function(a,b,d){if(!a||!a.segments)return null;if(a.endList)return n(a);if(null===b)return null;b=b||0;d=d?w(a):a.segments.length;return m(a,a.mediaSequence+d,b)};f.playlistEnd=v;a=function(a,b){var d=b||0;a=v(a,b,!0);return null===a?(0,c.createTimeRange)():(0,c.createTimeRange)(d,
a)};f.seekable=a;var A=function(a,b){if(0===b-Math.floor(b))return b+.1*a;for(var d=b.toString().split(".")[1].length,c=1;c<=d;c++){var e=Math.pow(10,c),f=b*e;if(0===f-Math.floor(f)||c===d)return(f+a)/e}},y=A.bind(null,1),x=A.bind(null,-1);A=function(a,b,d,c){var e,f=a.segments.length,g=b-c;if(0>g){if(0<d)for(e=d-1;0<=e;e--){var h=a.segments[e];g+=x(h.duration);if(0<g)return{mediaIndex:e,startTime:c-r(a,d,e)}}return{mediaIndex:0,startTime:b}}if(0>d){for(e=d;0>e;e++)if(g-=a.targetDuration,0>g)return{mediaIndex:0,
startTime:b};d=0}for(e=d;e<f;e++)if(h=a.segments[e],g-=y(h.duration),0>g)return{mediaIndex:e,startTime:c+r(a,d,e)};return{mediaIndex:f-1,startTime:b}};f.getMediaInfoForTime=A;var q=function(a){return a.excludeUntil&&a.excludeUntil>Date.now()};f.isBlacklisted=q;var B=function(a){return a.excludeUntil&&Infinity===a.excludeUntil};f.isIncompatible=B;var C=function(a){var b=q(a);return!a.disabled&&!b};f.isEnabled=C;var E=function(a){return a.disabled};f.isDisabled=E;var I=function(a){for(var b=0;b<a.segments.length;b++)if(a.segments[b].key)return!0;
return!1};f.isAes=I;var F=function(a){for(var b=0;b<a.segments.length;b++)if(a.segments[b].map)return!0;return!1};f.isFmp4=F;var J=function(a,b){return b.attributes&&b.attributes[a]};f.hasAttribute=J;var L=function(a,b,d){var c=3>=arguments.length||void 0===arguments[3]?0:arguments[3];return J("BANDWIDTH",d)?(a*d.attributes.BANDWIDTH-8*c)/b:NaN};f.estimateSegmentRequestTime=L;var d=function(a,b){if(1===a.playlists.length)return!0;var d=b.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===a.playlists.filter(function(a){return C(a)?
(a.attributes.BANDWIDTH||0)<d:!1}).length};f.isLowestEnabledRendition=d;f["default"]={duration:n,seekable:a,safeLiveIndex:w,getMediaInfoForTime:A,isEnabled:C,isDisabled:E,isBlacklisted:q,isIncompatible:B,playlistEnd:v,isAes:I,isFmp4:F,hasAttribute:J,estimateSegmentRequestTime:L,isLowestEnabledRendition:d}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"global/window":32}],12:[function(g,c,f){(function(a){Object.defineProperty(f,
"__esModule",{value:!0});var g=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],e=!0,f=!1,g=void 0;try{for(var h=a[Symbol.iterator](),m;!(e=(m=h.next()).done)&&(c.push(m.value),!b||c.length!==b);e=!0);}catch(E){f=!0,g=E}finally{try{if(!e&&h["return"])h["return"]()}finally{if(f)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),e=(a="undefined"!==typeof window?window.videojs:"undefined"!==typeof a?
a.videojs:null)&&a.__esModule?a:{"default":a},b=1/30,m=function(a,b){b=g(b,2);return Math.min(Math.max(b[0],a),b[1])},n=function(a,b){var c=[],f;if(a&&a.length)for(f=0;f<a.length;f++)b(a.start(f),a.end(f))&&c.push([a.start(f),a.end(f)]);return e["default"].createTimeRanges(c)},r=function(a,b){var c=null,f=null,g=0,h=[],m=[];if(!(a&&a.length&&b&&b.length))return e["default"].createTimeRange();for(var n=a.length;n--;)h.push({time:a.start(n),type:"start"}),h.push({time:a.end(n),type:"end"});for(n=b.length;n--;)h.push({time:b.start(n),
type:"start"}),h.push({time:b.end(n),type:"end"});h.sort(function(a,b){return a.time-b.time});for(n=0;n<h.length;n++)"start"===h[n].type?(g++,2===g&&(c=h[n].time)):"end"===h[n].type&&(g--,1===g&&(f=h[n].time)),null!==c&&null!==f&&(m.push([c,f]),f=c=null);return e["default"].createTimeRanges(m)};f["default"]={findRange:function(a,c){return n(a,function(a,e){return a-b<=c&&e+b>=c})},findNextRange:function(a,c){return n(a,function(a){return a-b>=c})},findGaps:function(a){if(2>a.length)return e["default"].createTimeRanges();
for(var b=[],c=1;c<a.length;c++){var f=a.end(c-1),g=a.start(c);b.push([f,g])}return e["default"].createTimeRanges(b)},findSoleUncommonTimeRangesEnd:function(a,b){var c=void 0,e=void 0,f=void 0,g=[],h=[],m=function(a){return a[0]<=f&&a[1]>=f};if(a)for(c=0;c<a.length;c++)e=a.start(c),f=a.end(c),h.push([e,f]);if(b)for(c=0;c<b.length;c++)e=b.start(c),f=b.end(c),h.some(m)||g.push(f);return 1!==g.length?null:g[0]},getSegmentBufferedPercent:function(a,b,c,f){b=a+b;var g=e["default"].createTimeRanges([[a,
b]]),h=e["default"].createTimeRanges([[m(a,[c,b]),b]]);if(h.start(0)===h.end(0))return 0;a=g.end(0)-g.start(0);b=h.end(0)-h.start(0);b=a-b;h=r(h,f);f=r(g,f);for(var n=g=0,y=h.length;y--;)g+=h.end(y)-h.start(y),h.start(y)===c&&(g+=b);for(y=f.length;y--;)n+=f.end(y)-f.start(y);c=Math.max(g,n)/a*100;return isNaN(c)||Infinity===c||-Infinity===c?0:c},TIME_FUDGE_FACTOR:b,SAFE_TIME_DELTA:3*b,printableRange:function(a){var b=[];if(!a||!a.length)return"";for(var c=0;c<a.length;c++)b.push(a.start(c)+" => "+
a.end(c));return b.join(", ")},timeUntilRebuffer:function(a,b){var c=2>=arguments.length||void 0===arguments[2]?1:arguments[2];return((a.length?a.end(a.length-1):0)-b)/c}};c.exports=f["default"]}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],13:[function(g,c,f){(function(a){Object.defineProperty(f,"__esModule",{value:!0});var g=(a="undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null)&&a.__esModule?
a:{"default":a},e={errorInterval:30,getSource:function(a){var b=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_;return a(b)}},b=function n(a,b){var c=0,f=0,h=g["default"].mergeOptions(e,b);a.ready(function(){a.trigger({type:"usage",name:"hls-error-reload-initialized"})});var x=function(){f&&a.currentTime(f)},q=function(b){null!==b&&void 0!==b&&(f=Infinity!==a.duration()&&a.currentTime()||0,a.one("loadedmetadata",x),a.src(b),a.trigger({type:"usage",name:"hls-error-reload"}),a.play())},r=function(){if(Date.now()-
c<1E3*h.errorInterval)a.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(h.getSource&&"function"===typeof h.getSource)return c=Date.now(),h.getSource.call(a,q);g["default"].log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},w=function I(){a.off("loadedmetadata",x);a.off("error",r);a.off("dispose",I)};a.on("error",r);a.on("dispose",w);a.reloadSourceOnError=function(b){w();n(a,b)}};f["default"]=function(a){b(this,a)};c.exports=f["default"]}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],14:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=g("./playlist.js"),h=function(b,c,e){return function(f){var g=b.master.playlists[c],h=(0,a.isIncompatible)(g),m=(0,a.isEnabled)(g);if("undefined"===typeof f)return m;f?delete g.disabled:g.disabled=!0;f===m||h||(e(),f?b.trigger("renditionenabled"):b.trigger("renditiondisabled"));return f}},e=function m(a,c,e){if(!(this instanceof
m))throw new TypeError("Cannot call a class as a function");var f=a.masterPlaylistController_.fastQualityChange_.bind(a.masterPlaylistController_);if(c.attributes.RESOLUTION){var g=c.attributes.RESOLUTION;this.width=g.width;this.height=g.height}this.bandwidth=c.attributes.BANDWIDTH;this.id=e;this.enabled=h(a.playlists,c.uri,f)};f["default"]=function(c){var f=c.playlists;c.representations=function(){return f.master.playlists.filter(function(c){return!(0,a.isIncompatible)(c)}).map(function(a,f){return new e(c,
a,a.uri)})}};c.exports=f["default"]},{"./playlist.js":11}],15:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=g("url-toolkit"),h=a&&a.__esModule?a:{"default":a},e=(g=g("global/window"))&&g.__esModule?g:{"default":g};f["default"]=function(a,c){if(/^[a-z]+:/i.test(c))return c;/\/\//i.test(a)||(a=h["default"].buildAbsoluteURL(e["default"].location.href,a));return h["default"].buildAbsoluteURL(a,c)};c.exports=f["default"]},{"global/window":32,"url-toolkit":63}],16:[function(g,
c,f){(function(a){function c(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});var b=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=
b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),m=function(a,b,c){var d=!0;for(;d;)if(null===a&&(a=Function.prototype),d=Object.getOwnPropertyDescriptor(a,b),void 0===d){a=Object.getPrototypeOf(a);if(null===a)break;d=!0}else{if("value"in d)return d.value;b=d.get;return void 0===b?void 0:b.call(c)}},n=g("./playlist"),r=c(n),w=c("undefined"!==typeof window?window.videojs:
"undefined"!==typeof a?a.videojs:null);a=g("./source-updater");var v=c(a);a=g("./config");var A=c(a);a=g("global/window");var y=c(a);a=g("videojs-contrib-media-sources/es5/remove-cues-from-track.js");var x=c(a),q=g("./bin-utils"),B=g("./media-segment-request"),C=g("./ranges"),E=g("./playlist-selectors"),I=function(a,b,c){if(!a||!b)return!1;c=c===a.segments.length;return a.endList&&"open"===b.readyState&&c},F=function(a,b,c){return"main"===a&&b&&c?c.containsAudio||c.containsVideo?b.containsVideo&&
!c.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!b.containsVideo&&c.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};f.illegalMediaSwitch=
F;var J=function(a,b,c){a=a.length&&0<a.start(0)&&a.start(0)<b?a.start(0):b-30;return Math.min(a,b-c)};f.safeBackBufferTrimTime=J;a=function(a){function d(a){var b=this,c=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");m(Object.getPrototypeOf(d.prototype),"constructor",this).call(this);if(!a)throw new TypeError("Initialization settings are required");if("function"!==typeof a.currentTime)throw new TypeError("No currentTime getter specified");
if(!a.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT";this.bandwidth=a.bandwidth;this.throughput={rate:0,count:0};this.roundTrip=NaN;this.resetStats_();this.mediaIndex=null;this.hasPlayed_=a.hasPlayed;this.currentTime_=a.currentTime;this.seekable_=a.seekable;this.seeking_=a.seeking;this.duration_=a.duration;this.mediaSource_=a.mediaSource;this.hls_=a.hls;this.loaderType_=a.loaderType;this.startingMedia_=void 0;this.segmentMetadataTrack_=a.segmentMetadataTrack;this.goalBufferLength_=
a.goalBufferLength;this.checkBufferTimeout_=null;this.error_=void 0;this.currentTimeline_=-1;this.activeInitSegmentId_=this.xhrOptions_=this.sourceUpdater_=this.mimeType_=this.pendingSegment_=null;this.initSegments_={};this.decrypter_=a.decrypter;this.syncController_=a.syncController;this.syncPoint_={segmentIndex:0,time:0};this.syncController_.on("syncinfoupdate",function(){return b.trigger("syncinfoupdate")});this.mediaSource_.addEventListener("sourceopen",function(){return b.ended_=!1});this.fetchAtBuffer_=
!1;c.debug&&(this.logger_=w["default"].log.bind(w["default"],"segment-loader",this.loaderType_,"->"))}e(d,a);b(d,[{key:"resetStats_",value:function(){this.mediaSecondsLoaded=this.mediaTransferDuration=this.mediaRequestsErrored=this.mediaRequestsTimedout=this.mediaRequestsAborted=this.mediaRequests=this.mediaBytesTransferred=0}},{key:"dispose",value:function(){this.state="DISPOSED";this.pause();this.abort_();this.sourceUpdater_&&this.sourceUpdater_.dispose();this.resetStats_()}},{key:"abort",value:function(){"WAITING"!==
this.state?this.pendingSegment_&&(this.pendingSegment_=null):(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_())}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests();this.pendingSegment_=null}},{key:"error",value:function(a){"undefined"!==typeof a&&(this.error_=a);this.pendingSegment_=null;return this.error_}},{key:"endOfStream",value:function(){this.ended_=!0;this.pause();this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?
this.sourceUpdater_.buffered():w["default"].createTimeRanges()}},{key:"initSegment",value:function(a){var b=1>=arguments.length||void 0===arguments[1]?!1:arguments[1];if(!a)return null;var d=(0,q.initSegmentId)(a),c=this.initSegments_[d];b&&!c&&a.bytes&&(this.initSegments_[d]=c={resolvedUri:a.resolvedUri,byterange:a.byterange,bytes:a.bytes});return c||a}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},
{key:"load",value:function(){this.monitorBuffer_();if(this.playlist_){this.syncController_.setDateTimeMapping(this.playlist_);if("INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){this.state="READY";this.sourceUpdater_=new v["default"](this.mediaSource_,this.mimeType_);this.resetEverything();return this.monitorBuffer_()}},{key:"playlist",value:function(a){var b=
1>=arguments.length||void 0===arguments[1]?{}:arguments[1];if(a){var d=this.playlist_,c=this.pendingSegment_;this.playlist_=a;this.xhrOptions_=b;this.hasPlayed_()||(a.syncInfo={mediaSequence:a.mediaSequence,time:0});this.trigger("syncinfoupdate");if("INIT"===this.state&&this.couldBeginLoading_())return this.init_();d&&d.uri===a.uri?(b=a.mediaSequence-d.mediaSequence,this.logger_("mediaSequenceDiff",b),null!==this.mediaIndex&&(this.mediaIndex-=b),c&&(c.mediaIndex-=b,0<=c.mediaIndex&&(c.segment=a.segments[c.mediaIndex])),
this.syncController_.saveExpiredSegmentInfo(d,a)):null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(y["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(a){this.mimeType_||(this.mimeType_=a,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1;this.resetLoader();
this.remove(0,this.duration_());this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1;this.resyncLoader()}},{key:"resyncLoader",value:function(){this.syncPoint_=this.mediaIndex=null;this.abort()}},{key:"remove",value:function(a,b){this.sourceUpdater_&&this.sourceUpdater_.remove(a,b);(0,x["default"])(a,b,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&y["default"].clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=
y["default"].setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_();this.checkBufferTimeout_&&y["default"].clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=y["default"].setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,
this.currentTime_()));var a=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(a)if(I(this.playlist_,this.mediaSource_,a.mediaIndex))this.endOfStream();else if(a.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_()){if(a.timeline!==this.currentTimeline_||null!==a.startOfSegment&&a.startOfSegment<this.sourceUpdater_.timestampOffset())this.syncController_.reset(),a.timestampOffset=
a.startOfSegment;this.loadSegment_(a)}}}},{key:"checkBuffer_",value:function(a,b,d,c,e,f){var g=0;a.length&&(g=a.end(a.length-1));a=Math.max(0,g-e);if(!b.segments.length||a>=this.goalBufferLength_()||!c&&1<=a)return null;this.logger_("checkBuffer_","mediaIndex:",d,"hasPlayed:",c,"currentTime:",e,"syncPoint:",f,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",a);if(null===f)return d=this.getSyncSegmentCandidate_(b),this.logger_("getSync","mediaIndex:",d),this.generateSegmentInfo_(b,d,null,!0);
if(null!==d)return this.logger_("walkForward","mediaIndex:",d+1),g=(c=b.segments[d])&&c.end?c.end:g,this.generateSegmentInfo_(b,d+1,g,!1);g=this.fetchAtBuffer_?r["default"].getMediaInfoForTime(b,g,f.segmentIndex,f.time):r["default"].getMediaInfoForTime(b,e,f.segmentIndex,f.time);d=g.mediaIndex;g=g.startTime;this.logger_("getMediaIndexForTime","mediaIndex:",d,"startOfSegment:",g);return this.generateSegmentInfo_(b,d,g,!1)}},{key:"getSyncSegmentCandidate_",value:function(a){var b=this;if(-1===this.currentTimeline_)return 0;
var d=a.segments.map(function(a,b){return{timeline:a.timeline,segmentIndex:b}}).filter(function(a){return a.timeline===b.currentTimeline_});return d.length?d[Math.min(d.length-1,1)].segmentIndex:Math.max(a.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(a,b,d,c){if(0>b||b>=a.segments.length)return null;var e=a.segments[b];return{requestId:"segment-loader-"+Math.random(),uri:e.resolvedUri,mediaIndex:b,isSyncRequest:c,startOfSegment:d,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,
timeline:e.timeline,duration:e.duration,segment:e}}},{key:"abortRequestEarly_",value:function(a){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||1E3>Date.now()-(a.firstBytesReceivedAt||Date.now()))return!1;var b=this.currentTime_(),d=a.bandwidth,c=this.pendingSegment_.duration,e=r["default"].estimateSegmentRequestTime(c,d,this.playlist_,a.bytesReceived);a=(0,C.timeUntilRebuffer)(this.buffered_(),b,this.hls_.tech_.playbackRate())-1;if(e<=a)return!1;if(b=
(0,E.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:b,bandwidth:d,duration:this.duration_(),segmentDuration:c,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_})){d=e-a-b.rebufferingImpact;c=.5;a<=C.TIME_FUDGE_FACTOR&&(c=1);if(!b.playlist||b.playlist.uri===this.playlist_.uri||d<c)return!1;this.bandwidth=b.playlist.attributes.BANDWIDTH*A["default"].BANDWIDTH_VARIANCE+1;this.abort();this.trigger("earlyabort");return!0}}},{key:"handleProgress_",
value:function(a,b){this.pendingSegment_&&b.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(b.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(a){this.state="WAITING";this.pendingSegment_=a;this.trimBackBuffer_(a);a.abortRequests=(0,B.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(a),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(a){a=J(this.seekable_(),
this.currentTime_(),this.playlist_.targetDuration||10);0<a&&this.remove(0,a)}},{key:"createSimplifiedSegmentObj_",value:function(a){var b=a.segment,d={resolvedUri:b.resolvedUri,byterange:b.byterange,requestId:a.requestId};b.key&&(a=b.key.iv||new Uint32Array([0,0,0,a.mediaIndex+a.playlist.mediaSequence]),d.key={resolvedUri:b.key.resolvedUri,iv:a});b.map&&(d.map=this.initSegment(b.map));return d}},{key:"segmentRequestFinished_",value:function(a,b){this.mediaRequests+=1;b.stats&&(this.mediaBytesTransferred+=
b.stats.bytesReceived,this.mediaTransferDuration+=b.stats.roundTripTime);this.pendingSegment_?b.requestId===this.pendingSegment_.requestId&&(a?(this.pendingSegment_=null,this.state="READY",a.code===B.REQUEST_ERRORS.ABORTED?this.mediaRequestsAborted+=1:(this.pause(),a.code===B.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(a),this.trigger("error")))):(this.bandwidth=b.stats.bandwidth,
this.roundTrip=b.stats.roundTripTime,b.map&&(b.map=this.initSegment(b.map,!0)),this.processSegmentResponse_(b))):this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(a){var b=this.pendingSegment_;b.bytes=a.bytes;a.map&&(b.segment.map.bytes=a.map.bytes);b.endOfAllRequests=a.endOfAllRequests;this.handleSegment_()}},{key:"handleSegment_",value:function(){var a=this;if(this.pendingSegment_){var b=this.pendingSegment_,d=b.segment,c=this.syncController_.probeSegmentInfo(b);"undefined"===
typeof this.startingMedia_&&c&&(c.containsAudio||c.containsVideo)&&(this.startingMedia_={containsAudio:c.containsAudio,containsVideo:c.containsVideo});(c=F(this.loaderType_,this.startingMedia_,c))?(this.error({message:c,blacklistDuration:Infinity}),this.trigger("error")):b.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY"):(null!==b.timestampOffset&&b.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(b.timestampOffset),
this.trigger("timestampoffset")),c=this.syncController_.mappingForTimeline(b.timeline),null!==c&&this.trigger({type:"segmenttimemapping",mapping:c}),this.state="APPENDING",d.map&&function(){var b=(0,q.initSegmentId)(d.map);if(!a.activeInitSegmentId_||a.activeInitSegmentId_!==b){var c=a.initSegment(d.map);a.sourceUpdater_.appendBuffer(c.bytes,function(){a.activeInitSegmentId_=b})}}(),b.byteLength=b.bytes.byteLength,this.mediaSecondsLoaded="number"===typeof d.start&&"number"===typeof d.end?this.mediaSecondsLoaded+
(d.end-d.start):this.mediaSecondsLoaded+d.duration,this.sourceUpdater_.appendBuffer(b.bytes,this.handleUpdateEnd_.bind(this)))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_);if(this.pendingSegment_){var a=this.pendingSegment_,b=a.segment,d=null!==this.mediaIndex;this.pendingSegment_=null;this.recordThroughput_(a);this.addSegmentMetadataCue_(a);this.state="READY";this.mediaIndex=a.mediaIndex;this.fetchAtBuffer_=
!0;this.currentTimeline_=a.timeline;this.trigger("syncinfoupdate");b.end&&this.currentTime_()-b.end>3*a.playlist.targetDuration?this.resetEverything():(d&&this.trigger("bandwidthupdate"),this.trigger("progress"),I(a.playlist,this.mediaSource_,a.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}else this.state="READY",this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(a){var b=this.throughput.rate,d=Date.now()-a.endOfAllRequests+1;this.throughput.rate+=
(Math.floor(a.byteLength/d*8E3)-b)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(a){if(this.segmentMetadataTrack_){var b=a.segment,d=b.start;b=b.end;if("number"===typeof d&&isFinite(d)&&"number"===typeof b&&isFinite(b)){(0,x["default"])(d,b,this.segmentMetadataTrack_);var c=y["default"].WebKitDataCue||y["default"].VTTCue;a={bandwidth:a.playlist.attributes.BANDWIDTH,resolution:a.playlist.attributes.RESOLUTION,codecs:a.playlist.attributes.CODECS,
byteLength:a.byteLength,uri:a.uri,timeline:a.timeline,playlist:a.playlist.uri,start:d,end:b};var e=JSON.stringify(a);d=new c(d,b,e);d.value=a;this.segmentMetadataTrack_.addCue(d)}}}}]);return d}(w["default"].EventTarget);f["default"]=a}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bin-utils":2,"./config":3,"./media-segment-request":7,"./playlist":11,"./playlist-selectors":10,"./ranges":12,"./source-updater":17,"global/window":32,
"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],17:[function(g,c,f){(function(a){Object.defineProperty(f,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=(a="undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null)&&a.__esModule?a:
{"default":a},b=function(){};a=function(){function a(b,c){var e=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var f=function(){e.sourceBuffer_=b.addSourceBuffer(c);e.onUpdateendCallback_=function(){var a=e.pendingCallback_;e.pendingCallback_=null;a&&a();e.runCallback_()};e.sourceBuffer_.addEventListener("updateend",e.onUpdateendCallback_);e.runCallback_()};this.callbacks_=[];this.pendingCallback_=null;this.timestampOffset_=0;this.mediaSource=b;this.processedAppend_=
!1;"closed"===b.readyState?b.addEventListener("sourceopen",f):f()}g(a,[{key:"abort",value:function(a){var b=this;this.processedAppend_&&this.queueCallback_(function(){b.sourceBuffer_.abort()},a)}},{key:"appendBuffer",value:function(a,b){var c=this;this.processedAppend_=!0;this.queueCallback_(function(){c.sourceBuffer_.appendBuffer(a)},b)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:e["default"].createTimeRanges()}},{key:"remove",value:function(a,c){var e=
this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.remove(a,c)},b)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(a){var b=this;"undefined"!==typeof a&&(this.queueCallback_(function(){b.sourceBuffer_.timestampOffset=a}),this.timestampOffset_=a);return this.timestampOffset_}},{key:"queueCallback_",value:function(a,b){this.callbacks_.push([a.bind(this),b]);this.runCallback_()}},
{key:"runCallback_",value:function(){if(!this.updating()&&this.callbacks_.length){var a=this.callbacks_.shift();this.pendingCallback_=a[1];a[0]()}}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_);this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]);return a}();f["default"]=a;c.exports=f["default"]}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{}],18:[function(g,c,f){(function(a){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||
!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),b=g("mux.js/lib/mp4/probe"),m=b&&b.__esModule?b:{"default":b},n=g("mux.js/lib/tools/ts-inspector.js"),r=g("./playlist"),w=(a="undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null)&&a.__esModule?a:{"default":a},v=[{name:"VOD",run:function(a,b,c,e,f){return Infinity!==c?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",
run:function(a,b,c,e,f){return a.datetimeToDisplayTime&&b.dateTimeObject?{time:b.dateTimeObject.getTime()/1E3+a.datetimeToDisplayTime,segmentIndex:0}:null}},{name:"Segment",run:function(a,b,c,e,f){a=b.segments||[];c=b=null;f=f||0;for(var g=0;g<a.length;g++){var h=a[g];if(h.timeline===e&&"undefined"!==typeof h.start){var m=Math.abs(f-h.start);if(null!==c&&c<m)break;if(!b||null===c||c>=m)c=m,b={time:h.start,segmentIndex:g}}}return b}},{name:"Discontinuity",run:function(a,b,c,e,f){c=null;f=f||0;if(b.discontinuityStarts&&
b.discontinuityStarts.length){e=null;for(var g=0;g<b.discontinuityStarts.length;g++){var h=b.discontinuityStarts[g],m=a.discontinuities[b.discontinuitySequence+g+1];if(m){var n=Math.abs(f-m.time);if(null!==e&&e<n)break;if(!c||null===e||e>=n)e=n,c={time:m.time,segmentIndex:h}}}}return c}},{name:"Playlist",run:function(a,b,c,e,f){return b.syncInfo?{time:b.syncInfo.time,segmentIndex:b.syncInfo.mediaSequence-b.mediaSequence}:null}}];f.syncPointStrategies=v;a=function(a){function b(){var a=0>=arguments.length||
void 0===arguments[0]?{}:arguments[0];if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a:{var c=Object.getPrototypeOf(b.prototype),e="constructor";var f=this;var g=!0;for(;g;)if(null===c&&(c=Function.prototype),g=Object.getOwnPropertyDescriptor(c,e),void 0===g){c=Object.getPrototypeOf(c);if(null===c)break;g=!0}else{if("value"in g){f=g.value;break a}e=g.get;f=void 0===e?void 0:e.call(f);break a}f=void 0}f.call(this);this.inspectCache_=void 0;this.timelines=[];this.discontinuities=
[];this.datetimeToDisplayTime=null;a.debug&&(this.logger_=w["default"].log.bind(w["default"],"sync-controller ->"))}c(b,a);e(b,[{key:"getSyncPoint",value:function(a,b,c,e){a=this.runStrategies_(a,b,c,e);return a.length?this.selectSyncPoint_(a,{key:"time",value:e}):null}},{key:"getExpiredTime",value:function(a,b){if(!a||!a.segments)return null;b=this.runStrategies_(a,b,a.discontinuitySequence,0);if(!b.length)return null;b=this.selectSyncPoint_(b,{key:"segmentIndex",value:0});0<b.segmentIndex&&(b.time*=
-1);return Math.abs(b.time+(0,r.sumDurations)(a,b.segmentIndex,0))}},{key:"runStrategies_",value:function(a,b,c,e){for(var f=[],g=0;g<v.length;g++){var h=v[g],m=h.run(this,a,b,c,e);m&&(m.strategy=h.name,f.push({strategy:h.name,syncPoint:m}),this.logger_("syncPoint found via <"+h.name+">:",m))}return f}},{key:"selectSyncPoint_",value:function(a,b){for(var c=a[0].syncPoint,e=Math.abs(a[0].syncPoint[b.key]-b.value),f=a[0].strategy,g=1;g<a.length;g++){var h=Math.abs(a[g].syncPoint[b.key]-b.value);h<e&&
(e=h,c=a[g].syncPoint,f=a[g].strategy)}this.logger_("syncPoint with strategy <"+f+"> chosen: ",c);return c}},{key:"saveExpiredSegmentInfo",value:function(a,b){for(var c=b.mediaSequence-a.mediaSequence-1;0<=c;c--){var e=a.segments[c];if(e&&"undefined"!==typeof e.start){b.syncInfo={mediaSequence:a.mediaSequence+c,time:e.start};this.logger_("playlist sync:",b.syncInfo);this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(a){!this.datetimeToDisplayTime&&a.dateTimeObject&&
(this.datetimeToDisplayTime=-(a.dateTimeObject.getTime()/1E3))}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(a){var b=a.segment,c=a.playlist,e;(e=b.map?this.probeMp4Segment_(a):this.probeTsSegment_(a))&&this.calculateSegmentTimeMapping_(a,e)&&(this.saveDiscontinuitySyncInfo_(a),c.syncInfo||(c.syncInfo={mediaSequence:c.mediaSequence+a.mediaIndex,time:b.start}));return e}},{key:"probeMp4Segment_",value:function(a){var b=a.segment,c=m["default"].timescale(b.map.bytes);
c=m["default"].startTime(c,a.bytes);null!==a.timestampOffset&&(a.timestampOffset-=c);return{start:c,end:c+b.duration}}},{key:"probeTsSegment_",value:function(a){a=(0,n.inspect)(a.bytes,this.inspectCache_);var b=void 0,c=void 0;if(!a)return null;a.video&&2===a.video.length?(this.inspectCache_=a.video[1].dts,b=a.video[0].dtsTime,c=a.video[1].dtsTime):a.audio&&2===a.audio.length&&(this.inspectCache_=a.audio[1].dts,b=a.audio[0].dtsTime,c=a.audio[1].dtsTime);return{start:b,end:c,containsVideo:a.video&&
2===a.video.length,containsAudio:a.audio&&2===a.audio.length}}},{key:"timestampOffsetForTimeline",value:function(a){return"undefined"===typeof this.timelines[a]?null:this.timelines[a].time}},{key:"mappingForTimeline",value:function(a){return"undefined"===typeof this.timelines[a]?null:this.timelines[a].mapping}},{key:"calculateSegmentTimeMapping_",value:function(a,b){var c=a.segment,e=this.timelines[a.timeline];if(null!==a.timestampOffset)this.logger_("tsO:",a.timestampOffset),e={time:a.startOfSegment,
mapping:a.startOfSegment-b.start},this.timelines[a.timeline]=e,this.trigger("timestampoffset"),c.start=a.startOfSegment,c.end=b.end+e.mapping;else if(e)c.start=b.start+e.mapping,c.end=b.end+e.mapping;else return!1;return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(a){var b=a.playlist,c=a.segment;if(c.discontinuity)this.discontinuities[c.timeline]={time:c.start,accuracy:0};else if(b.discontinuityStarts.length)for(var e=0;e<b.discontinuityStarts.length;e++){var f=b.discontinuityStarts[e],g=
b.discontinuitySequence+e+1,h=f-a.mediaIndex,m=Math.abs(h);if(!this.discontinuities[g]||this.discontinuities[g].accuracy>m)f=0>h?c.start-(0,r.sumDurations)(b,a.mediaIndex,f):c.end+(0,r.sumDurations)(b,a.mediaIndex+1,f),this.discontinuities[g]={time:f,accuracy:m}}}},{key:"logger_",value:function(){}}]);return b}(w["default"].EventTarget);f["default"]=a}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./playlist":11,"mux.js/lib/mp4/probe":57,
"mux.js/lib/tools/ts-inspector.js":59}],19:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});f.parseCodecs=function(){var a=0>=arguments.length||void 0===arguments[0]?"":arguments[0],c={codecCount:0},e;c.codecCount=a.split(",").length;c.codecCount=c.codecCount||2;if(e=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(a))c.videoCodec=e[2],c.videoObjectTypeIndicator=e[3];c.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(a);c.audioProfile=c.audioProfile&&c.audioProfile[2];return c}},{}],
20:[function(g,c,f){(function(a){function h(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=
b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),m=g("./segment-loader");m=h(m);var n=h("undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null);a=g("global/window");var r=h(a);a=g("videojs-contrib-media-sources/es5/remove-cues-from-track.js");var w=h(a),v=g("./bin-utils"),A=new Uint8Array(["\n","\n"].map(function(a){return a.charCodeAt(0)}));
m=function(a){function c(a){var b=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a:{var e=Object.getPrototypeOf(c.prototype),f="constructor";var g=this;var h=!0;for(;h;)if(null===e&&(e=Function.prototype),h=Object.getOwnPropertyDescriptor(e,f),void 0===h){e=Object.getPrototypeOf(e);if(null===e)break;h=!0}else{if("value"in h){g=h.value;break a}f=h.get;g=void 0===f?void 0:f.call(g);break a}g=void 0}g.call(this,
a,b);this.subtitlesTrack_=this.mediaSource_=null}e(c,a);b(c,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return n["default"].createTimeRanges();var a=this.subtitlesTrack_.cues;return n["default"].createTimeRanges([[a[0].startTime,a[a.length-1].startTime]])}},{key:"initSegment",value:function(a){var b=1>=arguments.length||void 0===arguments[1]?!1:arguments[1];if(!a)return null;var c=(0,v.initSegmentId)(a),e=this.initSegments_[c];b&&!e&&a.bytes&&(b=
new Uint8Array(A.byteLength+a.bytes.byteLength),b.set(a.bytes),b.set(A,a.bytes.byteLength),this.initSegments_[c]=e={resolvedUri:a.resolvedUri,byterange:a.byterange,bytes:b});return e||a}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){this.state="READY";this.resetEverything();return this.monitorBuffer_()}},{key:"track",value:function(a){if("undefined"===typeof a)return this.subtitlesTrack_;this.subtitlesTrack_=
a;"INIT"===this.state&&this.couldBeginLoading_()&&this.init_();return this.subtitlesTrack_}},{key:"remove",value:function(a,b){(0,w["default"])(a,b,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var a=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var b=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(b=this.skipEmptySegments_(b))null===
this.syncController_.timestampOffsetForTimeline(b.timeline)?(this.syncController_.one("timestampoffset",function(){a.state="READY";a.paused()||a.monitorBuffer_()}),this.state="WAITING_ON_TIMELINE"):this.loadSegment_(b)}},{key:"skipEmptySegments_",value:function(a){for(;a&&a.segment.empty;)a=this.generateSegmentInfo_(a.playlist,a.mediaIndex+1,a.startOfSegment+a.duration,a.isSyncRequest);return a}},{key:"handleSegment_",value:function(){var a=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state=
"APPENDING";var b=this.pendingSegment_,c=b.segment;if("function"!==typeof r["default"].WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var e=function(){var b=function(){a.handleSegment_()};a.state="WAITING_ON_VTTJS";a.subtitlesTrack_.tech_.one("vttjsloaded",b);a.subtitlesTrack_.tech_.one("vttjserror",function(){a.subtitlesTrack_.tech_.off("vttjsloaded",b);a.error({message:"Error loading vtt.js"});a.state="READY";a.pause();a.trigger("error")});return{v:void 0}}();if("object"===typeof e)return e.v}c.requested=
!0;try{this.parseVTTCues_(b)}catch(I){return this.error({message:I.message}),this.state="READY",this.pause(),this.trigger("error")}this.updateTimeMapping_(b,this.syncController_.timelines[b.timeline],this.playlist_);b.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY"):(b.byteLength=b.bytes.byteLength,this.mediaSecondsLoaded+=c.duration,b.cues.length&&this.remove(b.cues[0].endTime,b.cues[b.cues.length-1].endTime),b.cues.forEach(function(b){a.subtitlesTrack_.addCue(b)}),
this.handleUpdateEnd_())}else this.state="READY"}},{key:"parseVTTCues_",value:function(a){var b=void 0,c=!1;"function"===typeof r["default"].TextDecoder?b=new r["default"].TextDecoder("utf8"):(b=r["default"].WebVTT.StringDecoder(),c=!0);b=new r["default"].WebVTT.Parser(r["default"],r["default"].vttjs,b);a.cues=[];a.timestampmap={MPEGTS:0,LOCAL:0};b.oncue=a.cues.push.bind(a.cues);b.ontimestampmap=function(b){return a.timestampmap=b};b.onparsingerror=function(a){n["default"].log.warn("Error encountered when parsing cues: "+
a.message)};if(a.segment.map){var e=a.segment.map.bytes;c&&(e=String.fromCharCode.apply(null,e));b.parse(e)}e=a.bytes;c&&(e=String.fromCharCode.apply(null,e));b.parse(e);b.flush()}},{key:"updateTimeMapping_",value:function(a,b,c){var e=a.segment;if(b)if(a.cues.length){var f=a.timestampmap,g=f.MPEGTS/9E4-f.LOCAL+b.mapping;a.cues.forEach(function(a){a.startTime+=g;a.endTime+=g});c.syncInfo||(c.syncInfo={mediaSequence:c.mediaSequence+a.mediaIndex,time:Math.min(a.cues[0].startTime,a.cues[a.cues.length-
1].startTime-e.duration)})}else e.empty=!0}}]);return c}(m["default"]);f["default"]=m;c.exports=f["default"]}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bin-utils":2,"./segment-loader":16,"global/window":32,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],21:[function(g,c,f){(function(a){Object.defineProperty(f,"__esModule",{value:!0});var g="undefined"!==typeof window?window.videojs:"undefined"!==typeof a?
a.videojs:null,e=g&&g.__esModule?g:{"default":g};f["default"]=function(){return function m(a,c){a=(0,g.mergeOptions)({timeout:45E3},a);var f=m.beforeRequest||e["default"].Hls.xhr.beforeRequest;f&&"function"===typeof f&&(f=f(a))&&(a=f);var h=(0,g.xhr)(a,function(a,e){var f=h.response;!a&&f&&(h.responseTime=Date.now(),h.roundTripTime=h.responseTime-h.requestTime,h.bytesReceived=f.byteLength||f.length,h.bandwidth||(h.bandwidth=Math.floor(h.bytesReceived/h.roundTripTime*8E3)));a&&"ETIMEDOUT"===a.code&&
(h.timedout=!0);a||h.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(a=Error("XHR Failed with a response of: "+(h&&(f||h.responseText))));c(a,h)}),n=h.abort;h.abort=function(){h.aborted=!0;return n.apply(h,arguments)};h.uri=a.uri;h.requestTime=Date.now();return h}};c.exports=f["default"]}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],22:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=
function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),h=null;g=function(){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");if(!h){var b=[[[],[],[],[],[]],[[],[],[],[],[]]],e=b[0],f=b[1],g=e[4],v=f[4],A,y,x,q=[],B=[],C;for(A=0;256>A;A++)B[(q[A]=A<<1^283*(A>>7))^A]=A;
for(y=x=0;!g[y];y^=C||1,x=B[x]||1){var E=x^x<<1^x<<2^x<<3^x<<4;E=E>>8^E&255^99;g[y]=E;v[E]=y;var I=q[A=q[C=q[y]]];var F=16843009*I^65537*A^257*C^16843008*y;I=257*q[E]^16843008*E;for(A=0;4>A;A++)e[A][y]=I=I<<24^I>>>8,f[A][E]=F=F<<24^F>>>8}for(A=0;5>A;A++)e[A]=e[A].slice(0),f[A]=f[A].slice(0);h=b}this._tables=[[h[0][0].slice(),h[0][1].slice(),h[0][2].slice(),h[0][3].slice(),h[0][4].slice()],[h[1][0].slice(),h[1][1].slice(),h[1][2].slice(),h[1][3].slice(),h[1][4].slice()]];b=this._tables[0][4];e=this._tables[1];
y=a.length;x=1;if(4!==y&&6!==y&&8!==y)throw Error("Invalid aes key size");g=a.slice(0);v=[];this._key=[g,v];for(a=y;a<4*y+28;a++){f=g[a-1];if(0===a%y||8===y&&4===a%y)f=b[f>>>24]<<24^b[f>>16&255]<<16^b[f>>8&255]<<8^b[f&255],0===a%y&&(f=f<<8^f>>>24^x<<24,x=x<<1^283*(x>>7));g[a]=g[a-y]^f}for(y=0;a;y++,a--)f=g[y&3?a:a-4],v[y]=4>=a||4>y?f:e[0][b[f>>>24]]^e[1][b[f>>16&255]]^e[2][b[f>>8&255]]^e[3][b[f&255]]}a(c,[{key:"decrypt",value:function(a,c,e,f,g,h){var b=this._key[1];a^=b[0];f^=b[1];e^=b[2];c^=b[3];
var m=b.length/4-2,n,q=4;var r=this._tables[1];var w=r[0],v=r[1],I=r[2],F=r[3],J=r[4];for(n=0;n<m;n++){r=w[a>>>24]^v[f>>16&255]^I[e>>8&255]^F[c&255]^b[q];var L=w[f>>>24]^v[e>>16&255]^I[c>>8&255]^F[a&255]^b[q+1];var d=w[e>>>24]^v[c>>16&255]^I[a>>8&255]^F[f&255]^b[q+2];c=w[c>>>24]^v[a>>16&255]^I[f>>8&255]^F[e&255]^b[q+3];q+=4;a=r;f=L;e=d}for(n=0;4>n;n++)g[(3&-n)+h]=J[a>>>24]<<24^J[f>>16&255]<<16^J[e>>8&255]<<8^J[c&255]^b[q++],r=a,a=f,f=e,e=c,c=r}}]);return c}();f["default"]=g;c.exports=f["default"]},
{}],23:[function(g,c,f){function a(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(f,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=
!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=(g=g("./stream"))&&g.__esModule?g:{"default":g};g=function(b){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a:{var a=Object.getPrototypeOf(c.prototype),b="constructor";var f=this;var g=!0;for(;g;)if(null===a&&(a=Function.prototype),g=Object.getOwnPropertyDescriptor(a,b),void 0===g){a=Object.getPrototypeOf(a);if(null===
a)break;g=!0}else{if("value"in g){f=g.value;break a}b=g.get;f=void 0===b?void 0:b.call(f);break a}f=void 0}f.call(this,e["default"]);this.jobs=[];this.delay=1;this.timeout_=null}a(c,b);h(c,[{key:"processJob_",value:function(){this.jobs.shift()();this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null}},{key:"push",value:function(a){this.jobs.push(a);this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]);return c}(e["default"]);f["default"]=
g;c.exports=f["default"]},{"./stream":26}],24:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),h=(c=g("./aes"))&&c.__esModule?c:{"default":c},e=(c=g("./async-stream"))&&c.__esModule?c:{"default":c},b=g("pkcs7"),m=function(a){return a<<
24|(a&65280)<<8|(a&16711680)>>8|a>>>24},n=function(a,b,c){var e=new Int32Array(a.buffer,a.byteOffset,a.byteLength>>2);b=new h["default"](Array.prototype.slice.call(b));a=new Uint8Array(a.byteLength);var f=new Int32Array(a.buffer),g;var n=c[0];var r=c[1];var w=c[2];c=c[3];for(g=0;g<e.length;g+=4){var v=m(e[g]);var I=m(e[g+1]);var F=m(e[g+2]);var J=m(e[g+3]);b.decrypt(v,I,F,J,f,g);f[g]=m(f[g]^n);f[g+1]=m(f[g+1]^r);f[g+2]=m(f[g+2]^w);f[g+3]=m(f[g+3]^c);n=v;r=I;w=F;c=J}return a};f.decrypt=n;g=function(){function c(a,
f,g,h){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var n=c.STEP,q=new Int32Array(a.buffer),r=new Uint8Array(a.byteLength);a=0;this.asyncStream_=new e["default"];this.asyncStream_.push(this.decryptChunk_(q.subarray(a,a+n),f,g,r));for(a=n;a<q.length;a+=n)g=new Uint32Array([m(q[a-4]),m(q[a-3]),m(q[a-2]),m(q[a-1])]),this.asyncStream_.push(this.decryptChunk_(q.subarray(a,a+n),f,g,r));this.asyncStream_.push(function(){h(null,(0,b.unpad)(r))})}a(c,[{key:"decryptChunk_",
value:function(a,b,c,e){return function(){var f=n(a,b,c);e.set(f,a.byteOffset)}}}],[{key:"STEP",get:function(){return 32E3}}]);return c}();f.Decrypter=g;f["default"]={Decrypter:g,decrypt:n}},{"./aes":22,"./async-stream":23,pkcs7:28}],25:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=g("./decrypter");g=g("./async-stream");f["default"]={decrypt:a.decrypt,Decrypter:a.Decrypter,AsyncStream:(g&&g.__esModule?g:{"default":g})["default"]};c.exports=f["default"]},{"./async-stream":23,
"./decrypter":24}],26:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(c,b,f){b&&a(c.prototype,b);f&&a(c,f);return c}}();g=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.listeners={}}a(c,[{key:"on",value:function(a,b){this.listeners[a]||
(this.listeners[a]=[]);this.listeners[a].push(b)}},{key:"off",value:function(a,b){if(!this.listeners[a])return!1;b=this.listeners[a].indexOf(b);this.listeners[a].splice(b,1);return-1<b}},{key:"trigger",value:function(a){var b,c;if(b=this.listeners[a])if(2===arguments.length){var e=b.length;for(c=0;c<e;++c)b[c].call(this,arguments[1])}else{var f=Array.prototype.slice.call(arguments,1);e=b.length;for(c=0;c<e;++c)b[c].apply(this,f)}}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(a){this.on("data",
function(b){a.push(b)})}}]);return c}();f["default"]=g;c.exports=f["default"]},{}],27:[function(g,c,f){c.exports=function(c){var e=a[c.byteLength%16||0],b=new Uint8Array(c.byteLength+e.length);b.set(c);b.set(e,c.byteLength);return b};var a=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,
10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],28:[function(g,c,f){f.pad=g("./pad.js");f.unpad=g("./unpad.js")},{"./pad.js":27,"./unpad.js":29}],29:[function(g,c,f){c.exports=function(a){return a.subarray(0,a.byteLength-a[a.byteLength-1])}},{}],30:[function(g,c,f){},{}],31:[function(g,c,f){f="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};f="undefined"!==
typeof f?f:"undefined"!==typeof window?window:{};g=g("min-document");if("undefined"!==typeof document)var a=document;else(a=f["__GLOBAL_DOCUMENT_CACHE@4"])||(a=f["__GLOBAL_DOCUMENT_CACHE@4"]=g);c.exports=a},{"min-document":30}],32:[function(g,c,f){g="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};c.exports="undefined"!==typeof window?window:"undefined"!==typeof g?g:"undefined"!==typeof self?self:{}},{}],33:[function(g,c,f){function a(a){return a&&
a.__esModule?a:{"default":a}}f=g("./line-stream");f=a(f);var h=g("./parse-stream");h=a(h);g=g("./parser");g=a(g);c.exports={LineStream:f["default"],ParseStream:h["default"],Parser:g["default"]}},{"./line-stream":34,"./parse-stream":35,"./parser":36}],34:[function(g,c,f){function a(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});
b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});var h=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}();g=g("./stream");g=function(c){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||
Object.getPrototypeOf(b)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.buffer="";return a}a(b,c);h(b,[{key:"push",value:function(a){this.buffer+=a;for(a=this.buffer.indexOf("\n");-1<a;a=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)}}]);return b}((g&&g.__esModule?g:{"default":g})["default"]);f["default"]=g},{"./stream":37}],
35:[function(g,c,f){function a(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});var h=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],e=!0,f=
!1,g=void 0;try{for(var h=a[Symbol.iterator](),m;!(e=(m=h.next()).done)&&(c.push(m.value),!b||c.length!==b);e=!0);}catch(q){f=!0,g=q}finally{try{if(!e&&h["return"])h["return"]()}finally{if(f)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),e=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,
c);e&&a(b,e);return b}}();g=g("./stream");var b=function(a){a=a.split(/(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))/);for(var b={},c=a.length,e;c--;)""!==a[c]&&(e=/([^=]*)=(.*)/.exec(a[c]).slice(1),e[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),b[e[0]]=e[1]);return b};g=function(c){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var a=(f.__proto__||Object.getPrototypeOf(f)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!a||"object"!==typeof a&&"function"!==typeof a?this:a}a(f,c);e(f,[{key:"push",value:function(a){var c;a=a.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"");if(0!==a.length)if("#"!==a[0])this.trigger("data",{type:"uri",uri:a});else if(0!==a.indexOf("#EXT"))this.trigger("data",{type:"comment",text:a.slice(1)});else if(a=a.replace("\r",""),c=/^#EXTM3U/.exec(a))this.trigger("data",{type:"tag",tagType:"m3u"});else if(c=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(a))a={type:"tag",tagType:"inf"},c[1]&&(a.duration=
parseFloat(c[1])),c[2]&&(a.title=c[2]),this.trigger("data",a);else if(c=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(a))a={type:"tag",tagType:"targetduration"},c[1]&&(a.duration=parseInt(c[1],10)),this.trigger("data",a);else if(c=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(a))a={type:"tag",tagType:"totalduration"},c[1]&&(a.duration=parseInt(c[1],10)),this.trigger("data",a);else if(c=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(a))a={type:"tag",tagType:"version"},c[1]&&(a.version=parseInt(c[1],10)),this.trigger("data",
a);else if(c=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))a={type:"tag",tagType:"media-sequence"},c[1]&&(a.number=parseInt(c[1],10)),this.trigger("data",a);else if(c=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(a))a={type:"tag",tagType:"discontinuity-sequence"},c[1]&&(a.number=parseInt(c[1],10)),this.trigger("data",a);else if(c=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(a))a={type:"tag",tagType:"playlist-type"},c[1]&&(a.playlistType=c[1]),this.trigger("data",a);else if(c=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(a))a=
{type:"tag",tagType:"byterange"},c[1]&&(a.length=parseInt(c[1],10)),c[2]&&(a.offset=parseInt(c[2],10)),this.trigger("data",a);else if(c=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(a))a={type:"tag",tagType:"allow-cache"},c[1]&&(a.allowed=!/NO/.test(c[1])),this.trigger("data",a);else if(c=/^#EXT-X-MAP:?(.*)$/.exec(a)){a={type:"tag",tagType:"map"};if(c[1]&&(c=b(c[1]),c.URI&&(a.uri=c.URI),c.BYTERANGE)){c=c.BYTERANGE.split("@");var e=h(c,2);c=e[0];e=e[1];a.byterange={};c&&(a.byterange.length=parseInt(c,10));
e&&(a.byterange.offset=parseInt(e,10))}this.trigger("data",a)}else(c=/^#EXT-X-STREAM-INF:?(.*)$/.exec(a))?(a={type:"tag",tagType:"stream-inf"},c[1]&&(a.attributes=b(c[1]),a.attributes.RESOLUTION&&(c=a.attributes.RESOLUTION.split("x"),e={},c[0]&&(e.width=parseInt(c[0],10)),c[1]&&(e.height=parseInt(c[1],10)),a.attributes.RESOLUTION=e),a.attributes.BANDWIDTH&&(a.attributes.BANDWIDTH=parseInt(a.attributes.BANDWIDTH,10)),a.attributes["PROGRAM-ID"]&&(a.attributes["PROGRAM-ID"]=parseInt(a.attributes["PROGRAM-ID"],
10))),this.trigger("data",a)):(c=/^#EXT-X-MEDIA:?(.*)$/.exec(a))?(a={type:"tag",tagType:"media"},c[1]&&(a.attributes=b(c[1])),this.trigger("data",a)):(c=/^#EXT-X-ENDLIST/.exec(a))?this.trigger("data",{type:"tag",tagType:"endlist"}):(c=/^#EXT-X-DISCONTINUITY/.exec(a))?this.trigger("data",{type:"tag",tagType:"discontinuity"}):(c=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(a))?(a={type:"tag",tagType:"program-date-time"},c[1]&&(a.dateTimeString=c[1],a.dateTimeObject=new Date(c[1])),this.trigger("data",a)):
(c=/^#EXT-X-KEY:?(.*)$/.exec(a))?(a={type:"tag",tagType:"key"},c[1]&&(a.attributes=b(c[1]),a.attributes.IV&&("0x"===a.attributes.IV.substring(0,2).toLowerCase()&&(a.attributes.IV=a.attributes.IV.substring(2)),a.attributes.IV=a.attributes.IV.match(/.{8}/g),a.attributes.IV[0]=parseInt(a.attributes.IV[0],16),a.attributes.IV[1]=parseInt(a.attributes.IV[1],16),a.attributes.IV[2]=parseInt(a.attributes.IV[2],16),a.attributes.IV[3]=parseInt(a.attributes.IV[3],16),a.attributes.IV=new Uint32Array(a.attributes.IV))),
this.trigger("data",a)):(c=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(a))?(a={type:"tag",tagType:"cue-out-cont"},a.data=c[1]?c[1]:"",this.trigger("data",a)):(c=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(a))?(a={type:"tag",tagType:"cue-out"},a.data=c[1]?c[1]:"",this.trigger("data",a)):(c=/^#EXT-X-CUE-IN:?(.*)?$/.exec(a))?(a={type:"tag",tagType:"cue-in"},a.data=c[1]?c[1]:"",this.trigger("data",a)):this.trigger("data",{type:"tag",data:a.slice(4)})}}]);return f}((g&&g.__esModule?g:{"default":g})["default"]);f["default"]=
g},{"./stream":37}],36:[function(g,c,f){function a(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});
b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});var b=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}return a},m=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,
c);e&&a(b,e);return b}}();c=g("./stream");c=a(c);var n=g("./line-stream"),r=a(n);g=g("./parse-stream");var w=a(g);g=function(a){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));a.lineStream=new r["default"];a.parseStream=new w["default"];a.lineStream.pipe(a.parseStream);var e=[],f={},g=void 0,m=void 0,n=function(){},v={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},A=0;a.manifest={allowCache:!0,
discontinuityStarts:[],segments:[]};a.parseStream.on("data",function(c){var h=void 0,d=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=c.allowed;"allowed"in c||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var a={};"length"in c&&(f.byterange=a,a.length=c.length,"offset"in c||(this.trigger("info",{message:"defaulting offset to zero"}),c.offset=0));"offset"in c&&(f.byterange=a,a.offset=c.offset)},endlist:function(){this.manifest.endList=
!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"}));"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"}));0<c.duration&&(f.duration=c.duration);0===c.duration&&(f.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"}));this.manifest.segments=e},key:function(){c.attributes?
"NONE"===c.attributes.METHOD?m=null:c.attributes.URI?(c.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),m={method:c.attributes.METHOD||"AES-128",uri:c.attributes.URI},"undefined"!==typeof c.attributes.IV&&(m.iv=c.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(c.number)?this.manifest.mediaSequence=c.number:
this.trigger("warn",{message:"ignoring invalid media sequence: "+c.number})},"discontinuity-sequence":function(){isFinite(c.number)?A=this.manifest.discontinuitySequence=c.number:this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+c.number})},"playlist-type":function(){/VOD|EVENT/.test(c.playlistType)?this.manifest.playlistType=c.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+c.playlist})},map:function(){g={};c.uri&&(g.uri=c.uri);c.byterange&&(g.byterange=
c.byterange)},"stream-inf":function(){this.manifest.playlists=e;this.manifest.mediaGroups=this.manifest.mediaGroups||v;c.attributes?(f.attributes||(f.attributes={}),b(f.attributes,c.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){this.manifest.mediaGroups=this.manifest.mediaGroups||v;if(c.attributes&&c.attributes.TYPE&&c.attributes["GROUP-ID"]&&c.attributes.NAME){var a=this.manifest.mediaGroups[c.attributes.TYPE];a[c.attributes["GROUP-ID"]]=a[c.attributes["GROUP-ID"]]||
{};h=a[c.attributes["GROUP-ID"]];d={"default":/yes/i.test(c.attributes.DEFAULT)};d.autoselect=d["default"]?!0:/yes/i.test(c.attributes.AUTOSELECT);c.attributes.LANGUAGE&&(d.language=c.attributes.LANGUAGE);c.attributes.URI&&(d.uri=c.attributes.URI);c.attributes["INSTREAM-ID"]&&(d.instreamId=c.attributes["INSTREAM-ID"]);c.attributes.CHARACTERISTICS&&(d.characteristics=c.attributes.CHARACTERISTICS);c.attributes.FORCED&&(d.forced=/yes/i.test(c.attributes.FORCED));h[c.attributes.NAME]=d}else this.trigger("warn",
{message:"ignoring incomplete or missing media group"})},discontinuity:function(){A+=1;f.discontinuity=!0;this.manifest.discontinuityStarts.push(e.length)},"program-date-time":function(){this.manifest.dateTimeString=c.dateTimeString;this.manifest.dateTimeObject=c.dateTimeObject},targetduration:function(){!isFinite(c.duration)||0>c.duration?this.trigger("warn",{message:"ignoring invalid target duration: "+c.duration}):this.manifest.targetDuration=c.duration},totalduration:function(){!isFinite(c.duration)||
0>c.duration?this.trigger("warn",{message:"ignoring invalid total duration: "+c.duration}):this.manifest.totalDuration=c.duration},"cue-out":function(){f.cueOut=c.data},"cue-out-cont":function(){f.cueOutCont=c.data},"cue-in":function(){f.cueIn=c.data}}[c.tagType]||n).call(a)},uri:function(){f.uri=c.uri;e.push(f);!this.manifest.targetDuration||"duration"in f||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),f.duration=this.manifest.targetDuration);m&&(f.key=m);f.timeline=
A;g&&(f.map=g);f={}},comment:function(){}})[c.type].call(a)});return a}e(c,a);m(c,[{key:"push",value:function(a){this.lineStream.push(a)}},{key:"end",value:function(){this.lineStream.push("\n")}}]);return c}(c["default"]);f["default"]=g},{"./line-stream":34,"./parse-stream":35,"./stream":37}],37:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=
!0);Object.defineProperty(a,e.key,e)}}return function(c,b,f){b&&a(c.prototype,b);f&&a(c,f);return c}}();g=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.listeners={}}a(c,[{key:"on",value:function(a,b){this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)}},{key:"off",value:function(a,b){if(!this.listeners[a])return!1;b=this.listeners[a].indexOf(b);this.listeners[a].splice(b,1);return-1<b}},{key:"trigger",value:function(a){var b=
this.listeners[a],c;if(b)if(2===arguments.length){var e=b.length;for(c=0;c<e;++c)b[c].call(this,arguments[1])}else{var f=Array.prototype.slice.call(arguments,1);e=b.length;for(c=0;c<e;++c)b[c].apply(this,f)}}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(a){this.on("data",function(b){a.push(b)})}}]);return c}();f["default"]=g},{}],38:[function(g,c,f){g=g("../utils/stream.js");var a=function(){var c=new Uint8Array,e=0;a.prototype.init.call(this);this.setTimestamp=
function(a){e=a};this.parseId3TagSize=function(a,c){var b=a[c+6]<<21|a[c+7]<<14|a[c+8]<<7|a[c+9];return(a[c+5]&16)>>4?b+20:b+10};this.parseAdtsSize=function(a,c){return a[c+3]&6144|a[c+4]<<3|(a[c+5]&224)>>5};this.push=function(a){var b=0;if(c.length){var f=c.length;c=new Uint8Array(a.byteLength+f);c.set(c.subarray(0,f));c.set(a,f)}else c=a;for(;3<=c.length-b;)if(73===c[b]&&68===c[b+1]&&51===c[b+2]){if(10>c.length-b)break;a=this.parseId3TagSize(c,b);if(a>c.length)break;f={type:"timed-metadata",data:c.subarray(b,
b+a)};this.trigger("data",f);b+=a}else if(c[b]&1&&240===(c[b+1]&240)){if(7>c.length-b)break;a=this.parseAdtsSize(c,b);if(a>c.length)break;f={type:"audio",data:c.subarray(b,b+a),pts:e,dts:e};this.trigger("data",f);b+=a}else b++;c=0<c.length-b?c.subarray(b):new Uint8Array}};a.prototype=new g;c.exports=a},{"../utils/stream.js":62}],39:[function(g,c,f){var a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],h=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]};c.exports={parseId3TagSize:function(a,
b){var c=a[b+6]<<21|a[b+7]<<14|a[b+8]<<7|a[b+9];return(a[b+5]&16)>>4?c+20:c+10},parseAdtsSize:function(a,b){return a[b+3]&6144|a[b+4]<<3|(a[b+5]&224)>>5},parseType:function(a,b){return 73===a[b]&&68===a[b+1]&&51===a[b+2]?"timed-metadata":a[b]&1&&240===(a[b+1]&240)?"audio":null},parseSampleRate:function(c){for(var b=0;b+5<c.length;)if(255!==c[b]||240!==(c[b+1]&246))b++;else return a[(c[b+2]&60)>>>2];return null},parseAacTimestamp:function(a){var b=10;a[5]&64&&(b=b+4+h(a.subarray(10,14)));do{var c=
h(a.subarray(b+4,b+8));if(1>c)break;var e=String.fromCharCode(a[b],a[b+1],a[b+2],a[b+3]);if("PRIV"===e){e=a.subarray(b+10,b+c+10);for(var f=0;f<e.byteLength;f++)if(0===e[f]){var g=unescape,v,A=e,y=f,x="";for(v=0;v<y;v++)x+="%"+("00"+A[v].toString(16)).slice(-2);if("com.apple.streaming.transportStreamTimestamp"===g(x))return a=e.subarray(f+1),b=(a[3]&1)<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2,b*=4,b+=a[7]&3;break}}b+=10;b+=c}while(b<a.byteLength);return null}}},{}],40:[function(g,c,f){g=g("../utils/stream.js");
var a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];var h=function(){var c;h.prototype.init.call(this);this.push=function(b){var e=0,f=0;if("audio"===b.type){if(c){var g=c;c=new Uint8Array(g.byteLength+b.data.byteLength);c.set(g);c.set(b.data,g.byteLength)}else c=b.data;for(;e+5<c.length;)if(255!==c[e]||240!==(c[e+1]&246))e++;else{g=2*(~c[e+1]&1);var h=(c[e+3]&3)<<11|c[e+4]<<3|(c[e+5]&224)>>5;var v=1024*((c[e+6]&3)+1);var A=9E4*v/a[(c[e+2]&60)>>>2];h=e+h;if(c.byteLength<h)break;
this.trigger("data",{pts:b.pts+f*A,dts:b.dts+f*A,sampleCount:v,audioobjecttype:(c[e+2]>>>6&3)+1,channelcount:(c[e+2]&1)<<2|(c[e+3]&192)>>>6,samplerate:a[(c[e+2]&60)>>>2],samplingfrequencyindex:(c[e+2]&60)>>>2,samplesize:16,data:c.subarray(e+7+g,h)});if(c.byteLength===h){c=void 0;break}f++;c=c.subarray(h)}}};this.flush=function(){this.trigger("done")}};h.prototype=new g;c.exports=h},{"../utils/stream.js":62}],41:[function(g,c,f){f=g("../utils/stream.js");var a=g("../utils/exp-golomb.js");var h=function(){var a=
0,b,c;h.prototype.init.call(this);this.push=function(e){if(c){var f=new Uint8Array(c.byteLength+e.data.byteLength);f.set(c);f.set(e.data,c.byteLength);c=f}else c=e.data;for(;a<c.byteLength-3;a++)if(1===c[a+2]){b=a+5;break}for(;b<c.byteLength;)switch(c[b]){case 0:if(0!==c[b-1]){b+=2;break}else if(0!==c[b-2]){b++;break}a+3!==b-2&&this.trigger("data",c.subarray(a+3,b-2));do b++;while(1!==c[b]&&b<c.length);a=b-2;b+=3;break;case 1:if(0!==c[b-1]||0!==c[b-2]){b+=3;break}this.trigger("data",c.subarray(a+
3,b-2));a=b-2;b+=3;break;default:b+=3}c=c.subarray(a);b-=a;a=0};this.flush=function(){c&&3<c.byteLength&&this.trigger("data",c.subarray(a+3));c=null;a=0;this.trigger("done")}};h.prototype=new f;var e={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};var b=function(){var c=new h,f,g,w;b.prototype.init.call(this);var v=this;this.push=function(a){"video"===a.type&&(f=a.trackId,g=a.pts,w=a.dts,c.push(a))};c.on("data",function(a){var b={trackId:f,pts:g,dts:w,data:a};switch(a[0]&
31){case 5:b.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:b.nalUnitType="sei_rbsp";b.escapedRBSP=y(a.subarray(1));break;case 7:b.nalUnitType="seq_parameter_set_rbsp";b.escapedRBSP=y(a.subarray(1));b.config=x(b.escapedRBSP);break;case 8:b.nalUnitType="pic_parameter_set_rbsp";break;case 9:b.nalUnitType="access_unit_delimiter_rbsp"}v.trigger("data",b)});c.on("done",function(){v.trigger("done")});this.flush=function(){c.flush()};var A=function(a,b){var c=8,e=8,f;for(f=0;f<a;f++)0!==
e&&(e=b.readExpGolomb(),e=(c+e+256)%256),c=0===e?c:e};var y=function(a){for(var b=a.byteLength,c=[],e=1,f;e<b-2;)0===a[e]&&0===a[e+1]&&3===a[e+2]?(c.push(e+2),e+=2):e++;if(0===c.length)return a;b-=c.length;f=new Uint8Array(b);var g=0;for(e=0;e<b;g++,e++)g===c[0]&&(g++,c.shift()),f[e]=a[g];return f};var x=function(b){var c=0,f=0,g=0,h=0,m=1;b=new a(b);var n=b.readUnsignedByte();var q=b.readUnsignedByte();var d=b.readUnsignedByte();b.skipUnsignedExpGolomb();if(e[n]){var l=b.readUnsignedExpGolomb();
3===l&&b.skipBits(1);b.skipUnsignedExpGolomb();b.skipUnsignedExpGolomb();b.skipBits(1);if(b.readBoolean()){var x=3!==l?8:12;for(l=0;l<x;l++)b.readBoolean()&&(6>l?A(16,b):A(64,b))}}b.skipUnsignedExpGolomb();l=b.readUnsignedExpGolomb();if(0===l)b.readUnsignedExpGolomb();else if(1===l)for(b.skipBits(1),b.skipExpGolomb(),b.skipExpGolomb(),x=b.readUnsignedExpGolomb(),l=0;l<x;l++)b.skipExpGolomb();b.skipUnsignedExpGolomb();b.skipBits(1);l=b.readUnsignedExpGolomb();x=b.readUnsignedExpGolomb();var y=b.readBits(1);
0===y&&b.skipBits(1);b.skipBits(1);b.readBoolean()&&(c=b.readUnsignedExpGolomb(),f=b.readUnsignedExpGolomb(),g=b.readUnsignedExpGolomb(),h=b.readUnsignedExpGolomb());if(b.readBoolean()&&b.readBoolean()){var r=b.readUnsignedByte();switch(r){case 1:var w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=
[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[b.readUnsignedByte()<<8|b.readUnsignedByte(),b.readUnsignedByte()<<8|b.readUnsignedByte()]}w&&(m=w[0]/w[1])}return{profileIdc:n,levelIdc:d,profileCompatibility:q,width:Math.ceil((16*(l+1)-2*c-2*f)*m),height:(2-y)*(x+1)*16-2*g-2*h}}};b.prototype=new f;c.exports={H264Stream:b,NalByteStream:h}},{"../utils/exp-golomb.js":61,"../utils/stream.js":62}],42:[function(g,c,f){g=[33,16,5,32,164,
27];f=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252];var a=function(a){for(var c=[];a--;)c.push(0);return c};g={96E3:[g,[227,64],a(154),[56]],88200:[g,[231],a(170),[56]],64E3:[g,[248,192],a(240),[56]],48E3:[g,[255,192],a(268),[55,148,128],a(54),[112]],44100:[g,[255,192],a(268),[55,163,128],a(84),[112]],32E3:[g,[255,192],a(268),[55,234],a(226),[112]],24E3:[g,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16E3:[g,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],
12E3:[f,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[f,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8E3:[f,a(268),[3,121,16],a(47),[7]]};c.exports=function(a){return Object.keys(a).reduce(function(c,b){c[b]=new Uint8Array(a[b].reduce(function(a,b){return a.concat(b)},[]));return c},{})}(g)},{}],43:[function(g,c,f){g=g("../utils/stream.js");var a=function(c){this.numberOfTracks=0;
this.metadataStream=c.metadataStream;this.videoTags=[];this.audioTags=[];this.audioTrack=this.videoTrack=null;this.pendingCaptions=[];this.pendingMetadata=[];this.processedTracks=this.pendingTracks=0;a.prototype.init.call(this);this.push=function(a){if(a.text)return this.pendingCaptions.push(a);if(a.frames)return this.pendingMetadata.push(a);"video"===a.track.type&&(this.videoTrack=a.track,this.videoTags=a.tags,this.pendingTracks++);"audio"===a.track.type&&(this.audioTrack=a.track,this.audioTags=
a.tags,this.pendingTracks++)}};a.prototype=new g;a.prototype.flush=function(a){var c={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks&&("VideoSegmentStream"!==a&&"AudioSegmentStream"!==a||0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks)))return;this.processedTracks+=this.pendingTracks;this.pendingTracks=0;if(!(this.processedTracks<this.numberOfTracks)){if(this.videoTrack)var b=this.videoTrack.timelineStartInfo.pts;
else this.audioTrack&&(b=this.audioTrack.timelineStartInfo.pts);c.tags.videoTags=this.videoTags;c.tags.audioTags=this.audioTags;for(a=0;a<this.pendingCaptions.length;a++){var f=this.pendingCaptions[a];f.startTime=f.startPts-b;f.startTime/=9E4;f.endTime=f.endPts-b;f.endTime/=9E4;c.captionStreams[f.stream]=!0;c.captions.push(f)}for(a=0;a<this.pendingMetadata.length;a++)f=this.pendingMetadata[a],f.cueTime=f.pts-b,f.cueTime/=9E4,c.metadata.push(f);c.metadata.dispatchType=this.metadataStream.dispatchType;
this.audioTrack=this.videoTrack=null;this.videoTags=[];this.audioTags=[];this.pendingCaptions.length=0;this.processedTracks=this.pendingTracks=this.pendingMetadata.length=0;this.trigger("data",c);this.trigger("done")}};c.exports=a},{"../utils/stream.js":62}],44:[function(g,c,f){var a=g("./flv-tag.js");c.exports=function(c,e,b){var f=new Uint8Array(9),g=new DataView(f.buffer);c=c||0;e=void 0===e?!0:e;b=void 0===b?!0:b;g.setUint8(0,70);g.setUint8(1,76);g.setUint8(2,86);g.setUint8(3,1);g.setUint8(4,
(e?4:0)|(b?1:0));g.setUint32(5,f.byteLength);if(0>=c)return c=new Uint8Array(f.byteLength+4),c.set(f),c.set([0,0,0,0],f.byteLength),c;e=new a(a.METADATA_TAG);e.pts=e.dts=0;e.writeMetaDataDouble("duration",c);e=e.finalize().length;c=new Uint8Array(f.byteLength+e);c.set(f);c.set(g.byteLength,e);return c}},{"./flv-tag.js":45}],45:[function(g,c,f){var a=function(c,e){var b=0,f=16384,g=function(a,b){b=a.position+b;b<a.bytes.byteLength||(b=new Uint8Array(2*b),b.set(a.bytes.subarray(0,a.position),0),a.bytes=
b,a.view=new DataView(a.bytes.buffer))},h=a.widthBytes||new Uint8Array(5),w=a.heightBytes||new Uint8Array(6),v=a.videocodecidBytes||new Uint8Array(12),A;if(!a.widthBytes){for(A=0;5>A;A++)h[A]="width".charCodeAt(A);for(A=0;6>A;A++)w[A]="height".charCodeAt(A);for(A=0;12>A;A++)v[A]="videocodecid".charCodeAt(A);a.widthBytes=h;a.heightBytes=w;a.videocodecidBytes=v}this.keyFrame=!1;switch(c){case a.VIDEO_TAG:this.length=16;f*=6;break;case a.AUDIO_TAG:this.length=13;this.keyFrame=!0;break;case a.METADATA_TAG:this.length=
29;this.keyFrame=!0;break;default:throw Error("Unknown FLV tag type");}this.bytes=new Uint8Array(f);this.view=new DataView(this.bytes.buffer);this.bytes[0]=c;this.position=this.length;this.keyFrame=e;this.dts=this.pts=0;this.writeBytes=function(a,b,c){b=b||0;c=c||a.byteLength;var e=b+c;g(this,c);this.bytes.set(a.subarray(b,e),this.position);this.position+=c;this.length=Math.max(this.length,this.position)};this.writeByte=function(a){g(this,1);this.bytes[this.position]=a;this.position++;this.length=
Math.max(this.length,this.position)};this.writeShort=function(a){g(this,2);this.view.setUint16(this.position,a);this.position+=2;this.length=Math.max(this.length,this.position)};this.negIndex=function(a){return this.bytes[this.length-a]};this.nalUnitSize=function(){return 0===b?0:this.length-(b+4)};this.startNalUnit=function(){if(0<b)throw Error("Attempted to create new NAL wihout closing the old one");b=this.length;this.position=this.length+=4};this.endNalUnit=function(a){if(this.length===b+4)this.length-=
4;else if(0<b){var c=b+4;var e=this.length-c;this.position=b;this.view.setUint32(this.position,e);this.position=this.length;a&&a.push(this.bytes.subarray(c,c+e))}b=0};this.writeMetaDataDouble=function(a,c){var e;g(this,2+a.length+9);this.view.setUint16(this.position,a.length);this.position+=2;if("width"===a)this.bytes.set(h,this.position),this.position+=5;else if("height"===a)this.bytes.set(w,this.position),this.position+=6;else if("videocodecid"===a)this.bytes.set(v,this.position),this.position+=
12;else for(e=0;e<a.length;e++)this.bytes[this.position]=a.charCodeAt(e),this.position++;this.position++;this.view.setFloat64(this.position,c);this.position+=8;this.length=Math.max(this.length,this.position);++b};this.writeMetaDataBoolean=function(a,c){var e;g(this,2);this.view.setUint16(this.position,a.length);this.position+=2;for(e=0;e<a.length;e++)g(this,1),this.bytes[this.position]=a.charCodeAt(e),this.position++;g(this,2);this.view.setUint8(this.position,1);this.position++;this.view.setUint8(this.position,
c?1:0);this.position++;this.length=Math.max(this.length,this.position);++b};this.finalize=function(){switch(this.bytes[0]){case a.VIDEO_TAG:this.bytes[11]=(this.keyFrame||e?16:32)|7;this.bytes[12]=e?0:1;var c=this.pts-this.dts;this.bytes[13]=(c&16711680)>>>16;this.bytes[14]=(c&65280)>>>8;this.bytes[15]=(c&255)>>>0;break;case a.AUDIO_TAG:this.bytes[11]=175;this.bytes[12]=e?0:1;break;case a.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,
10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,b),this.position=this.length,this.bytes.set([0,0,9],this.position),this.length=this.position+=3}c=this.length-11;this.bytes[1]=(c&16711680)>>>16;this.bytes[2]=(c&65280)>>>8;this.bytes[3]=(c&255)>>>0;this.bytes[4]=(this.dts&16711680)>>>16;this.bytes[5]=(this.dts&65280)>>>8;this.bytes[6]=(this.dts&255)>>>0;this.bytes[7]=
(this.dts&4278190080)>>>24;this.bytes[8]=0;this.bytes[9]=0;this.bytes[10]=0;g(this,4);this.view.setUint32(this.length,this.length);this.length+=4;this.position+=4;this.bytes=this.bytes.subarray(0,this.length);this.frameTime=a.frameTime(this.bytes);return this}};a.AUDIO_TAG=8;a.VIDEO_TAG=9;a.METADATA_TAG=18;a.isAudioFrame=function(c){return a.AUDIO_TAG===c[0]};a.isVideoFrame=function(c){return a.VIDEO_TAG===c[0]};a.isMetaData=function(c){return a.METADATA_TAG===c[0]};a.isKeyFrame=function(c){return a.isVideoFrame(c)?
23===c[11]:a.isAudioFrame(c)||a.isMetaData(c)?!0:!1};a.frameTime=function(a){var c=a[4]<<16;c|=a[5]<<8;c|=a[6]<<0;return c|=a[7]<<24};c.exports=a},{}],46:[function(g,c,f){c.exports={tag:g("./flv-tag"),Transmuxer:g("./transmuxer"),getFlvHeader:g("./flv-header")}},{"./flv-header":44,"./flv-tag":45,"./transmuxer":48}],47:[function(g,c,f){c.exports=function(){var a=this;this.list=[];this.push=function(a){this.list.push({bytes:a.bytes,dts:a.dts,pts:a.pts,keyFrame:a.keyFrame,metaDataTag:a.metaDataTag})};
Object.defineProperty(this,"length",{get:function(){return a.list.length}})}},{}],48:[function(g,c,f){f=g("../utils/stream.js");var a=g("./flv-tag.js"),h=g("../m2ts/m2ts.js"),e=g("../codecs/adts.js"),b=g("../codecs/h264").H264Stream,m=g("./coalesce-stream.js"),n=g("./tag-list.js");var r=function(a,b){"number"===typeof b.pts&&(a.timelineStartInfo.pts=void 0===a.timelineStartInfo.pts?b.pts:Math.min(a.timelineStartInfo.pts,b.pts));"number"===typeof b.dts&&(a.timelineStartInfo.dts=void 0===a.timelineStartInfo.dts?
b.dts:Math.min(a.timelineStartInfo.dts,b.dts))};var w=function(b,c){var e=new a(a.METADATA_TAG);e.dts=c;e.pts=c;e.writeMetaDataDouble("videocodecid",7);e.writeMetaDataDouble("width",b.width);e.writeMetaDataDouble("height",b.height);return e};var v=function(b,c){var e=new a(a.VIDEO_TAG,!0);e.dts=c;e.pts=c;e.writeByte(1);e.writeByte(b.profileIdc);e.writeByte(b.profileCompatibility);e.writeByte(b.levelIdc);e.writeByte(255);e.writeByte(225);e.writeShort(b.sps[0].length);e.writeBytes(b.sps[0]);e.writeByte(b.pps.length);
for(c=0;c<b.pps.length;++c)e.writeShort(b.pps[c].length),e.writeBytes(b.pps[c]);return e};var A=function(b){var c=[],e=[],f;A.prototype.init.call(this);this.push=function(a){r(b,a);b&&(b.audioobjecttype=a.audioobjecttype,b.channelcount=a.channelcount,b.samplerate=a.samplerate,b.samplingfrequencyindex=a.samplingfrequencyindex,b.samplesize=a.samplesize,b.extraData=b.audioobjecttype<<11|b.samplingfrequencyindex<<7|b.channelcount<<3);a.pts=Math.round(a.pts/90);a.dts=Math.round(a.dts/90);c.push(a)};this.flush=
function(){var g,h=new n;if(0!==c.length){for(g=-Infinity;c.length;){var m=c.shift();e.length&&m.pts>=e[0]&&(g=e.shift(),this.writeMetaDataTags(h,g));if(b.extraData!==f||1E3<=m.pts-g)this.writeMetaDataTags(h,m.pts),f=b.extraData,g=m.pts;var q=new a(a.AUDIO_TAG);q.pts=m.pts;q.dts=m.dts;q.writeBytes(m.data);h.push(q.finalize())}e.length=0;f=null;this.trigger("data",{track:b,tags:h.list})}this.trigger("done","AudioSegmentStream")};this.writeMetaDataTags=function(c,e){var f=new a(a.METADATA_TAG);f.pts=
e;f.dts=e;f.writeMetaDataDouble("audiocodecid",10);f.writeMetaDataBoolean("stereo",2===b.channelcount);f.writeMetaDataDouble("audiosamplerate",b.samplerate);f.writeMetaDataDouble("audiosamplesize",16);c.push(f.finalize());f=new a(a.AUDIO_TAG,!0);f.pts=e;f.dts=e;f.view.setUint16(f.position,b.extraData);f.position+=2;f.length=Math.max(f.length,f.position);c.push(f.finalize())};this.onVideoKeyFrame=function(a){e.push(a)}};A.prototype=new f;var y=function(b){var c=[],e,f;y.prototype.init.call(this);this.finishFrame=
function(a,c){if(c){if(e&&b&&b.newMetadata&&(c.keyFrame||0===a.length)){var g=w(e,c.dts).finalize(),h=v(b,c.dts).finalize();g.metaDataTag=h.metaDataTag=!0;a.push(g);a.push(h);b.newMetadata=!1;this.trigger("keyframe",c.dts)}c.endNalUnit();a.push(c.finalize());f=null}};this.push=function(a){r(b,a);a.pts=Math.round(a.pts/90);a.dts=Math.round(a.dts/90);c.push(a)};this.flush=function(){for(var g,h=new n;c.length&&"access_unit_delimiter_rbsp"!==c[0].nalUnitType;)c.shift();if(0!==c.length){for(;c.length;)g=
c.shift(),"seq_parameter_set_rbsp"===g.nalUnitType?(b.newMetadata=!0,e=g.config,b.width=e.width,b.height=e.height,b.sps=[g.data],b.profileIdc=e.profileIdc,b.levelIdc=e.levelIdc,b.profileCompatibility=e.profileCompatibility,f.endNalUnit()):"pic_parameter_set_rbsp"===g.nalUnitType?(b.newMetadata=!0,b.pps=[g.data],f.endNalUnit()):"access_unit_delimiter_rbsp"===g.nalUnitType?(f&&this.finishFrame(h,f),f=new a(a.VIDEO_TAG),f.pts=g.pts,f.dts=g.dts):("slice_layer_without_partitioning_rbsp_idr"===g.nalUnitType&&
(f.keyFrame=!0),f.endNalUnit()),f.startNalUnit(),f.writeBytes(g.data);f&&this.finishFrame(h,f);this.trigger("data",{track:b,tags:h.list})}this.trigger("done","VideoSegmentStream")}};y.prototype=new f;var x=function(a){var c=this,f,g;x.prototype.init.call(this);a=a||{};this.metadataStream=new h.MetadataStream;a.metadataStream=this.metadataStream;var n=new h.TransportPacketStream;var q=new h.TransportParseStream;var r=new h.ElementaryStream;var w=new h.TimestampRolloverStream("video");var d=new h.TimestampRolloverStream("audio");
var l=new h.TimestampRolloverStream("timed-metadata");var v=new e;var G=new b;var K=new m(a);n.pipe(q).pipe(r);r.pipe(w).pipe(G);r.pipe(d).pipe(v);r.pipe(l).pipe(this.metadataStream).pipe(K);var T=new h.CaptionStream;G.pipe(T).pipe(K);r.on("data",function(a){var b,d,c;if("metadata"===a.type){for(b=a.tracks.length;b--;)"video"===a.tracks[b].type?d=a.tracks[b]:"audio"===a.tracks[b].type&&(c=a.tracks[b]);d&&!f&&(K.numberOfTracks++,f=new y(d),G.pipe(f).pipe(K));if(c&&!g&&(K.numberOfTracks++,g=new A(c),
v.pipe(g).pipe(K),f))f.on("keyframe",g.onVideoKeyFrame)}});this.push=function(a){n.push(a)};this.flush=function(){n.flush()};this.resetCaptions=function(){T.reset()};K.on("data",function(a){c.trigger("data",a)});K.on("done",function(){c.trigger("done")})};x.prototype=new f;c.exports=x},{"../codecs/adts.js":40,"../codecs/h264":41,"../m2ts/m2ts.js":50,"../utils/stream.js":62,"./coalesce-stream.js":43,"./flv-tag.js":45,"./tag-list.js":47}],49:[function(g,c,f){g=g("../utils/stream");var a=function(a,
b){var c=[],e;if(!(b[0]&64))return c;var f=b[0]&31;for(e=0;e<f;e++){var g=3*e;var h={type:b[g+2]&3,pts:a};b[g+2]&4&&(h.ccData=b[g+3]<<8|b[g+4],c.push(h))}return c},h=function(){h.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new r(0,0),new r(0,1),new r(1,0),new r(1,1)];this.reset();this.ccStreams_.forEach(function(a){a.on("data",this.trigger.bind(this,"data"));a.on("done",this.trigger.bind(this,"done"))},this)};h.prototype=new g;h.prototype.push=function(b){if("sei_rbsp"===b.nalUnitType){var c=
b.escapedRBSP;for(var e=0,f={payloadType:-1,payloadSize:0},g=0,h=0;e<c.byteLength&&128!==c[e];){for(;255===c[e];)g+=255,e++;for(g+=c[e++];255===c[e];)h+=255,e++;h+=c[e++];if(!f.payload&&4===g){f.payloadType=g;f.payloadSize=h;f.payload=c.subarray(e,e+h);break}e+=h;h=g=0}4===f.payloadType&&(c=181!==f.payload[0]||49!==(f.payload[1]<<8|f.payload[2])||"GA94"!==String.fromCharCode(f.payload[3],f.payload[4],f.payload[5],f.payload[6])||3!==f.payload[7]?null:f.payload.subarray(8,f.payload.length-1))&&(b.dts<
this.latestDts_?this.ignoreNextEqualDts_=!0:b.dts===this.latestDts_&&this.ignoreNextEqualDts_?this.ignoreNextEqualDts_=!1:(this.captionPackets_=this.captionPackets_.concat(a(b.pts,c)),this.latestDts_=b.dts))}};h.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(a,b){a.presortIndex=b}),this.captionPackets_.sort(function(a,b){return a.pts===b.pts?a.presortIndex-b.presortIndex:a.pts-b.pts}),this.captionPackets_.forEach(function(a){2>a.type&&this.dispatchCea608Packet(a)},
this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(a){a.flush()},this)):this.ccStreams_.forEach(function(a){a.flush()},this)};h.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=!1;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(a){a.reset()})};h.prototype.dispatchCea608Packet=function(a){this.setsChannel1Active(a)?this.activeCea608Channel_[a.type]=0:this.setsChannel2Active(a)&&(this.activeCea608Channel_[a.type]=1);null!==this.activeCea608Channel_[a.type]&&
this.ccStreams_[(a.type<<1)+this.activeCea608Channel_[a.type]].push(a)};h.prototype.setsChannel1Active=function(a){return 4096===(a.ccData&30720)};h.prototype.setsChannel2Active=function(a){return 6144===(a.ccData&30720)};var e={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,
553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},b=function(a){if(null===a)return"";a=e[a]||a;return String.fromCharCode(a)},
m=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],n=function(){for(var a=[],b=15;b--;)a.push("");return a},r=function(a,c){r.prototype.init.call(this);this.field_=a||0;this.dataChannel_=c||0;this.name_="CC"+((this.field_<<1|this.dataChannel_)+1);this.setConstants();this.reset();this.push=function(a){var c=a.ccData&32639;if(c===this.lastControlCode_)this.lastControlCode_=null;else{4096===(c&61440)?this.lastControlCode_=c:c!==this.PADDING_&&(this.lastControlCode_=null);
var e=c>>>8;var f=c&255;c!==this.PADDING_&&(c===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":c===this.END_OF_CAPTION_?(this.clearFormatting(a.pts),this.flushDisplayed(a.pts),f=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=f,this.startPts_=a.pts):c===this.ROLL_UP_2_ROWS_?(this.topRow_=13,this.mode_="rollUp"):c===this.ROLL_UP_3_ROWS_?(this.topRow_=12,this.mode_="rollUp"):c===this.ROLL_UP_4_ROWS_?(this.topRow_=11,this.mode_="rollUp"):c===this.CARRIAGE_RETURN_?(this.clearFormatting(a.pts),
this.flushDisplayed(a.pts),this.shiftRowsUp_(),this.startPts_=a.pts):c===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1):c===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(a.pts),this.displayed_=n()):c===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=n():c===this.RESUME_DIRECT_CAPTIONING_?this.mode_="paintOn":this.isSpecialCharacter(e,f)?(c=b((e&3)<<8|f),this[this.mode_](a.pts,c),this.column_++):
this.isExtCharacter(e,f)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1),c=b((e&3)<<8|f),this[this.mode_](a.pts,c),this.column_++):this.isMidRowCode(e,f)?(this.clearFormatting(a.pts),this[this.mode_](a.pts," "),this.column_++,14===(f&14)&&this.addFormatting(a.pts,["i"]),1===(f&1)&&this.addFormatting(a.pts,["u"])):this.isOffsetControlCode(e,f)?this.column_+=f&3:this.isPAC(e,f)?(e=m.indexOf(c&7968),e!==
this.row_&&(this.clearFormatting(a.pts),this.row_=e),f&1&&-1===this.formatting_.indexOf("u")&&this.addFormatting(a.pts,["u"]),16===(c&16)&&(this.column_=4*((c&14)>>1)),this.isColorPAC(f)&&14===(f&14)&&this.addFormatting(a.pts,["i"])):this.isNormalChar(e)&&(0===f&&(f=null),c=b(e),c+=b(f),this[this.mode_](a.pts,c),this.column_+=c.length))}}};r.prototype=new g;r.prototype.flushDisplayed=function(a){var b=this.displayed_.map(function(a){return a.trim()}).join("\n").replace(/^\n+|\n+$/g,"");b.length&&
this.trigger("data",{startPts:this.startPts_,endPts:a,text:b,stream:this.name_})};r.prototype.reset=function(){this.mode_="popOn";this.startPts_=this.topRow_=0;this.displayed_=n();this.nonDisplayed_=n();this.lastControlCode_=null;this.column_=0;this.row_=14;this.formatting_=[]};r.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,
this.OFFSET_=31);this.PADDING_=0;this.RESUME_CAPTION_LOADING_=this.CONTROL_|32;this.END_OF_CAPTION_=this.CONTROL_|47;this.ROLL_UP_2_ROWS_=this.CONTROL_|37;this.ROLL_UP_3_ROWS_=this.CONTROL_|38;this.ROLL_UP_4_ROWS_=this.CONTROL_|39;this.CARRIAGE_RETURN_=this.CONTROL_|45;this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41;this.BACKSPACE_=this.CONTROL_|33;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};r.prototype.isSpecialCharacter=function(a,b){return a===
this.EXT_&&48<=b&&63>=b};r.prototype.isExtCharacter=function(a,b){return(a===this.EXT_+1||a===this.EXT_+2)&&32<=b&&63>=b};r.prototype.isMidRowCode=function(a,b){return a===this.EXT_&&32<=b&&47>=b};r.prototype.isOffsetControlCode=function(a,b){return a===this.OFFSET_&&33<=b&&35>=b};r.prototype.isPAC=function(a,b){return a>=this.BASE_&&a<this.BASE_+8&&64<=b&&127>=b};r.prototype.isColorPAC=function(a){return 64<=a&&79>=a||96<=a&&127>=a};r.prototype.isNormalChar=function(a){return 32<=a&&127>=a};r.prototype.addFormatting=
function(a,b){this.formatting_=this.formatting_.concat(b);b=b.reduce(function(a,b){return a+"<"+b+">"},"");this[this.mode_](a,b)};r.prototype.clearFormatting=function(a){if(this.formatting_.length){var b=this.formatting_.reverse().reduce(function(a,b){return a+"</"+b+">"},"");this.formatting_=[];this[this.mode_](a,b)}};r.prototype.popOn=function(a,b){this.nonDisplayed_[this.row_]+=b};r.prototype.rollUp=function(a,b){this.displayed_[14]+=b};r.prototype.shiftRowsUp_=function(){var a;for(a=0;a<this.topRow_;a++)this.displayed_[a]=
"";for(a=this.topRow_;14>a;a++)this.displayed_[a]=this.displayed_[a+1];this.displayed_[14]=""};r.prototype.paintOn=function(){};c.exports={CaptionStream:h,Cea608Stream:r}},{"../utils/stream":62}],50:[function(g,c,f){f=g("../utils/stream.js");var a=g("./caption-stream"),h=g("./stream-types"),e=g("./timestamp-rollover-stream").TimestampRolloverStream,b=g("./stream-types.js");var m=function(){var a=new Uint8Array(188),b=0;m.prototype.init.call(this);this.push=function(c){var e=0,f=188;if(b){var g=new Uint8Array(c.byteLength+
b);g.set(a.subarray(0,b));g.set(c,b);b=0}else g=c;for(;f<g.byteLength;)71===g[e]&&71===g[f]?(this.trigger("data",g.subarray(e,f)),e+=188,f+=188):(e++,f++);e<g.byteLength&&(a.set(g.subarray(e),0),b=g.byteLength-e)};this.flush=function(){188===b&&71===a[0]&&(this.trigger("data",a),b=0);this.trigger("done")}};m.prototype=new f;var n=function(){n.prototype.init.call(this);var a=this;this.packetsWaitingForPmt=[];this.programMapTable=void 0;var b=function(a,b){var f=0;b.payloadUnitStartIndicator&&(f+=a[f]+
1);"pat"===b.type?c(a.subarray(f),b):e(a.subarray(f),b)};var c=function(b,c){c.section_number=b[7];c.last_section_number=b[8];a.pmtPid=(b[10]&31)<<8|b[11];c.pmtPid=a.pmtPid};var e=function(b,c){var e;if(b[5]&1){a.programMapTable={video:null,audio:null,"timed-metadata":{}};var f=3+((b[1]&15)<<8|b[2])-4;for(e=12+((b[10]&15)<<8|b[11]);e<f;){var g=b[e],m=(b[e+1]&31)<<8|b[e+2];g===h.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=m:g===h.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?
a.programMapTable.audio=m:g===h.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][m]=g);e+=((b[e+3]&15)<<8|b[e+4])+5}c.programMapTable=a.programMapTable}};this.push=function(a){var c={},e=4;c.payloadUnitStartIndicator=!!(a[1]&64);c.pid=a[1]&31;c.pid<<=8;c.pid|=a[2];1<(a[3]&48)>>>4&&(e+=a[e]+1);if(0===c.pid)c.type="pat",b(a.subarray(e),c),this.trigger("data",c);else if(c.pid===this.pmtPid)for(c.type="pmt",b(a.subarray(e),c),this.trigger("data",c);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,
this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([a,e,c]):this.processPes_(a,e,c)};this.processPes_=function(a,b,c){c.streamType=c.pid===this.programMapTable.video?h.H264_STREAM_TYPE:c.pid===this.programMapTable.audio?h.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][c.pid];c.type="pes";c.data=a.subarray(b);this.trigger("data",c)}};n.prototype=new f;n.STREAM_TYPES={h264:27,adts:15};var r=function(){var a=this,c={data:[],size:0},e={data:[],
size:0},f={data:[],size:0},g=function(b,c,e){var f=new Uint8Array(b.size),g={type:c},h,m=0;if(b.data.length&&!(9>b.size)){g.trackId=b.data[0].pid;for(h=0;h<b.data.length;h++){var d=b.data[h];f.set(d.data,m);m+=d.data.byteLength}g.packetLength=6+(f[4]<<8|f[5]);g.dataAlignmentIndicator=0!==(f[6]&4);h=f[7];h&192&&(g.pts=(f[9]&14)<<27|(f[10]&255)<<20|(f[11]&254)<<12|(f[12]&255)<<5|(f[13]&254)>>>3,g.pts*=4,g.pts+=(f[13]&6)>>>1,g.dts=g.pts,h&64&&(g.dts=(f[14]&14)<<27|(f[15]&255)<<20|(f[16]&254)<<12|(f[17]&
255)<<5|(f[18]&254)>>>3,g.dts*=4,g.dts+=(f[18]&6)>>>1));g.data=f.subarray(9+f[8]);c="video"===c||g.packetLength<=b.size;if(e||c)b.size=0,b.data.length=0;c&&a.trigger("data",g)}};r.prototype.init.call(this);this.push=function(m){({pat:function(){},pes:function(){switch(m.streamType){case h.H264_STREAM_TYPE:case b.H264_STREAM_TYPE:var a=c;var n="video";break;case h.ADTS_STREAM_TYPE:a=e;n="audio";break;case h.METADATA_STREAM_TYPE:a=f;n="timed-metadata";break;default:return}m.payloadUnitStartIndicator&&
g(a,n,!0);a.data.push(m);a.size+=m.data.byteLength},pmt:function(){var b={type:"metadata",tracks:[]},c=m.programMapTable;null!==c.video&&b.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+c.video,codec:"avc",type:"video"});null!==c.audio&&b.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+c.audio,codec:"adts",type:"audio"});a.trigger("data",b)}})[m.type]()};this.flush=function(){g(c,"video");g(e,"audio");g(f,"timed-metadata");this.trigger("done")}};r.prototype=new f;g={PAT_PID:0,
MP2T_PACKET_LENGTH:188,TransportPacketStream:m,TransportParseStream:n,ElementaryStream:r,TimestampRolloverStream:e,CaptionStream:a.CaptionStream,Cea608Stream:a.Cea608Stream,MetadataStream:g("./metadata-stream")};for(var w in h)h.hasOwnProperty(w)&&(g[w]=h[w]);c.exports=g},{"../utils/stream.js":62,"./caption-stream":49,"./metadata-stream":51,"./stream-types":53,"./stream-types.js":53,"./timestamp-rollover-stream":54}],51:[function(g,c,f){f=g("../utils/stream");var a=g("./stream-types"),h=function(a,
b,c){for(var e="";b<c;b++)e+="%"+("00"+a[b].toString(16)).slice(-2);return e},e=function(a){return a[0]<<21|a[1]<<14|a[2]<<7|a[3]},b={TXXX:function(a){var b;if(3===a.data[0]){for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=decodeURIComponent(h(a.data,1,b));a.value=decodeURIComponent(h(a.data,b+1,a.data.length)).replace(/\0*$/,"");break}a.data=a.value}},WXXX:function(a){var b;if(3===a.data[0])for(b=1;b<a.data.length;b++)if(0===a.data[b]){a.description=decodeURIComponent(h(a.data,1,b));
a.url=decodeURIComponent(h(a.data,b+1,a.data.length));break}},PRIV:function(a){var b;for(b=0;b<a.data.length;b++)if(0===a.data[b]){a.owner=unescape(h(a.data,0,b));break}a.privateData=a.data.subarray(b+1);a.data=a.privateData}};var m=function(c){var f=!(!c||!c.debug);c=c&&c.descriptor;var g=0,h=[],n=0,y;m.prototype.init.call(this);this.dispatchType=a.METADATA_STREAM_TYPE.toString(16);if(c)for(y=0;y<c.length;y++)this.dispatchType+=("00"+c[y].toString(16)).slice(-2);this.push=function(a){var c;if("timed-metadata"===
a.type)if(a.dataAlignmentIndicator&&(n=0,h.length=0),0===h.length&&(10>a.data.length||73!==a.data[0]||68!==a.data[1]||51!==a.data[2]))f&&console.log("Skipping unrecognized metadata packet");else if(h.push(a),n+=a.data.byteLength,1===h.length&&(g=e(a.data.subarray(6,10)),g+=10),!(n<g)){a={data:new Uint8Array(g),frames:[],pts:h[0].pts,dts:h[0].dts};for(c=0;c<g;)a.data.set(h[0].data.subarray(0,g-c),c),c+=h[0].data.byteLength,n-=h[0].data.byteLength,h.shift();c=10;a.data[5]&64&&(c=c+4+e(a.data.subarray(10,
14)),g-=e(a.data.subarray(16,20)));do{var m=e(a.data.subarray(c+4,c+8));if(1>m)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");var x=String.fromCharCode(a.data[c],a.data[c+1],a.data[c+2],a.data[c+3]);x={id:x,data:a.data.subarray(c+10,c+m+10)};x.key=x.id;if(b[x.id]&&(b[x.id](x),"com.apple.streaming.transportStreamTimestamp"===x.owner)){var r=x.data,y=(r[3]&1)<<30|r[4]<<22|r[5]<<14|r[6]<<6|r[7]>>>2;y*=4;y+=r[7]&3;x.timeStamp=y;void 0===a.pts&&void 0===a.dts&&(a.pts=
x.timeStamp,a.dts=x.timeStamp);this.trigger("timestamp",x)}a.frames.push(x);c+=10;c+=m}while(c<g);this.trigger("data",a)}}};m.prototype=new f;c.exports=m},{"../utils/stream":62,"./stream-types":53}],52:[function(g,c,f){var a=g("./stream-types.js"),h=function(a){var b=a[1]&31;return b=b<<8|a[2]},e=function(a){return!!(a[1]&64)},b=function(a){var b=0;1<(a[3]&48)>>>4&&(b+=a[4]+1);return b},m=function(a){switch(a){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";
case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};c.exports={parseType:function(a,b){a=h(a);return 0===a?"pat":a===b?"pmt":b?"pes":null},parsePat:function(a){var c=e(a),f=4+b(a);c&&(f+=a[f]+1);return(a[f+10]&31)<<8|a[f+11]},parsePmt:function(a){var c={},f=e(a),g=4+b(a);f&&(g+=a[g]+1);if(a[g+5]&1){f=3+((a[g+1]&15)<<8|a[g+2])-4;for(var h=12+((a[g+10]&15)<<8|a[g+11]);h<f;){var m=g+h;c[(a[m+1]&31)<<8|a[m+2]]=a[m];h+=((a[m+3]&15)<<8|a[m+4])+5}return c}},
parsePayloadUnitStartIndicator:e,parsePesType:function(b,c){b=h(b);switch(c[b]){case a.H264_STREAM_TYPE:return"video";case a.ADTS_STREAM_TYPE:return"audio";case a.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(a){if(!e(a))return null;var c=4+b(a);if(c>=a.byteLength)return null;var f=null;var g=a[c+7];g&192&&(f={},f.pts=(a[c+9]&14)<<27|(a[c+10]&255)<<20|(a[c+11]&254)<<12|(a[c+12]&255)<<5|(a[c+13]&254)>>>3,f.pts*=4,f.pts+=(a[c+13]&6)>>>1,f.dts=f.pts,g&64&&(f.dts=
(a[c+14]&14)<<27|(a[c+15]&255)<<20|(a[c+16]&254)<<12|(a[c+17]&255)<<5|(a[c+18]&254)>>>3,f.dts*=4,f.dts+=(a[c+18]&6)>>>1));return f},videoPacketContainsKeyFrame:function(a){var c=4+b(a);a=a.subarray(c);for(var e=c=0,f=!1;e<a.byteLength-3;e++)if(1===a[e+2]){c=e+5;break}for(;c<a.byteLength;)switch(a[c]){case 0:if(0!==a[c-1]){c+=2;break}else if(0!==a[c-2]){c++;break}e+3!==c-2&&(e=m(a[e+3]&31),"slice_layer_without_partitioning_rbsp_idr"===e&&(f=!0));do c++;while(1!==a[c]&&c<a.length);e=c-2;c+=3;break;
case 1:if(0!==a[c-1]||0!==a[c-2]){c+=3;break}e=m(a[e+3]&31);"slice_layer_without_partitioning_rbsp_idr"===e&&(f=!0);e=c-2;c+=3;break;default:c+=3}(a=a.subarray(e))&&3<a.byteLength&&(e=m(a[3]&31),"slice_layer_without_partitioning_rbsp_idr"===e&&(f=!0));return f}}},{"./stream-types.js":53}],53:[function(g,c,f){c.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],54:[function(g,c,f){g=g("../utils/stream");var a=function(a,b){var c=1;for(a>b&&(c=-1);4294967296<Math.abs(b-a);)a+=
8589934592*c;return a},h=function(c){var b,e;h.prototype.init.call(this);this.type_=c;this.push=function(c){c.type===this.type_&&(void 0===e&&(e=c.dts),c.dts=a(c.dts,e),c.pts=a(c.pts,e),b=c.dts,this.trigger("data",c))};this.flush=function(){e=b;this.trigger("done")};this.discontinuity=function(){b=e=void 0}};h.prototype=new g;c.exports={TimestampRolloverStream:h,handleRollover:a}},{"../utils/stream":62}],55:[function(g,c,f){c.exports={generator:g("./mp4-generator"),Transmuxer:g("./transmuxer").Transmuxer,
AudioSegmentStream:g("./transmuxer").AudioSegmentStream,VideoSegmentStream:g("./transmuxer").VideoSegmentStream}},{"./mp4-generator":56,"./transmuxer":58}],56:[function(g,c,f){var a=Math.pow(2,32)-1,h,e,b,m,n,r,w,v,A,y,x,q,B,C,E,I;(function(){var a;b={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],
trex:[],tkhd:[],vmhd:[]};if("undefined"!==typeof Uint8Array){for(a in b)b.hasOwnProperty(a)&&(b[a]=[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3)]);m=new Uint8Array([105,115,111,109]);r=new Uint8Array([97,118,99,49]);n=new Uint8Array([0,0,0,1]);w=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);v=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,
114,0]);A={video:w,audio:v};q=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);x=new Uint8Array([0,0,0,0,0,0,0,0]);C=B=new Uint8Array([0,0,0,0,0,0,0,0]);E=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);I=B;y=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})();var F=function(a){var b=[],d=0,c;for(c=1;c<arguments.length;c++)b.push(arguments[c]);for(c=b.length;c--;)d+=b[c].byteLength;var e=new Uint8Array(d+8);(new DataView(e.buffer,e.byteOffset,e.byteLength)).setUint32(0,e.byteLength);e.set(a,
4);c=0;for(d=8;c<b.length;c++)e.set(b[c],d),d+=b[c].byteLength;return e};var J=function(){return F(b.dinf,F(b.dref,q))};var L=function(a){return F(b.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,a.audioobjecttype<<3|a.samplingfrequencyindex>>>1,a.samplingfrequencyindex<<7|a.channelcount<<3,6,1,2]))};var d=function(){return F(b.ftyp,m,n,m,r)};var l=function(a){return F(b.hdlr,A[a])};var z=function(a){var d=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,a.duration>>>
24&255,a.duration>>>16&255,a.duration>>>8&255,a.duration&255,85,196,0,0]);a.samplerate&&(d[12]=a.samplerate>>>24&255,d[13]=a.samplerate>>>16&255,d[14]=a.samplerate>>>8&255,d[15]=a.samplerate&255);return F(b.mdhd,d)};var G=function(a){return F(b.mdia,z(a),l(a.type),T(a))};var K=function(a){return F(b.mfhd,new Uint8Array([0,0,0,0,(a&4278190080)>>24,(a&16711680)>>16,(a&65280)>>8,a&255]))};var T=function(a){return F(b.minf,"video"===a.type?F(b.vmhd,y):F(b.smhd,x),J(),Y(a))};var ja=function(a){for(var d=
a.length,c=[];d--;)c[d]=fa(a[d]);return F.apply(null,[b.moov,Ea(4294967295)].concat(c).concat(W(a)))};var W=function(a){for(var d=a.length,c=[];d--;)c[d]=xa(a[d]);return F.apply(null,[b.mvex].concat(c))};var Ea=function(a){a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(a&4278190080)>>24,(a&16711680)>>16,(a&65280)>>8,a&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);
return F(b.mvhd,a)};var ea=function(a){a=a.samples||[];var d=new Uint8Array(4+a.length),c;for(c=0;c<a.length;c++){var e=a[c].flags;d[c+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy}return F(b.sdtp,d)};var Y=function(a){return F(b.stbl,h(a),F(b.stts,I),F(b.stsc,C),F(b.stsz,E),F(b.stco,B))};(function(){h=function(c){return F(b.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===c.type?a(c):d(c))};var a=function(a){var d=a.sps||[],c=a.pps||[],e=[],f=[],g;for(g=0;g<d.length;g++)e.push((d[g].byteLength&
65280)>>>8),e.push(d[g].byteLength&255),e=e.concat(Array.prototype.slice.call(d[g]));for(g=0;g<c.length;g++)f.push((c[g].byteLength&65280)>>>8),f.push(c[g].byteLength&255),f=f.concat(Array.prototype.slice.call(c[g]));return F(b.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(a.width&65280)>>8,a.width&255,(a.height&65280)>>8,a.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),
F(b.avcC,new Uint8Array([1,a.profileIdc,a.profileCompatibility,a.levelIdc,255].concat([d.length]).concat(e).concat([c.length]).concat(f))),F(b.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))};var d=function(a){return F(b.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(a.channelcount&65280)>>8,a.channelcount&255,(a.samplesize&65280)>>8,a.samplesize&255,0,0,0,0,(a.samplerate&65280)>>8,a.samplerate&255,0,0]),L(a))}})();var aa=function(a){a=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,
0,(a.id&4278190080)>>24,(a.id&16711680)>>16,(a.id&65280)>>8,a.id&255,0,0,0,0,(a.duration&4278190080)>>24,(a.duration&16711680)>>16,(a.duration&65280)>>8,a.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(a.width&65280)>>8,a.width&255,0,0,(a.height&65280)>>8,a.height&255,0,0]);return F(b.tkhd,a)};var O=function(d){var c=F(b.tfhd,new Uint8Array([0,0,0,58,(d.id&4278190080)>>24,(d.id&16711680)>>16,(d.id&65280)>>8,d.id&255,0,0,0,1,0,
0,0,0,0,0,0,0,0,0,0,0]));var f=Math.floor(d.baseMediaDecodeTime/(a+1));var g=Math.floor(d.baseMediaDecodeTime%(a+1));f=F(b.tfdt,new Uint8Array([1,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,g>>>24&255,g>>>16&255,g>>>8&255,g&255]));if("audio"===d.type)return d=e(d,92),F(b.traf,c,f,d);g=ea(d);d=e(d,g.length+92);return F(b.traf,c,f,d,g)};var fa=function(a){a.duration=a.duration||4294967295;return F(b.trak,aa(a),G(a))};var xa=function(a){var d=new Uint8Array([0,0,0,0,(a.id&4278190080)>>24,(a.id&16711680)>>
16,(a.id&65280)>>8,a.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);"video"!==a.type&&(d[d.length-1]=0);return F(b.trex,d)};(function(){var a=function(a,b){var d=0,c=0,e=0,f=0;a.length&&(void 0!==a[0].duration&&(d=1),void 0!==a[0].size&&(c=2),void 0!==a[0].flags&&(e=4),void 0!==a[0].compositionTimeOffset&&(f=8));return[0,0,d|c|e|f,1,(a.length&4278190080)>>>24,(a.length&16711680)>>>16,(a.length&65280)>>>8,a.length&255,(b&4278190080)>>>24,(b&16711680)>>>16,(b&65280)>>>8,b&255]};var d=function(d,c){var e;
d=d.samples||[];c+=20+16*d.length;c=a(d,c);for(e=0;e<d.length;e++){var f=d[e];c=c.concat([(f.duration&4278190080)>>>24,(f.duration&16711680)>>>16,(f.duration&65280)>>>8,f.duration&255,(f.size&4278190080)>>>24,(f.size&16711680)>>>16,(f.size&65280)>>>8,f.size&255,f.flags.isLeading<<2|f.flags.dependsOn,f.flags.isDependedOn<<6|f.flags.hasRedundancy<<4|f.flags.paddingValue<<1|f.flags.isNonSyncSample,f.flags.degradationPriority&61440,f.flags.degradationPriority&15,(f.compositionTimeOffset&4278190080)>>>
24,(f.compositionTimeOffset&16711680)>>>16,(f.compositionTimeOffset&65280)>>>8,f.compositionTimeOffset&255])}return F(b.trun,new Uint8Array(c))};var c=function(d,c){var e;d=d.samples||[];c+=20+8*d.length;c=a(d,c);for(e=0;e<d.length;e++){var f=d[e];c=c.concat([(f.duration&4278190080)>>>24,(f.duration&16711680)>>>16,(f.duration&65280)>>>8,f.duration&255,(f.size&4278190080)>>>24,(f.size&16711680)>>>16,(f.size&65280)>>>8,f.size&255])}return F(b.trun,new Uint8Array(c))};e=function(a,b){return"audio"===
a.type?c(a,b):d(a,b)}})();c.exports={ftyp:d,mdat:function(a){return F(b.mdat,a)},moof:function(a,d){for(var c=[],e=d.length;e--;)c[e]=O(d[e]);return F.apply(null,[b.moof,K(a)].concat(c))},moov:ja,initSegment:function(a){var b=d();a=ja(a);var c=new Uint8Array(b.byteLength+a.byteLength);c.set(b);c.set(a,b.byteLength);return c}}},{}],57:[function(g,c,f){var a=function(c,b){var e=[],f;if(!b.length)return null;for(f=0;f<c.byteLength;){var g=c[f]<<24;g|=c[f+1]<<16;g|=c[f+2]<<8;g|=c[f+3];var w=h(c.subarray(f+
4,f+8));g=1<g?f+g:c.byteLength;w===b[0]&&(1===b.length?e.push(c.subarray(f+8,g)):(f=a(c.subarray(f+8,g),b.slice(1)),f.length&&(e=e.concat(f))));f=g}return e};var h=function(a){var b=""+String.fromCharCode(a[0]);b+=String.fromCharCode(a[1]);b+=String.fromCharCode(a[2]);return b+=String.fromCharCode(a[3])};c.exports={parseType:h,timescale:function(c){return a(c,["moov","trak"]).reduce(function(b,c){var e=a(c,["tkhd"])[0];if(!e)return null;var f=e[0];f=0===f?12:20;e=e[f]<<24|e[f+1]<<16|e[f+2]<<8|e[f+
3];c=a(c,["mdia","mdhd"])[0];if(!c)return null;f=c[0];f=0===f?12:20;b[e]=c[f]<<24|c[f+1]<<16|c[f+2]<<8|c[f+3];return b},{})},startTime:function(c,b){b=a(b,["moof","traf"]);b=[].concat.apply([],b.map(function(b){return a(b,["tfhd"]).map(function(e){e=c[e[4]<<24|e[5]<<16|e[6]<<8|e[7]]||9E4;var f=(f=a(b,["tfdt"]).map(function(a){var b=a[0];var c=a[4]<<24|a[5]<<16|a[6]<<8|a[7];1===b&&(c*=Math.pow(2,32),c+=a[8]<<24|a[9]<<16|a[10]<<8|a[11]);return c})[0])||Infinity;return f/e})}));b=Math.min.apply(null,
b);return isFinite(b)?b:0}}},{}],58:[function(g,c,f){f=g("../utils/stream.js");var a=g("./mp4-generator.js"),h=g("../m2ts/m2ts.js"),e=g("../codecs/adts.js"),b=g("../codecs/h264").H264Stream,m=g("../aac"),n=g("../data/silence"),r=g("../utils/clock"),w=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],v=["width","height","profileIdc","levelIdc","profileCompatibility"];var A=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}};
var y=function(a){return 73===a[0]&&68===a[1]&&51===a[2]?!0:!1};var x=function(a,b){var d;if(a.length!==b.length)return!1;for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};var q=function(a){var b,d=0;for(b=0;b<a.length;b++){var c=a[b];d+=c.data.byteLength}return d};var B=function(b){var d=[],c=0,e=0,f=0,g=Infinity;B.prototype.init.call(this);this.push=function(a){E(b,a);b&&w.forEach(function(d){b[d]=a[d]});d.push(a)};this.setEarliestDts=function(a){e=a-b.timelineStartInfo.baseMediaDecodeTime};
this.setVideoBaseMediaDecodeTime=function(a){g=a};this.setAudioAppendStart=function(a){f=a};this.flush=function(){if(0!==d.length){var e=this.trimAdtsFramesByEarliestDts_(d);b.baseMediaDecodeTime=F(b);this.prefixWithSilence_(b,e);b.samples=this.generateSampleTable_(e);var f=a.mdat(this.concatenateFrameData_(e));d=[];e=a.moof(c,[b]);var g=new Uint8Array(e.byteLength+f.byteLength);c++;g.set(e);g.set(f,e.byteLength);I(b);this.trigger("data",{track:b,boxes:g})}this.trigger("done","AudioSegmentStream")};
this.prefixWithSilence_=function(a,b){var d,c=d=0;if(b.length){var e=r.audioTsToVideoTs(a.baseMediaDecodeTime,a.samplerate);var h=Math.ceil(9E4/(a.samplerate/1024));f&&g&&(d=e-Math.max(f,g),d=Math.floor(d/h),c=d*h);if(!(1>d||45E3<c)){h=n[a.samplerate];h||(h=b[0].data);for(e=0;e<d;e++)b.splice(e,0,{data:h});a.baseMediaDecodeTime-=Math.floor(r.videoTsToAudioTs(c,a.samplerate))}}};this.trimAdtsFramesByEarliestDts_=function(a){if(b.minSegmentDts>=e)return a;b.minSegmentDts=Infinity;return a.filter(function(a){return a.dts>=
e?(b.minSegmentDts=Math.min(b.minSegmentDts,a.dts),b.minSegmentPts=b.minSegmentDts,!0):!1})};this.generateSampleTable_=function(a){var b,d=[];for(b=0;b<a.length;b++){var c=a[b];d.push({size:c.data.byteLength,duration:1024})}return d};this.concatenateFrameData_=function(a){var b,d=0,c=new Uint8Array(q(a));for(b=0;b<a.length;b++){var e=a[b];c.set(e.data,d);d+=e.data.byteLength}return c}};B.prototype=new f;var C=function(b,c){var d=0,e=[],f=[],g,h;c=c||{};C.prototype.init.call(this);delete b.minPTS;
this.gopCache_=[];this.push=function(a){E(b,a);"seq_parameter_set_rbsp"!==a.nalUnitType||g||(g=a.config,b.sps=[a.data],v.forEach(function(a){b[a]=g[a]},this));"pic_parameter_set_rbsp"!==a.nalUnitType||h||(h=a.data,b.pps=[a.data]);e.push(a)};this.flush=function(){for(var g,h,l;e.length&&"access_unit_delimiter_rbsp"!==e[0].nalUnitType;)e.shift();if(0!==e.length){g=this.groupNalsIntoFrames_(e);g=this.groupFramesIntoGops_(g);g[0][0].keyFrame||((h=this.getGopForFusion_(e[0],b))?(g.unshift(h),g.byteLength+=
h.byteLength,g.nalCount+=h.nalCount,g.pts=h.pts,g.dts=h.dts,g.duration+=h.duration):g=this.extendFirstKeyFrame_(g));if(f.length){h=c.alignGopsAtEnd?this.alignGopsAtEnd_(g):this.alignGopsAtStart_(g);if(!h){this.gopCache_.unshift({gop:g.pop(),pps:b.pps,sps:b.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);e=[];this.resetStream_();this.trigger("done","VideoSegmentStream");return}I(b);g=h}E(b,g);b.samples=this.generateSampleTable_(g);h=a.mdat(this.concatenateNalData_(g));b.baseMediaDecodeTime=
F(b);this.trigger("processedGopsInfo",g.map(function(a){return{pts:a.pts,dts:a.dts,byteLength:a.byteLength}}));this.gopCache_.unshift({gop:g.pop(),pps:b.pps,sps:b.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);e=[];this.trigger("baseMediaDecodeTime",b.baseMediaDecodeTime);this.trigger("timelineStartInfo",b.timelineStartInfo);g=a.moof(d,[b]);l=new Uint8Array(g.byteLength+h.byteLength);d++;l.set(g);l.set(h,g.byteLength);this.trigger("data",{track:b,boxes:l})}this.resetStream_();this.trigger("done",
"VideoSegmentStream")};this.resetStream_=function(){I(b);h=g=void 0};this.getGopForFusion_=function(a){var d=Infinity,c;for(c=0;c<this.gopCache_.length;c++){var e=this.gopCache_[c];var f=e.gop;if(b.pps&&x(b.pps[0],e.pps[0])&&b.sps&&x(b.sps[0],e.sps[0])&&!(f.dts<b.timelineStartInfo.dts)&&(f=a.dts-f.dts-f.duration,-1E4<=f&&45E3>=f&&(!g||d>f))){var g=e;d=f}}return g?g.gop:null};this.extendFirstKeyFrame_=function(a){if(!a[0][0].keyFrame&&1<a.length){var b=a.shift();a.byteLength-=b.byteLength;a.nalCount-=
b.nalCount;a[0][0].dts=b.dts;a[0][0].pts=b.pts;a[0][0].duration+=b.duration}return a};this.groupNalsIntoFrames_=function(a){var b,d=[],c=[];for(b=d.byteLength=0;b<a.length;b++){var e=a[b];"access_unit_delimiter_rbsp"===e.nalUnitType?(d.length&&(d.duration=e.dts-d.dts,c.push(d)),d=[e],d.byteLength=e.data.byteLength,d.pts=e.pts,d.dts=e.dts):("slice_layer_without_partitioning_rbsp_idr"===e.nalUnitType&&(d.keyFrame=!0),d.duration=e.dts-d.dts,d.byteLength+=e.data.byteLength,d.push(e))}c.length&&(!d.duration||
0>=d.duration)&&(d.duration=c[c.length-1].duration);c.push(d);return c};this.groupFramesIntoGops_=function(a){var b,d=[],c=[];d.byteLength=0;d.nalCount=0;d.duration=0;d.pts=a[0].pts;d.dts=a[0].dts;c.byteLength=0;c.nalCount=0;c.duration=0;c.pts=a[0].pts;c.dts=a[0].dts;for(b=0;b<a.length;b++){var e=a[b];e.keyFrame?(d.length&&(c.push(d),c.byteLength+=d.byteLength,c.nalCount+=d.nalCount,c.duration+=d.duration),d=[e],d.nalCount=e.length,d.byteLength=e.byteLength,d.pts=e.pts,d.dts=e.dts,d.duration=e.duration):
(d.duration+=e.duration,d.nalCount+=e.length,d.byteLength+=e.byteLength,d.push(e))}c.length&&0>=d.duration&&(d.duration=c[c.length-1].duration);c.byteLength+=d.byteLength;c.nalCount+=d.nalCount;c.duration+=d.duration;c.push(d);return c};this.generateSampleTable_=function(a,b){var d,c=b||0,e=[];for(b=0;b<a.length;b++){var f=a[b];for(d=0;d<f.length;d++){var g=f[d];var h=A();h.dataOffset=c;h.compositionTimeOffset=g.pts-g.dts;h.duration=g.duration;h.size=4*g.length;h.size+=g.byteLength;g.keyFrame&&(h.flags.dependsOn=
2);c+=h.size;e.push(h)}}return e};this.concatenateNalData_=function(a){var b,d,c,e=0,f=new Uint8Array(a.byteLength+4*a.nalCount),g=new DataView(f.buffer);for(b=0;b<a.length;b++){var h=a[b];for(d=0;d<h.length;d++){var l=h[d];for(c=0;c<l.length;c++){var m=l[c];g.setUint32(e,m.data.byteLength);e+=4;f.set(m.data,e);e+=m.data.byteLength}}}return f};this.alignGopsAtStart_=function(a){var b,d;var c=a.byteLength;var e=a.nalCount;var g=a.duration;for(b=d=0;b<f.length&&d<a.length;){var h=f[b];var l=a[d];if(h.pts===
l.pts)break;l.pts>h.pts?b++:(d++,c-=l.byteLength,e-=l.nalCount,g-=l.duration)}if(0===d)return a;if(d===a.length)return null;a=a.slice(d);a.byteLength=c;a.duration=g;a.nalCount=e;a.pts=a[0].pts;a.dts=a[0].dts;return a};this.alignGopsAtEnd_=function(a){var b;var d=f.length-1;var c=a.length-1;var e=null;for(b=!1;0<=d&&0<=c;){var g=f[d];var h=a[c];if(g.pts===h.pts){b=!0;break}g.pts>h.pts?d--:(d===f.length-1&&(e=c),c--)}if(!b&&null===e)return null;d=b?c:e;if(0===d)return a;a=a.slice(d);d=a.reduce(function(a,
b){a.byteLength+=b.byteLength;a.duration+=b.duration;a.nalCount+=b.nalCount;return a},{byteLength:0,duration:0,nalCount:0});a.byteLength=d.byteLength;a.duration=d.duration;a.nalCount=d.nalCount;a.pts=a[0].pts;a.dts=a[0].dts;return a};this.alignGopsWith=function(a){f=a}};C.prototype=new f;var E=function(a,b){"number"===typeof b.pts&&(void 0===a.timelineStartInfo.pts&&(a.timelineStartInfo.pts=b.pts),a.minSegmentPts=void 0===a.minSegmentPts?b.pts:Math.min(a.minSegmentPts,b.pts),a.maxSegmentPts=void 0===
a.maxSegmentPts?b.pts:Math.max(a.maxSegmentPts,b.pts));"number"===typeof b.dts&&(void 0===a.timelineStartInfo.dts&&(a.timelineStartInfo.dts=b.dts),a.minSegmentDts=void 0===a.minSegmentDts?b.dts:Math.min(a.minSegmentDts,b.dts),a.maxSegmentDts=void 0===a.maxSegmentDts?b.dts:Math.max(a.maxSegmentDts,b.dts))};var I=function(a){delete a.minSegmentDts;delete a.maxSegmentDts;delete a.minSegmentPts;delete a.maxSegmentPts};var F=function(a){var b=a.minSegmentDts-a.timelineStartInfo.dts;var d=a.timelineStartInfo.baseMediaDecodeTime;
d=Math.max(0,d+b);"audio"===a.type&&(a=a.samplerate/9E4,d=Math.floor(d*a));return d};var J=function(a,b){this.numberOfTracks=0;this.metadataStream=b;this.remuxTracks="undefined"!==typeof a.remux?!!a.remux:!0;this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.emittedTracks=this.pendingBytes=0;J.prototype.init.call(this);this.push=function(a){if(a.text)return this.pendingCaptions.push(a);if(a.frames)return this.pendingMetadata.push(a);
this.pendingTracks.push(a.track);this.pendingBoxes.push(a.boxes);this.pendingBytes+=a.boxes.byteLength;"video"===a.track.type&&(this.videoTrack=a.track);"audio"===a.track.type&&(this.audioTrack=a.track)}};J.prototype=new f;J.prototype.flush=function(b){var d=0,c={captions:[],captionStreams:{},metadata:[],info:{}},e=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==b&&"AudioSegmentStream"!==b||this.remuxTracks)return;if(0===this.pendingTracks.length){this.emittedTracks++;
this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}this.videoTrack?(e=this.videoTrack.timelineStartInfo.pts,v.forEach(function(a){c.info[a]=this.videoTrack[a]},this)):this.audioTrack&&(e=this.audioTrack.timelineStartInfo.pts,w.forEach(function(a){c.info[a]=this.audioTrack[a]},this));c.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined";this.emittedTracks+=this.pendingTracks.length;b=a.initSegment(this.pendingTracks);c.initSegment=new Uint8Array(b.byteLength);
c.initSegment.set(b);c.data=new Uint8Array(this.pendingBytes);for(b=0;b<this.pendingBoxes.length;b++)c.data.set(this.pendingBoxes[b],d),d+=this.pendingBoxes[b].byteLength;for(b=0;b<this.pendingCaptions.length;b++)d=this.pendingCaptions[b],d.startTime=d.startPts-e,d.startTime/=9E4,d.endTime=d.endPts-e,d.endTime/=9E4,c.captionStreams[d.stream]=!0,c.captions.push(d);for(b=0;b<this.pendingMetadata.length;b++)d=this.pendingMetadata[b],d.cueTime=d.pts-e,d.cueTime/=9E4,c.metadata.push(d);c.metadata.dispatchType=
this.metadataStream.dispatchType;this.pendingTracks.length=0;this.videoTrack=null;this.pendingBoxes.length=0;this.pendingBytes=this.pendingCaptions.length=0;this.pendingMetadata.length=0;this.trigger("data",c);this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};var L=function(a){var d=this,c=!0,f,g;L.prototype.init.call(this);a=a||{};this.baseMediaDecodeTime=a.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var b={};this.transmuxPipeline_=
b;b.type="aac";b.metadataStream=new h.MetadataStream;b.aacStream=new m;b.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio");b.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata");b.adtsStream=new e;b.coalesceStream=new J(a,b.metadataStream);b.headOfPipeline=b.aacStream;b.aacStream.pipe(b.audioTimestampRolloverStream).pipe(b.adtsStream);b.aacStream.pipe(b.timedMetadataTimestampRolloverStream).pipe(b.metadataStream).pipe(b.coalesceStream);b.metadataStream.on("timestamp",
function(a){b.aacStream.setTimestamp(a.timeStamp)});b.aacStream.on("data",function(a){"timed-metadata"!==a.type||b.audioSegmentStream||(g=g||{timelineStartInfo:{baseMediaDecodeTime:d.baseMediaDecodeTime},codec:"adts",type:"audio"},b.coalesceStream.numberOfTracks++,b.audioSegmentStream=new B(g),b.adtsStream.pipe(b.audioSegmentStream).pipe(b.coalesceStream))});b.coalesceStream.on("data",this.trigger.bind(this,"data"));b.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setupTsPipeline=
function(){var c={};this.transmuxPipeline_=c;c.type="ts";c.metadataStream=new h.MetadataStream;c.packetStream=new h.TransportPacketStream;c.parseStream=new h.TransportParseStream;c.elementaryStream=new h.ElementaryStream;c.videoTimestampRolloverStream=new h.TimestampRolloverStream("video");c.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio");c.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata");c.adtsStream=new e;c.h264Stream=new b;c.captionStream=
new h.CaptionStream;c.coalesceStream=new J(a,c.metadataStream);c.headOfPipeline=c.packetStream;c.packetStream.pipe(c.parseStream).pipe(c.elementaryStream);c.elementaryStream.pipe(c.videoTimestampRolloverStream).pipe(c.h264Stream);c.elementaryStream.pipe(c.audioTimestampRolloverStream).pipe(c.adtsStream);c.elementaryStream.pipe(c.timedMetadataTimestampRolloverStream).pipe(c.metadataStream).pipe(c.coalesceStream);c.h264Stream.pipe(c.captionStream).pipe(c.coalesceStream);c.elementaryStream.on("data",
function(b){var e;if("metadata"===b.type){for(e=b.tracks.length;e--;)f||"video"!==b.tracks[e].type?g||"audio"!==b.tracks[e].type||(g=b.tracks[e],g.timelineStartInfo.baseMediaDecodeTime=d.baseMediaDecodeTime):(f=b.tracks[e],f.timelineStartInfo.baseMediaDecodeTime=d.baseMediaDecodeTime);f&&!c.videoSegmentStream&&(c.coalesceStream.numberOfTracks++,c.videoSegmentStream=new C(f,a),c.videoSegmentStream.on("timelineStartInfo",function(a){g&&(g.timelineStartInfo=a,c.audioSegmentStream.setEarliestDts(a.dts))}),
c.videoSegmentStream.on("processedGopsInfo",d.trigger.bind(d,"gopInfo")),c.videoSegmentStream.on("baseMediaDecodeTime",function(a){g&&c.audioSegmentStream.setVideoBaseMediaDecodeTime(a)}),c.h264Stream.pipe(c.videoSegmentStream).pipe(c.coalesceStream));g&&!c.audioSegmentStream&&(c.coalesceStream.numberOfTracks++,c.audioSegmentStream=new B(g),c.adtsStream.pipe(c.audioSegmentStream).pipe(c.coalesceStream))}});c.coalesceStream.on("data",this.trigger.bind(this,"data"));c.coalesceStream.on("done",this.trigger.bind(this,
"done"))};this.setBaseMediaDecodeTime=function(a){var b=this.transmuxPipeline_;this.baseMediaDecodeTime=a;g&&(g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,I(g),g.timelineStartInfo.baseMediaDecodeTime=a,b.audioTimestampRolloverStream&&b.audioTimestampRolloverStream.discontinuity());f&&(b.videoSegmentStream&&(b.videoSegmentStream.gopCache_=[],b.videoTimestampRolloverStream.discontinuity()),f.timelineStartInfo.dts=void 0,f.timelineStartInfo.pts=void 0,I(f),b.captionStream.reset(),f.timelineStartInfo.baseMediaDecodeTime=
a);b.timedMetadataTimestampRolloverStream&&b.timedMetadataTimestampRolloverStream.discontinuity()};this.setAudioAppendStart=function(a){g&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(a)};this.alignGopsWith=function(a){f&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(a)};this.push=function(a){if(c){var b=y(a);b&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():b||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline();
c=!1}this.transmuxPipeline_.headOfPipeline.push(a)};this.flush=function(){c=!0;this.transmuxPipeline_.headOfPipeline.flush()};this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}};L.prototype=new f;c.exports={Transmuxer:L,VideoSegmentStream:C,AudioSegmentStream:B,AUDIO_PROPERTIES:w,VIDEO_PROPERTIES:v}},{"../aac":38,"../codecs/adts.js":40,"../codecs/h264":41,"../data/silence":42,"../m2ts/m2ts.js":50,"../utils/clock":60,"../utils/stream.js":62,
"./mp4-generator.js":56}],59:[function(g,c,f){var a=g("../m2ts/stream-types.js"),h=g("../m2ts/timestamp-rollover-stream.js").handleRollover;var e=g("../m2ts/probe.js");var b=g("../aac/probe.js");var m=function(a,b){if(a.audio&&a.audio.length){var c=b;"undefined"===typeof c&&(c=a.audio[0].dts);a.audio.forEach(function(a){a.dts=h(a.dts,c);a.pts=h(a.pts,c);a.dtsTime=a.dts/9E4;a.ptsTime=a.pts/9E4})}if(a.video&&a.video.length){var e=b;"undefined"===typeof e&&(e=a.video[0].dts);a.video.forEach(function(a){a.dts=
h(a.dts,e);a.pts=h(a.pts,e);a.dtsTime=a.dts/9E4;a.ptsTime=a.pts/9E4});a.firstKeyFrame&&(a=a.firstKeyFrame,a.dts=h(a.dts,e),a.pts=h(a.pts,e),a.dtsTime=a.dts/9E4,a.ptsTime=a.dts/9E4)}};c.exports={inspect:function(c,f){var g=73===c[0]&&68===c[1]&&51===c[2]?!0:!1;if(g)a:{var h=!1,n=0,y=null;g=null;for(var x,q=0,r;3<=c.length-q;){switch(b.parseType(c,q)){case "timed-metadata":if(10>c.length-q){h=!0;break}x=b.parseId3TagSize(c,q);if(x>c.length){h=!0;break}null===g&&(r=c.subarray(q,q+x),g=b.parseAacTimestamp(r));
q+=x;break;case "audio":if(7>c.length-q){h=!0;break}x=b.parseAdtsSize(c,q);if(x>c.length){h=!0;break}null===y&&(r=c.subarray(q,q+x),y=b.parseSampleRate(r));n++;q+=x;break;default:q++}if(h){c=null;break a}}null===y||null===g?c=null:(c=9E4/y,c={audio:[{type:"audio",dts:g,pts:g},{type:"audio",dts:g+1024*n*c,pts:g+1024*n*c}]})}else{g={pid:null,table:null};h={};y=0;for(x=188;x<c.byteLength;)if(71===c[y]&&71===c[x]){q=c.subarray(y,x);r=e.parseType(q,g.pid);switch(r){case "pat":g.pid||(g.pid=e.parsePat(q));
break;case "pmt":g.table||(g.table=e.parsePmt(q))}if(g.pid&&g.table)break;y+=188;x+=188}else y++,x++;for(n in g.table)if(g.table.hasOwnProperty(n))switch(g.table[n]){case a.H264_STREAM_TYPE:h.video=[];var C;x=c;q=g;r=h;var E=0,I=188,F=!1,J=[];for(C=0;I<x.byteLength;)if(71===x[E]&&71===x[I]){y=x.subarray(E,I);var L=e.parseType(y,q.pid);switch(L){case "pes":var d=e.parsePesType(y,q.table);L=e.parsePayloadUnitStartIndicator(y);if("video"===d&&(L&&!F&&(d=e.parsePesTime(y))&&(d.type="video",r.video.push(d),
F=!0),!r.firstKeyFrame)){if(L&&0!==C){d=new Uint8Array(C);for(L=0;J.length;)C=J.shift(),d.set(C,L),L+=C.byteLength;e.videoPacketContainsKeyFrame(d)&&(r.firstKeyFrame=e.parsePesTime(d),r.firstKeyFrame.type="video");C=0}J.push(y);C+=y.byteLength}}if(F&&r.firstKeyFrame)break;E+=188;I+=188}else E++,I++;I=x.byteLength;E=I-188;for(F=!1;0<=E;)if(71===x[E]&&71===x[I]){y=x.subarray(E,I);L=e.parseType(y,q.pid);switch(L){case "pes":if(d=e.parsePesType(y,q.table),L=e.parsePayloadUnitStartIndicator(y),"video"===
d&&L&&(d=e.parsePesTime(y)))d.type="video",r.video.push(d),F=!0}if(F)break;E-=188;I-=188}else E--,I--;0===h.video.length&&delete h.video;break;case a.ADTS_STREAM_TYPE:h.audio=[];y=c;x=g;q=h;r=0;E=188;for(I=!1;E<y.byteLength;)if(71===y[r]&&71===y[E]){F=y.subarray(r,E);J=e.parseType(F,x.pid);switch(J){case "pes":if(C=e.parsePesType(F,x.table),J=e.parsePayloadUnitStartIndicator(F),"audio"===C&&J&&(F=e.parsePesTime(F)))F.type="audio",q.audio.push(F),I=!0}if(I)break;r+=188;E+=188}else r++,E++;E=y.byteLength;
r=E-188;for(I=!1;0<=r;)if(71===y[r]&&71===y[E]){F=y.subarray(r,E);J=e.parseType(F,x.pid);switch(J){case "pes":if(C=e.parsePesType(F,x.table),J=e.parsePayloadUnitStartIndicator(F),"audio"===C&&J&&(F=e.parsePesTime(F)))F.type="audio",q.audio.push(F),I=!0}if(I)break;r-=188;E-=188}else r--,E--;0===h.audio.length&&delete h.audio}c=h}if(!c||!c.audio&&!c.video)return null;m(c,f);return c}}},{"../aac/probe.js":39,"../m2ts/probe.js":52,"../m2ts/stream-types.js":53,"../m2ts/timestamp-rollover-stream.js":54}],
60:[function(g,c,f){var a=function(a){return 9E4*a};var h=function(a,b){return a*b};var e=function(a){return a/9E4};var b=function(a,b){return a/b};c.exports={secondsToVideoTs:a,secondsToAudioTs:h,videoTsToSeconds:e,audioTsToSeconds:b,audioTsToVideoTs:function(c,e){return a(b(c,e))},videoTsToAudioTs:function(a,b){return h(e(a),b)}}},{}],61:[function(g,c,f){c.exports=function(a){var c=a.byteLength,e=0,b=0;this.length=function(){return 8*c};this.bitsAvailable=function(){return 8*c+b};this.loadWord=
function(){var f=a.byteLength-c,g=new Uint8Array(4),h=Math.min(4,c);if(0===h)throw Error("no bytes available");g.set(a.subarray(f,f+h));e=(new DataView(g.buffer)).getUint32(0);b=8*h;c-=h};this.skipBits=function(a){if(!(b>a)){a-=b;var f=Math.floor(a/8);a-=8*f;c-=f;this.loadWord()}e<<=a;b-=a};this.readBits=function(a){var f=Math.min(b,a),g=e>>>32-f;b-=f;0<b?e<<=f:0<c&&this.loadWord();f=a-f;return 0<f?g<<f|this.readBits(f):g};this.skipLeadingZeros=function(){var a;for(a=0;a<b;++a)if(0!==(e&2147483648>>>
a))return e<<=a,b-=a,a;this.loadWord();return a+this.skipLeadingZeros()};this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.readUnsignedExpGolomb=function(){var a=this.skipLeadingZeros();return this.readBits(a+1)-1};this.readExpGolomb=function(){var a=this.readUnsignedExpGolomb();return 1&a?1+a>>>1:-1*(a>>>1)};this.readBoolean=function(){return 1===this.readBits(1)};this.readUnsignedByte=function(){return this.readBits(8)};
this.loadWord()}},{}],62:[function(g,c,f){g=function(){this.init=function(){var a={};this.on=function(c,e){a[c]||(a[c]=[]);a[c]=a[c].concat(e)};this.off=function(c,e){if(!a[c])return!1;e=a[c].indexOf(e);a[c]=a[c].slice();a[c].splice(e,1);return-1<e};this.trigger=function(c){var e,b;if(e=a[c])if(2===arguments.length){var f=e.length;for(b=0;b<f;++b)e[b].call(this,arguments[1])}else{var g=[];for(b=1;b<arguments.length;++b)g.push(arguments[b]);f=e.length;for(b=0;b<f;++b)e[b].apply(this,g)}};this.dispose=
function(){a={}}}};g.prototype.pipe=function(a){this.on("data",function(c){a.push(c)});this.on("done",function(c){a.flush(c)});return a};g.prototype.push=function(a){this.trigger("data",a)};g.prototype.flush=function(a){this.trigger("done",a)};c.exports=g},{}],63:[function(g,c,f){(function(a){var g=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,e=/^([^\/;?#]*)(.*)$/,b=/(?:\/|^)\.(?=\/)/g,m=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,n={buildAbsoluteURL:function(a,b,c){c=c||{};
a=a.trim();b=b.trim();if(!b){if(!c.alwaysNormalize)return a;c=this.parseURL(a);if(!c)throw Error("Error trying to parse base URL.");c.path=n.normalizePath(c.path);return n.buildURLFromParts(c)}var f=this.parseURL(b);if(!f)throw Error("Error trying to parse relative URL.");if(f.scheme){if(!c.alwaysNormalize)return b;f.path=n.normalizePath(f.path);return n.buildURLFromParts(f)}b=this.parseURL(a);if(!b)throw Error("Error trying to parse base URL.");!b.netLoc&&b.path&&"/"!==b.path[0]&&(a=e.exec(b.path),
b.netLoc=a[1],b.path=a[2]);b.netLoc&&!b.path&&(b.path="/");a={scheme:b.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};f.netLoc||(a.netLoc=b.netLoc,"/"!==f.path[0]&&(f.path?(b=b.path,b=b.substring(0,b.lastIndexOf("/")+1)+f.path,a.path=n.normalizePath(b)):(a.path=b.path,f.params||(a.params=b.params,f.query||(a.query=b.query)))));null===a.path&&(a.path=c.alwaysNormalize?n.normalizePath(f.path):f.path);return n.buildURLFromParts(a)},parseURL:function(a){return(a=g.exec(a))?
{scheme:a[1]||"",netLoc:a[2]||"",path:a[3]||"",params:a[4]||"",query:a[5]||"",fragment:a[6]||""}:null},normalizePath:function(a){for(a=a.split("").reverse().join("").replace(b,"");a.length!==(a=a.replace(m,"")).length;);return a.split("").reverse().join("")},buildURLFromParts:function(a){return a.scheme+a.netLoc+a.path+a.params+a.query+a.fragment}};"object"===typeof f&&"object"===typeof c?c.exports=n:"object"===typeof f?f.URLToolkit=n:a.URLToolkit=n})(this)},{}],64:[function(g,c,f){(function(a){Object.defineProperty(f,
"__esModule",{value:!0});var h=g("global/window"),e=h&&h.__esModule?h:{"default":h},b=(a="undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null)&&a.__esModule?a:{"default":a},m=function(a){Object.defineProperties(a.frame,{id:{get:function(){b["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead.");return a.value.key}},value:{get:function(){b["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead.");return a.value.data}},privateData:{get:function(){b["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead.");
return a.value.data}}})},n=function(a){return isNaN(a)||Infinity===Math.abs(a)?Number.MAX_VALUE:a};f["default"]={addTextTrackData:function(a,b,c){var f=e["default"].WebKitDataCue||e["default"].VTTCue;b&&b.forEach(function(a){this.inbandTextTracks_[a.stream].addCue(new f(a.startTime+this.timestampOffset,a.endTime+this.timestampOffset,a.text))},a);c&&function(){var b=n(a.mediaSource_.duration);c.forEach(function(a){var b=a.cueTime+this.timestampOffset;a.frames.forEach(function(a){var c=new f(b,b,a.value||
a.url||a.data||"");c.frame=a;c.value=a;m(c);this.metadataTrack_.addCue(c)},this)},a);a.metadataTrack_&&a.metadataTrack_.cues&&a.metadataTrack_.cues.length&&function(){for(var c=a.metadataTrack_.cues,e=[],f=0;f<c.length;f++)c[f]&&e.push(c[f]);var g=e.reduce(function(a,b){var c=a[b.startTime]||[];c.push(b);a[b.startTime]=c;return a},{}),h=Object.keys(g).sort(function(a,b){return Number(a)-Number(b)});h.forEach(function(a,c){var e=Number(h[c+1])||b;g[a].forEach(function(a){a.endTime=e})})}()}()},durationOfVideo:n};
c.exports=f["default"]}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"global/window":32}],65:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});f["default"]={isAudioCodec:function(a){return/mp4a\.\d+.\d+/i.test(a)},parseContentType:function(a){var c={type:"",parameters:{}};a=a.trim().split(";");c.type=a.shift().trim();a.forEach(function(a){var b=a.trim().split("=");1<b.length&&(a=b[0].replace(/"/g,"").trim(),b=
b[1].replace(/"/g,"").trim(),c.parameters[a]=b)});return c},isVideoCodec:function(a){return/avc1\.[\da-f]+/i.test(a)},translateLegacyCodecs:function(a){return a.map(function(a){return a.replace(/avc1\.(\d+)\.(\d+)/i,function(a,b,c){a=("00"+Number(b).toString(16)).slice(-2);c=("00"+Number(c).toString(16)).slice(-2);return"avc1."+a+"00"+c})})}};c.exports=f["default"]},{}],66:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});f["default"]=function(a,c,e){c=c.player_;if(e.captions&&e.captions.length){a.inbandTextTracks_||
(a.inbandTextTracks_={});for(var b in e.captionStreams)if(!a.inbandTextTracks_[b]){c.tech_.trigger({type:"usage",name:"hls-608"});var f=c.textTracks().getTrackById(b);a.inbandTextTracks_[b]=f?f:c.addRemoteTextTrack({kind:"captions",id:b,label:b},!1).track}}e.metadata&&e.metadata.length&&!a.metadataTrack_&&(a.metadataTrack_=c.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,a.metadataTrack_.inBandMetadataTrackDispatchType=e.metadata.dispatchType)};c.exports=f["default"]},{}],67:[function(g,
c,f){Object.defineProperty(f,"__esModule",{value:!0});f["default"]={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};c.exports=f["default"]},{}],68:[function(g,c,f){(function(a){function h(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?
Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),m=function(a,b,c){var e=!0;for(;e;)if(null===a&&(a=Function.prototype),e=Object.getOwnPropertyDescriptor(a,b),void 0===e){a=Object.getPrototypeOf(a);if(null===a)break;
e=!0}else{if("value"in e)return e.value;b=e.get;return void 0===b?void 0:b.call(c)}},n=g("global/document"),r=h(n),w=h("undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null);a=g("./flash-source-buffer");var v=h(a);a=g("./flash-constants");a=h(a);var A=g("./codec-utils");n=function(a){function c(){var a=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");m(Object.getPrototypeOf(c.prototype),"constructor",this).call(this);this.sourceBuffers=
[];this.readyState="closed";this.on(["sourceopen","webkitsourceopen"],function(b){a.swfObj=r["default"].getElementById(b.swfId);a.player_=(0,w["default"])(a.swfObj.parentNode);a.tech_=a.swfObj.tech;a.readyState="open";a.tech_.on("seeking",function(){for(var b=a.sourceBuffers.length;b--;)a.sourceBuffers[b].abort()});a.swfObj&&a.swfObj.vjs_load()})}e(c,a);b(c,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(a){a=(0,A.parseContentType)(a);if("video/mp2t"===a.type||
"audio/mp2t"===a.type)a=new v["default"](this);else throw Error("NotSupportedError (Video.js)");this.sourceBuffers.push(a);return a}},{key:"endOfStream",value:function(a){"network"===a?this.tech_.error(2):"decode"===a&&this.tech_.error(3);"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]);return c}(w["default"].EventTarget);f["default"]=n;try{Object.defineProperty(n.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):
NaN},set:function(a){var b,c=this.swfObj.vjs_getProperty("duration");this.swfObj.vjs_setProperty("duration",a);if(a<c)for(b=0;b<this.sourceBuffers.length;b++)this.sourceBuffers[b].remove(a,c);return a}})}catch(x){n.prototype.duration=NaN}for(var y in a["default"])n[y]=a["default"][y];c.exports=f["default"]}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./codec-utils":65,"./flash-constants":67,"./flash-source-buffer":69,"global/document":31}],
69:[function(g,c,f){(function(a){function h(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,d,c){d&&a(b.prototype,d);c&&a(b,c);return b}}(),m=function(a,b,d){var c=!0;for(;c;)if(null===a&&(a=Function.prototype),c=Object.getOwnPropertyDescriptor(a,b),void 0===c){a=Object.getPrototypeOf(a);if(null===a)break;c=!0}else{if("value"in c)return c.value;b=c.get;return void 0===b?void 0:b.call(d)}},n=g("global/window"),r=h(n),w=h("undefined"!==typeof window?window.videojs:
"undefined"!==typeof a?a.videojs:null);a=g("mux.js/lib/flv");var v=h(a);a=g("./remove-cues-from-track");var A=h(a);a=g("./create-text-tracks-if-necessary");var y=h(a),x=g("./add-text-track-data");a=g("./flash-transmuxer-worker");var q=h(a);a=g("webwackify");var B=h(a);a=g("./flash-constants");var C=h(a),E=function(){var a=void 0;try{a=g.resolve("./flash-transmuxer-worker")}catch(L){}return a},I=function(a){r["default"].setTimeout(a,C["default"].TIME_BETWEEN_CHUNKS)},F=function(a,b){if("number"!==
typeof b||0>b)b=0;b=Math.pow(10,b);return Math.round(a*b)/b};a=function(a){function c(a){var b=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");m(Object.getPrototypeOf(c.prototype),"constructor",this).call(this);var d=void 0;this.chunkSize_=C["default"].BYTES_PER_CHUNK;this.buffer_=[];this.bufferSize_=0;this.basePtsOffset_=NaN;this.mediaSource_=a;this.videoBufferEnd_=this.audioBufferEnd_=NaN;this.updating=!1;this.timestampOffset_=0;d=r["default"].btoa(String.fromCharCode.apply(null,
Array.prototype.slice.call(v["default"].getFlvHeader())));a=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+a+Math.random().toString(36).slice(2,8);this.flashEncodedDataName_="vjs_flashEncodedData_"+a+Math.random().toString(36).slice(2,8);r["default"][this.flashEncodedHeaderName_]=function(){delete r["default"][b.flashEncodedHeaderName_];return d};this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_);this.transmuxer_=
(0,B["default"])(q["default"],E());this.transmuxer_.postMessage({action:"init",options:{}});this.transmuxer_.onmessage=function(a){"data"===a.data.action&&b.receiveBuffer_(a.data.segment)};this.one("updateend",function(){b.mediaSource_.tech_.trigger("loadedmetadata")});Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(a){"number"===typeof a&&0<=a&&(this.timestampOffset_=a,this.mediaSource_.swfObj.vjs_discontinuity(),this.videoBufferEnd_=this.audioBufferEnd_=
this.basePtsOffset_=NaN,this.transmuxer_.postMessage({action:"reset"}))}});Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return w["default"].createTimeRange();var a=this.mediaSource_.swfObj.vjs_getProperty("buffered");a&&a.length&&(a[0][0]=F(a[0][0],3),a[0][1]=F(a[0][1],3));return w["default"].createTimeRanges(a)}});this.mediaSource_.player_.on("seeked",function(){(0,A["default"])(0,Infinity,b.metadataTrack_);
if(b.inbandTextTracks_)for(var a in b.inbandTextTracks_)(0,A["default"])(0,Infinity,b.inbandTextTracks_[a])});var e=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",e);this.mediaSource_.player_.tech_.hls.on("dispose",function(){b.transmuxer_.terminate();b.mediaSource_.player_.tech_.off("hls-reset",e)})}e(c,a);b(c,[{key:"appendBuffer",value:function(a){if(this.updating)throw a=Error("SourceBuffer.append() cannot be called while an update is in progress"),a.name="InvalidStateError",
a.code=11,a;this.updating=!0;this.mediaSource_.readyState="open";this.trigger({type:"update"});this.transmuxer_.postMessage({action:"push",data:a.buffer,byteOffset:a.byteOffset,byteLength:a.byteLength},[a.buffer]);this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[];this.bufferSize_=0;this.mediaSource_.swfObj.vjs_abort();this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(a,b){(0,A["default"])(a,b,this.metadataTrack_);
if(this.inbandTextTracks_)for(var c in this.inbandTextTracks_)(0,A["default"])(a,b,this.inbandTextTracks_[c]);this.trigger({type:"update"});this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(a){var b=this;(0,y["default"])(this,this.mediaSource_,a);(0,x.addTextTrackData)(this,a.captions,a.metadata);I(function(){var c=b.convertTagsToData_(a);0===b.buffer_.length&&I(b.processBuffer_.bind(b));c&&(b.buffer_.push(c),b.bufferSize_+=c.byteLength)})}},{key:"processBuffer_",value:function(){var a=
this,b=C["default"].BYTES_PER_CHUNK;if(this.buffer_.length){var c=this.buffer_[0].subarray(0,b);c.byteLength<b||this.buffer_[0].byteLength===b?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(b);this.bufferSize_-=c.byteLength;b=[];for(var e=c.byteLength,f=0;f<e;f++)b.push(String.fromCharCode(c[f]));var g=r["default"].btoa(b.join(""));r["default"][this.flashEncodedDataName_]=function(){I(a.processBuffer_.bind(a));delete r["default"][a.flashEncodedDataName_];return g};this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==
this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(a){var b=0,c=this.mediaSource_.tech_,d=0,e=a.tags.videoTags;a=a.tags.audioTags;isNaN(this.basePtsOffset_)&&(e.length||a.length)&&(this.basePtsOffset_=Math.min((a[0]||{pts:Infinity}).pts,(e[0]||{pts:Infinity}).pts));c.seeking()&&(this.audioBufferEnd_=this.videoBufferEnd_=NaN);isNaN(this.videoBufferEnd_)?(c.buffered().length&&(d=c.buffered().end(0)-this.timestampOffset),c.seeking()&&(d=Math.max(d,
c.currentTime()-this.timestampOffset)),d=1E3*d+this.basePtsOffset_):d=this.videoBufferEnd_+.1;var f=e.length;if(f&&e[f-1].pts>=d){for(;--f;){var g=e[f];if(!(g.pts>d)&&(g.keyFrame||g.metaDataTag))break}for(;f&&e[f-1].metaDataTag;)f--}e=e.slice(f);g=isNaN(this.audioBufferEnd_)?d:this.audioBufferEnd_+.1;e.length&&(g=Math.min(g,e[0].pts));for(f=0;f<a.length&&!(a[f].pts>=g);)f++;a=a.slice(f);a.length&&(this.audioBufferEnd_=a[a.length-1].pts);e.length&&(this.videoBufferEnd_=e[e.length-1].pts);a=this.getOrderedTags_(e,
a);if(0!==a.length){if(a[0].pts<d&&c.seeking()){f=1/30;c=c.currentTime()-(d-a[0].pts)/1E3;c<f&&(c=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(c)}catch(W){}}for(c=0;c<a.length;c++)b+=a[c].bytes.byteLength;b=new Uint8Array(b);for(d=c=0;c<a.length;c++)b.set(a[c].bytes,d),d+=a[c].bytes.byteLength;return b}}},{key:"getOrderedTags_",value:function(a,b){for(var c,d=[];a.length||b.length;)c=a.length?b.length?b[0].dts<a[0].dts?b.shift():a.shift():a.shift():b.shift(),d.push(c);return d}},{key:"onHlsReset_",
value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]);return c}(w["default"].EventTarget);f["default"]=a;c.exports=f["default"]}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./add-text-track-data":64,"./create-text-tracks-if-necessary":66,"./flash-constants":67,"./flash-transmuxer-worker":70,"./remove-cues-from-track":72,"global/window":32,"mux.js/lib/flv":46,webwackify:76}],70:[function(g,c,f){Object.defineProperty(f,
"__esModule",{value:!0});var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),h=g("global/window"),e=h&&h.__esModule?h:{"default":h},b=(g=g("mux.js/lib/flv"))&&g.__esModule?g:{"default":g},m=function(a){a.on("data",function(a){e["default"].postMessage({action:"data",segment:a})});a.on("done",function(a){e["default"].postMessage({action:"done"})})},
n=function(){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.options=a||{};this.init()}a(c,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose();this.transmuxer=new b["default"].Transmuxer(this.options);m(this.transmuxer)}},{key:"push",value:function(a){a=new Uint8Array(a.data,a.byteOffset,a.byteLength);this.transmuxer.push(a)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},
{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]);return c}(),r=function(a){a.onmessage=function(a){if("init"===a.data.action&&a.data.options)this.messageHandlers=new n(a.data.options);else if(this.messageHandlers||(this.messageHandlers=new n),a.data&&a.data.action&&"init"!==a.data.action&&this.messageHandlers[a.data.action])this.messageHandlers[a.data.action](a.data)}};f["default"]=function(a){return new r(a)};c.exports=f["default"]},{"global/window":32,"mux.js/lib/flv":46}],
71:[function(g,c,f){(function(a){function h(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=
b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),m=function(a,b,c){var e=!0;for(;e;)if(null===a&&(a=Function.prototype),e=Object.getOwnPropertyDescriptor(a,b),void 0===e){a=Object.getPrototypeOf(a);if(null===a)break;e=!0}else{if("value"in e)return e.value;b=e.get;return void 0===b?void 0:b.call(c)}},n=g("global/window"),r=h(n);n=g("global/document");var w=h(n),v=h("undefined"!==
typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null);a=g("./virtual-source-buffer");var A=h(a),y=g("./add-text-track-data"),x=g("./codec-utils");a=function(a){function c(){var a=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");m(Object.getPrototypeOf(c.prototype),"constructor",this).call(this);var b=void 0;this.nativeMediaSource_=new r["default"].MediaSource;for(b in this.nativeMediaSource_)b in c.prototype||"function"!==typeof this.nativeMediaSource_[b]||
(this[b]=this.nativeMediaSource_[b].bind(this.nativeMediaSource_));this.duration_=NaN;Object.defineProperty(this,"duration",{get:function(){return Infinity===this.duration_?this.duration_:this.nativeMediaSource_.duration},set:function(a){this.duration_=a;Infinity!==a&&(this.nativeMediaSource_.duration=a)}});Object.defineProperty(this,"seekable",{get:function(){return Infinity===this.duration_?v["default"].createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}});
Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}});Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}});this.sourceBuffers=[];this.activeSourceBuffers_=[];this.updateActiveSourceBuffers_=function(){a.activeSourceBuffers_.length=0;if(1===a.sourceBuffers.length){var b=a.sourceBuffers[0];b.appendAudioInitSegment_=!0;b.audioDisabled_=!b.audioCodec_;a.activeSourceBuffers_.push(b)}else{var c=!1,e=!0;for(b=
0;b<a.player_.audioTracks().length;b++){var f=a.player_.audioTracks()[b];if(f.enabled&&"main"!==f.kind){c=!0;e=!1;break}}a.sourceBuffers.forEach(function(b){b.appendAudioInitSegment_=!0;if(b.videoCodec_&&b.audioCodec_)b.audioDisabled_=c;else if(b.videoCodec_&&!b.audioCodec_)b.audioDisabled_=!0,e=!1;else if(!b.videoCodec_&&b.audioCodec_&&(b.audioDisabled_=e))return;a.activeSourceBuffers_.push(b)})}};this.onPlayerMediachange_=function(){a.sourceBuffers.forEach(function(a){a.appendAudioInitSegment_=
!0})};this.onHlsReset_=function(){a.sourceBuffers.forEach(function(a){a.transmuxer_&&a.transmuxer_.postMessage({action:"resetCaptions"})})};this.onHlsSegmentTimeMapping_=function(b){a.sourceBuffers.forEach(function(a){return a.timeMapping_=b.mapping})};["sourceopen","sourceclose","sourceended"].forEach(function(a){this.nativeMediaSource_.addEventListener(a,this.trigger.bind(this))},this);this.on("sourceopen",function(b){if(b=w["default"].querySelector('[src="'+a.url_+'"]'))a.player_=(0,v["default"])(b.parentNode),
a.player_.tech_.on("hls-reset",a.onHlsReset_),a.player_.tech_.on("hls-segment-time-mapping",a.onHlsSegmentTimeMapping_),a.player_.audioTracks&&a.player_.audioTracks()&&(a.player_.audioTracks().on("change",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("addtrack",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("removetrack",a.updateActiveSourceBuffers_)),a.player_.on("mediachange",a.onPlayerMediachange_)});this.on("sourceended",function(b){b=(0,y.durationOfVideo)(a.duration);for(var c=
0;c<a.sourceBuffers.length;c++){var e=a.sourceBuffers[c];(e=e.metadataTrack_&&e.metadataTrack_.cues)&&e.length&&(e[e.length-1].endTime=b)}});this.on("sourceclose",function(a){this.sourceBuffers.forEach(function(a){a.transmuxer_&&a.transmuxer_.terminate()});this.sourceBuffers.length=0;this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),
this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}e(c,a);b(c,[{key:"addSeekableRange_",value:function(a,b){if(Infinity!==this.duration)throw a=Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),a.name="InvalidStateError",
a.code=11,a;if(b>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))this.nativeMediaSource_.duration=b}},{key:"addSourceBuffer",value:function(a){var b=void 0;b=(0,x.parseContentType)(a);/^(video|audio)\/mp2t$/i.test(b.type)?(a=[],b.parameters&&b.parameters.codecs&&(a=b.parameters.codecs.split(","),a=(0,x.translateLegacyCodecs)(a),a=a.filter(function(a){return(0,x.isAudioCodec)(a)||(0,x.isVideoCodec)(a)})),0===a.length&&(a=["avc1.4d400d","mp4a.40.2"]),b=new A["default"](this,
a),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),b.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)):b=this.nativeMediaSource_.addSourceBuffer(a);this.sourceBuffers.push(b);return b}}]);return c}(v["default"].EventTarget);f["default"]=a;c.exports=f["default"]}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./add-text-track-data":64,"./codec-utils":65,"./virtual-source-buffer":75,
"global/document":31,"global/window":32}],72:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});f["default"]=function(a,c,e){var b;if(e&&e.cues)for(b=e.cues.length;b--;){var f=e.cues[b];f.startTime<=c&&f.endTime>=a&&e.removeCue(f)}};c.exports=f["default"]},{}],73:[function(g,c,f){Object.defineProperty(f,"__esModule",{value:!0});var a=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,
e.key,e)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),h=g("global/window"),e=h&&h.__esModule?h:{"default":h},b=(g=g("mux.js/lib/mp4"))&&g.__esModule?g:{"default":g},m=function(a){a.on("data",function(a){var b=a.initSegment;a.initSegment={data:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength};b=a.data;a.data=b.buffer;e["default"].postMessage({action:"data",segment:a,byteOffset:b.byteOffset,byteLength:b.byteLength},[a.data])});if(a.captionStream)a.captionStream.on("data",
function(a){e["default"].postMessage({action:"caption",data:a})});a.on("done",function(a){e["default"].postMessage({action:"done"})});a.on("gopInfo",function(a){e["default"].postMessage({action:"gopInfo",gopInfo:a})})},n=function(){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.options=a||{};this.init()}a(c,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose();this.transmuxer=new b["default"].Transmuxer(this.options);m(this.transmuxer)}},
{key:"push",value:function(a){a=new Uint8Array(a.data,a.byteOffset,a.byteLength);this.transmuxer.push(a)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(a){this.transmuxer.setBaseMediaDecodeTime(Math.round(9E4*(a.timestampOffset||0)))}},{key:"setAudioAppendStart",value:function(a){this.transmuxer.setAudioAppendStart(Math.ceil(9E4*a.appendStart))}},{key:"flush",value:function(a){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},
{key:"alignGopsWith",value:function(a){this.transmuxer.alignGopsWith(a.gopsToAlignWith.slice())}}]);return c}(),r=function(a){a.onmessage=function(a){if("init"===a.data.action&&a.data.options)this.messageHandlers=new n(a.data.options);else if(this.messageHandlers||(this.messageHandlers=new n),a.data&&a.data.action&&"init"!==a.data.action&&this.messageHandlers[a.data.action])this.messageHandlers[a.data.action](a.data)}};f["default"]=function(a){return new r(a)};c.exports=f["default"]},{"global/window":32,
"mux.js/lib/mp4":55}],74:[function(g,c,f){(function(a){function c(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(f,"__esModule",{value:!0});var e=g("global/window"),b=c(e);e=g("./flash-media-source");var m=c(e);e=g("./html-media-source");var n=c(e),r=c("undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null),w=0,v={mode:"auto"};r["default"].mediaSources={};var A=function(a,b){if(a=r["default"].mediaSources[a])a.trigger({type:"sourceopen",swfId:b});else throw Error("Media Source not found (Video.js)");
},y=function(){return!!b["default"].MediaSource&&!!b["default"].MediaSource.isTypeSupported&&b["default"].MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')};a=function(a){a=r["default"].mergeOptions(v,a);this.MediaSource={open:A,supportsNativeMediaSources:y};if("html5"===a.mode||"auto"===a.mode&&y())return new n["default"];if(r["default"].getTech("Flash"))return new m["default"];throw Error("Cannot use Flash or Html5 to create a MediaSource for this video");};f.MediaSource=a;
a.open=A;a.supportsNativeMediaSources=y;e={createObjectURL:function(a){if(a instanceof n["default"]){var c=b["default"].URL.createObjectURL(a.nativeMediaSource_);return a.url_=c}if(!(a instanceof m["default"]))return c=b["default"].URL.createObjectURL(a),a.url_=c;c="blob:vjs-media-source/"+w;w++;r["default"].mediaSources[c]=a;return c}};f.URL=e;r["default"].MediaSource=a;r["default"].URL=e}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:
{})},{"./flash-media-source":68,"./html-media-source":71,"global/window":32}],75:[function(g,c,f){(function(a){function c(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,
"__esModule",{value:!0});var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),m=function(a,b,c){var d=!0;for(;d;)if(null===a&&(a=Function.prototype),d=Object.getOwnPropertyDescriptor(a,b),void 0===d){a=Object.getPrototypeOf(a);if(null===a)break;d=!0}else{if("value"in d)return d.value;b=d.get;return void 0===
b?void 0:b.call(c)}},n=c("undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null);a=g("./create-text-tracks-if-necessary");var r=c(a);a=g("./remove-cues-from-track");var w=c(a),v=g("./add-text-track-data");a=g("webwackify");var A=c(a);a=g("./transmuxer-worker");var y=c(a),x=g("./codec-utils"),q=function(){var a=void 0;try{a=g.resolve("./transmuxer-worker")}catch(J){}return a},B=function(a,b){var c=a.addSourceBuffer(b),d=Object.create(null);d.updating=!1;d.realBuffer_=c;a=
function(a){"function"===typeof c[a]?d[a]=function(){return c[a].apply(c,arguments)}:"undefined"===typeof d[a]&&Object.defineProperty(d,a,{get:function(){return c[a]},set:function(b){return c[a]=b}})};for(var e in c)a(e);return d},C=function(a,b,c){if(!b||!a.length)return[];b=Math.ceil(9E4*(b.currentTime()-c+3));for(c=0;c<a.length&&!(a[c].pts>b);c++);return a.slice(c)};f.gopsSafeToAlignWith=C;var E=function(a,b,c){if(!b.length)return a;if(c)return b.slice();c=b[0].pts;var d=0;for(d;d<a.length&&!(a[d].pts>=
c);d++);return a.slice(0,d).concat(b)};f.updateGopBuffer=E;var I=function(a,b,c,d){b=Math.ceil(9E4*(b-d));var e=Math.ceil(9E4*(c-d));c=a.slice();for(d=a.length;d--&&!(a[d].pts<=e););if(-1===d)return c;for(e=d+1;e--&&!(a[e].pts<=b););e=Math.max(e,0);c.splice(e,d-e+1);return c};f.removeGopBuffer=I;a=function(a){function c(a,b){var d=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");m(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,n["default"].EventTarget);
this.timestampOffset_=0;this.pendingBuffers_=[];this.bufferUpdating_=!1;this.mediaSource_=a;this.codecs_=b;this.videoCodec_=this.audioCodec_=null;this.audioDisabled_=!1;this.appendAudioInitSegment_=!0;this.gopBuffer_=[];this.timeMapping_=0;this.safeAppend_=11<=n["default"].browser.IE_VERSION;a={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(a){(0,x.isAudioCodec)(a)?d.audioCodec_=a:(0,x.isVideoCodec)(a)&&(d.videoCodec_=a)});this.transmuxer_=(0,A["default"])(y["default"],q());
this.transmuxer_.postMessage({action:"init",options:a});this.transmuxer_.onmessage=function(a){if("data"===a.data.action)return d.data_(a);if("done"===a.data.action)return d.done_(a);if("gopInfo"===a.data.action)return d.appendGopInfo_(a)};Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(a){"number"===typeof a&&0<=a&&(this.timestampOffset_=a,this.appendAudioInitSegment_=!0,this.timeMapping_=this.gopBuffer_.length=0,this.transmuxer_.postMessage({action:"setTimestampOffset",
timestampOffset:a}))}});Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(a){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=a);this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=a)}});Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}});Object.defineProperty(this,
"buffered",{get:function(){var a=null,b=null,c=0,d=[],e=[];if(!this.videoBuffer_&&!this.audioBuffer_)return n["default"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_||this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return n["default"].createTimeRange();for(var f=this.videoBuffer_.buffered,g=this.audioBuffer_.buffered,h=f.length;h--;)d.push({time:f.start(h),type:"start"}),
d.push({time:f.end(h),type:"end"});for(h=g.length;h--;)d.push({time:g.start(h),type:"start"}),d.push({time:g.end(h),type:"end"});d.sort(function(a,b){return a.time-b.time});for(h=0;h<d.length;h++)"start"===d[h].type?(c++,2===c&&(a=d[h].time)):"end"===d[h].type&&(c--,1===c&&(b=d[h].time)),null!==a&&null!==b&&(e.push([a,b]),b=a=null);return n["default"].createTimeRanges(e)}})}e(c,a);b(c,[{key:"data_",value:function(a){var b=a.data.segment;b.data=new Uint8Array(b.data,a.data.byteOffset,a.data.byteLength);
b.initSegment=new Uint8Array(b.initSegment.data,b.initSegment.byteOffset,b.initSegment.byteLength);(0,r["default"])(this,this.mediaSource_,b);this.pendingBuffers_.push(b)}},{key:"done_",value:function(a){"closed"===this.mediaSource_.readyState?this.pendingBuffers_.length=0:this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var a=this,b=["audio","video"];b.forEach(function(c){if(a[c+"Codec_"]&&!a[c+"Buffer_"]){var d=null;a.mediaSource_[c+"Buffer_"]?(d=a.mediaSource_[c+
"Buffer_"],d.updating=!1):(d=B(a.mediaSource_.nativeMediaSource_,c+'/mp4;codecs="'+a[c+"Codec_"]+'"'),a.mediaSource_[c+"Buffer_"]=d);a[c+"Buffer_"]=d;["update","updatestart","updateend"].forEach(function(e){d.addEventListener(e,function(){if("audio"!==c||!a.audioDisabled_)if("updateend"===e&&(a[c+"Buffer_"].updating=!1),b.every(function(b){return"audio"===b&&a.audioDisabled_?!0:c!==b&&a[b+"Buffer_"]&&a[b+"Buffer_"].updating?!1:!0}))return a.trigger(e)})})}})}},{key:"appendBuffer",value:function(a){this.bufferUpdating_=
!0;if(this.audioBuffer_&&this.audioBuffer_.buffered.length){var b=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:b.end(b.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:C(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)});this.transmuxer_.postMessage({action:"push",data:a.buffer,byteOffset:a.byteOffset,byteLength:a.byteLength},[a.buffer]);this.transmuxer_.postMessage({action:"flush"})}},
{key:"appendGopInfo_",value:function(a){this.gopBuffer_=E(this.gopBuffer_,a.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(a,b){this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(a,b),this.gopBuffer_=I(this.gopBuffer_,a,b,this.timeMapping_));!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(a,b));(0,w["default"])(a,b,this.metadataTrack_);if(this.inbandTextTracks_)for(var c in this.inbandTextTracks_)(0,w["default"])(a,
b,this.inbandTextTracks_[c])}},{key:"processPendingSegments_",value:function(){var a={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};a=this.pendingBuffers_.reduce(function(a,b){var c=b.type,d=b.data,e=b.initSegment;a[c].segments.push(d);a[c].bytes+=d.byteLength;a[c].initSegment=e;b.captions&&(a.captions=a.captions.concat(b.captions));b.info&&(a[c].info=b.info);b.metadata&&(a.metadata=a.metadata.concat(b.metadata));return a},a);this.videoBuffer_||this.audioBuffer_||
(0===a.video.bytes&&(this.videoCodec_=null),0===a.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_());a.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:a.audio.info});a.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:a.video.info});this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(a.audio.segments.unshift(a.audio.initSegment),a.audio.bytes+=a.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var b=!1;this.videoBuffer_&&
a.video.bytes?(a.video.segments.unshift(a.video.initSegment),a.video.bytes+=a.video.initSegment.byteLength,this.concatAndAppendSegments_(a.video,this.videoBuffer_),(0,v.addTextTrackData)(this,a.captions,a.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(b=!0);!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(a.audio,this.audioBuffer_);this.pendingBuffers_.length=0;b&&this.trigger("updateend");this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(a,
b){var c=0,d=void 0;if(a.bytes){d=new Uint8Array(a.bytes);a.segments.forEach(function(a){d.set(a,c);c+=a.byteLength});try{b.updating=!0,b.appendBuffer(d)}catch(G){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:G.message,originalError:G})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort();!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort();this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"});
this.pendingBuffers_.length=0;this.bufferUpdating_=!1}}]);return c}(n["default"].EventTarget);f["default"]=a}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./add-text-track-data":64,"./codec-utils":65,"./create-text-tracks-if-necessary":66,"./remove-cues-from-track":72,"./transmuxer-worker":73,webwackify:76}],76:[function(g,c,f,a,h,e){var b=a,m=h,n=JSON.stringify,r=!1;g=function(a){function b(e){if(c[e])return c[e].exports;var f=
c[e]={i:e,l:!1,exports:{}};a[e].call(f.exports,f,f.exports,b);f.l=!0;return f.exports}var c={};b.m=a;b.c=c;b.d=function(a,c,e){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:e})};b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(c,"a",c);return c};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=entryModule)};"undefined"===typeof b&&(r=!0,b=g,m=__webpack_modules__);var w=function(a){for(var c,
f=Object.keys(e),g,h=0;h<f.length;h++){c=f[h];var r=e[c].exports;if(r===a||r&&r.default===a){g=c;break}}if(!g){g=Math.floor(Math.pow(16,8)*Math.random()).toString(16);r={};for(h=0;h<f.length;h++)c=f[h],r[c]=c;m[g]=["function(require,module,exports){"+a+"(self); }",r]}a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);c={};c[g]=g;m[a]=["function(require,module,exports){var f = require("+n(g)+");(f.default ? f.default : f)(self);}",c];return"("+b+")({"+Object.keys(m).map(function(a){return n(a)+
":["+m[a][0]+","+n(m[a][1])+"]"}).join(",")+"},{},["+n(a)+"])"},v=function(a,c){var e="string"===typeof c;var f=e?{}:[];Object.keys(m).forEach(function(a){m[a]&&(f[a]=m[a].toString())});var g=__webpack_require__(c);if(!g||g!==a&&g.default!==a)g=f[c],f[c]=g.substring(0,g.length-1)+"\n"+a.name+"();\n}";e?(c=n(c),a="{"+Object.keys(f).map(function(a){return n(a)+":"+f[a]}).join(",")+"}"):a="["+f.join(",")+"]";return"var fn = ("+b.toString().replace("entryModule",c)+")("+a+');\n(typeof fn === "function") && fn(self);'};
c.exports=function(a,b){a=r?v(a,b):w(a);a=new Blob([a],{type:"text/javascript"});a=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(a);b=new Worker(a);b.objectURL=a;return b}},{}],77:[function(g,c,f){(function(a){function f(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),m=function(a,b,c){var d=!0;for(;d;)if(null===a&&(a=Function.prototype),d=Object.getOwnPropertyDescriptor(a,b),void 0===d){a=Object.getPrototypeOf(a);if(null===
a)break;d=!0}else{if("value"in d)return d.value;b=d.get;return void 0===b?void 0:b.call(c)}},n=g("global/document"),r=f(n);n=g("./playlist-loader");n=f(n);var w=g("./playlist");w=f(w);var v=g("./xhr"),A=f(v),y=g("aes-decrypter");v=g("./bin-utils");var x=f(v);v=g("videojs-contrib-media-sources");var q=g("m3u8-parser");q=f(q);var B=f("undefined"!==typeof window?window.videojs:"undefined"!==typeof a?a.videojs:null),C=g("./master-playlist-controller");a=g("./config");var E=f(a);a=g("./rendition-mixin");
var I=f(a);a=g("global/window");a=f(a);var F=g("./playback-watcher"),J=f(F);F=g("./reload-source-on-error");F=f(F);var L=g("./playlist-selectors.js"),d={PlaylistLoader:n["default"],Playlist:w["default"],Decrypter:y.Decrypter,AsyncStream:y.AsyncStream,decrypt:y.decrypt,utils:x["default"],STANDARD_PLAYLIST_SELECTOR:L.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:L.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:L.comparePlaylistBandwidth,comparePlaylistResolution:L.comparePlaylistResolution,
xhr:(0,A["default"])()};"GOAL_BUFFER_LENGTH MAX_GOAL_BUFFER_LENGTH GOAL_BUFFER_LENGTH_RATE BUFFER_LOW_WATER_LINE MAX_BUFFER_LOW_WATER_LINE BUFFER_LOW_WATER_LINE_RATE BANDWIDTH_VARIANCE".split(" ").forEach(function(a){Object.defineProperty(d,a,{get:function(){B["default"].log.warn("using Hls."+a+" is UNSAFE be sure you know what you are doing");return E["default"][a]},set:function(b){B["default"].log.warn("using Hls."+a+" is UNSAFE be sure you know what you are doing");"number"!==typeof b||0>b?B["default"].log.warn("value of Hls."+
a+" must be greater than or equal to 0"):E["default"][a]=b}})});var l=function(a,b){b=b.media();for(var c=-1,d=0;d<a.length;d++)if(a[d].id===b.uri){c=d;break}a.selectedIndex_=c;a.trigger({selectedIndex:c,type:"change"})},z=function(a,b){b.representations().forEach(function(b){a.addQualityLevel(b)});l(a,b.playlists)};d.canPlaySource=function(){return B["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};d.supportsNativeHls=function(){var a=r["default"].createElement("video");
return B["default"].getTech("Html5").isSupported()?"application/vnd.apple.mpegurl audio/mpegurl audio/x-mpegurl application/x-mpegurl video/x-mpegurl video/mpegurl application/mpegurl".split(" ").some(function(b){return/maybe|probably/i.test(a.canPlayType(b))}):!1}();d.isSupported=function(){return B["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var G=function(a){function c(a,b,d){var e=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
m(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,b,d.hls);b.options_&&b.options_.playerId&&(d=(0,B["default"])(b.options_.playerId),d.hasOwnProperty("hls")||Object.defineProperty(d,"hls",{get:function(){B["default"].log.warn("player.hls is deprecated. Use player.tech_.hls instead.");b.trigger({type:"usage",name:"hls-player-access"});return e}}));this.tech_=b;this.source_=a;this.stats={};this.ignoreNextSeekingEvent_=!1;this.setOptions_();if(this.options_.overrideNative&&(b.featuresNativeVideoTracks||
b.featuresNativeAudioTracks))throw Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(r["default"],["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(a){(a=r["default"].fullscreenElement||r["default"].webkitFullscreenElement||r["default"].mozFullScreenElement||r["default"].msFullscreenElement)&&a.contains(e.tech_.el())&&e.masterPlaylistController_.fastQualityChange_()});this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?
this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())});this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()});this.on(this.tech_,"play",this.play)}e(c,a);b(c,[{key:"setOptions_",value:function(){var a=this;this.options_.withCredentials=this.options_.withCredentials||!1;"number"!==typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300);"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=
4194304);this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth;["withCredentials","bandwidth"].forEach(function(b){"undefined"!==typeof a.source_[b]&&(a.options_[b]=a.source_[b])});this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(a){var b=this;a&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=d,this.masterPlaylistController_=new C.MasterPlaylistController(this.options_),
this.playbackWatcher_=new J["default"](B["default"].mergeOptions(this.options_,{seekable:function(){return b.seekable()}})),this.masterPlaylistController_.on("error",function(){B["default"].players[b.tech_.options_.playerId].error(b.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):d.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=d.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=
this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(a){this.masterPlaylistController_.selectPlaylist=a.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=a;this.masterPlaylistController_.mainSegmentLoader_.throughput.count=
1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(a){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=a;this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){return Math.floor(1/(1/(this.bandwidth||1)+(0<this.throughput?1/this.throughput:0)))},set:function(){B["default"].log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return b.bandwidth||
0},enumerable:!0},mediaRequests:{get:function(){return b.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return b.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return b.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return b.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return b.masterPlaylistController_.mediaTransferDuration_()||
0},enumerable:!0},mediaBytesTransferred:{get:function(){return b.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return b.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,I["default"])(b)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),
this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return b.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(B["default"].URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var a=this,b=B["default"].players[this.tech_.options_.playerId];b&&b.qualityLevels&&(this.qualityLevels_=b.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){z(a.qualityLevels_,
a)}),this.playlists.on("mediachange",function(){l(a.qualityLevels_,a.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(a){this.masterPlaylistController_.setCurrentTime(a)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose();this.masterPlaylistController_&&
this.masterPlaylistController_.dispose();this.qualityLevels_&&this.qualityLevels_.dispose();m(Object.getPrototypeOf(c.prototype),"dispose",this).call(this)}}]);return c}(B["default"].getComponent("Component"));n=function T(a){return{canHandleSource:function(b){var c=B["default"].mergeOptions(B["default"].options,1>=arguments.length||void 0===arguments[1]?{}:arguments[1]);return c.hls&&c.hls.mode&&c.hls.mode!==a?!1:T.canPlayType(b.type,c)},handleSource:function(b,c){var d=B["default"].mergeOptions(B["default"].options,
2>=arguments.length||void 0===arguments[2]?{}:arguments[2],{hls:{mode:a}});"flash"===a&&c.setTimeout(function(){c.trigger("loadstart")},1);c.hls=new G(b,c,d);c.hls.xhr=(0,A["default"])();c.hls.src(b.src);return c.hls},canPlayType:function(a){var b=B["default"].mergeOptions(B["default"].options,1>=arguments.length||void 0===arguments[1]?{}:arguments[1]);return T.canPlayType(a,b)?"maybe":""}}};n.canPlayType=function(a,b){return B["default"].browser.IE_VERSION&&10>=B["default"].browser.IE_VERSION||!b.hls.overrideNative&&
d.supportsNativeHls?!1:/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(a)};if("undefined"===typeof B["default"].MediaSource||"undefined"===typeof B["default"].URL)B["default"].MediaSource=v.MediaSource,B["default"].URL=v.URL;w=B["default"].getTech("Flash");v.MediaSource.supportsNativeMediaSources()&&B["default"].getTech("Html5").registerSourceHandler(n("html5"),0);a["default"].Uint8Array&&w&&w.registerSourceHandler(n("flash"));B["default"].HlsHandler=G;B["default"].HlsSourceHandler=
n;B["default"].Hls=d;B["default"].use||B["default"].registerComponent("Hls",d);B["default"].m3u8=q["default"];B["default"].options.hls=B["default"].options.hls||{};B["default"].registerPlugin?B["default"].registerPlugin("reloadSourceOnError",F["default"]):B["default"].plugin("reloadSourceOnError",F["default"]);c.exports={Hls:d,HlsHandler:G,HlsSourceHandler:n}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./bin-utils":2,"./config":3,
"./master-playlist-controller":5,"./playback-watcher":8,"./playlist":11,"./playlist-loader":9,"./playlist-selectors.js":10,"./reload-source-on-error":13,"./rendition-mixin":14,"./xhr":21,"aes-decrypter":25,"global/document":31,"global/window":32,"m3u8-parser":33,"videojs-contrib-media-sources":74}]},{},[77])(77)});(function(k){var g=function(c){return{hide:function(){c.style.display="none";return this},attach:function(f,a){c.addEventListener?c.addEventListener(f,a,!1):c.attachEvent&&c.attachEvent("on"+f,a);return function(){g(c).detach(f,a)}},detach:function(f,a){c.removeEventListener?c.removeEventListener(f,a,!1):c.attachEvent&&c.detachEvent("on"+f,a);return this},contains:function(f){return f?c===f?!0:c.contains?c.contains(f):!!(f.compareDocumentPosition(c)&8):!1},insertBefore:function(f){f.parentNode.insertBefore(c,
f);return this},remove:function(){c.parentNode.removeChild(c);return this},css:function(f){if(null==c.style)throw new g.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");null!=f.opacity&&"string"!==typeof c.style.opacity&&"undefined"!==typeof c.filters&&(f.filter="alpha(opacity="+Math.round(100*f.opacity)+")");g.extend(c.style,f);return this},hasClass:function(f,a){f=new RegExp("(^| )"+f+"( |$)");return f.test(c.className)||!(!a||!f.test(c.parentNode.className))},
addClass:function(f){g(c).hasClass(f)||(c.className+=" "+f);return this},removeClass:function(f){c.className=c.className.replace(new RegExp("(^| )"+f+"( |$)")," ").replace(/^\s+|\s+$/g,"");return this},getByClass:function(f,a){var h=[];if(a&&c.querySelector)return c.querySelector("."+f);if(c.querySelectorAll)return c.querySelectorAll("."+f);var e=c.getElementsByTagName("*");g.each(e,function(a,c){g(c).hasClass(f)&&h.push(c)});return a?h[0]:h},getFirstByClass:function(f){return g(c).getByClass(f,!0)},
children:function(){for(var f=[],a=c.firstChild;a;)1===a.nodeType&&f.push(a),a=a.nextSibling;return f},setText:function(f){c.innerText=f;c.textContent=f;return this},clearText:function(){return g(c).setText("")},hasAttribute:function(f){if(c.hasAttribute)return c.hasAttribute(f)?null==/^false$/i.exec(c.getAttribute(f)):!1;f=c[f];return void 0===f?!1:null==/^false$/i.exec(f)}}};(function(){g.canvasToBlob=function(c,f,a){return g.dataUriToBlob(c.toDataURL(f,a))};g.dataUriToBlob=function(c){var f=0<=
c.split(",")[0].indexOf("base64")?atob(c.split(",")[1]):decodeURI(c.split(",")[1]);var a=c.split(",")[0].split(":")[1].split(";")[0];c=new ArrayBuffer(f.length);var h=new Uint8Array(c);g.each(f,function(a,b){h[a]=b.charCodeAt(0)});return function(a,b){var c=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;return(c=c&&new c)?(c.append(a),c.getBlob(b)):new Blob([a],{type:b})}(c,a)};g.log=function(c,f){if(window.console)if(f&&"info"!==f)if(window.console[f])window.console[f](c);
else window.console.log("<"+f+"> "+c);else window.console.log(c)};g.isObject=function(c){return c&&!c.nodeType&&"[object Object]"===Object.prototype.toString.call(c)};g.isFunction=function(c){return"function"===typeof c};g.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)||c&&window.ArrayBuffer&&c.buffer&&c.buffer.constructor===ArrayBuffer};g.isItemList=function(c){return"[object DataTransferItemList]"===Object.prototype.toString.call(c)};g.isNodeList=function(c){return"[object NodeList]"===
Object.prototype.toString.call(c)||c.item&&c.namedItem};g.isString=function(c){return"[object String]"===Object.prototype.toString.call(c)};g.trimStr=function(c){return String.prototype.trim?c.trim():c.replace(/^\s+|\s+$/g,"")};g.format=function(c){var f=Array.prototype.slice.call(arguments,1),a=c,h=a.indexOf("{}");g.each(f,function(c,b){c=a.substring(0,h);var e=a.substring(h+2);a=c+b+e;h=a.indexOf("{}",h+b.length);if(0>h)return!1});return a};g.isFile=function(c){return window.File&&"[object File]"===
Object.prototype.toString.call(c)};g.isFileList=function(c){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(c)};g.isFileOrInput=function(c){return g.isFile(c)||g.isInput(c)};g.isInput=function(c,f){var a=function(a){a=a.toLowerCase();return f?"file"!==a:"file"===a};return window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(c)&&c.type&&a(c.type)||c.tagName&&"input"===c.tagName.toLowerCase()&&c.type&&a(c.type)?!0:!1};g.isBlob=function(c){if(window.Blob&&
"[object Blob]"===Object.prototype.toString.call(c))return!0};g.isXhrUploadSupported=function(){var c=document.createElement("input");c.type="file";return void 0!==c.multiple&&"undefined"!==typeof File&&"undefined"!==typeof FormData&&"undefined"!==typeof g.createXhrInstance().upload};g.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(c){return g.log("Neither XHR or ActiveX are supported!","error"),null}};g.isFolderDropSupported=
function(c){return c.items&&0<c.items.length&&c.items[0].webkitGetAsEntry};g.isFileChunkingSupported=function(){return!g.androidStock()&&g.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)};g.sliceBlob=function(c,f,a){return(c.slice||c.mozSlice||c.webkitSlice).call(c,f,a)};g.arrayBufferToHex=function(c){var f="";c=new Uint8Array(c);g.each(c,function(a,c){a=c.toString(16);2>a.length&&(a="0"+a);f+=a});return f};g.readBlobToHex=
function(c,f,a){c=g.sliceBlob(c,f,f+a);var h=new FileReader,e=new g.Promise;h.onload=function(){e.success(g.arrayBufferToHex(h.result))};h.onerror=e.failure;h.readAsArrayBuffer(c);return e};g.extend=function(c,f,a){g.each(f,function(f,e){a&&g.isObject(e)?(void 0===c[f]&&(c[f]={}),g.extend(c[f],e,!0)):c[f]=e});return c};g.override=function(c,f){var a={};f=f(a);g.each(f,function(f,e){void 0!==c[f]&&(a[f]=c[f]);c[f]=e});return c};g.indexOf=function(c,f,a){if(c.indexOf)return c.indexOf(f,a);a=a||0;var g=
c.length;for(0>a&&(a+=g);a<g;a+=1)if(c.hasOwnProperty(a)&&c[a]===f)return a;return-1};g.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var f=16*Math.random()|0;return("x"==c?f:f&3|8).toString(16)})};g.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")};g.ie7=function(){return-1!==navigator.userAgent.indexOf("MSIE 7")};g.ie8=function(){return-1!==navigator.userAgent.indexOf("MSIE 8")};g.ie10=function(){return-1!==
navigator.userAgent.indexOf("MSIE 10")};g.ie11=function(){return g.ie()&&-1!==navigator.userAgent.indexOf("rv:11")};g.edge=function(){return 0<=navigator.userAgent.indexOf("Edge")};g.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")};g.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")};g.opera=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Opera")};g.firefox=function(){return!g.edge()&&
!g.ie11()&&-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor};g.windows=function(){return"Win32"===navigator.platform};g.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")};g.androidStock=function(){return g.android()&&0>navigator.userAgent.toLowerCase().indexOf("chrome")};g.ios6=function(){return g.ios()&&-1!==navigator.userAgent.indexOf(" OS 6_")};g.ios7=function(){return g.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")};
g.ios8=function(){return g.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_")};g.ios800=function(){return g.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_0 ")};g.ios=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")};g.iosChrome=function(){return g.ios()&&-1!==navigator.userAgent.indexOf("CriOS")};g.iosSafari=function(){return g.ios()&&!g.iosChrome()&&-1!==navigator.userAgent.indexOf("Safari")};g.iosSafariWebView=
function(){return g.ios()&&!g.iosChrome()&&!g.iosSafari()};g.preventDefault=function(c){c.preventDefault?c.preventDefault():c.returnValue=!1};g.toElement=function(){var c=document.createElement("div");return function(f){c.innerHTML=f;f=c.firstChild;c.removeChild(f);return f}}();g.each=function(c,f){var a;if(c)if(window.Storage&&c.constructor===window.Storage)for(a=0;a<c.length;a++){var h=f(c.key(a),c.getItem(c.key(a)));if(!1===h)break}else if(g.isArray(c)||g.isItemList(c)||g.isNodeList(c))for(a=0;a<
c.length&&(h=f(a,c[a]),!1!==h);a++);else if(g.isString(c))for(a=0;a<c.length&&(h=f(a,c.charAt(a)),!1!==h);a++);else for(a in c)if(Object.prototype.hasOwnProperty.call(c,a)&&(h=f(a,c[a]),!1===h))break};g.bind=function(c,f){if(g.isFunction(c)){var a=Array.prototype.slice.call(arguments,2);return function(){var h=g.extend([],a);arguments.length&&(h=h.concat(Array.prototype.slice.call(arguments)));return c.apply(f,h)}}throw Error("first parameter must be a function!");};g.obj2url=function(c,f,a){var h=
[],e="&",b=function(a,b){var c=f?/\[\]$/.test(f)?f:f+"["+b+"]":b;"undefined"!==c&&"undefined"!==b&&h.push("object"===typeof a?g.obj2url(a,c,!0):"[object Function]"===Object.prototype.toString.call(a)?encodeURIComponent(c)+"="+encodeURIComponent(a()):encodeURIComponent(c)+"="+encodeURIComponent(a))};!a&&f?(e=/\?/.test(f)?/\?$/.test(f)?"":"&":"?",h.push(f),h.push(g.obj2url(c))):"[object Array]"===Object.prototype.toString.call(c)&&"undefined"!==typeof c?g.each(c,function(a,c){b(c,a)}):"undefined"!==
typeof c&&null!==c&&"object"===typeof c?g.each(c,function(a,c){b(c,a)}):h.push(encodeURIComponent(f)+"="+encodeURIComponent(c));return f?h.join(e):h.join(e).replace(/^&/,"").replace(/%20/g,"+")};g.obj2FormData=function(c,f,a){f||(f=new FormData);g.each(c,function(c,e){c=a?a+"["+c+"]":c;g.isObject(e)?g.obj2FormData(e,f,c):g.isFunction(e)?f.append(c,e()):f.append(c,e)});return f};g.obj2Inputs=function(c,f){var a;f||(f=document.createElement("form"));g.obj2FormData(c,{append:function(c,e){a=document.createElement("input");
a.setAttribute("name",c);a.setAttribute("value",e);f.appendChild(a)}});return f};g.parseJson=function(c){return window.JSON&&g.isFunction(JSON.parse)?JSON.parse(c):eval("("+c+")")};g.getExtension=function(c){var f=c.lastIndexOf(".")+1;if(0<f)return c.substr(f,c.length-f)};g.getFilename=function(c){return g.isInput(c)?c.value.replace(/.*(\/|\\)/,""):g.isFile(c)&&null!==c.fileName&&void 0!==c.fileName?c.fileName:c.name};g.DisposeSupport=function(){var c=[];return{dispose:function(){var f;do(f=c.shift())&&
f();while(f)},attach:function(){this.addDisposer(g(arguments[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(f){c.push(f)}}}})();(function(){"function"===typeof define&&define.amd?define(function(){return g}):"undefined"!==typeof module&&module.exports?module.exports=g:k.qq=g})();(function(){g.Error=function(c){this.message="[Fine Uploader "+g.version+"] "+c};g.Error.prototype=Error()})();g.version="5.15.4";g.supportedFeatures=function(){function c(){var a=document.createElement("span");
return("draggable"in a||"ondragstart"in a&&"ondrop"in a)&&!g.android()&&!g.ios()}var f,a,h,e;var b=(h=(f=function(){var a=!0;try{var b=document.createElement("input");b.type="file";g(b).hide();b.disabled&&(a=!1)}catch(I){a=!1}return a}())&&g.isXhrUploadSupported())&&!g.androidStock();var k=(a=h&&c())&&(g.chrome()||g.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/);var n=h&&g.isFileChunkingSupported();if(e=h&&n)try{e=!!window.localStorage&&g.isFunction(window.localStorage.setItem)}catch(C){e=
!1}var r=h&&(g.chrome()||g.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/);var w=f&&(void 0!==window.postMessage||h);var v=window.XMLHttpRequest?void 0!==g.createXhrInstance().withCredentials:!1;var A=void 0!==window.XDomainRequest;var y=window.XMLHttpRequest&&void 0!==g.createXhrInstance().withCredentials?!0:void 0!==window.XDomainRequest;var x=void 0!==document.createElement("input").webkitdirectory;var q=h&&void 0!==window.FileReader;var B=h?!g.androidStock()&&
!g.iosChrome():!1;return{ajaxUploading:h,blobUploading:b,canDetermineSize:h,chunking:n,deleteFileCors:y,deleteFileCorsXdr:A,deleteFileCorsXhr:v,dialogElement:!!window.HTMLDialogElement,fileDrop:a,folderDrop:k,folderSelection:x,imagePreviews:q,imageValidation:q,itemSizeValidation:h,pause:n,progressBar:B,resume:e,scaling:q&&b,tiffPreviews:g.safari(),unlimitedScaledImageSize:!g.ios(),uploading:f,uploadCors:w,uploadCustomHeaders:h,uploadNonMultipart:h,uploadViaPaste:r}}();g.isGenericPromise=function(c){return!!(c&&
c.then&&g.isFunction(c.then))};g.Promise=function(){var c,f,a=[],h=[],e=[],b=0;g.extend(this,{then:function(e,g){0===b?(e&&a.push(e),g&&h.push(g)):-1===b?g&&g.apply(null,f):e&&e.apply(null,c);return this},done:function(a){0===b?e.push(a):a.apply(null,void 0===f?c:f);return this},success:function(){b=1;c=arguments;a.length&&g.each(a,function(a,b){b.apply(null,c)});e.length&&g.each(e,function(a,b){b.apply(null,c)});return this},failure:function(){b=-1;f=arguments;h.length&&g.each(h,function(a,b){b.apply(null,
f)});e.length&&g.each(e,function(a,b){b.apply(null,f)});return this}})};g.BlobProxy=function(c,f){g.extend(this,{referenceBlob:c,create:function(){return f(c)}})};g.UploadButton=function(c){function f(){var c=document.createElement("input");c.setAttribute(g.UploadButton.BUTTON_ID_ATTR_NAME,b);c.setAttribute("title",e.title);a.setMultiple(e.multiple,c);e.folders&&g.supportedFeatures.folderSelection&&c.setAttribute("webkitdirectory","");e.acceptFiles&&c.setAttribute("accept",e.acceptFiles);c.setAttribute("type",
"file");c.setAttribute("name",e.name);g(c).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:g.ie()&&!g.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0});!g.ie7()&&g(c).css({height:"100%"});e.element.appendChild(c);h.attach(c,"change",function(){e.onChange(c)});h.attach(c,"mouseover",function(){g(e.element).addClass(e.hoverClass)});h.attach(c,"mouseout",function(){g(e.element).removeClass(e.hoverClass)});h.attach(c,"focus",function(){g(e.element).addClass(e.focusClass)});
h.attach(c,"blur",function(){g(e.element).removeClass(e.focusClass)});return c}var a=this,h=new g.DisposeSupport,e={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(a){},title:null};g.extend(e,c);var b=g.getUniqueId();g(e.element).css({position:"relative",overflow:"hidden",direction:"ltr"});g.extend(this,{getInput:function(){return k},getButtonId:function(){return b},
setMultiple:function(a,b){b=b||this.getInput();e.ios8BrowserCrashWorkaround&&g.ios8()&&(g.iosChrome()||g.iosSafariWebView())?b.setAttribute("multiple",""):a?b.setAttribute("multiple",""):b.removeAttribute("multiple")},setAcceptFiles:function(a){a!==e.acceptFiles&&k.setAttribute("accept",a)},reset:function(){k.parentNode&&g(k).remove();g(e.element).removeClass(e.focusClass);k=null;k=f()}});var k=f()};g.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id";g.UploadData=function(c){function f(a){if(g.isArray(a)){var b=
[];g.each(a,function(a,c){b.push(e[c])});return b}return e[a]}function a(a){if(g.isArray(a)){var c=[];g.each(a,function(a,f){c.push(e[b[f]])});return c}return e[b[a]]}function h(a){var b=[];a=[].concat(a);g.each(a,function(a,c){a=k[c];void 0!==a&&g.each(a,function(a,c){b.push(e[c])})});return b}var e=[],b={},k={},n={},r={};g.extend(this,{addFile:function(a){var f=a.status||g.status.SUBMITTING,h=e.push({name:a.name,originalName:a.name,uuid:a.uuid,size:null==a.size?-1:a.size,status:f})-1;a.batchId&&
(e[h].batchId=a.batchId,void 0===r[a.batchId]&&(r[a.batchId]=[]),r[a.batchId].push(h));a.proxyGroupId&&(e[h].proxyGroupId=a.proxyGroupId,void 0===n[a.proxyGroupId]&&(n[a.proxyGroupId]=[]),n[a.proxyGroupId].push(h));e[h].id=h;b[a.uuid]=h;void 0===k[f]&&(k[f]=[]);k[f].push(h);a.onBeforeStatusChange&&a.onBeforeStatusChange(h);c.onStatusChange(h,null,f);return h},retrieve:function(b){if(g.isObject(b)&&e.length){if(void 0!==b.id)return f(b.id);if(void 0!==b.uuid)return a(b.uuid);if(b.status)return h(b.status)}else return g.extend([],
e,!0)},reset:function(){e=[];b={};k={};r={}},setStatus:function(a,b){var f=e[a].status,h=g.indexOf(k[f],a);k[f].splice(h,1);e[a].status=b;void 0===k[b]&&(k[b]=[]);k[b].push(a);c.onStatusChange(a,f,b)},uuidChanged:function(a,c){var f=e[a].uuid;e[a].uuid=c;b[c]=a;delete b[f]},updateName:function(a,b){e[a].name=b},updateSize:function(a,b){e[a].size=b},setParentId:function(a,b){e[a].parentId=b},getIdsInProxyGroup:function(a){return(a=e[a].proxyGroupId)?n[a]:[]},getIdsInBatch:function(a){return r[e[a].batchId]}})};
g.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"};(function(){g.basePublicApi={addBlobs:function(c,f,a){this.addFiles(c,f,a)},addInitialFiles:function(c){var f=this;g.each(c,function(a,c){f._addCannedFile(c)})},addFiles:function(c,
f,a){this._maybeHandleIos8SafariWorkaround();var h=0===this._storedIds.length?g.getUniqueId():this._currentBatchId,e=g.bind(function(a){this._handleNewFile({blob:a,name:this._options.blobs.defaultName},h,v)},this),b=g.bind(function(a){this._handleNewFile(a,h,v)},this),k=g.bind(function(a){a=g.canvasToBlob(a);this._handleNewFile({blob:a,name:this._options.blobs.defaultName+".png"},h,v)},this),n=g.bind(function(a){var b=g.canvasToBlob(a.canvas,a.type,a.quality&&a.quality/100);this._handleNewFile({blob:b,
name:a.name},h,v)},this),r=g.bind(function(a){if(g.isInput(a)&&g.supportedFeatures.ajaxUploading){a=Array.prototype.slice.call(a.files);var b=this;g.each(a,function(a,c){b._handleNewFile(c,h,v)})}else this._handleNewFile(a,h,v)},this),w=this,v=[];this._currentBatchId=h;c&&(g.isFileList(c)&&(c=Array.prototype.slice.call(c)),c=[].concat(c),g.each(c,function(a,c){g.isFileOrInput(c)?r(c):g.isBlob(c)?e(c):g.isObject(c)?c.blob&&c.name?b(c):c.canvas&&c.name&&n(c):c.tagName&&"canvas"===c.tagName.toLowerCase()?
k(c):w.log(c+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+v.length+" files."),this._prepareItemsForUpload(v,f,a))},cancel:function(c){this._handler.cancel(c)},cancelAll:function(){var c=[],f=this;g.extend(c,this._storedIds);g.each(c,function(a,c){f.cancel(c)});this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(c){var f=this._uploadData.retrieve({id:c});if(!g.supportedFeatures.pause||!this._options.chunking.enabled)return!1;
if(f.status===g.status.PAUSED)return this.log(g.format("Paused file ID {} ({}) will be continued.  Not paused.",c,this.getName(c))),this._uploadFile(c),!0;this.log(g.format("Ignoring continue for file ID {} ({}).  Not paused.",c,this.getName(c)),"error");return!1},deleteFile:function(c){return this._onSubmitDelete(c)},doesExist:function(c){return this._handler.isValid(c)},drawThumbnail:function(c,f,a,h,e){var b=new g.Promise;if(this._imageGenerator){var k=this._thumbnailUrls[c];a={customResizeFunction:e,
maxSize:0<a?a:null,scale:0<a};!h&&g.supportedFeatures.imagePreviews&&(k=this.getFile(c));null==k?b.failure({container:f,error:"File or URL not found."}):this._imageGenerator.generate(k,f,a).then(function(a){b.success(a)},function(a,c){b.failure({container:a,error:c||"Problem generating thumbnail"})})}else b.failure({container:f,error:"Missing image generator module"});return b},getButton:function(c){return this._getButton(this._buttonIdsForFileIds[c])},getEndpoint:function(c){return this._endpointStore.get(c)},
getFile:function(c){return this._handler.getFile(c)||null},getInProgress:function(){return this._uploadData.retrieve({status:[g.status.UPLOADING,g.status.UPLOAD_RETRYING,g.status.QUEUED]}).length},getName:function(c){return this._uploadData.retrieve({id:c}).name},getParentId:function(c){c=this.getUploads({id:c});var f=null;c&&void 0!==c.parentId&&(f=c.parentId);return f},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(c){return this._uploadData.retrieve({id:c}).size},
getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var c=this._currentItemLimit;return 0<c?c-this._netUploadedOrQueued:null},getUploads:function(c){return this._uploadData.retrieve(c)},getUuid:function(c){return this._uploadData.retrieve({id:c}).uuid},log:function(c,f){!this._options.debug||f&&"info"!==f?f&&"info"!==f&&g.log("[Fine Uploader "+g.version+"] "+c,f):g.log("[Fine Uploader "+g.version+"] "+c)},pauseUpload:function(c){var f=this._uploadData.retrieve({id:c});
if(!g.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(0<=g.indexOf([g.status.UPLOADING,g.status.UPLOAD_RETRYING],f.status)){if(this._handler.pause(c))return this._uploadData.setStatus(c,g.status.PAUSED),!0;this.log(g.format("Unable to pause file ID {} ({}).",c,this.getName(c)),"error")}else this.log(g.format("Ignoring pause for file ID {} ({}).  Not in progress.",c,this.getName(c)),"error");return!1},removeFileRef:function(c){this._handler.expunge(c)},reset:function(){this.log("Resetting uploader...");
this._handler.reset();this._storedIds=[];this._autoRetries=[];this._retryTimeouts=[];this._preventRetries=[];this._thumbnailUrls=[];g.each(this._buttons,function(c,f){f.reset()});this._paramsStore.reset();this._endpointStore.reset();this._netUploaded=this._netUploadedOrQueued=0;this._uploadData.reset();this._buttonIdsForFileIds=[];this._pasteHandler&&this._pasteHandler.reset();this._options.session.refreshOnReset&&this._refreshSessionData();this._succeededSinceLastAllComplete=[];this._failedSinceLastAllComplete=
[];this._totalProgress&&this._totalProgress.reset()},retry:function(c){return this._manualRetry(c)},scaleImage:function(c,f){return g.Scaler.prototype.scaleImage(c,f,{log:g.bind(this.log,this),getFile:g.bind(this.getFile,this),uploadData:this._uploadData})},setCustomHeaders:function(c,f){this._customHeadersStore.set(c,f)},setDeleteFileCustomHeaders:function(c,f){this._deleteFileCustomHeadersStore.set(c,f)},setDeleteFileEndpoint:function(c,f){this._deleteFileEndpointStore.set(c,f)},setDeleteFileParams:function(c,
f){this._deleteFileParamsStore.set(c,f)},setEndpoint:function(c,f){this._endpointStore.set(c,f)},setForm:function(c){this._updateFormSupportAndParams(c)},setItemLimit:function(c){this._currentItemLimit=c},setName:function(c,f){this._uploadData.updateName(c,f)},setParams:function(c,f){this._paramsStore.set(c,f)},setUuid:function(c,f){return this._uploadData.uuidChanged(c,f)},setStatus:function(c,f){if(!this.getUploads({id:c}))throw new g.Error(c+" is not a valid file ID.");switch(f){case g.status.DELETED:this._onDeleteComplete(c,
null,!1);break;case g.status.DELETE_FAILED:this._onDeleteComplete(c,null,!0);break;default:throw c="Method setStatus called on '"+name+"' not implemented yet for "+f,this.log(c),new g.Error(c);}},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}};g.basePrivateApi={_addCannedFile:function(c){var f=this;return this._uploadData.addFile({uuid:c.uuid,name:c.name,size:c.size,status:g.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(a){c.deleteFileEndpoint&&
f.setDeleteFileEndpoint(c.deleteFileEndpoint,a);c.deleteFileParams&&f.setDeleteFileParams(c.deleteFileParams,a);c.thumbnailUrl&&(f._thumbnailUrls[a]=c.thumbnailUrl);f._netUploaded++;f._netUploadedOrQueued++}})},_annotateWithButtonId:function(c,f){g.isFile(c)&&(c.qqButtonId=this._getButtonId(f))},_batchError:function(c){this._options.callbacks.onError(null,null,c,void 0)},_createDeleteHandler:function(){var c=this;return new g.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),
maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:g.bind(c.log,c),onDelete:function(f){c._onDelete(f);c._options.callbacks.onDelete(f)},onDeleteComplete:function(f,a,g){c._onDeleteComplete(f,a,g);c._options.callbacks.onDeleteComplete(f,a,g)}})},_createPasteHandler:function(){var c=this;return new g.PasteSupport({targetElement:this._options.paste.targetElement,
callbacks:{log:g.bind(c.log,c),pasteReceived:function(f){c._handleCheckedCallback({name:"onPasteReceived",callback:g.bind(c._options.callbacks.onPasteReceived,c,f),onSuccess:g.bind(c._handlePasteSuccess,c,f),identifier:"pasted image"})}}})},_createStore:function(c,f){var a={},h=c,e={},b=f,k=function(a){return g.isObject(a)?g.extend({},a):a};return{set:function(b,c){null==c?(a={},h=k(b)):a[c]=k(b)},get:function(c){var f=null!=c&&a[c]?a[c]:k(h);b&&g.isObject(f)&&g.extend(f,g.isFunction(b)?b():b);e[c]&&
g.extend(f,e[c]);return k(f)},addReadOnly:function(c,f){g.isObject(a)&&(null===c?g.isFunction(f)?b=f:(b=b||{},g.extend(b,f)):(e[c]=e[c]||{},g.extend(e[c],f)))},remove:function(b){return delete a[b]},reset:function(){a={};e={};h=c}}},_createUploadDataTracker:function(){var c=this;return new g.UploadData({getName:function(f){return c.getName(f)},getUuid:function(f){return c.getUuid(f)},getSize:function(f){return c.getSize(f)},onStatusChange:function(f,a,g){c._onUploadStatusChange(f,a,g);c._options.callbacks.onStatusChange(f,
a,g);c._maybeAllComplete(f,g);c._totalProgress&&setTimeout(function(){c._totalProgress.onStatusChange(f,a,g)},0)}})},_createUploadButton:function(c){var f=this,a=c.allowedExtensions||this._options.validation.allowedExtensions;var h=new g.UploadButton({acceptFiles:c.accept||this._options.validation.acceptFiles,element:c.element,focusClass:this._options.classes.buttonFocus,folders:c.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,
multiple:g.supportedFeatures.ajaxUploading?f._options.workarounds.iosEmptyVideos&&g.ios()&&!g.ios6()&&f._isAllowedExtension(a,".mov")?!1:void 0===c.multiple?f._options.multiple:c.multiple:!1,name:this._options.request.inputName,onChange:function(a){f._onInputChange(a)},title:null==c.title?this._options.text.fileInputTitle:c.title});this._disposeSupport.addDisposer(function(){h.dispose()});f._buttons.push(h);return h},_createUploadHandler:function(c,f){var a=this,h={},e={debug:this._options.debug,
maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:g.bind(a.log,a),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(b,c,e,f){if(!(0>e||0>f)){if(h[b]){if(h[b].loaded!==e||h[b].total!==f)a._onProgress(b,c,e,f),a._options.callbacks.onProgress(b,c,e,f)}else a._onProgress(b,c,e,f),a._options.callbacks.onProgress(b,
c,e,f);h[b]={loaded:e,total:f}}},onComplete:function(b,c,e,f){delete h[b];var k=a.getUploads({id:b}).status;if(k!==g.status.UPLOAD_SUCCESSFUL&&k!==g.status.UPLOAD_FAILED)if(k=a._onComplete(b,c,e,f),k instanceof g.Promise)k.done(function(){a._options.callbacks.onComplete(b,c,e,f)});else a._options.callbacks.onComplete(b,c,e,f)},onCancel:function(b,c,e){var f=new g.Promise;a._handleCheckedCallback({name:"onCancel",callback:g.bind(a._options.callbacks.onCancel,a,b,c),onFailure:f.failure,onSuccess:function(){e.then(function(){a._onCancel(b,
c)});f.success()},identifier:b});return f},onUploadPrep:g.bind(this._onUploadPrep,this),onUpload:function(b,c){a._onUpload(b,c);a._options.callbacks.onUpload(b,c)},onUploadChunk:function(b,c,e){a._onUploadChunk(b,e);a._options.callbacks.onUploadChunk(b,c,e)},onUploadChunkSuccess:function(b,c,e,f){a._options.callbacks.onUploadChunkSuccess.apply(a,arguments)},onResume:function(b,c,e){return a._options.callbacks.onResume(b,c,e)},onAutoRetry:function(b,c,e,f){return a._onAutoRetry.apply(a,arguments)},
onUuidChanged:function(b,c){a.log("Server requested UUID change from '"+a.getUuid(b)+"' to '"+c+"'");a.setUuid(b,c)},getName:g.bind(a.getName,a),getUuid:g.bind(a.getUuid,a),getSize:g.bind(a.getSize,a),setSize:g.bind(a._setSize,a),getDataByUuid:function(b){return a.getUploads({uuid:b})},isQueued:function(b){b=a.getUploads({id:b}).status;return b===g.status.QUEUED||b===g.status.SUBMITTED||b===g.status.UPLOAD_RETRYING||b===g.status.PAUSED},getIdsInProxyGroup:a._uploadData.getIdsInProxyGroup,getIdsInBatch:a._uploadData.getIdsInBatch};
g.each(this._options.request,function(a,c){e[a]=c});e.customHeaders=this._customHeadersStore;c&&g.each(c,function(a,c){e[a]=c});return new g.UploadHandlerController(e,f)},_fileOrBlobRejected:function(c){this._netUploadedOrQueued--;this._uploadData.setStatus(c,g.status.REJECTED)},_formatSize:function(c){if(0===c)return c+this._options.text.sizeSymbols[0];var f=-1;do c/=1E3,f++;while(999<c);return Math.max(c,.1).toFixed(1)+this._options.text.sizeSymbols[f]},_generateExtraButtonSpecs:function(){var c=
this;this._extraButtonSpecs={};g.each(this._options.extraButtons,function(f,a){f=a.multiple;var h=g.extend({},c._options.validation,!0),e=g.extend({},a);void 0===f&&(f=c._options.multiple);e.validation&&g.extend(h,a.validation,!0);g.extend(e,{multiple:f,validation:h},!0);c._initExtraButton(e)})},_getButton:function(c){var f=this._extraButtonSpecs[c];if(f)return f.element;if(c===this._defaultButtonId)return this._options.button},_getButtonId:function(c){var f;c instanceof g.BlobProxy&&(c=c.referenceBlob);
if(c&&!g.isBlob(c)){if(g.isFile(c))return c.qqButtonId;if("input"===c.tagName.toLowerCase()&&"file"===c.type.toLowerCase())return c.getAttribute(g.UploadButton.BUTTON_ID_ATTR_NAME);c=c.getElementsByTagName("input");g.each(c,function(a,c){if("file"===c.getAttribute("type"))return f=c,!1});if(f)return f.getAttribute(g.UploadButton.BUTTON_ID_ATTR_NAME)}},_getNotFinished:function(){return this._uploadData.retrieve({status:[g.status.UPLOADING,g.status.UPLOAD_RETRYING,g.status.QUEUED,g.status.SUBMITTING,
g.status.SUBMITTED,g.status.PAUSED]}).length},_getValidationBase:function(c){return(c=this._extraButtonSpecs[c])?c.validation:this._options.validation},_getValidationDescriptor:function(c){return c.file instanceof g.BlobProxy?{name:g.getFilename(c.file.referenceBlob),size:c.file.referenceBlob.size}:{name:this.getUploads({id:c.id}).name,size:this.getUploads({id:c.id}).size}},_getValidationDescriptors:function(c){var f=this,a=[];g.each(c,function(c,e){a.push(f._getValidationDescriptor(e))});return a},
_handleCameraAccess:function(){if(this._options.camera.ios&&g.ios()){var c=this._options.camera.button,f=c?this._getButtonId(c):this._defaultButtonId,a=this._options;f&&f!==this._defaultButtonId&&(a=this._extraButtonSpecs[f]);a.multiple=!1;a.validation.acceptFiles=null===a.validation.acceptFiles?"image/*;capture=camera":a.validation.acceptFiles+",image/*;capture=camera";g.each(this._buttons,function(c,e){if(e.getButtonId()===f)return e.setMultiple(a.multiple),e.setAcceptFiles(a.acceptFiles),!1})}},
_handleCheckedCallback:function(c){var f=this,a=c.callback();if(g.isGenericPromise(a))return this.log(c.name+" - waiting for "+c.name+" promise to be fulfilled for "+c.identifier),a.then(function(a){f.log(c.name+" promise success for "+c.identifier);c.onSuccess(a)},function(){c.onFailure?(f.log(c.name+" promise failure for "+c.identifier),c.onFailure()):f.log(c.name+" promise failure for "+c.identifier)});if(!1!==a)c.onSuccess(a);else c.onFailure?(this.log(c.name+" - return value was 'false' for "+
c.identifier+".  Invoking failure callback."),c.onFailure()):this.log(c.name+" - return value was 'false' for "+c.identifier+".  Will not proceed.");return a},_handleNewFile:function(c,f,a){var h=this,e=g.getUniqueId(),b=-1,k=g.getFilename(c);c=c.blob||c;var n=this._customNewFileHandler?this._customNewFileHandler:g.bind(h._handleNewFileGeneric,h);!g.isInput(c)&&0<=c.size&&(b=c.size);n(c,k,e,b,a,f,this._options.request.uuidName,{uploadData:h._uploadData,paramsStore:h._paramsStore,addFileToHandler:function(a,
b){h._handler.add(a,b);h._netUploadedOrQueued++;h._trackButton(a)}})},_handleNewFileGeneric:function(c,f,a,g,e,b){f=this._uploadData.addFile({uuid:a,name:f,size:g,batchId:b});this._handler.add(f,c);this._trackButton(f);this._netUploadedOrQueued++;e.push({id:f,file:c})},_handlePasteSuccess:function(c,f){var a=c.type.split("/")[1];null==f&&(f=this._options.paste.defaultName);this.addFiles({name:f+("."+a),blob:c})},_handleDeleteSuccess:function(c){if(this.getUploads({id:c}).status!==g.status.DELETED){var f=
this.getName(c);this._netUploadedOrQueued--;this._netUploaded--;this._handler.expunge(c);this._uploadData.setStatus(c,g.status.DELETED);this.log("Delete request for '"+f+"' has succeeded.")}},_handleDeleteFailed:function(c,f){var a=this.getName(c);this._uploadData.setStatus(c,g.status.DELETE_FAILED);this.log("Delete request for '"+a+"' has failed.","error");if(f&&void 0!==f.withCredentials)this._options.callbacks.onError(c,a,"Delete request failed with response code "+f.status,f);else this._options.callbacks.onError(c,
a,"Delete request failed",f)},_initExtraButton:function(c){var f=this._createUploadButton({accept:c.validation.acceptFiles,allowedExtensions:c.validation.allowedExtensions,element:c.element,folders:c.folders,multiple:c.multiple,title:c.fileInputTitle});this._extraButtonSpecs[f.getButtonId()]=c},_initFormSupportAndParams:function(){(this._formSupport=g.FormSupport&&new g.FormSupport(this._options.form,g.bind(this.uploadStoredFiles,this),g.bind(this.log,this)))&&this._formSupport.attachedToForm?(this._paramsStore=
this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return g.DeleteFileAjaxRequester&&this._options.deleteFile.enabled?this._options.cors.expected?g.supportedFeatures.deleteFileCorsXhr||g.supportedFeatures.deleteFileCorsXdr&&
this._options.cors.allowXdr?!0:!1:!0:!1},_isAllowedExtension:function(c,f){var a=!1;if(!c.length)return!0;g.each(c,function(c,e){if(g.isString(e)&&null!=f.match(new RegExp("\\."+e+"$","i")))return a=!0,!1});return a},_itemError:function(c,f,a){function h(a,b){e=e.replace(a,b)}var e=this._options.messages[c],b=[],k=[].concat(f);c=k[0];a=this._getButtonId(a);a=this._getValidationBase(a);g.each(a.allowedExtensions,function(a,c){g.isString(c)&&b.push(c)});f=b.join(", ").toLowerCase();h("{file}",this._options.formatFileName(c));
h("{extensions}",f);h("{sizeLimit}",this._formatSize(a.sizeLimit));h("{minSizeLimit}",this._formatSize(a.minSizeLimit));a=e.match(/(\{\w+\})/g);null!==a&&g.each(a,function(a,b){h(b,k[a])});this._options.callbacks.onError(null,c,e,void 0);return e},_manualRetry:function(c,f){if(this._onBeforeManualRetry(c))return this._netUploadedOrQueued++,this._uploadData.setStatus(c,g.status.UPLOAD_RETRYING),f?f(c):this._handler.retry(c),!0},_maybeAllComplete:function(c,f){var a=this,h=this._getNotFinished();f===
g.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(c):f===g.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(c);0===h&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){a._onAllComplete(a._succeededSinceLastAllComplete,a._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var c=this;if(this._options.workarounds.ios8SafariUploads&&g.ios800()&&g.iosSafari())throw setTimeout(function(){window.alert(c._options.messages.unsupportedBrowserIos8Safari)},
0),new g.Error(this._options.messages.unsupportedBrowserIos8Safari);},_maybeParseAndSendUploadError:function(c,f,a,g){if(!a.success)if(g&&200!==g.status&&!a.error)this._options.callbacks.onError(c,f,"XHR returned response code "+g.status,g);else this._options.callbacks.onError(c,f,a.error?a.error:this._options.text.defaultResponseError,g)},_maybeProcessNextItemAfterOnValidateCallback:function(c,f,a,h,e){var b=this;if(f.length>a)if(c||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var c=
b._getValidationDescriptor(f[a]),k=b._getButtonId(f[a].file);k=b._getButton(k);b._handleCheckedCallback({name:"onValidate",callback:g.bind(b._options.callbacks.onValidate,b,c,k),onSuccess:g.bind(b._onValidateCallbackSuccess,b,f,a,h,e),onFailure:g.bind(b._onValidateCallbackFailure,b,f,a,h,e),identifier:"Item '"+c.name+"', size: "+c.size})},0);else if(!c)for(;a<f.length;a++)b._fileOrBlobRejected(f[a].id)},_onAllComplete:function(c,f){this._totalProgress&&this._totalProgress.onAllComplete(c,f,this._preventRetries);
this._options.callbacks.onAllComplete(g.extend([],c),g.extend([],f));this._succeededSinceLastAllComplete=[];this._failedSinceLastAllComplete=[]},_onAutoRetry:function(c,f,a,h,e){var b=this;b._preventRetries[c]=a[b._options.retry.preventRetryResponseProperty];if(b._shouldAutoRetry(c,f,a)){var k=1E3*b._options.retry.autoAttemptDelay;b._maybeParseAndSendUploadError.apply(b,arguments);b._options.callbacks.onAutoRetry(c,f,b._autoRetries[c]);b._onBeforeAutoRetry(c,f);b._uploadData.setStatus(c,g.status.UPLOAD_RETRYING);
b._retryTimeouts[c]=setTimeout(function(){b.log("Starting retry for "+f+"...");e?e(c):b._handler.retry(c)},k);return!0}},_onBeforeAutoRetry:function(c,f){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+f+"...")},_onBeforeManualRetry:function(c){var f=this._currentItemLimit;if(this._preventRetries[c])return this.log("Retries are forbidden for id "+c,"warn"),!1;if(this._handler.isValid(c)){var a=this.getName(c);if(!1===this._options.callbacks.onManualRetry(c,a))return!1;
if(0<f&&this._netUploadedOrQueued+1>f)return this._itemError("retryFailTooManyItems"),!1;this.log("Retrying upload for '"+a+"' (id: "+c+")...");return!0}this.log("'"+c+"' is not a valid file ID","error");return!1},_onCancel:function(c,f){this._netUploadedOrQueued--;clearTimeout(this._retryTimeouts[c]);f=g.indexOf(this._storedIds,c);!this._options.autoUpload&&0<=f&&this._storedIds.splice(f,1);this._uploadData.setStatus(c,g.status.CANCELED)},_onComplete:function(c,f,a,h){a.success?(a.thumbnailUrl&&
(this._thumbnailUrls[c]=a.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(c,g.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(c,g.status.UPLOAD_FAILED),!0===a[this._options.retry.preventRetryResponseProperty]&&(this._preventRetries[c]=!0));this._maybeParseAndSendUploadError(c,f,a,h);return a.success?!0:!1},_onDelete:function(c){this._uploadData.setStatus(c,g.status.DELETING)},_onDeleteComplete:function(c,f,a){this.getName(c);a?this._handleDeleteFailed(c,
f):this._handleDeleteSuccess(c)},_onInputChange:function(c){var f;if(g.supportedFeatures.ajaxUploading){for(f=0;f<c.files.length;f++)this._annotateWithButtonId(c.files[f],c);this.addFiles(c.files)}else 0<c.value.length&&this.addFiles(c);g.each(this._buttons,function(a,c){c.reset()})},_onProgress:function(c,f,a,g){this._totalProgress&&this._totalProgress.onIndividualProgress(c,a,g)},_onSubmit:function(c,f){},_onSubmitCallbackSuccess:function(c,f){this._onSubmit.apply(this,arguments);this._uploadData.setStatus(c,
g.status.SUBMITTED);this._onSubmitted.apply(this,arguments);this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(c)):(this._storeForLater(c),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(c,f,a){var h=this.getUuid(c),e;f&&(e=g.bind(f,this,c,h,a));if(this._isDeletePossible())return this._handleCheckedCallback({name:"onSubmitDelete",callback:g.bind(this._options.callbacks.onSubmitDelete,this,c),onSuccess:e||g.bind(this._deleteHandler.sendDelete,
this,c,h,a),identifier:c}),!0;this.log("Delete request ignored for ID "+c+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn");return!1},_onSubmitted:function(c){},_onTotalProgress:function(c,f){this._options.callbacks.onTotalProgress(c,f)},_onUploadPrep:function(c){},_onUpload:function(c,f){this._uploadData.setStatus(c,g.status.UPLOADING)},_onUploadChunk:function(c,f){},_onUploadStatusChange:function(c,f,a){a===g.status.PAUSED&&
clearTimeout(this._retryTimeouts[c])},_onValidateBatchCallbackFailure:function(c){var f=this;g.each(c,function(a,c){f._fileOrBlobRejected(c.id)})},_onValidateBatchCallbackSuccess:function(c,f,a,h,e){var b=this._currentItemLimit,k=this._netUploadedOrQueued;0===b||k<=b?0<f.length?this._handleCheckedCallback({name:"onValidate",callback:g.bind(this._options.callbacks.onValidate,this,c[0],e),onSuccess:g.bind(this._onValidateCallbackSuccess,this,f,0,a,h),onFailure:g.bind(this._onValidateCallbackFailure,
this,f,0,a,h),identifier:"Item '"+f[0].file.name+"', size: "+f[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(f),c=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,k).replace(/\{itemLimit\}/g,b),this._batchError(c))},_onValidateCallbackFailure:function(c,f,a,g){var e=f+1;this._fileOrBlobRejected(c[f].id,c[f].file.name);this._maybeProcessNextItemAfterOnValidateCallback(!1,c,e,a,g)},_onValidateCallbackSuccess:function(c,f,a,g){var e=this,b=f+1,h=
this._getValidationDescriptor(c[f]);this._validateFileOrBlobData(c[f],h).then(function(){e._upload(c[f].id,a,g);e._maybeProcessNextItemAfterOnValidateCallback(!0,c,b,a,g)},function(){e._maybeProcessNextItemAfterOnValidateCallback(!1,c,b,a,g)})},_prepareItemsForUpload:function(c,f,a){if(0===c.length)this._itemError("noFilesError");else{var h=this._getValidationDescriptors(c),e=this._getButtonId(c[0].file);e=this._getButton(e);this._handleCheckedCallback({name:"onValidateBatch",callback:g.bind(this._options.callbacks.onValidateBatch,
this,h,e),onSuccess:g.bind(this._onValidateBatchCallbackSuccess,this,h,c,f,a,e),onFailure:g.bind(this._onValidateBatchCallbackFailure,this,c),identifier:"batch validation"})}},_preventLeaveInProgress:function(){var c=this;this._disposeSupport.attach(window,"beforeunload",function(f){if(c.getInProgress())return f=f||window.event,f.returnValue=c._options.messages.onLeave})},_refreshSessionData:function(){var c=this,f=this._options.session;g.Session&&null!=this._options.session.endpoint&&(this._session||
(g.extend(f,{cors:this._options.cors}),f.log=g.bind(this.log,this),f.addFileRecord=g.bind(this._addCannedFile,this),this._session=new g.Session(f)),setTimeout(function(){c._session.refresh().then(function(a,f){c._sessionRequestComplete();c._options.callbacks.onSessionRequestComplete(a,!0,f)},function(a,f){c._options.callbacks.onSessionRequestComplete(a,!1,f)})},0))},_sessionRequestComplete:function(){},_setSize:function(c,f){this._uploadData.updateSize(c,f);this._totalProgress&&this._totalProgress.onNewSize(c)},
_shouldAutoRetry:function(c,f,a){f=this._uploadData.retrieve({id:c});return!this._preventRetries[c]&&this._options.retry.enableAuto&&f.status!==g.status.PAUSED&&(void 0===this._autoRetries[c]&&(this._autoRetries[c]=0),this._autoRetries[c]<this._options.retry.maxAutoAttempts)?(this._autoRetries[c]+=1,!0):!1},_storeForLater:function(c){this._storedIds.push(c)},_trackButton:function(c){var f;(f=g.supportedFeatures.ajaxUploading?this._handler.getFile(c).qqButtonId:this._getButtonId(this._handler.getInput(c)))&&
(this._buttonIdsForFileIds[c]=f)},_updateFormSupportAndParams:function(c){this._options.form.element=c;(this._formSupport=g.FormSupport&&new g.FormSupport(this._options.form,g.bind(this.uploadStoredFiles,this),g.bind(this.log,this)))&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(c,
f,a){var h=this.getName(c);f&&this.setParams(f,c);a&&this.setEndpoint(a,c);this._handleCheckedCallback({name:"onSubmit",callback:g.bind(this._options.callbacks.onSubmit,this,c,h),onSuccess:g.bind(this._onSubmitCallbackSuccess,this,c,h),onFailure:g.bind(this._fileOrBlobRejected,this,c,h),identifier:c})},_uploadFile:function(c){this._handler.upload(c)||this._uploadData.setStatus(c,g.status.QUEUED)},_uploadStoredFiles:function(){for(var c,f=this;this._storedIds.length;)c=this._storedIds.shift(),this._uploadFile(c);
if(c=this.getUploads({status:g.status.SUBMITTING}).length)g.log("Still waiting for "+c+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){f._uploadStoredFiles()},1E3)},_validateFileOrBlobData:function(c,f){var a=this;var h=c.file instanceof g.BlobProxy?c.file.referenceBlob:c.file;var e=f.name;f=f.size;var b=this._getButtonId(c.file);b=this._getValidationBase(b);var k=new g.Promise;k.then(function(){},function(){a._fileOrBlobRejected(c.id,e)});if(g.isFileOrInput(h)&&
!this._isAllowedExtension(b.allowedExtensions,e))return this._itemError("typeError",e,h),k.failure();if(!this._options.validation.allowEmpty&&0===f)return this._itemError("emptyError",e,h),k.failure();if(0<f&&b.sizeLimit&&f>b.sizeLimit)return this._itemError("sizeError",e,h),k.failure();if(0<f&&f<b.minSizeLimit)return this._itemError("minSizeError",e,h),k.failure();g.ImageValidation&&g.supportedFeatures.imagePreviews&&g.isFile(h)?(new g.ImageValidation(h,g.bind(a.log,a))).validate(b.image).then(k.success,
function(b){a._itemError(b+"ImageError",e,h);k.failure()}):k.success();return k},_wrapCallbacks:function(){var c;var f=this;var a=function(a,c,b){try{return c.apply(f,b)}catch(m){c=m.message||m.toString(),f.log("Caught exception in '"+a+"' callback - "+c,"error")}};for(c in this._options.callbacks)(function(){var g=c;var e=f._options.callbacks[g];f._options.callbacks[g]=function(){return a(g,e,arguments)}})()}}})();(function(){g.FineUploaderBasic=function(c){var f=this;this._options={debug:!1,button:null,
multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",params:{},paramsInBody:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(a,c){},
onSubmitted:function(a,c){},onComplete:function(a,c,e,b){},onAllComplete:function(a,c){},onCancel:function(a,c){},onUpload:function(a,c){},onUploadChunk:function(a,c,e){},onUploadChunkSuccess:function(a,c,e,b){},onResume:function(a,c,e){},onProgress:function(a,c,e,b){},onTotalProgress:function(a,c){},onError:function(a,c,e,b){},onAutoRetry:function(a,c,e){},onManualRetry:function(a,c){},onValidateBatch:function(a){},onValidate:function(a){},onSubmitDelete:function(a){},onDelete:function(a){},onDeleteComplete:function(a,
c,e){},onPasteReceived:function(a){},onStatusChange:function(a,c,e){},onSessionRequestComplete:function(a,c,e){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",
maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},
retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:2E6,success:{endpoint:null}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"}},
formatFileName:function(a){return a},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:"kB MB GB TB PB EB".split(" ")},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},
form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}};g.extend(this._options,c,!0);this._buttons=[];this._extraButtonSpecs={};this._buttonIdsForFileIds=[];this._wrapCallbacks();this._disposeSupport=new g.DisposeSupport;this._storedIds=[];this._autoRetries=[];this._retryTimeouts=
[];this._preventRetries=[];this._thumbnailUrls=[];this._netUploaded=this._netUploadedOrQueued=0;this._uploadData=this._createUploadDataTracker();this._initFormSupportAndParams();this._customHeadersStore=this._createStore(this._options.request.customHeaders);this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders);this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params);this._endpointStore=this._createStore(this._options.request.endpoint);this._deleteFileEndpointStore=
this._createStore(this._options.deleteFile.endpoint);this._handler=this._createUploadHandler();this._deleteHandler=g.DeleteFileAjaxRequester&&this._createDeleteHandler();this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId());this._generateExtraButtonSpecs();this._handleCameraAccess();this._options.paste.targetElement&&(g.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found",
"error"));this._preventLeaveInProgress();this._imageGenerator=g.ImageGenerator&&new g.ImageGenerator(g.bind(this.log,this));this._refreshSessionData();this._succeededSinceLastAllComplete=[];this._failedSinceLastAllComplete=[];this._scaler=g.Scaler&&new g.Scaler(this._options.scaling,g.bind(this.log,this))||{};this._scaler.enabled&&(this._customNewFileHandler=g.bind(this._scaler.handleNewFile,this._scaler));g.TotalProgress&&g.supportedFeatures.progressBar&&(this._totalProgress=new g.TotalProgress(g.bind(this._onTotalProgress,
this),function(a){return(a=f._uploadData.retrieve({id:a}))&&a.size||0}));this._currentItemLimit=this._options.validation.itemLimit};g.FineUploaderBasic.prototype=g.basePublicApi;g.extend(g.FineUploaderBasic.prototype,g.basePrivateApi)})();g.AjaxRequester=function(c){function f(a){var b=!1;g.each(b,function(a,c){if(0>g.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],c))return b=!0,!1});return b}function a(a){return C.cors.expected&&void 0===a.withCredentials}function h(){if(window.XMLHttpRequest||
window.ActiveXObject){var a=g.createXhrInstance();void 0===a.withCredentials&&(a=new XDomainRequest,a.onload=function(){},a.onerror=function(){},a.ontimeout=function(){},a.onprogress=function(){})}return a}function e(a,b){var c=B[a].xhr;c||(c=b?b:C.cors.expected?h():g.createXhrInstance(),B[a].xhr=c);return c}function b(a){var b=g.indexOf(q,a),c=C.maxConnections;delete B[a];q.splice(b,1);q.length>=c&&b<c&&(a=q[c-1],r(a))}function k(c,f){var h=e(c),d=C.method;f=!0===f;b(c);f?E(d+" request for "+c+" has failed",
"error"):a(h)||0<=g.indexOf(C.successfulResponseCodes[C.method],h.status)||(f=!0,E(d+" request for "+c+" has failed - response code "+h.status,"error"));C.onComplete(c,h,f)}function n(a){var b=B[a].additionalParams,c=C.mandatedParams,d;C.paramsStore.get&&(d=C.paramsStore.get(a));b&&g.each(b,function(a,b){d=d||{};d[a]=b});c&&g.each(c,function(a,b){d=d||{};d[a]=b});return d}function r(b,c){c=e(b,c);var f=C.method,d=n(b),h=B[b].payload;C.onSend(b);var k=B[b].additionalQueryParams;var m=C.endpointStore.get(b),
q=B[b].addToPath;void 0!=q&&(m+="/"+q);I&&d&&(m=g.obj2url(d,m));k&&(m=g.obj2url(k,m));k=m;a(c)?(c.onload=A(b),c.onerror=y(b)):c.onreadystatechange=w(b);v(b);c.open(f,k,!0);C.cors.expected&&C.cors.sendCredentials&&!a(c)&&(c.withCredentials=!0);x(b);E("Sending "+f+" request for "+b);h?c.send(h):I||!d?c.send():d&&C.contentType&&0<=C.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")?c.send(g.obj2url(d,"")):d&&C.contentType&&0<=C.contentType.toLowerCase().indexOf("application/json")?
c.send(JSON.stringify(d)):c.send(d);return c}function w(a){return function(){4===e(a).readyState&&k(a)}}function v(a){var b=C.onProgress;b&&(e(a).upload.onprogress=function(c){c.lengthComputable&&b(a,c.loaded,c.total)})}function A(a){return function(){k(a)}}function y(a){return function(){k(a,!0)}}function x(b){var c=e(b),h=C.customHeaders,d=B[b].additionalHeaders||{},l=C.method,k={};a(c)||(C.acceptHeader&&c.setRequestHeader("Accept",C.acceptHeader),!C.allowXRequestedWithAndCacheControl||C.cors.expected&&
0<=g.indexOf(["GET","POST","HEAD"],C.method)&&!f(h)||(c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Cache-Control","no-cache")),!C.contentType||"POST"!==l&&"PUT"!==l||c.setRequestHeader("Content-Type",C.contentType),g.extend(k,g.isFunction(h)?h(b):h),g.extend(k,d),g.each(k,function(a,b){c.setRequestHeader(a,b)}))}var q=[],B={},C={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},
endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(a,b){},onSend:function(a){},onComplete:function(a,b,c){},onProgress:null};g.extend(C,c);var E=C.log;if(0>g.indexOf(C.validMethods,C.method))throw Error("'"+C.method+"' is not a supported method for this type of request!");var I=
"GET"===C.method||"DELETE"===C.method;g.extend(this,{initTransport:function(a){var b,c,d,e,f,h;return{withPath:function(a){b=a;return this},withParams:function(a){c=a;return this},withQueryParams:function(a){h=a;return this},withHeaders:function(a){d=a;return this},withPayload:function(a){e=a;return this},withCacheBuster:function(){f=!0;return this},send:function(l){f&&0<=g.indexOf(["GET","DELETE"],C.method)&&(c.qqtimestamp=(new Date).getTime());B[a]={addToPath:b,additionalParams:c,additionalQueryParams:h,
additionalHeaders:d,payload:e};l=q.push(a)<=C.maxConnections?r(a,l):void 0;return l}}},canceled:function(a){b(a)}})};g.UploadHandler=function(c){c=c.proxy;var f={},a=c.onCancel,h=c.getName;g.extend(this,{add:function(a,b){f[a]=b;f[a].temp={}},cancel:function(c){var b=this,e=new g.Promise;a(c,h(c),e).then(function(){b.isValid(c)&&(f[c].canceled=!0,b.expunge(c));e.success()})},expunge:function(a){delete f[a]},getThirdPartyFileId:function(a){return f[a].key},isValid:function(a){return void 0!==f[a]},
reset:function(){f={}},_getFileState:function(a){return f[a]},_setThirdPartyFileId:function(a,b){f[a].key=b},_wasCanceled:function(a){return!!f[a].canceled}})};g.UploadHandlerController=function(c,f){var a=this,h=!1,e=!1,b,k={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(a,b){},onProgress:function(a,b,c,e){},onComplete:function(a,b,c,e){},onCancel:function(a,b){},onUploadPrep:function(a){},onUpload:function(a,b){},onUploadChunk:function(a,b,c){},onUploadChunkSuccess:function(a,
b,c,e){},onAutoRetry:function(a,b,c,e){},onResume:function(a,b,c){},onUuidChanged:function(a,b){},getName:function(a){},setSize:function(a,b){},isQueued:function(a){},getIdsInProxyGroup:function(a){},getIdsInBatch:function(a){}},n={done:function(a,c,e,f){var g=b._getChunkData(a,c);b._getFileState(a).attemptingResume=!1;delete b._getFileState(a).temp.chunkProgress[c];b._getFileState(a).loaded+=g.size;k.onUploadChunkSuccess(a,b._getChunkDataForCallback(g),e,f)},finalize:function(a){var c=k.getSize(a),
e=k.getName(a);A("All chunks have been uploaded for "+a+" - finalizing....");b.finalizeChunks(a).then(function(f,g){A("Finalize successful for "+a);f=v.normalizeResponse(f,!0);k.onProgress(a,e,c,c);b._maybeDeletePersistedChunkData(a);v.cleanup(a,f,g)},function(b,c){b=v.normalizeResponse(b,!1);A("Problem finalizing chunks for file ID "+a+" - "+b.error,"error");b.reset&&n.reset(a);k.onAutoRetry(a,e,b,c)||v.cleanup(a,b,c)})},handleFailure:function(a,c,f,h){var m=k.getName(c);A("Chunked upload request failed for "+
c+", chunk "+a);b.clearCachedChunk(c,a);f=v.normalizeResponse(f,!1);if(f.reset)n.reset(c);else{var q=g.indexOf(b._getFileState(c).chunking.inProgress,a);0<=q&&(b._getFileState(c).chunking.inProgress.splice(q,1),b._getFileState(c).chunking.remaining.unshift(a))}b._getFileState(c).temp.ignoreFailure||(e&&(b._getFileState(c).temp.ignoreFailure=!0,A(g.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(b._getXhrs(c))),JSON.stringify(b._getFileState(c).chunking.inProgress))),
g.each(b._getXhrs(c),function(a,b){A(g.format("Attempting to abort file {}.{}. XHR readyState {}. ",c,a,b.readyState));b.abort();b._cancelled=!0}),b.moveInProgressToRemaining(c),r.free(c,!0)),k.onAutoRetry(c,m,f,h)||v.cleanup(c,f,h))},hasMoreParts:function(a){return!!b._getFileState(a).chunking.remaining.length},nextPart:function(a){var c=b._getFileState(a).chunking.remaining.shift();c>=b._getTotalChunks(a)&&(c=null);return c},reset:function(a){A("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+
a,"error");b._maybeDeletePersistedChunkData(a);b.reevaluateChunking(a);b._getFileState(a).loaded=0},sendNext:function(a){var c=k.getSize(a),f=k.getName(a),h=n.nextPart(a),m=b._getChunkData(a,h),x=b._getFileState(a).attemptingResume,y=b._getFileState(a).chunking.inProgress||[];null==b._getFileState(a).loaded&&(b._getFileState(a).loaded=0);x&&!1===k.onResume(a,f,m)&&(n.reset(a),h=n.nextPart(a),m=b._getChunkData(a,h),x=!1);null==h&&0===y.length?n.finalize(a):(A(g.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",
a,h,m.start+1,m.end,c)),k.onUploadChunk(a,f,b._getChunkDataForCallback(m)),y.push(h),b._getFileState(a).chunking.inProgress=y,e&&r.open(a,h),e&&r.available()&&b._getFileState(a).chunking.remaining.length&&n.sendNext(a),0===m.blob.size?(A(g.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",h,a),"error"),n.handleFailure(h,a,"File is no longer available",null)):b.uploadChunk(a,h,x).then(function(c,e){A("Chunked upload request succeeded for "+a+", chunk "+h);b.clearCachedChunk(a,h);
var d=b._getFileState(a).chunking.inProgress||[];c=v.normalizeResponse(c,!0);var f=g.indexOf(d,h);A(g.format("Chunk {} for file {} uploaded successfully.",h,a));n.done(a,h,c,e);0<=f&&d.splice(f,1);b._maybePersistChunkedState(a);n.hasMoreParts(a)||0!==d.length?n.hasMoreParts(a)?n.sendNext(a):A(g.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",a,JSON.stringify(d))):n.finalize(a)},function(b,c){n.handleFailure(h,a,b,c)}).done(function(){b.clearXhr(a,
h)}))}},r={_open:[],_openChunks:{},_waiting:[],available:function(){var a=k.maxConnections,b=0,c=0;g.each(r._openChunks,function(a,e){b++;c+=e.length});return a-(r._open.length-b+c)},free:function(a,c){c=!c;var e=g.indexOf(r._waiting,a),f=g.indexOf(r._open,a);delete r._openChunks[a];v.getProxyOrBlob(a)instanceof g.BlobProxy&&(A("Generated blob upload has ended for "+a+", disposing generated blob."),delete b._getFileState(a).file);0<=e?r._waiting.splice(e,1):c&&0<=f&&(r._open.splice(f,1),a=r._waiting.shift(),
0<=a&&(r._open.push(a),v.start(a)))},getWaitingOrConnected:function(){var a=[];g.each(r._openChunks,function(b,c){c&&c.length&&a.push(parseInt(b))});g.each(r._open,function(b,c){r._openChunks[c]||a.push(parseInt(c))});return a=a.concat(r._waiting)},isUsingConnection:function(a){return 0<=g.indexOf(r._open,a)},open:function(a,b){null==b&&r._waiting.push(a);if(r.available()){if(null==b)r._waiting.pop(),r._open.push(a);else{var c=r._openChunks[a]||[];c.push(b);r._openChunks[a]=c}return!0}return!1},reset:function(){r._waiting=
[];r._open=[]}},w={send:function(a,c){b._getFileState(a).loaded=0;A("Sending simple upload request for "+a);b.uploadFile(a).then(function(b,e){A("Simple upload request succeeded for "+a);b=v.normalizeResponse(b,!0);var f=k.getSize(a);k.onProgress(a,c,f,f);v.maybeNewUuid(a,b);v.cleanup(a,b,e)},function(b,e){A("Simple upload request failed for "+a);b=v.normalizeResponse(b,!1);k.onAutoRetry(a,c,b,e)||v.cleanup(a,b,e)})}},v={cancel:function(a){A("Cancelling "+a);k.paramsStore.remove(a);r.free(a)},cleanup:function(a,
c,e){var f=k.getName(a);k.onComplete(a,f,c,e);b._getFileState(a)&&b._clearXhrs&&b._clearXhrs(a);r.free(a)},getProxyOrBlob:function(a){return b.getProxy&&b.getProxy(a)||b.getFile&&b.getFile(a)},initHandler:function(){b=new (f?g[f]:g.traditional)[(g.supportedFeatures.ajaxUploading?"Xhr":"Form")+"UploadHandler"](k,{getDataByUuid:k.getDataByUuid,getName:k.getName,getSize:k.getSize,getUuid:k.getUuid,log:A,onCancel:k.onCancel,onProgress:k.onProgress,onUuidChanged:k.onUuidChanged});b._removeExpiredChunkingRecords&&
b._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(a){return k.isQueued(a)},maybeDefer:function(a,c){if(c&&!b.getFile(a)&&c instanceof g.BlobProxy)k.onUploadPrep(a),A("Attempting to generate a blob on-demand for "+a),c.create().then(function(c){A("Generated an on-demand blob for "+a);b.updateBlob(a,c);k.setSize(a,c.size);b.reevaluateChunking(a);v.maybeSendDeferredFiles(a)},function(b){var c={};b&&(c.error=b);A(g.format("Failed to generate blob for ID {}.  Error message: {}.",
a,b),"error");k.onComplete(a,k.getName(a),g.extend(c,y),null);v.maybeSendDeferredFiles(a);r.free(a)});else return v.maybeSendDeferredFiles(a);return!1},maybeSendDeferredFiles:function(a){var c=k.getIdsInProxyGroup(a),e=!1;c&&c.length?(A("Maybe ready to upload proxy group file "+a),g.each(c,function(c,f){if(v.isDeferredEligibleForUpload(f)&&b.getFile(f))e=f===a,v.now(f);else if(v.isDeferredEligibleForUpload(f))return!1})):(e=!0,v.now(a));return e},maybeNewUuid:function(a,b){if(void 0!==b.newUuid)k.onUuidChanged(a,
b.newUuid)},normalizeResponse:function(a,b){var c=a;g.isObject(a)||(c={},g.isString(a)&&!b&&(c.error=a));c.success=b;return c},now:function(c){var e=k.getName(c);if(!a.isValid(c))throw new g.Error(c+" is not a valid file ID to upload!");k.onUpload(c,e);h&&b._shouldChunkThisFile(c)?n.sendNext(c):w.send(c,e)},start:function(a){var b=v.getProxyOrBlob(a);if(b)return v.maybeDefer(a,b);v.now(a);return!0}};g.extend(this,{add:function(a,c){b.add.apply(this,arguments)},upload:function(a){return r.open(a)?
v.start(a):!1},retry:function(c){e&&(b._getFileState(c).temp.ignoreFailure=!1);return r.isUsingConnection(c)?v.start(c):a.upload(c)},cancel:function(a){var c=b.cancel(a);g.isGenericPromise(c)?c.then(function(){v.cancel(a)}):!1!==c&&v.cancel(a)},cancelAll:function(){var b=r.getWaitingOrConnected(),c;if(b.length)for(c=b.length-1;0<=c;c--)a.cancel(b[c]);r.reset()},getFile:function(a){return b.getProxy&&b.getProxy(a)?b.getProxy(a).referenceBlob:b.getFile&&b.getFile(a)},isProxied:function(a){return!(!b.getProxy||
!b.getProxy(a))},getInput:function(a){if(b.getInput)return b.getInput(a)},reset:function(){A("Resetting upload handler");a.cancelAll();r.reset();b.reset()},expunge:function(c){if(a.isValid(c))return b.expunge(c)},isValid:function(a){return b.isValid(a)},getResumableFilesData:function(){return b.getResumableFilesData?b.getResumableFilesData():[]},getThirdPartyFileId:function(c){if(a.isValid(c))return b.getThirdPartyFileId(c)},pause:function(c){return a.isResumable(c)&&b.pause&&a.isValid(c)&&b.pause(c)?
(r.free(c),b.moveInProgressToRemaining(c),!0):!1},isResumable:function(a){return!!b.isResumable&&b.isResumable(a)}});g.extend(k,c);var A=k.log;e=(h=k.chunking.enabled&&g.supportedFeatures.chunking)&&k.chunking.concurrent.enabled;var y=function(){var a={};a[k.preventRetryParam]=!0;return a}();v.initHandler()};g.WindowReceiveMessage=function(c){var f={};g.extend({log:function(a,c){}},c);g.extend(this,{receiveMessage:function(a,c){var e=function(a){c(a.data)};window.postMessage?f[a]=g(window).attach("message",
e):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(a){window.postMessage&&(a=f[a])&&a()}})};g.FormUploadHandler=function(c){function f(a,b){var c=a.id,e=c.split("_")[0],f=A(e);k[f]=b;n[e]=g(a).attach("load",function(){h.getInput(e)&&(y("Received iframe load event for CORS upload request (iframe name "+c+")"),r[c]=setTimeout(function(){var a="No valid message received from loaded iframe for iframe name "+c;y(a,"error");b({error:a})},1E3))});x.receiveMessage(c,
function(a){y("Received the following window message: '"+a+"'");c.split("_");var b=h._parseJsonResponse(a),e=b.uuid;e&&k[e]?(y("Handling response for iframe name "+c),clearTimeout(r[c]),delete r[c],h._detachLoadEvent(c),a=k[e],delete k[e],x.stopReceivingMessages(c),a(b)):e||y("'"+a+"' does not contain a UUID - ignoring.")})}var a=c.options,h=this,e=c.proxy,b=g.getUniqueId(),k={},n={},r={},w=a.isCors,v=a.inputName,A=e.getUuid,y=e.log,x=new g.WindowReceiveMessage({log:y});g.extend(this,new g.UploadHandler(c));
g.override(this,function(a){return{add:function(b,c){a.add(b,{input:c});c.setAttribute("name",v);c.parentNode&&g(c).remove()},expunge:function(b){delete n[b];w&&(clearTimeout(r[b]),delete r[b],x.stopReceivingMessages(b));var c=document.getElementById(h._getIframeName(b));c&&(c.setAttribute("src","javascript:false;"),g(c).remove());a.expunge(b)},isValid:function(b){return a.isValid(b)&&void 0!==h._getFileState(b).input}}});g.extend(this,{getInput:function(a){return h._getFileState(a).input},_attachLoadEvent:function(a,
b){var c;w?f(a,b):n[a.id]=g(a).attach("load",function(){y("Received response for "+a.id);if(a.parentNode){try{if(a.contentDocument&&a.contentDocument.body&&"false"==a.contentDocument.body.innerHTML)return}catch(E){y("Error when attempting to access iframe during handling of upload response ("+E.message+")","error"),c={success:!1}}b(c)}})},_createIframe:function(a){a=h._getIframeName(a);var b=g.toElement("<iframe src='javascript:false;' name='"+a+"' />");b.setAttribute("id",a);b.style.display="none";
document.body.appendChild(b);return b},_detachLoadEvent:function(a){void 0!==n[a]&&(n[a](),delete n[a])},_getIframeName:function(a){return a+"_"+b},_initFormForUpload:function(a){var b=a.endpoint,c=a.params,e=a.paramsInBody,f=a.targetName;a=g.toElement("<form method='"+a.method+"' enctype='multipart/form-data'></form>");var h=b;e?g.obj2Inputs(c,a):h=g.obj2url(c,b);a.setAttribute("action",h);a.setAttribute("target",f);a.style.display="none";document.body.appendChild(a);return a},_parseJsonResponse:function(a){var b=
{};try{b=g.parseJson(a)}catch(C){y("Error when attempting to parse iframe upload response ("+C.message+")","error")}return b}})};g.XhrUploadHandler=function(c){function f(b){g.each(a._getXhrs(b),function(c,e){c=a._getAjaxRequester(b,c);e.onreadystatechange=null;e.upload.onprogress=null;e.abort();c&&c.canceled&&c.canceled(b)})}var a=this,h=c.options.namespace,e=c.proxy,b=c.options.chunking,k=c.options.resume,n=b&&c.options.chunking.enabled&&g.supportedFeatures.chunking,r=k&&c.options.resume.enabled&&
n&&g.supportedFeatures.resume,w=e.getName,v=e.getSize,A=e.getUuid,y=e.getEndpoint,x=e.getDataByUuid,q=e.onUuidChanged,B=e.onProgress,C=e.log;g.extend(this,new g.UploadHandler(c));g.override(this,function(b){return{add:function(c,e){if(g.isFile(e)||g.isBlob(e))b.add(c,{file:e});else if(e instanceof g.BlobProxy)b.add(c,{proxy:e});else throw Error("Passed obj is not a File, Blob, or proxy");a._initTempState(c);r&&a._maybePrepareForResume(c)},expunge:function(c){f(c);a._maybeDeletePersistedChunkData(c);
a._clearXhrs(c);b.expunge(c)}}});g.extend(this,{clearCachedChunk:function(b,c){delete a._getFileState(b).temp.cachedChunks[c]},clearXhr:function(b,c){b=a._getFileState(b).temp;b.xhrs&&delete b.xhrs[c];b.ajaxRequesters&&delete b.ajaxRequesters[c]},finalizeChunks:function(b,c){var e=a._getTotalChunks(b)-1;b=a._getXhr(b,e);return c?(new g.Promise).success(c(b),b):(new g.Promise).success({},b)},getFile:function(b){return a.isValid(b)&&a._getFileState(b).file},getProxy:function(b){return a.isValid(b)&&
a._getFileState(b).proxy},getResumableFilesData:function(){var b=[];a._iterateResumeRecords(function(c,e){a.moveInProgressToRemaining(null,e.chunking.inProgress,e.chunking.remaining);c={name:e.name,remaining:e.chunking.remaining,size:e.size,uuid:e.uuid};e.key&&(c.key=e.key);b.push(c)});return b},isResumable:function(c){return!!b&&a.isValid(c)&&!a._getFileState(c).notResumable},moveInProgressToRemaining:function(b,c,e){c=c||a._getFileState(b).chunking.inProgress;var f=e||a._getFileState(b).chunking.remaining;
c&&(C(g.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(c))),c.reverse(),g.each(c,function(a,b){f.unshift(b)}),c.length=0)},pause:function(b){if(a.isValid(b))return C(g.format("Aborting XHR upload for {} '{}' due to pause instruction.",b,w(b))),a._getFileState(b).paused=!0,f(b),!0},reevaluateChunking:function(c){if(b&&a.isValid(c)){var e=a._getFileState(c),f;delete e.chunking;e.chunking={};var g=a._getTotalChunks(c);if(1<g||b.mandatory){e.chunking.enabled=!0;e.chunking.parts=
g;e.chunking.remaining=[];for(f=0;f<g;f++)e.chunking.remaining.push(f);a._initTempState(c)}else e.chunking.enabled=!1}},updateBlob:function(b,c){a.isValid(b)&&(a._getFileState(b).file=c)},_clearXhrs:function(b){var c=a._getFileState(b).temp;g.each(c.ajaxRequesters,function(a){delete c.ajaxRequesters[a]});g.each(c.xhrs,function(a){delete c.xhrs[a]})},_createXhr:function(b,c){return a._registerXhr(b,c,g.createXhrInstance())},_getAjaxRequester:function(b,c){c=null==c?-1:c;return a._getFileState(b).temp.ajaxRequesters[c]},
_getChunkData:function(c,e){var f=b.partSize,h=v(c),k=a.getFile(c),d=f*e;f=d+f>=h?h:d+f;h=a._getTotalChunks(c);c=this._getFileState(c).temp.cachedChunks;k=c[e]||g.sliceBlob(k,d,f);c[e]=k;return{part:e,start:d,end:f,count:h,blob:k,size:f-d}},_getChunkDataForCallback:function(a){return{partIndex:a.part,startByte:a.start+1,endByte:a.end,totalParts:a.count}},_getLocalStorageId:function(a){var c=w(a),e=v(a),f=b.partSize;a=y(a);return g.format("qq{}resume{}-{}-{}-{}-{}",h,"5.0",c,e,f,a)},_getMimeType:function(b){return a.getFile(b).type},
_getPersistableData:function(b){return a._getFileState(b).chunking},_getTotalChunks:function(a){if(b)return a=v(a),Math.ceil(a/b.partSize)},_getXhr:function(b,c){c=null==c?-1:c;return a._getFileState(b).temp.xhrs[c]},_getXhrs:function(b){return a._getFileState(b).temp.xhrs},_iterateResumeRecords:function(a){r&&g.each(localStorage,function(b,c){0===b.indexOf(g.format("qq{}resume",h))&&(c=JSON.parse(c),a(b,c))})},_initTempState:function(b){a._getFileState(b).temp={ajaxRequesters:{},chunkProgress:{},
xhrs:{},cachedChunks:{}}},_markNotResumable:function(b){a._getFileState(b).notResumable=!0},_maybeDeletePersistedChunkData:function(b){return r&&a.isResumable(b)&&(b=a._getLocalStorageId(b))&&localStorage.getItem(b)?(localStorage.removeItem(b),!0):!1},_maybePrepareForResume:function(b){var c=a._getFileState(b);if(r&&void 0===c.key){var e=a._getLocalStorageId(b);if(e=localStorage.getItem(e))e=JSON.parse(e),x(e.uuid)?a._markNotResumable(b):(C(g.format("Identified file with ID {} and name of {} as resumable.",
b,w(b))),q(b,e.uuid),c.key=e.key,c.chunking=e.chunking,c.loaded=e.loaded,c.attemptingResume=!0,a.moveInProgressToRemaining(b))}},_maybePersistChunkedState:function(b){var c=a._getFileState(b);if(r&&a.isResumable(b)){var e=a._getLocalStorageId(b);c={name:w(b),size:v(b),uuid:A(b),key:c.key,chunking:c.chunking,loaded:c.loaded,lastUpdated:Date.now()};try{localStorage.setItem(e,JSON.stringify(c))}catch(J){C(g.format("Unable to save resume data for '{}' due to error: '{}'.",b,J.toString()),"warn")}}},_registerProgressHandler:function(b,
c,e){var f=a._getXhr(b,c),h=w(b),d={simple:function(a,c){var d=v(b);a===c?B(b,h,d,d):B(b,h,a>=d?d-1:a,d)},chunked:function(d,f){var l=a._getFileState(b).temp.chunkProgress,k=a._getFileState(b).loaded,m=v(b),n=k;l[c]=d-(f-e);g.each(l,function(a,b){n+=b});B(b,h,n,m)}};f.upload.onprogress=function(a){if(a.lengthComputable)d[null==e?"simple":"chunked"](a.loaded,a.total)}},_registerXhr:function(b,c,e,f){c=null==c?-1:c;b=a._getFileState(b).temp;b.xhrs=b.xhrs||{};b.ajaxRequesters=b.ajaxRequesters||{};b.xhrs[c]=
e;f&&(b.ajaxRequesters[c]=f);return e},_removeExpiredChunkingRecords:function(){var b=k.recordsExpireIn;a._iterateResumeRecords(function(a,c){c=new Date(c.lastUpdated);c.setDate(c.getDate()+b);c.getTime()<=Date.now()&&(C("Removing expired resume record with key "+a),localStorage.removeItem(a))})},_shouldChunkThisFile:function(b){var c=a._getFileState(b);c.chunking||a.reevaluateChunking(b);return c.chunking.enabled}})};g.DeleteFileAjaxRequester=function(c){var f={method:"DELETE",uuidParamName:"qquuid",
endpointStore:{},maxConnections:3,customHeaders:function(a){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(a,c){},onDelete:function(a){},onDeleteComplete:function(a,c,b){}};g.extend(f,c);var a=g.extend(this,new g.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:f.method,endpointStore:f.endpointStore,paramsStore:f.paramsStore,mandatedParams:"POST"===f.method.toUpperCase()?{_method:"DELETE"}:{},maxConnections:f.maxConnections,customHeaders:function(a){return f.customHeaders.get(a)},
log:f.log,onSend:f.onDelete,onComplete:f.onDeleteComplete,cors:f.cors}));g.extend(this,{sendDelete:function(c,e,b){b=b||{};f.log("Submitting delete file request for "+c);"DELETE"===f.method?a.initTransport(c).withPath(e).withParams(b).send():(b[f.uuidParamName]=e,a.initTransport(c).withParams(b).send())}})};(function(){function c(a,c,e,h){var b=document.createElement("canvas"),k=e.mime||"image/jpeg",m=new g.Promise;f(a,c,b,e,h).then(function(){m.success(b.toDataURL(k,e.quality||.8))});return m}function f(b,
c,e,f,k){var m=b.naturalWidth,n=b.naturalHeight,y=f.width,r=f.height,q=e.getContext("2d"),w=new g.Promise;q.save();if(f.resize)return a({blob:c,canvas:e,image:b,imageHeight:n,imageWidth:m,orientation:f.orientation,resize:f.resize,targetHeight:r,targetWidth:y});if(!g.supportedFeatures.unlimitedScaledImageSize){c=y;var C=r;if(!g.ios())throw new g.Error("Downsampled dimensions can only be reliably calculated for iOS!");c=5241E3<C*c?{newHeight:Math.round(Math.sqrt(C/c*5241E3)),newWidth:Math.round(Math.sqrt(c/
C*5241E3))}:void 0;c&&(g.log(g.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",y,r,c.newWidth,c.newHeight),"warn"),y=c.newWidth,r=c.newHeight)}h(e,y,r,f.orientation);if(g.ios()){f=b.naturalWidth;c=b.naturalHeight;C=document.createElement("canvas");1048576<f*c?(C.width=C.height=1,c=C.getContext("2d"),c.drawImage(b,-f+1,0),f=0===c.getImageData(0,0,1,1).data[3]):f=!1;f&&(m/=2,n/=2);f=document.createElement("canvas");if(k){k=n;var E=document.createElement("canvas");
c=0;var I=C=k;E.width=1;E.height=k;E=E.getContext("2d");E.drawImage(b,0,0);for(E=E.getImageData(0,0,1,k).data;I>c;){var F=E[4*(I-1)+3];0===F?C=I:c=I;I=C+c>>1}k=I/k;k=0===k?1:k}else k=1;y=Math.ceil(1024*y/m);r=Math.ceil(1024*r/n/k);c=k=0;f.width=f.height=1024;for(C=f.getContext("2d");k<n;){for(E=I=0;I<m;)C.clearRect(0,0,1024,1024),C.drawImage(b,-I,-k),q.drawImage(f,0,0,1024,1024,E,c,y,r),I+=1024,E+=y;k+=1024;c+=r}q.restore()}else q.drawImage(b,0,0,y,r);e.qqImageRendered&&e.qqImageRendered();w.success();
return w}function a(a){var b=a.blob,c=a.image,e=a.imageHeight,f=a.imageWidth,k=a.orientation,A=new g.Promise,y=a.resize,x=document.createElement("canvas"),q=x.getContext("2d"),B=a.canvas,C=a.targetHeight;a=a.targetWidth;h(x,f,e,k);B.height=C;B.width=a;q.drawImage(c,0,0);y({blob:b,height:C,image:c,sourceCanvas:x,targetCanvas:B,width:a}).then(function(){B.qqImageRendered&&B.qqImageRendered();A.success()},A.failure);return A}function h(a,c,e,f){switch(f){case 5:case 6:case 7:case 8:a.width=e;a.height=
c;break;default:a.width=c,a.height=e}a=a.getContext("2d");switch(f){case 2:a.translate(c,0);a.scale(-1,1);break;case 3:a.translate(c,e);a.rotate(Math.PI);break;case 4:a.translate(0,e);a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI);a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI);a.translate(0,-e);break;case 7:a.rotate(.5*Math.PI);a.translate(c,-e);a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-c,0)}}function e(a,c){var b=this;window.Blob&&a instanceof Blob&&function(){var c=new Image,
e=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!e)throw Error("No createObjectURL function found to create blob url");c.src=e.createObjectURL(a);b.blob=a;a=c}();a.naturalWidth||a.naturalHeight||(a.onload=function(){var a=b.imageLoadListeners;a&&(b.imageLoadListeners=null,setTimeout(function(){for(var b=0,c=a.length;b<c;b++)a[b]()},0))},a.onerror=c,this.imageLoadListeners=[]);this.srcImage=a}e.prototype.render=function(a,
e){e=e||{};var b=this,h=this.srcImage.naturalWidth,k=this.srcImage.naturalHeight,m=e.width,A=e.height,y=e.maxWidth,x=e.maxHeight,q=!this.blob||"image/jpeg"===this.blob.type,B=a.tagName.toLowerCase();if(this.imageLoadListeners)this.imageLoadListeners.push(function(){b.render(a,e)});else{m&&!A?A=k*m/h<<0:A&&!m?m=h*A/k<<0:(m=h,A=k);y&&m>y&&(m=y,A=k*m/h<<0);x&&A>x&&(A=x,m=h*A/k<<0);var C={width:m,height:A};g.each(e,function(a,b){C[a]=b});"img"===B?function(){var e=a.src;c(b.srcImage,b.blob,C,q).then(function(b){a.src=
b;e===a.src&&a.onload()})}():"canvas"===B&&f(this.srcImage,this.blob,a,C,q);if("function"===typeof this.onrender)this.onrender(a)}};g.MegaPixImage=e})();g.ImageGenerator=function(c){function f(a){return"img"===a.tagName.toLowerCase()}function a(a){return"canvas"===a.tagName.toLowerCase()}function h(a){a=a.split("/");a=a[a.length-1].split("?")[0];a=(a=g.getExtension(a))&&a.toLowerCase();switch(a){case "jpeg":case "jpg":return"image/jpeg";case "png":return"image/png";case "bmp":return"image/bmp";case "gif":return"image/gif";
case "tiff":case "tif":return"image/tiff"}}function e(a){var b=document.createElement("a");b.href=a;a=b.protocol;var c=b.port;b=b.hostname;return a.toLowerCase()!==window.location.protocol.toLowerCase()||b.toLowerCase()!==window.location.hostname.toLowerCase()||c!==window.location.port&&!g.ie()?!0:!1}function b(a,b){a.onload=function(){a.onload=null;a.onerror=null;b.success(a)};a.onerror=function(){a.onload=null;a.onerror=null;c("Problem drawing thumbnail!","error");b.failure(a,"Problem drawing thumbnail!")}}
function k(a,b){a.qqImageRendered=function(){b.success(a)}}function n(e,h){var m=f(e)||a(e);f(e)?b(e,h):a(e)?k(e,h):(h.failure(e),c(g.format("Element container of type {} is not supported!",e.tagName),"error"));return m}function r(a,b,e){var f=new g.Promise,h=new g.Identify(a,c),k=e.maxSize,m=null==e.orient?!0:e.orient,y=function(){b.onerror=null;b.onload=null;c("Could not render preview, file may be too large!","error");f.failure(b,"Browser cannot render image!")};h.isPreviewable().then(function(h){var q=
{parse:function(){return(new g.Promise).success()}};q=m?new g.Exif(a,c):q;var r=new g.MegaPixImage(a,y);n(b,f)&&q.parse().then(function(a){r.render(b,{maxWidth:k,maxHeight:k,orientation:a&&a.Orientation,mime:h,resize:e.customResizeFunction})},function(a){c(g.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",a));r.render(b,{maxWidth:k,maxHeight:k,mime:h,resize:e.customResizeFunction})})},function(){c("Not previewable");f.failure(b,"Not previewable")});return f}function w(a,b,
c,f,k){var m=new Image,q=new g.Promise;n(m,q);e(a)&&(m.crossOrigin="anonymous");m.src=a;q.then(function(){n(b,c);(new g.MegaPixImage(m)).render(b,{maxWidth:f,maxHeight:f,mime:h(a),resize:k})},c.failure)}function v(a,b,c,e){n(b,c);g(b).css({maxWidth:e+"px",maxHeight:e+"px"});b.src=a}g.extend(this,{generate:function(b,h,k){if(g.isString(b)){c("Attempting to update thumbnail based on server response.");var m=k||{};k=new g.Promise;var y=m.scale;m=y?m.maxSize:null;y&&f(h)?(y=document.createElement("canvas"),
y.getContext&&y.getContext("2d")?e(b)&&void 0===(new Image).crossOrigin?v(b,h,k,m):w(b,h,k,m):v(b,h,k,m)):a(h)?w(b,h,k,m):n(h,k)&&(h.src=b);return k}c("Attempting to draw client-side image preview.");return r(b,h,k||{})}});this._testing={};this._testing.isImg=f;this._testing.isCanvas=a;this._testing.isCrossOrigin=e;this._testing.determineMimeOfFileName=h};g.Exif=function(c,f){function a(a){for(var b=0,c=0;0<a.length;)b+=parseInt(a.substring(0,2),16)*Math.pow(2,c),a=a.substring(2,a.length),c+=8;return b}
function h(a,b){var e=a,f=b;void 0===e&&(e=2,f=new g.Promise);g.readBlobToHex(c,e,4).then(function(a){var b=/^ffe([0-9])/.exec(a);b?"1"!==b[1]?(a=parseInt(a.slice(4,8),16),h(e+a+2,f)):f.success(e):f.failure("No EXIF header to be found!")});return f}function e(){var a=new g.Promise;g.readBlobToHex(c,0,6).then(function(b){0!==b.indexOf("ffd8")?a.failure("Not a valid JPEG!"):h().then(function(b){a.success(b)},function(b){a.failure(b)})});return a}function b(a){var b=new g.Promise;g.readBlobToHex(c,a+
10,2).then(function(a){b.success("4949"===a)});return b}function k(b,e){var f=new g.Promise;g.readBlobToHex(c,b+18,2).then(function(b){if(e)return f.success(a(b));f.success(parseInt(b,16))});return f}function n(b,c){var e=g.extend([],r),f={};g.each(c,function(c,g){c=g.slice(0,4);var h=b?a(c):parseInt(c,16);c=e.indexOf(h);if(0<=c){var k=w[h].name;h=w[h].bytes;g=g.slice(16,16+2*h);f[k]=b?a(g):parseInt(g,16);e.splice(c,1)}if(0===e.length)return!1});return f}var r=[274],w={274:{name:"Orientation",bytes:2}};
g.extend(this,{parse:function(){var a=new g.Promise,h=function(b){f(g.format("EXIF header parse failed: '{}' ",b));a.failure(b)};e().then(function(e){f(g.format("Moving forward with EXIF header parsing for '{}'",void 0===c.name?"blob":c.name));b(e).then(function(b){f(g.format("EXIF Byte order is {} endian",b?"little":"big"));k(e,b).then(function(k){f(g.format("Found {} APP1 directory entries",k));g.readBlobToHex(c,e+20,12*k).then(function(c){for(var e=[],g=0;g+24<=c.length;)e.push(c.slice(g,g+24)),
g+=24;c=n(b,e);f("Successfully parsed some EXIF tags");a.success(c)},h)},h)},h)},h);return a}});this._testing={};this._testing.parseLittleEndian=a};g.Identify=function(c,f){function a(a,c){var b=!1;a=[].concat(a);g.each(a,function(a,e){if(0===c.indexOf(e))return b=!0,!1});return b}g.extend(this,{isPreviewable:function(){var h=this,e=new g.Promise,b=!1,k=void 0===c.name?"blob":c.name;f(g.format("Attempting to determine if {} can be rendered in this browser",k));f("First pass: check type attribute of blob object.");
this.isPreviewableSync()?(f("Second pass: check for magic bytes in file header."),g.readBlobToHex(c,0,4).then(function(c){g.each(h.PREVIEWABLE_MIME_TYPES,function(f,h){if(a(h,c)){if("image/tiff"!==f||g.supportedFeatures.tiffPreviews)b=!0,e.success(f);return!1}});f(g.format("'{}' is {} able to be rendered in this browser",k,b?"":"NOT"));b||e.failure()},function(){f("Error reading file w/ name '"+k+"'.  Not able to be rendered in this browser.");e.failure()})):e.failure();return e},isPreviewableSync:function(){var a=
c.type,e=0<=g.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),a),b=!1,k=void 0===c.name?"blob":c.name;e&&(b="image/tiff"===a?g.supportedFeatures.tiffPreviews:!0);!b&&f(k+" is not previewable in this browser per the blob's type attr");return b}})};g.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]};g.ImageValidation=function(c,f){function a(a){var b=!1;g.each(a,function(a,c){if(0<c)return b=
!0,!1});return b}function h(){var a=new g.Promise;(new g.Identify(c,f)).isPreviewable().then(function(){var b=new Image,e=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;e?(b.onerror=function(){f("Cannot determine dimensions for image.  May be too large.","error");a.failure()},b.onload=function(){a.success({width:this.width,height:this.height})},b.src=e.createObjectURL(c)):(f("No createObjectURL function available to generate image URL!",
"error"),a.failure())},a.failure);return a}function e(a,c){var b;g.each(a,function(a,e){if(0<e){var f=/(max|min)(Width|Height)/.exec(a),g=f[2].charAt(0).toLowerCase()+f[2].slice(1);g=c[g];switch(f[1]){case "min":if(g<e)return b=a,!1;break;case "max":if(g>e)return b=a,!1}}});return b}this.validate=function(b){var c=new g.Promise;f("Attempting to validate image.");a(b)?h().then(function(a){(a=e(b,a))?c.failure(a):c.success()},c.success):c.success();return c}};g.Session=function(c){function f(c,e,b,
f){var h=!1;e&&(g.isArray(c)?e=!0:(a.log("Session response is not an array.","error"),e=void 0));e&&g.each(c,function(b,c){if(null==c.uuid)h=!0,a.log(g.format("Session response item {} did not include a valid UUID - ignoring.",b),"error");else if(null==c.name)h=!0,a.log(g.format("Session response item {} did not include a valid name - ignoring.",b),"error");else try{return a.addFileRecord(c),!0}catch(v){h=!0,a.log(v.message,"error")}return!1});f[e&&!h?"success":"failure"](c,b)}var a={endpoint:null,
params:{},customHeaders:{},cors:{},addFileRecord:function(a){},log:function(a,c){}};g.extend(a,c,!0);this.refresh=function(){var c=new g.Promise,e=g.extend({},a);(new g.SessionAjaxRequester(g.extend(e,{onComplete:function(a,e,g){f(a,e,g,c)}}))).queryServer();return c}};g.SessionAjaxRequester=function(c){var f={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(a,c,b){},log:function(a,c){}};g.extend(f,c);var a=g.extend(this,new g.AjaxRequester({acceptHeader:"application/json",
validMethods:["GET"],method:"GET",endpointStore:{get:function(){return f.endpoint}},customHeaders:f.customHeaders,log:f.log,onComplete:function(a,c,b){a=null;if(null!=c.responseText)try{a=g.parseJson(c.responseText)}catch(m){f.log("Problem parsing session response: "+m.message,"error"),b=!0}f.onComplete(a,!b,c)},cors:f.cors}));g.extend(this,{queryServer:function(){var c=g.extend({},f.params);f.log("Session query request.");a.initTransport("sessionRefresh").withParams(c).withCacheBuster().send()}})};
g.Scaler=function(c,f){var a=c.customResizer,h=c.sendOriginal,e=c.orient,b=c.defaultType,k=c.defaultQuality/100,n=c.failureText,r=c.includeExif,w=this._getSortedSizes(c.sizes);g.extend(this,{enabled:g.supportedFeatures.scaling&&0<w.length,getFileRecords:function(c,m,y){var x=this,q=[],v=y.blob?y.blob:y;(new g.Identify(v,f)).isPreviewableSync()?(g.each(w,function(c,h){c=x._determineOutputType({defaultType:b,requestedType:h.type,refType:v.type});q.push({uuid:g.getUniqueId(),name:x._getName(m,{name:h.name,
type:c,refType:v.type}),blob:new g.BlobProxy(v,g.bind(x._generateScaledImage,x,{customResizeFunction:a,maxSize:h.maxSize,orient:e,type:c,quality:k,failedText:n,includeExif:r,log:f}))})}),q.push({uuid:c,name:m,size:v.size,blob:h?v:null})):q.push({uuid:c,name:m,size:v.size,blob:v});return q},handleNewFile:function(a,b,c,e,f,h,k,m){var n=[],q=null,y=m.addFileToHandler,r=m.uploadData,d=m.paramsStore,l=g.getUniqueId();g.each(this.getFileRecords(c,b,a),function(a,b){a=b.size;b.blob instanceof g.BlobProxy&&
(a=-1);a=r.addFile({uuid:b.uuid,name:b.name,size:a,batchId:h,proxyGroupId:l});b.blob instanceof g.BlobProxy?n.push(a):q=a;b.blob?(y(a,b.blob),f.push({id:a,file:b.blob})):r.setStatus(a,g.status.REJECTED)});null!==q&&(g.each(n,function(a,b){a={qqparentuuid:r.retrieve({id:q}).uuid,qqparentsize:r.retrieve({id:q}).size};a[k]=r.retrieve({id:b}).uuid;r.setParentId(b,q);d.addReadOnly(b,a)}),n.length&&function(){var a={};a[k]=r.retrieve({id:q}).uuid;d.addReadOnly(q,a)}())}})};g.extend(g.Scaler.prototype,{scaleImage:function(c,
f,a){if(!g.supportedFeatures.scaling)throw new g.Error("Scaling is not supported in this browser!");var h=new g.Promise,e=a.log,b=a.getFile(c),k=(a=a.uploadData.retrieve({id:c}))&&a.name,n=a&&a.uuid,r=new g.Scaler({customResizer:f.customResizer,sendOriginal:!1,orient:f.orient,defaultType:f.type||null,defaultQuality:f.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:f.maxSize}]},e);g.Scaler&&g.supportedFeatures.imagePreviews&&b?g.bind(function(){var a=r.getFileRecords(n,k,b)[0];
a&&a.blob instanceof g.BlobProxy?a.blob.create().then(h.success,h.failure):(e(c+" is not a scalable image!","error"),h.failure())},this)():(h.failure(),e("Could not generate requested scaled image for "+c+".  Scaling is either not possible in this browser, or the file could not be located.","error"));return h},_determineOutputType:function(c){var f=c.requestedType,a=c.defaultType;c=c.refType;return a||f?f?0<=g.indexOf(Object.keys(g.Identify.prototype.PREVIEWABLE_MIME_TYPES),f)?"image/tiff"===f?g.supportedFeatures.tiffPreviews?
f:a:f:a:a:"image/jpeg"!==c?"image/png":c},_getName:function(c,f){var a=c.lastIndexOf("."),h=f.type||"image/png",e=f.refType,b=g.getExtension(c),k="";f.name&&f.name.trim().length&&(k=" ("+f.name+")");0<=a?(c=c.substr(0,a),e!==h&&(b=h.split("/")[1]),c+=k+"."+b):c+=k;return c},_getSortedSizes:function(c){c=g.extend([],c);return c.sort(function(c,a){return c.maxSize>a.maxSize?1:c.maxSize<a.maxSize?-1:0})},_generateScaledImage:function(c,f){var a=this,h=c.customResizeFunction,e=c.log,b=c.maxSize,k=c.orient,
n=c.type,r=c.quality,w=c.failedText,v=c.includeExif&&"image/jpeg"===f.type&&"image/jpeg"===n,A=new g.Promise;c=new g.ImageGenerator(e);var y=document.createElement("canvas");e("Attempting to generate scaled version for "+f.name);c.generate(f,y,{maxSize:b,orient:k,customResizeFunction:h}).then(function(){var b=y.toDataURL(n,r),c=function(){e("Success generating scaled version for "+f.name);var a=g.dataUriToBlob(b);A.success(a)};v?a._insertExifHeader(f,b,e).then(function(a){b=a;c()},function(){e("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.",
"error");c()}):c()},function(){e("Failed attempt to generate scaled version for "+f.name,"error");A.failure(w)});return A},_insertExifHeader:function(c,f,a){var h=new FileReader,e=new g.Promise,b="";h.onload=function(){b=h.result;e.success(g.ExifRestorer.restore(b,f))};h.onerror=function(){a("Problem reading "+c.name+" during attempt to transfer EXIF data to scaled version.","error");e.failure()};h.readAsDataURL(c);return e},_dataUriToBlob:function(c){var f=0<=c.split(",")[0].indexOf("base64")?atob(c.split(",")[1]):
decodeURI(c.split(",")[1]);c=c.split(",")[0].split(":")[1].split(";")[0];var a=new ArrayBuffer(f.length);var h=new Uint8Array(a);g.each(f,function(a,b){h[a]=b.charCodeAt(0)});return this._createBlob(a,c)},_createBlob:function(c,f){var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;return(a=a&&new a)?(a.append(c),a.getBlob(f)):new Blob([c],{type:f})}});g.ExifRestorer=function(){return{KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
encode64:function(c){var f="",a=0;do{var g=c[a++];var e=c[a++];var b=c[a++];var k=g>>2;g=(g&3)<<4|e>>4;var n=(e&15)<<2|b>>6;var r=b&63;isNaN(e)?n=r=64:isNaN(b)&&(r=64);f=f+this.KEY_STR.charAt(k)+this.KEY_STR.charAt(g)+this.KEY_STR.charAt(n)+this.KEY_STR.charAt(r)}while(a<c.length);return f},restore:function(c,f){if(!c.match("data:image/jpeg;base64,"))return f;c=this.decode64(c.replace("data:image/jpeg;base64,",""));c=this.slice2Segments(c);f=this.exifManipulation(f,c);return"data:image/jpeg;base64,"+
this.encode64(f)},exifManipulation:function(c,f){f=this.getExifArray(f);c=this.insertExif(c,f);return new Uint8Array(c)},getExifArray:function(c){for(var f,a=0;a<c.length;a++)if(f=c[a],255==f[0]&225==f[1])return f;return[]},insertExif:function(c,f){c=c.replace("data:image/jpeg;base64,","");var a=this.decode64(c),g=a.indexOf(255,3);c=a.slice(0,g);a=a.slice(g);f=c.concat(f);return f=f.concat(a)},slice2Segments:function(c){for(var f=0,a=[];!(255==c[f]&218==c[f+1]);){if(255==c[f]&216==c[f+1])f+=2;else{var g=
f+(256*c[f+2]+c[f+3])+2;f=c.slice(f,g);a.push(f);f=g}if(f>c.length)break}return a},decode64:function(c){var f=0,a=[];if(/[^A-Za-z0-9\+\/\=]/g.exec(c))throw Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{var g=this.KEY_STR.indexOf(c.charAt(f++));var e=this.KEY_STR.indexOf(c.charAt(f++));var b=this.KEY_STR.indexOf(c.charAt(f++));var k=this.KEY_STR.indexOf(c.charAt(f++));g=g<<2|e>>
4;e=(e&15)<<4|b>>2;var n=(b&3)<<6|k;a.push(g);64!=b&&a.push(e);64!=k&&a.push(n)}while(f<c.length);return a}}}();g.TotalProgress=function(c,f){var a={},h=0,e=0,b=-1,k=-1,n=function(a,e){a===b&&e===k||c(a,e);b=a;k=e},r=function(a,b){var c=!0;g.each(a,function(a,e){if(0<=g.indexOf(b,e))return c=!1});return c},w=function(b){var c=f(b);0<c&&(v(b,0,c),a[b]={loaded:0,total:c})},v=function(b,c,f){var g=a[b]?a[b].loaded:0;b=a[b]?a[b].total:0;-1===c&&-1===f?(h-=g,e-=b):(c&&(h+=c-g),f&&(e+=f-b));n(h,e)};g.extend(this,
{onAllComplete:function(a,b,c){if(0===b.length||r(b,c))n(e,e),this.reset()},onStatusChange:function(b,c,e){e===g.status.CANCELED||e===g.status.REJECTED?(v(b,-1,-1),delete a[b]):e===g.status.SUBMITTING&&w(b)},onIndividualProgress:function(b,c,e){v(b,c,e);a[b]={loaded:c,total:e}},onNewSize:function(a){w(a)},reset:function(){a={};e=h=0}})};g.PasteSupport=function(c){var f;var a={targetElement:null,callbacks:{log:function(a,c){},pasteReceived:function(a){}}};g.extend(a,c);(function(){f=g(a.targetElement).attach("paste",
function(c){(c=c.clipboardData)&&g.each(c.items,function(c,b){b.type&&0===b.type.indexOf("image/")&&(c=b.getAsFile(),a.callbacks.pasteReceived(c))})})})();g.extend(this,{reset:function(){f&&f()}})};g.FormSupport=function(c,f,a){function h(b,c){if(b.checkValidity&&!b.checkValidity())a("Form did not pass validation checks - will not upload.","error"),c();else return!0}function e(a){var b=a.submit;g(a).attach("submit",function(c){c=c||window.event;c.preventDefault?c.preventDefault():c.returnValue=!1;
h(a,b)&&f()});a.submit=function(){h(a,b)&&f()}}var b=this,k=c.interceptSubmit,n=c.element;g.extend(this,{newEndpoint:null,newAutoUpload:c.autoUpload,attachedToForm:!1,getFormInputsAsObject:function(){return null==n?null:b._form2Obj(n)}});n=function(c){if(c&&(g.isString(c)&&(c=document.getElementById(c)),c)){a("Attaching to form element.");var f=c;f.getAttribute("action")&&(b.newEndpoint=f.getAttribute("action"));k&&e(c)}return c}(n);this.attachedToForm=!!n};g.extend(g.FormSupport.prototype,{_form2Obj:function(c){var f=
{},a=function(a){return 0<=g.indexOf(["checkbox","radio"],a.type.toLowerCase())&&!a.checked?!0:a.disabled&&"hidden"!==a.type.toLowerCase()},h=function(a){var b=null;g.each(g(a).children(),function(a,c){if("option"===c.tagName.toLowerCase()&&c.selected)return b=c.value,!1});return b};g.each(c.elements,function(c,b){if(c=g.isInput(b,!0)||"textarea"===b.tagName.toLowerCase())c=0>g.indexOf(["button","image","reset","submit"],b.type.toLowerCase());c&&!a(b)?f[b.name]=b.value:"select"!==b.tagName.toLowerCase()||
a(b)||(c=h(b),null!==c&&(f[b.name]=c))});return f}});g.CryptoJS=function(c,f){var a={},g=a.lib={},e=g.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var c=new a;b&&c.mixIn(b);c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&
(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),b=g.WordArray=e.extend({init:function(a,b){a=this.words=a||[];this.sigBytes=b!=f?b:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var b=this.words,c=a.words,e=this.sigBytes;a=a.sigBytes;this.clamp();if(e%4)for(var f=0;f<a;f++)b[e+f>>>2]|=(c[f>>>2]>>>24-f%4*8&255)<<24-(e+f)%4*8;else if(65535<c.length)for(f=0;f<a;f+=4)b[e+f>>>2]=c[f>>>2];else b.push.apply(b,c);this.sigBytes+=
a;return this},clamp:function(){var a=this.words,b=this.sigBytes;a[b>>>2]&=4294967295<<32-b%4*8;a.length=c.ceil(b/4)},clone:function(){var a=e.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var e=[],f=0;f<a;f+=4)e.push(4294967296*c.random()|0);return new b.init(e,a)}}),k=a.enc={},n=k.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++){var f=b[e>>>2]>>>24-e%4*8&255;c.push((f>>>4).toString(16));c.push((f&15).toString(16))}return c.join("")},
parse:function(a){for(var c=a.length,e=[],f=0;f<c;f+=2)e[f>>>3]|=parseInt(a.substr(f,2),16)<<24-f%8*4;return new b.init(e,c/2)}},r=k.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++)c.push(String.fromCharCode(b[e>>>2]>>>24-e%4*8&255));return c.join("")},parse:function(a){for(var c=a.length,e=[],f=0;f<c;f++)e[f>>>2]|=(a.charCodeAt(f)&255)<<24-f%4*8;return new b.init(e,c)}},w=k.Utf8={stringify:function(a){try{return decodeURIComponent(escape(r.stringify(a)))}catch(x){throw Error("Malformed UTF-8 data");
}},parse:function(a){return r.parse(unescape(encodeURIComponent(a)))}},v=g.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new b.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=w.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var e,f=this._data,g=f.words,h=f.sigBytes,k=this.blockSize,m=h/(4*k);m=a?c.ceil(m):c.max((m|0)-this._minBufferSize,0);a=m*k;h=c.min(4*a,h);if(a){for(e=0;e<a;e+=k)this._doProcessBlock(g,e);e=g.splice(0,a);f.sigBytes-=
h}return new b.init(e,h)},clone:function(){var a=e.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=v.extend({cfg:e.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){v.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,
c){return(new A.HMAC.init(a,c)).finalize(b)}}});var A=a.algo={};return a}(Math);(function(){var c=g.CryptoJS,f=c.lib.WordArray;c.enc.Base64={stringify:function(a){var c=a.words,e=a.sigBytes,b=this._map;a.clamp();a=[];for(var f=0;f<e;f+=3)for(var g=(c[f>>>2]>>>24-f%4*8&255)<<16|(c[f+1>>>2]>>>24-(f+1)%4*8&255)<<8|c[f+2>>>2]>>>24-(f+2)%4*8&255,k=0;4>k&&f+.75*k<e;k++)a.push(b.charAt(g>>>6*(3-k)&63));if(c=b.charAt(64))for(;a.length%4;)a.push(c);return a.join("")},parse:function(a){var c=a.length,e=this._map,
b=e.charAt(64);b&&(b=a.indexOf(b),-1!=b&&(c=b));b=[];for(var g=0,k=0;k<c;k++)if(k%4){var r=e.indexOf(a.charAt(k-1))<<k%4*2,w=e.indexOf(a.charAt(k))>>>6-k%4*2;b[g>>>2]|=(r|w)<<24-g%4*8;g++}return f.create(b,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(){var c=g.CryptoJS,f=c.enc.Utf8;c.algo.HMAC=c.lib.Base.extend({init:function(a,c){a=this._hasher=new a.init;"string"==typeof c&&(c=f.parse(c));var e=a.blockSize,b=4*e;c.sigBytes>b&&(c=a.finalize(c));c.clamp();
a=this._oKey=c.clone();c=this._iKey=c.clone();for(var g=a.words,h=c.words,k=0;k<e;k++)g[k]^=1549556828,h[k]^=909522486;a.sigBytes=c.sigBytes=b;this.reset()},reset:function(){var a=this._hasher;a.reset();a.update(this._iKey)},update:function(a){this._hasher.update(a);return this},finalize:function(a){var c=this._hasher;a=c.finalize(a);c.reset();return c.finalize(this._oKey.clone().concat(a))}})})();(function(){var c=g.CryptoJS,f=c.lib,a=f.WordArray,h=f.Hasher,e=[];f=c.algo.SHA1=h.extend({_doReset:function(){this._hash=
new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,c){for(var b=this._hash.words,f=b[0],g=b[1],h=b[2],k=b[3],m=b[4],x=0;80>x;x++){if(16>x)e[x]=a[c+x]|0;else{var q=e[x-3]^e[x-8]^e[x-14]^e[x-16];e[x]=q<<1|q>>>31}q=(f<<5|f>>>27)+m+e[x];q=20>x?q+((g&h|~g&k)+1518500249):40>x?q+((g^h^k)+1859775393):60>x?q+((g&h|g&k|h&k)-1894007588):q+((g^h^k)-899497514);m=k;k=h;h=g<<30|g>>>2;g=f;f=q}b[0]=b[0]+f|0;b[1]=b[1]+g|0;b[2]=b[2]+h|0;b[3]=b[3]+k|0;b[4]=b[4]+m|0},_doFinalize:function(){var a=
this._data,c=a.words,e=8*this._nDataBytes,f=8*a.sigBytes;c[f>>>5]|=128<<24-f%32;c[(f+64>>>9<<4)+14]=Math.floor(e/4294967296);c[(f+64>>>9<<4)+15]=e;a.sigBytes=4*c.length;this._process();return this._hash},clone:function(){var a=h.clone.call(this);a._hash=this._hash.clone();return a}});c.SHA1=h._createHelper(f);c.HmacSHA1=h._createHmacHelper(f)})();(function(c){var f=g.CryptoJS,a=f.lib,h=a.WordArray,e=a.Hasher;a=f.algo;var b=[],k=[];(function(){function a(a){for(var b=c.sqrt(a),e=2;e<=b;e++)if(!(a%
e))return!1;return!0}function e(a){return 4294967296*(a-(a|0))|0}for(var f=2,g=0;64>g;)a(f)&&(8>g&&(b[g]=e(c.pow(f,.5))),k[g]=e(c.pow(f,1/3)),g++),f++})();var n=[];a=a.SHA256=e.extend({_doReset:function(){this._hash=new h.init(b.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,e=c[0],f=c[1],g=c[2],h=c[3],m=c[4],r=c[5],w=c[6],I=c[7],F=0;64>F;F++){if(16>F)n[F]=a[b+F]|0;else{var J=n[F-15],L=n[F-2];n[F]=((J<<25|J>>>7)^(J<<14|J>>>18)^J>>>3)+n[F-7]+((L<<15|L>>>17)^(L<<13|L>>>19)^L>>>
10)+n[F-16]}J=I+((m<<26|m>>>6)^(m<<21|m>>>11)^(m<<7|m>>>25))+(m&r^~m&w)+k[F]+n[F];L=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&g^f&g);I=w;w=r;r=m;m=h+J|0;h=g;g=f;f=e;e=J+L|0}c[0]=c[0]+e|0;c[1]=c[1]+f|0;c[2]=c[2]+g|0;c[3]=c[3]+h|0;c[4]=c[4]+m|0;c[5]=c[5]+r|0;c[6]=c[6]+w|0;c[7]=c[7]+I|0},_doFinalize:function(){var a=this._data,b=a.words,e=8*this._nDataBytes,f=8*a.sigBytes;b[f>>>5]|=128<<24-f%32;b[(f+64>>>9<<4)+14]=c.floor(e/4294967296);b[(f+64>>>9<<4)+15]=e;a.sigBytes=4*b.length;this._process();
return this._hash},clone:function(){var a=e.clone.call(this);a._hash=this._hash.clone();return a}});f.SHA256=e._createHelper(a);f.HmacSHA256=e._createHmacHelper(a)})(Math);(function(){if("function"==typeof ArrayBuffer){var c=g.CryptoJS.lib.WordArray,f=c.init;(c.init=function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));if(a instanceof Int8Array||a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||
a instanceof Float64Array)a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);if(a instanceof Uint8Array){for(var c=a.byteLength,e=[],b=0;b<c;b++)e[b>>>2]|=a[b]<<24-b%4*8;f.call(this,e,c)}else f.apply(this,arguments)}).prototype=c}})();g.s3=g.s3||{};g.s3.util=g.s3.util||function(){return{ALGORITHM_PARAM_NAME:"x-amz-algorithm",AWS_PARAM_PREFIX:"x-amz-meta-",CREDENTIAL_PARAM_NAME:"x-amz-credential",DATE_PARAM_NAME:"x-amz-date",REDUCED_REDUNDANCY_PARAM_NAME:"x-amz-storage-class",REDUCED_REDUNDANCY_PARAM_VALUE:"REDUCED_REDUNDANCY",
SERVER_SIDE_ENCRYPTION_PARAM_NAME:"x-amz-server-side-encryption",SERVER_SIDE_ENCRYPTION_PARAM_VALUE:"AES256",SESSION_TOKEN_PARAM_NAME:"x-amz-security-token",V4_ALGORITHM_PARAM_VALUE:"AWS4-HMAC-SHA256",V4_SIGNATURE_PARAM_NAME:"x-amz-signature",CASE_SENSITIVE_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNSIGNABLE_REST_HEADER_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNPREFIXED_PARAM_NAMES:"Cache-Control Content-Disposition Content-Encoding Content-MD5 x-amz-server-side-encryption x-amz-server-side-encryption-aws-kms-key-id x-amz-server-side-encryption-customer-algorithm x-amz-server-side-encryption-customer-key x-amz-server-side-encryption-customer-key-MD5".split(" "),
getBucket:function(c){var f;g.each([/^(?:https?:\/\/)?([a-z0-9.\-_]+)\.s3(?:-[a-z0-9\-]+)?\.amazonaws\.com/i,/^(?:https?:\/\/)?s3(?:-[a-z0-9\-]+)?\.amazonaws\.com\/([a-z0-9.\-_]+)/i,/^(?:https?:\/\/)?([a-z0-9.\-_]+)/i],function(a,g){if(a=g.exec(c))return f=a[1],!1});return f},_getPrefixedParamName:function(c){return 0<=g.indexOf(g.s3.util.UNPREFIXED_PARAM_NAMES,c)?c:g.s3.util.AWS_PARAM_PREFIX+c},getPolicy:function(c){var f={},a=[],h=c.bucket,e=c.date,b=c.clockDrift,k=c.key,n=c.accessKey,r=c.acl,w=
c.type,v=c.expectedStatus,A=c.sessionToken,y=c.params,x=g.s3.util.getSuccessRedirectAbsoluteUrl(c.successRedirectUrl),q=c.minFileSize,B=c.maxFileSize,C=c.reducedRedundancy,E=c.region,I=c.serverSideEncryption;c=c.signatureVersion;f.expiration=g.s3.util.getPolicyExpirationDate(e,b);a.push({acl:r});a.push({bucket:h});w&&a.push({"Content-Type":w});v&&a.push({success_action_status:v.toString()});x&&a.push({success_action_redirect:x});C&&(a.push({}),a[a.length-1][g.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=
g.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE);A&&(a.push({}),a[a.length-1][g.s3.util.SESSION_TOKEN_PARAM_NAME]=A);I&&(a.push({}),a[a.length-1][g.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=g.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE);2===c?a.push({key:k}):4===c&&(a.push({}),a[a.length-1][g.s3.util.ALGORITHM_PARAM_NAME]=g.s3.util.V4_ALGORITHM_PARAM_VALUE,a.push({}),a[a.length-1].key=k,a.push({}),a[a.length-1][g.s3.util.CREDENTIAL_PARAM_NAME]=g.s3.util.getV4CredentialsString({date:e,key:n,region:E}),a.push({}),
a[a.length-1][g.s3.util.DATE_PARAM_NAME]=g.s3.util.getV4PolicyDate(e,b));g.each(y,function(b,c){b=g.s3.util._getPrefixedParamName(b);var e={};0<=g.indexOf(g.s3.util.UNPREFIXED_PARAM_NAMES,b)?e[b]=c:e[b]=encodeURIComponent(c);a.push(e)});f.conditions=a;g.s3.util.enforceSizeLimits(f,q,B);return f},refreshPolicyCredentials:function(c,f){var a=!1;g.each(c.conditions,function(c,e){g.each(e,function(b,c){b===g.s3.util.SESSION_TOKEN_PARAM_NAME&&(e[b]=f,a=!0)})});a||(c.conditions.push({}),c.conditions[c.conditions.length-
1][g.s3.util.SESSION_TOKEN_PARAM_NAME]=f)},generateAwsParams:function(c,f){var a={},h=c.params,e=new g.Promise,b=c.sessionToken,k=c.clockDrift,n=c.type,r=c.key,w=c.accessKey,v=c.acl,A=c.expectedStatus,y=g.s3.util.getSuccessRedirectAbsoluteUrl(c.successRedirectUrl),x=c.reducedRedundancy,q=c.region,B=c.serverSideEncryption,C=c.signatureVersion,E=new Date,I=c.log;c.date=E;var F=g.s3.util.getPolicy(c);a.key=r;n&&(a["Content-Type"]=n);A&&(a.success_action_status=A);y&&(a.success_action_redirect=y);x&&
(a[g.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=g.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE);B&&(a[g.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=g.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE);b&&(a[g.s3.util.SESSION_TOKEN_PARAM_NAME]=b);a.acl=v;g.each(h,function(b,c){b=g.s3.util._getPrefixedParamName(b);0<=g.indexOf(g.s3.util.UNPREFIXED_PARAM_NAMES,b)?a[b]=c:a[b]=encodeURIComponent(c)});2===C?a.AWSAccessKeyId=w:4===C&&(a[g.s3.util.ALGORITHM_PARAM_NAME]=g.s3.util.V4_ALGORITHM_PARAM_VALUE,a[g.s3.util.CREDENTIAL_PARAM_NAME]=
g.s3.util.getV4CredentialsString({date:E,key:w,region:q}),a[g.s3.util.DATE_PARAM_NAME]=g.s3.util.getV4PolicyDate(E,k));f(F).then(function(b,f,d){a.policy=b.policy;2===c.signatureVersion?(a.signature=b.signature,f&&(a.AWSAccessKeyId=f)):4===c.signatureVersion&&(a[g.s3.util.V4_SIGNATURE_PARAM_NAME]=b.signature);d&&(a[g.s3.util.SESSION_TOKEN_PARAM_NAME]=d);e.success(a)},function(a){a=a||"Can't continue further with request to S3 as we did not receive a valid signature and policy from the server.";I("Policy signing failed.  "+
a,"error");e.failure(a)});return e},enforceSizeLimits:function(c,f,a){(0<f||0<a)&&c.conditions.push(["content-length-range",(0>f?0:f).toString(),(0>=a?9007199254740992:a).toString()])},getPolicyExpirationDate:function(c,f){c=new Date(c.getTime()+f);return g.s3.util.getPolicyDate(c,5)},getCredentialsDate:function(c){return c.getUTCFullYear()+""+("0"+(c.getUTCMonth()+1)).slice(-2)+("0"+c.getUTCDate()).slice(-2)},getPolicyDate:function(c,f){f=f||0;var a;c.setMinutes(c.getMinutes()+(f||0));if(Date.prototype.toISOString)return c.toISOString();
f=function(c){a=String(c);1===a.length&&(a="0"+a);return a};return c.getUTCFullYear()+"-"+f(c.getUTCMonth()+1)+"-"+f(c.getUTCDate())+"T"+f(c.getUTCHours())+":"+f(c.getUTCMinutes())+":"+f(c.getUTCSeconds())+"."+String((c.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"},parseIframeResponse:function(c){if(c=/bucket=(.+)&key=(.+)&etag=(.+)/.exec((c.contentDocument||c.contentWindow.document).location.search))return{bucket:c[1],key:c[2],etag:c[3].replace(/%22/g,"")}},getSuccessRedirectAbsoluteUrl:function(c){if(c){var f=
document.createElement("div");g.ie7()?(f.innerHTML="<a href='"+c+"'></a>",f=f.firstChild):(f=document.createElement("a"),f.href=c,f.href=f.href);return f.href}},getV4CredentialsString:function(c){return c.key+"/"+g.s3.util.getCredentialsDate(c.date)+"/"+c.region+"/s3/aws4_request"},getV4PolicyDate:function(c,f){c=new Date(c.getTime()+f);return g.s3.util.getCredentialsDate(c)+"T"+("0"+c.getUTCHours()).slice(-2)+("0"+c.getUTCMinutes()).slice(-2)+("0"+c.getUTCSeconds()).slice(-2)+"Z"},encodeQueryStringParam:function(c){c=
encodeURIComponent(c);c=c.replace(/[!'()]/g,escape);c=c.replace(/\*/g,"%2A");return c.replace(/%20/g,"+")},uriEscape:function(c){c=encodeURIComponent(c);c=c.replace(/[^A-Za-z0-9_.~\-%]+/g,escape);return c=c.replace(/[*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(c){var f=[];g.each(c.split("/"),function(a,c){f.push(g.s3.util.uriEscape(c))});return f.join("/")}}}();(function(){g.nonTraditionalBasePublicApi={setUploadSuccessParams:function(c,f){this._uploadSuccessParamsStore.set(c,
f)},setUploadSuccessEndpoint:function(c,f){this._uploadSuccessEndpointStore.set(c,f)}};g.nonTraditionalBasePrivateApi={_onComplete:function(c,f,a,h){var e=a.success?!0:!1,b=this,k=arguments,n=this._uploadSuccessEndpointStore.get(c),r=this._options.uploadSuccess.customHeaders,w=this._options.uploadSuccess.method,v=this._options.cors,A=new g.Promise,y=this._uploadSuccessParamsStore.get(c),x=this._paramsStore.get(c),q=function(e){delete b._failedSuccessRequestCallbacks[c];g.extend(a,e);g.FineUploaderBasic.prototype._onComplete.apply(b,
k);A.success(e)},B=function(e){var m=E;g.extend(a,e);a&&a.reset&&(m=null);m?b._failedSuccessRequestCallbacks[c]=m:delete b._failedSuccessRequestCallbacks[c];b._onAutoRetry(c,f,a,h,m)||(g.FineUploaderBasic.prototype._onComplete.apply(b,k),A.failure(e))};if(e&&n){var C=new g.UploadSuccessAjaxRequester({endpoint:n,method:w,customHeaders:r,cors:v,log:g.bind(this.log,this)});g.extend(y,b._getEndpointSpecificParams(c,a,h),!0);x&&g.extend(y,x,!0);var E=g.bind(function(){C.sendSuccessRequest(c,y).then(q,
B)},b);E();return A}return g.FineUploaderBasic.prototype._onComplete.apply(this,arguments)},_manualRetry:function(c){return g.FineUploaderBasic.prototype._manualRetry.call(this,c,this._failedSuccessRequestCallbacks[c])}}})();(function(){g.s3.FineUploaderBasic=function(c){var f={request:{accessKey:null,clockDrift:0},objectProperties:{acl:"private",bucket:g.bind(function(a){return g.s3.util.getBucket(this.getEndpoint(a))},this),host:g.bind(function(a){return/(?:http|https):\/\/(.+)(?:\/.+)?/.exec(this._endpointStore.get(a))[1]},
this),key:"uuid",reducedRedundancy:!1,region:"us-east-1",serverSideEncryption:!1},credentials:{accessKey:null,secretKey:null,expiration:null,sessionToken:null},signature:{customHeaders:{},endpoint:null,version:2},uploadSuccess:{endpoint:null,method:"POST",params:{},customHeaders:{}},iframeSupport:{localBlankPagePath:null},chunking:{partSize:5242880},cors:{allowXdr:!0},callbacks:{onCredentialsExpired:function(){}}};g.extend(f,c,!0);this.setCredentials(f.credentials,!0)||(this._currentCredentials.accessKey=
f.request.accessKey);this._aclStore=this._createStore(f.objectProperties.acl);g.FineUploaderBasic.call(this,f);this._uploadSuccessParamsStore=this._createStore(this._options.uploadSuccess.params);this._uploadSuccessEndpointStore=this._createStore(this._options.uploadSuccess.endpoint);this._failedSuccessRequestCallbacks={};this._cannedKeys={};this._cannedBuckets={};this._buckets={};this._hosts={}};g.extend(g.s3.FineUploaderBasic.prototype,g.basePublicApi);g.extend(g.s3.FineUploaderBasic.prototype,
g.basePrivateApi);g.extend(g.s3.FineUploaderBasic.prototype,g.nonTraditionalBasePublicApi);g.extend(g.s3.FineUploaderBasic.prototype,g.nonTraditionalBasePrivateApi);g.extend(g.s3.FineUploaderBasic.prototype,{getBucket:function(c){return null==this._cannedBuckets[c]?this._buckets[c]:this._cannedBuckets[c]},getKey:function(c){return null==this._cannedKeys[c]?this._handler.getThirdPartyFileId(c):this._cannedKeys[c]},reset:function(){g.FineUploaderBasic.prototype.reset.call(this);this._failedSuccessRequestCallbacks=
[];this._buckets={};this._hosts={}},setCredentials:function(c,f){if(c&&c.secretKey){if(c.accessKey)if(c.expiration)this._currentCredentials=g.extend({},c),g.isString(c.expiration)&&(this._currentCredentials.expiration=new Date(c.expiration));else throw new g.Error("Invalid credentials: no expiration");else throw new g.Error("Invalid credentials: no accessKey");return!0}if(f)this._currentCredentials={};else throw new g.Error("Invalid credentials parameter!");},setAcl:function(c,f){this._aclStore.set(c,
f)},_createUploadHandler:function(){var c=this,f={aclStore:this._aclStore,getBucket:g.bind(this._determineBucket,this),getHost:g.bind(this._determineHost,this),getKeyName:g.bind(this._determineKeyName,this),iframeSupport:this._options.iframeSupport,objectProperties:this._options.objectProperties,signature:this._options.signature,clockDrift:this._options.request.clockDrift,validation:{minSizeLimit:this._options.validation.minSizeLimit,maxSizeLimit:this._options.validation.sizeLimit}};g.override(this._endpointStore,
function(a){return{get:function(c){c=a.get(c);return 0>c.indexOf("http")?"http://"+c:c}}});g.override(this._paramsStore,function(a){return{get:function(c){c=a.get(c);var e={};g.each(c,function(a,c){0>g.indexOf(g.s3.util.CASE_SENSITIVE_PARAM_NAMES,a)&&(a=a.toLowerCase());e[a]=g.isFunction(c)?c():c});return e}}});f.signature.credentialsProvider={get:function(){return c._currentCredentials},onExpired:function(){var a=new g.Promise,f=c._options.callbacks.onCredentialsExpired();g.isGenericPromise(f)?f.then(function(e){try{c.setCredentials(e),
a.success()}catch(b){c.log("Invalid credentials returned from onCredentialsExpired callback! ("+b.message+")","error"),a.failure("onCredentialsExpired did not return valid credentials.")}},function(e){c.log("onCredentialsExpired callback indicated failure! ("+e+")","error");a.failure("onCredentialsExpired callback failed.")}):(c.log("onCredentialsExpired callback did not return a promise!","error"),a.failure("Unexpected return value for onCredentialsExpired."));return a}};return g.FineUploaderBasic.prototype._createUploadHandler.call(this,
f,"s3")},_determineObjectPropertyValue:function(c,f){var a=this._options.objectProperties[f],h=new g.Promise,e=this;g.isFunction(a)?(a=a(c),g.isGenericPromise(a)?h=a:h.success(a)):g.isString(a)&&h.success(a);h.then(function(a){e["_"+f+"s"][c]=a},function(a){g.log("Problem determining "+f+" for ID "+c+" ("+a+")","error")});return h},_determineBucket:function(c){return this._determineObjectPropertyValue(c,"bucket")},_determineHost:function(c){return this._determineObjectPropertyValue(c,"host")},_determineKeyName:function(c,
f){var a=new g.Promise,h=this._options.objectProperties.key,e=g.getExtension(f),b=a.failure,k=function(b,c){void 0!==c&&(b+="."+c);a.success(b)};switch(h){case "uuid":k(this.getUuid(c),e);break;case "filename":k(f);break;default:g.isFunction(h)?this._handleKeynameFunction(h,c,k,b):(this.log(h+" is not a valid value for the s3.keyname option!","error"),b())}return a},_handleKeynameFunction:function(c,f,a,h){var e=this,b=function(b){a(b)},k=function(a){e.log(g.format("Failed to retrieve key name for {}.  Reason: {}",
f,a||"null"),"error");h(a)};c=c.call(this,f);g.isGenericPromise(c)?c.then(b,k):null==c?k():a(c)},_getEndpointSpecificParams:function(c,f,a){c={key:this.getKey(c),uuid:this.getUuid(c),name:this.getName(c),bucket:this.getBucket(c)};a&&a.getResponseHeader("ETag")?c.etag=a.getResponseHeader("ETag"):f.etag&&(c.etag=f.etag);return c},_onSubmitDelete:function(c,f){var a={key:this.getKey(c),bucket:this.getBucket(c)};return g.FineUploaderBasic.prototype._onSubmitDelete.call(this,c,f,a)},_addCannedFile:function(c){if(null==
c.s3Key)throw new g.Error("Did not find s3Key property in server session response.  This is required!");var f=g.FineUploaderBasic.prototype._addCannedFile.apply(this,arguments);this._cannedKeys[f]=c.s3Key;this._cannedBuckets[f]=c.s3Bucket;return f}})})();window.Uint8ClampedArray||(window.Uint8ClampedArray=function(){});g.s3.RequestSigner=function(c){function f(a,b,c){var f=new g.Promise,h="POST",m=[],n="",q=new Date,y,x,d=function(a){var c,d=[];g.each(a.headers,function(a){m.push(a)});m.sort();g.each(m,
function(b,e){0>g.indexOf(g.s3.util.UNSIGNABLE_REST_HEADER_NAMES,e)?n+=e.toLowerCase()+":"+a.headers[e].trim()+"\n":"Content-MD5"===e?c=a.headers[e]:d.unshift(b)});g.each(d,function(a,b){m.splice(b,1)});y={bucket:a.bucket,contentMd5:c,contentType:a.contentType,date:q,drift:k.signatureSpec.drift,endOfUrl:l,hashedContent:a.hashedContent,headerNames:m,headersStr:n,method:h};x=2===b?r.getStringToSign(y):w.getStringToSign(y);return{date:q,endOfUrl:l,signedHeaders:4===b?w.getSignedHeaders(y.headerNames):
null,toSign:4===b?x.hashed:x,toSignRaw:4===b?x.raw:x}};switch(c.type){case e.REQUEST_TYPE.MULTIPART_ABORT:h="DELETE";var l=g.format("uploadId={}",c.uploadId);break;case e.REQUEST_TYPE.MULTIPART_INITIATE:l="uploads";break;case e.REQUEST_TYPE.MULTIPART_COMPLETE:l=g.format("uploadId={}",c.uploadId);break;case e.REQUEST_TYPE.MULTIPART_UPLOAD:h="PUT",l=g.format("partNumber={}&uploadId={}",c.partNum,c.uploadId)}l=c.key+"?"+l;4===b?w.getEncodedHashedPayload(c.content).then(function(a){c.headers["x-amz-content-sha256"]=
a;c.headers.Host=c.host;c.headers["x-amz-date"]=g.s3.util.getV4PolicyDate(q,k.signatureSpec.drift);c.hashedContent=a;f.success(d(c))},function(a){f.failure(a)}):f.success(d(c));return f}function a(a,b,c,e,f){b.signatureConstructor?(f&&(e=b.signatureConstructor.getHeaders(),e[g.s3.util.SESSION_TOKEN_PARAM_NAME]=f,b.signatureConstructor.withHeaders(e)),b.signatureConstructor.getToSign(a).then(function(a){var e=b.signatureConstructor;a=a.stringToSign;4===k.signatureSpec.version?w.signApiRequest(e,a,
c):r.signApiRequest(e,a,c)},function(a){c.failure(a)})):(f&&g.s3.util.refreshPolicyCredentials(b,f),h(b,c,e,f))}function h(a,b,c,e){4===k.signatureSpec.version?w.signPolicy(a,b,c,e):r.signPolicy(a,b,c,e)}var e=this,b={},k={expectingPolicy:!1,method:"POST",signatureSpec:{drift:0,credentialsProvider:{},endpoint:null,customHeaders:{},version:2},maxConnections:3,endpointStore:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(a,b){}},n=function(a,b,c){var e=a.getHeaders();e.Authorization=
4===k.signatureSpec.version?g.s3.util.V4_ALGORITHM_PARAM_VALUE+" Credential="+k.signatureSpec.credentialsProvider.get().accessKey+"/"+g.s3.util.getCredentialsDate(a.getRequestDate())+"/"+k.signatureSpec.region+"/s3/aws4_request,SignedHeaders="+a.getSignedHeaders()+",Signature="+b:"AWS "+k.signatureSpec.credentialsProvider.get().accessKey+":"+b;c.success(e,a.getEndOfUrl())},r={getStringToSign:function(a){return g.format("{}\n{}\n{}\n\n{}/{}/{}",a.method,a.contentMd5||"",a.contentType||"",a.headersStr||
"\n",a.bucket,a.endOfUrl)},signApiRequest:function(a,b,c){b=g.CryptoJS.enc.Utf8.parse(b);b=g.CryptoJS.HmacSHA1(b,v.get().secretKey);b=g.CryptoJS.enc.Base64.stringify(b);n(a,b,c)},signPolicy:function(a,b,c,e){a=JSON.stringify(a);a=g.CryptoJS.enc.Utf8.parse(a);a=g.CryptoJS.enc.Base64.stringify(a);var f=g.CryptoJS.HmacSHA1(a,v.get().secretKey);f=g.CryptoJS.enc.Base64.stringify(f);b.success({policy:a,signature:f},c,e)}},w={getCanonicalQueryString:function(a){var b=a.indexOf("?"),c="";if(0<=b){var e={};
a=a.substr(b+1).split("&");g.each(a,function(a,b){a=b.split("=");b=a[1];null==b&&(b="");e[encodeURIComponent(a[0])]=encodeURIComponent(b)});var f=Object.keys(e).sort();f.forEach(function(a,b){c+=a+"="+e[a];b<f.length-1&&(c+="&")})}return c},getCanonicalRequest:function(a){return g.format("{}\n{}\n{}\n{}\n{}\n{}",a.method,w.getCanonicalUri(a.endOfUrl),w.getCanonicalQueryString(a.endOfUrl),a.headersStr||"\n",w.getSignedHeaders(a.headerNames),a.hashedContent)},getCanonicalUri:function(a){var b=a,c=a.indexOf("?");
0<c&&(b=a.substr(0,c));return"/"+b},getEncodedHashedPayload:function(a){var b=new g.Promise;if(g.isBlob(a)){var c=new FileReader;c.onloadend=function(a){a.target.readyState===FileReader.DONE&&(a.target.error?b.failure(a.target.error):(a=g.CryptoJS.lib.WordArray.create(a.target.result),b.success(g.CryptoJS.SHA256(a).toString())))};c.readAsArrayBuffer(a)}else b.success(g.CryptoJS.SHA256(a||"").toString());return b},getScope:function(a,b){return g.s3.util.getCredentialsDate(a)+"/"+b+"/s3/aws4_request"},
getStringToSign:function(a){var b=w.getCanonicalRequest(a),c=g.s3.util.getV4PolicyDate(a.date,a.drift),e=g.CryptoJS.SHA256(b).toString();a=w.getScope(a.date,k.signatureSpec.region);return{hashed:g.format("AWS4-HMAC-SHA256\n{}\n{}\n{}",c,a,e),raw:g.format("AWS4-HMAC-SHA256\n{}\n{}\n{}",c,a,b)}},getSignedHeaders:function(a){var b="";a.forEach(function(c,e){b+=c.toLowerCase();e<a.length-1&&(b+=";")});return b},signApiRequest:function(a,b,c){var e=v.get().secretKey,f=/.+\n.+\n(\d+)\/(.+)\/s3\/.+\n(.+)/.exec(b);
e=g.CryptoJS.HmacSHA256(f[1],"AWS4"+e);f=g.CryptoJS.HmacSHA256(f[2],e);f=g.CryptoJS.HmacSHA256("s3",f);f=g.CryptoJS.HmacSHA256("aws4_request",f);n(a,g.CryptoJS.HmacSHA256(b,f),c)},signPolicy:function(a,b,c,e){var f=JSON.stringify(a);f=g.CryptoJS.enc.Utf8.parse(f);f=g.CryptoJS.enc.Base64.stringify(f);var h=v.get().secretKey,k=function(){var b=null;g.each(a.conditions,function(a,c){if(a=c["x-amz-credential"])return b=a,!1});return b}();k=/.+\/(.+)\/(.+)\/s3\/aws4_request/.exec(k);h=g.CryptoJS.HmacSHA256(k[1],
"AWS4"+h);h=g.CryptoJS.HmacSHA256(k[2],h);h=g.CryptoJS.HmacSHA256("s3",h);h=g.CryptoJS.HmacSHA256("aws4_request",h);b.success({policy:f,signature:g.CryptoJS.HmacSHA256(f,h).toString()},c,e)}};g.extend(k,c,!0);var v=k.signatureSpec.credentialsProvider;var A=g.extend(this,new g.AjaxRequester({acceptHeader:"application/json",method:k.method,contentType:"application/json; charset=utf-8",endpointStore:{get:function(){return k.signatureSpec.endpoint}},paramsStore:k.paramsStore,maxConnections:k.maxConnections,
customHeaders:k.signatureSpec.customHeaders,log:k.log,onComplete:function(a,c,e){c=c.responseText;var f=b[a],h=f.promise;f=f.signatureConstructor;delete b[a];if(c)try{var m=g.parseJson(c)}catch(F){k.log("Error attempting to parse signature response: "+F,"error")}if(m&&m.error){e=!0;var q=m.error}else m&&m.invalid?(e=!0,q="Invalid policy document or request headers!"):m?k.expectingPolicy&&!m.policy?(e=!0,q="Response does not include the base64 encoded policy!"):m.signature||(e=!0,q="Response does not include the signature!"):
(e=!0,q="Received an empty or invalid response from the server!");e?(q&&k.log(q,"error"),h.failure(q)):f?n(f,m.signature,h):h.success(m)},cors:k.cors}));g.extend(this,{getSignature:function(c,e){var f=e,h=e.signatureConstructor,m=new g.Promise,n;4===k.signatureSpec.version&&(n={v4:!0});v.get().secretKey&&g.CryptoJS?v.get().expiration.getTime()>Date.now()?a(c,e,m):v.onExpired().then(function(){a(c,e,m,v.get().accessKey,v.get().sessionToken)},function(a){k.log("Attempt to update expired credentials apparently failed! Unable to sign request.  ",
"error");m.failure("Unable to sign request - expired credentials.")}):(k.log("Submitting S3 signature request for "+c),h?h.getToSign(c).then(function(a){f={headers:a.stringToSignRaw};A.initTransport(c).withParams(f).withQueryParams(n).send()},function(a){k.log("Failed to construct signature. ","error");m.failure("Failed to construct signature.")}):A.initTransport(c).withParams(f).withQueryParams(n).send(),b[c]={promise:m,signatureConstructor:h});return m},constructStringToSign:function(a,b,c,e){var h=
{},m,n,q,r,y;return{withHeaders:function(a){h=a;return this},withUploadId:function(a){m=a;return this},withContent:function(a){n=a;return this},withContentType:function(a){q=a;return this},withPartNum:function(a){r=a;return this},getToSign:function(d){var l=v.get().sessionToken,z=new g.Promise,x=new Date(Date.now()+k.signatureSpec.drift);h["x-amz-date"]=x.toUTCString();l&&(h[g.s3.util.SESSION_TOKEN_PARAM_NAME]=l);f(d,k.signatureSpec.version,{bucket:b,content:n,contentType:q,headers:h,host:c,key:e,
partNum:r,type:a,uploadId:m}).then(function(a){y=a;z.success({headers:function(){q&&(h["Content-Type"]=q);delete h.Host;return h}(),date:y.date,endOfUrl:y.endOfUrl,signedHeaders:y.signedHeaders,stringToSign:y.toSign,stringToSignRaw:y.toSignRaw})},function(a){z.failure(a)});return z},getHeaders:function(){return g.extend({},h)},getEndOfUrl:function(){return y&&y.endOfUrl},getRequestDate:function(){return y&&y.date},getSignedHeaders:function(){return y&&y.signedHeaders}}}})};g.s3.RequestSigner.prototype.REQUEST_TYPE=
{MULTIPART_INITIATE:"multipart_initiate",MULTIPART_COMPLETE:"multipart_complete",MULTIPART_ABORT:"multipart_abort",MULTIPART_UPLOAD:"multipart_upload"};g.UploadSuccessAjaxRequester=function(c){var f=[],a={method:"POST",endpoint:null,maxConnections:3,customHeaders:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(a,b){}};g.extend(a,c);var h=g.extend(this,new g.AjaxRequester({acceptHeader:"application/json",method:a.method,endpointStore:{get:function(){return a.endpoint}},paramsStore:a.paramsStore,
maxConnections:a.maxConnections,customHeaders:a.customHeaders,log:a.log,onComplete:function(c,b,h){var e=f[c];b=b.responseText;var k={success:!0},m={success:!1};delete f[c];a.log(g.format("Received the following response body to an upload success request for id {}: {}",c,b));try{var v=g.parseJson(b);h||v&&(v.error||!1===v.success)?(a.log("Upload success request was rejected by the server.","error"),e.failure(g.extend(v,m))):(a.log("Upload success was acknowledged by the server."),e.success(g.extend(v,
k)))}catch(A){h?(a.log(g.format("Your server indicated failure in its upload success request response for id {}!",c),"error"),e.failure(m)):(a.log("Upload success was acknowledged by the server."),e.success(k))}},cors:a.cors}));g.extend(this,{sendSuccessRequest:function(c,b){var e=new g.Promise;a.log("Submitting upload success request/notification for "+c);h.initTransport(c).withParams(b).send();return f[c]=e}})};g.s3.InitiateMultipartAjaxRequester=function(c){function f(a){var b=h.getBucket(a),c=
h.getHost(a),f={},k=new g.Promise,m=h.getKey(a);f["x-amz-acl"]=h.aclStore.get(a);h.reducedRedundancy&&(f[g.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=g.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE);h.serverSideEncryption&&(f[g.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=g.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE);f[g.s3.util.AWS_PARAM_PREFIX+h.filenameParam]=encodeURIComponent(h.getName(a));g.each(h.paramsStore.get(a),function(a,b){0<=g.indexOf(g.s3.util.UNPREFIXED_PARAM_NAMES,a)?f[a]=b:f[g.s3.util.AWS_PARAM_PREFIX+
a]=encodeURIComponent(b)});b=e.constructStringToSign(e.REQUEST_TYPE.MULTIPART_INITIATE,b,c,m).withContentType(h.getContentType(a)).withHeaders(f);e.getSignature(a,{signatureConstructor:b}).then(k.success,k.failure);return k}var a={},h={filenameParam:"qqfilename",method:"POST",endpointStore:null,paramsStore:null,signatureSpec:null,aclStore:null,reducedRedundancy:!1,serverSideEncryption:!1,maxConnections:3,getContentType:function(a){},getBucket:function(a){},getHost:function(a){},getKey:function(a){},
getName:function(a){},log:function(a,b){}};g.extend(h,c);var e=new g.s3.RequestSigner({endpointStore:h.endpointStore,signatureSpec:h.signatureSpec,cors:h.cors,log:h.log});var b=g.extend(this,new g.AjaxRequester({method:h.method,contentType:null,endpointStore:h.endpointStore,maxConnections:h.maxConnections,allowXRequestedWithAndCacheControl:!1,log:h.log,onComplete:function(b,c,e){var f=a[b],k=(new DOMParser).parseFromString(c.responseText,"application/xml"),m;delete a[b];if(e){var n=c.status;e=k.getElementsByTagName("Message");
if(0<e.length)var r=e[0].textContent}else e=k.getElementsByTagName("UploadId"),0<e.length?m=e[0].textContent:r="Upload ID missing from request";void 0===m?(r?h.log(g.format("Specific problem detected initiating multipart upload request for {}: '{}'.",b,r),"error"):h.log(g.format("Unexplained error with initiate multipart upload request for {}.  Status code {}.",b,n),"error"),f.failure("Problem initiating upload request.",c)):(h.log(g.format("Initiate multipart upload request successful for {}.  Upload ID is {}",
b,m)),f.success(m,c))},successfulResponseCodes:{POST:[200]}}));g.extend(this,{send:function(c){var e=new g.Promise;f(c).then(function(f,g){h.log("Submitting S3 initiate multipart upload request for "+c);a[c]=e;b.initTransport(c).withPath(g).withHeaders(f).send()},e.failure);return e}})};g.s3.CompleteMultipartAjaxRequester=function(c){function f(a,c,f){var h=new g.Promise,k=e.getBucket(a),m=e.getHost(a);c=b.constructStringToSign(b.REQUEST_TYPE.MULTIPART_COMPLETE,k,m,e.getKey(a)).withUploadId(c).withContent(f).withContentType("application/xml; charset=UTF-8");
b.getSignature(a,{signatureConstructor:c}).then(h.success,h.failure);return h}function a(a){var b=document.implementation.createDocument(null,"CompleteMultipartUpload",null);a.sort(function(a,b){return a.part-b.part});g.each(a,function(a,c){var e=c.part,f=c.etag;c=b.createElement("Part");a=b.createElement("PartNumber");e=b.createTextNode(e);f=b.createTextNode(f);var h=b.createElement("ETag");h.appendChild(f);a.appendChild(e);c.appendChild(a);c.appendChild(h);g(b).children()[0].appendChild(c)});return(new XMLSerializer).serializeToString(b)}
var h={},e={method:"POST",contentType:"text/xml",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(a){},getHost:function(a){},getKey:function(a){},log:function(a,b){}};g.extend(e,c);var b=new g.s3.RequestSigner({endpointStore:e.endpointStore,signatureSpec:e.signatureSpec,cors:e.cors,log:e.log});var k=g.extend(this,new g.AjaxRequester({method:e.method,contentType:"application/xml; charset=UTF-8",endpointStore:e.endpointStore,maxConnections:e.maxConnections,allowXRequestedWithAndCacheControl:!1,
log:e.log,onComplete:function(a,b,c){var f=h[a],k=new DOMParser,m=e.getBucket(a);e.getKey(a);var n=k.parseFromString(b.responseText,"application/xml");k=n.getElementsByTagName("Bucket");n=n.getElementsByTagName("Key");delete h[a];e.log(g.format("Complete response status {}, body = {}",b.status,b.responseText));c?e.log(g.format("Complete Multipart Upload request for {} failed with status {}.",a,b.status),"error"):k.length&&n.length?k[0].textContent!==m&&(c=!0,e.log(g.format("Wrong bucket in response to Complete Multipart Upload request for {}.",
a),"error")):(c=!0,e.log(g.format("Missing bucket and/or key in response to Complete Multipart Upload request for {}.",a),"error"));c?f.failure("Problem combining the file parts!",b):f.success({},b)},successfulResponseCodes:{POST:[200]}}));g.extend(this,{send:function(b,c,m){var n=new g.Promise,r=a(m);f(b,c,r).then(function(a,c){e.log("Submitting S3 complete multipart upload request for "+b);h[b]=n;delete a["Content-Type"];k.initTransport(b).withPath(c).withHeaders(a).withPayload(r).send()},n.failure);
return n}})};g.s3.AbortMultipartAjaxRequester=function(c){function f(b,c){var e=new g.Promise,f=a.getBucket(b),k=a.getHost(b);c=h.constructStringToSign(h.REQUEST_TYPE.MULTIPART_ABORT,f,k,a.getKey(b)).withUploadId(c);h.getSignature(b,{signatureConstructor:c}).then(e.success,e.failure);return e}var a={method:"DELETE",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(a){},getHost:function(a){},getKey:function(a){},log:function(a,c){}};g.extend(a,c);var h=new g.s3.RequestSigner({endpointStore:a.endpointStore,
signatureSpec:a.signatureSpec,cors:a.cors,log:a.log});var e=g.extend(this,new g.AjaxRequester({validMethods:["DELETE"],method:a.method,contentType:null,endpointStore:a.endpointStore,maxConnections:a.maxConnections,allowXRequestedWithAndCacheControl:!1,log:a.log,onComplete:function(b,c,e){var f=(new DOMParser).parseFromString(c.responseText,"application/xml"),h=f.getElementsByTagName("Error");a.log(g.format("Abort response status {}, body = {}",c.status,c.responseText));e?a.log(g.format("Abort Multipart Upload request for {} failed with status {}.",
b,c.status),"error"):h.length?(c=f.getElementsByTagName("Message")[0].textContent,a.log(g.format("Failed to Abort Multipart Upload request for {}.  Error: {}",b,c),"error")):a.log(g.format("Abort MPU request succeeded for file ID {}.",b))},successfulResponseCodes:{DELETE:[204]}}));g.extend(this,{send:function(b,c){f(b,c).then(function(c,f){a.log("Submitting S3 Abort multipart upload request for "+b);e.initTransport(b).withPath(f).withHeaders(c).send()})}})};g.s3.XhrUploadHandler=function(c,f){var a=
f.getName,h=f.log,e=c.clockDrift,b=c.getBucket,k=c.getHost,n=c.getKeyName,r=c.filenameParam,w=c.paramsStore,v=c.endpointStore,A=c.aclStore,y=c.objectProperties.reducedRedundancy,x=c.objectProperties.region,q=c.objectProperties.serverSideEncryption,B=c.validation,C=g.extend({region:x,drift:e},c.signature),E=this,I=c.signature.credentialsProvider,F={combine:function(a){var b=E._getPersistableData(a).uploadId,c=E._getPersistableData(a).etags,e=new g.Promise;J.completeMultipart.send(a,b,c).then(e.success,
function(b,c){e.failure(d.done(a,c).response,c)});return e},done:function(a,b,c){d.response.parse(a,b).success&&(b=b.getResponseHeader("ETag"),E._getPersistableData(a).etags||(E._getPersistableData(a).etags=[]),E._getPersistableData(a).etags.push({part:c+1,etag:b}))},initHeaders:function(a,b,c){var e=d.bucket.getName(a),f=d.host.getName(a),h=d.key.urlSafe(a),k=new g.Promise;c=J.restSignature.constructStringToSign(J.restSignature.REQUEST_TYPE.MULTIPART_UPLOAD,e,f,h).withPartNum(b+1).withContent(c).withUploadId(E._getPersistableData(a).uploadId);
J.restSignature.getSignature(a+"."+b,{signatureConstructor:c}).then(k.success,k.failure);return k},put:function(a,b){var e=E._createXhr(a,b),f=E._getChunkData(a,b),k=c.endpointStore.get(a),l=new g.Promise;F.initHeaders(a,b,f.blob).then(function(c,m){if(e._cancelled)h(g.format("Upload of item {}.{} cancelled. Upload will not start after successful signature request.",a,b)),l.failure({error:"Chunk upload cancelled"});else{m=k+"/"+m;E._registerProgressHandler(a,b,f.size);d.track(a,e,b).then(l.success,
l.failure);e.open("PUT",m,!0);var n=!1;g.each(c,function(a,b){"Content-Type"===a&&(n=!0);e.setRequestHeader(a,b)});n||e.setRequestHeader("Content-Type","");e.send(f.blob)}},function(){l.failure({error:"Problem signing the chunk!"},e)});return l},send:function(a,b){var c=new g.Promise;F.setup(a).then(function(){F.put(a,b).then(c.success,c.failure)},function(a,b){c.failure({error:a},b)});return c},setup:function(a){var b=new g.Promise,c=E._getPersistableData(a).uploadId,d=new g.Promise;c?c instanceof
g.Promise?c.then(function(a){b.success(a)}):b.success(c):(E._getPersistableData(a).uploadId=d,J.initiateMultipart.send(a).then(function(c){E._getPersistableData(a).uploadId=c;d.success(c);b.success(c)},function(c,e){E._getPersistableData(a).uploadId=null;b.failure(c,e);d.failure(c,e)}));return b}},J={abortMultipart:new g.s3.AbortMultipartAjaxRequester({endpointStore:v,signatureSpec:C,cors:c.cors,log:h,getBucket:function(a){return d.bucket.getName(a)},getHost:function(a){return d.host.getName(a)},
getKey:function(a){return d.key.urlSafe(a)}}),completeMultipart:new g.s3.CompleteMultipartAjaxRequester({endpointStore:v,signatureSpec:C,cors:c.cors,log:h,getBucket:function(a){return d.bucket.getName(a)},getHost:function(a){return d.host.getName(a)},getKey:function(a){return d.key.urlSafe(a)}}),initiateMultipart:new g.s3.InitiateMultipartAjaxRequester({filenameParam:r,endpointStore:v,paramsStore:w,signatureSpec:C,aclStore:A,reducedRedundancy:y,serverSideEncryption:q,cors:c.cors,log:h,getContentType:function(a){return E._getMimeType(a)},
getBucket:function(a){return d.bucket.getName(a)},getHost:function(a){return d.host.getName(a)},getKey:function(a){return d.key.urlSafe(a)},getName:function(b){return a(b)}}),policySignature:new g.s3.RequestSigner({expectingPolicy:!0,signatureSpec:C,cors:c.cors,log:h}),restSignature:new g.s3.RequestSigner({endpointStore:v,signatureSpec:C,cors:c.cors,log:h})},L={initParams:function(b){var c=w.get(b);c[r]=a(b);return g.s3.util.generateAwsParams({endpoint:v.get(b),clockDrift:e,params:c,type:E._getMimeType(b),
bucket:d.bucket.getName(b),key:E.getThirdPartyFileId(b),accessKey:I.get().accessKey,sessionToken:I.get().sessionToken,acl:A.get(b),expectedStatus:200,minFileSize:B.minSizeLimit,maxFileSize:B.maxSizeLimit,reducedRedundancy:y,region:x,serverSideEncryption:q,signatureVersion:C.version,log:h},g.bind(J.policySignature.getSignature,this,b))},send:function(a){var b=new g.Promise,c=E._createXhr(a),e=E.getFile(a);E._registerProgressHandler(a);d.track(a,c).then(b.success,b.failure);L.setup(a,c,e).then(function(b){h("Sending upload request for "+
a);c.send(b)},b.failure);return b},setup:function(a,b,c){var d=new FormData,e=v.get(a),f=new g.Promise;L.initParams(a).then(function(a){b.open("POST",e,!0);g.obj2FormData(a,d);d.append("file",c);f.success(d)},function(a){f.failure({error:a})});return f}},d={bucket:{promise:function(a){var c=new g.Promise,d=E._getFileState(a).bucket;d?c.success(d):b(a).then(function(b){E._getFileState(a).bucket=b;c.success(b)},c.failure);return c},getName:function(a){return E._getFileState(a).bucket}},host:{promise:function(a){var b=
new g.Promise,c=E._getFileState(a).host;c?b.success(c):k(a).then(function(c){E._getFileState(a).host=c;b.success(c)},b.failure);return b},getName:function(a){return E._getFileState(a).host}},done:function(a,b){a=d.response.parse(a,b);(b=!0!==a.success)&&d.response.shouldReset(a.code)&&(h("This is an unrecoverable error, we must restart the upload entirely on the next retry attempt.","error"),a.reset=!0);return{success:!b,response:a}},key:{promise:function(b){var c=new g.Promise,d=E.getThirdPartyFileId(b);
null==d?(E._setThirdPartyFileId(b,c),n(b,a(b)).then(function(a){E._setThirdPartyFileId(b,a);c.success(a)},function(a){E._setThirdPartyFileId(b,null);c.failure(a)})):g.isGenericPromise(d)?d.then(c.success,c.failure):c.success(d);return c},urlSafe:function(a){a=E.getThirdPartyFileId(a);return g.s3.util.uriEscapePath(a)}},response:{parse:function(a,b){a={};var c;try{if(h(g.format("Received response status {} with body: {}",b.status,b.responseText)),200===b.status)a.success=!0;else if(c=d.response.parseError(b.responseText))a.error=
c.message,a.code=c.code}catch(K){h("Error when attempting to parse xhr response text ("+K.message+")","error")}return a},parseError:function(a){var b=(new DOMParser).parseFromString(a,"application/xml");a={};if(b.getElementsByTagName("Error").length){var c=b.getElementsByTagName("Code");b=b.getElementsByTagName("Message");b.length&&(a.message=b[0].textContent);c.length&&(a.code=c[0].textContent);return a}},shouldReset:function(a){return"EntityTooSmall"===a||"InvalidPart"===a||"InvalidPartOrder"===
a||"NoSuchUpload"===a}},start:function(a,b){var c=new g.Promise;d.key.promise(a).then(function(){d.bucket.promise(a).then(function(){d.host.promise(a).then(function(){null==b?L.send(a).then(c.success,c.failure):F.send(a,b).then(c.success,c.failure)})})},function(a){c.failure({error:a})});return c},track:function(a,b,c){var e=new g.Promise;b.onreadystatechange=function(){if(4===b.readyState){null!=c&&F.done(a,b,c);var f=d.done(a,b);e[f.success?"success":"failure"](f.response,b)}};return e}};g.extend(this,
{uploadChunk:d.start,uploadFile:d.start});g.extend(this,new g.XhrUploadHandler({options:g.extend({namespace:"s3"},c),proxy:g.extend({getEndpoint:c.endpointStore.get},f)}));g.override(this,function(a){return{expunge:function(b){var c=E._getPersistableData(b)&&E._getPersistableData(b).uploadId,d=E._maybeDeletePersistedChunkData(b);void 0!==c&&d&&J.abortMultipart.send(b,c);a.expunge(b)},finalizeChunks:function(a){return F.combine(a)},_getLocalStorageId:function(b){var c=a._getLocalStorageId(b);b=d.bucket.getName(b);
return c+"-"+b}}})};g.s3.FormUploadHandler=function(c,f){function a(a){var c=q.get(a);c[x]=r(a);return g.s3.util.generateAwsParams({endpoint:B.get(a),clockDrift:k,params:c,bucket:b._getFileState(a).bucket,key:b.getThirdPartyFileId(a),accessKey:l.get().accessKey,sessionToken:l.get().sessionToken,acl:C.get(a),minFileSize:J.minSizeLimit,maxFileSize:J.maxSizeLimit,successRedirectUrl:d,reducedRedundancy:E,region:I,serverSideEncryption:F,signatureVersion:L.version,log:v},g.bind(z.getSignature,this,a))}
function h(d,e){var f=new g.Promise,h=c.endpointStore.get(d);r(d);a(d).then(function(a){a=b._initFormForUpload({method:"POST",endpoint:h,params:a,paramsInBody:!0,targetName:e.name});f.success(a)},function(a){f.failure(a);b._detachLoadEvent(d);e&&g(e).remove()});return f}function e(a){var d=b._createIframe(a),e=b.getInput(a),f=new g.Promise;h(a,d).then(function(h){h.appendChild(e);b._attachLoadEvent(d,function(e){v("iframe loaded");if(e)!1===e.success&&(v("Amazon likely rejected the upload request",
"error"),f.failure(e));else{var h=e={};a:{c.endpointStore.get(a);var k=b._getFileState(a).bucket;try{var l=g.s3.util.parseIframeResponse(d);if(l.bucket===k&&l.key===g.s3.util.encodeQueryStringParam(b.getThirdPartyFileId(a))){var m=!0;break a}v("Response from AWS included an unexpected bucket or key name.","error")}catch(fa){v("Error when attempting to parse form upload response ("+fa.message+")","error")}m=!1}h.success=m;!1===e.success?(v("A success response was received by Amazon, but it was invalid in some way.",
"error"),f.failure(e)):(g.extend(e,g.s3.util.parseIframeResponse(d)),f.success(e))}b._detachLoadEvent(a);d&&g(d).remove()});v("Sending upload request for "+a);h.submit();g(h).remove()},f.failure);return f}var b=this,k=c.clockDrift,n=f.onUuidChanged,r=f.getName,w=f.getUuid,v=f.log,A=c.getBucket,y=c.getKeyName,x=c.filenameParam,q=c.paramsStore,B=c.endpointStore,C=c.aclStore,E=c.objectProperties.reducedRedundancy,I=c.objectProperties.region,F=c.objectProperties.serverSideEncryption,J=c.validation,L=
c.signature,d=c.iframeSupport.localBlankPagePath,l=c.signature.credentialsProvider,z=new g.s3.RequestSigner({signatureSpec:L,cors:c.cors,log:v});if(void 0===d)throw Error("successRedirectEndpoint MUST be defined if you intend to use browsers that do not support the File API!");g.extend(this,new g.FormUploadHandler({options:{isCors:!1,inputName:"file"},proxy:{onCancel:c.onCancel,onUuidChanged:n,getName:r,getUuid:w,log:v}}));g.extend(this,{uploadFile:function(a){var c=r(a),d=new g.Promise;b.getThirdPartyFileId(a)?
b._getFileState(a).bucket?e(a).then(d.success,d.failure):A(a).then(function(c){b._getFileState(a).bucket=c;e(a).then(d.success,d.failure)}):y(a,c).then(function(c){A(a).then(function(f){b._getFileState(a).bucket=f;b._setThirdPartyFileId(a,c);e(a).then(d.success,d.failure)},function(a){d.failure({error:a})})},function(a){d.failure({error:a})});return d}})};g.DragAndDrop=function(c){function f(b){var c=new g.Promise;b.isFile?b.file(function(a){var e=b.fullPath,f=e.indexOf(b.name);e=e.substr(0,f);"/"===
e.charAt(0)&&(e=e.substr(1));a.qqPath=e;n.push(a);c.success()},function(a){w.callbacks.dropLog("Problem parsing '"+b.fullPath+"'.  FileError code "+a.code+".","error");c.failure()}):b.isDirectory&&a(b).then(function(a){var b=a.length;g.each(a,function(a,e){f(e).done(function(){--b;0===b&&c.success()})});a.length||c.success()},function(a){w.callbacks.dropLog("Problem parsing '"+b.fullPath+"'.  FileError code "+a.code+".","error");c.failure()});return c}function a(b,c,e,f){var h=f||new g.Promise,k=
c||b.createReader();k.readEntries(function(c){var f=e?e.concat(c):c;c.length?setTimeout(function(){a(b,k,f,h)},0):h.success(f)},h.failure);return h}function h(a,b){var c=[],e=new g.Promise;w.callbacks.processingDroppedFiles();b.dropDisabled(!0);1<a.files.length&&!w.allowMultipleItems?(w.callbacks.processingDroppedFilesComplete([]),w.callbacks.dropError("tooManyFilesError",""),b.dropDisabled(!1),e.failure()):(n=[],g.isFolderDropSupported(a)?g.each(a.items,function(a,b){(a=b.webkitGetAsEntry())&&(a.isFile?
n.push(b.getAsFile()):c.push(f(a).done(function(){c.pop();0===c.length&&e.success()})))}):n=a.files,0===c.length&&e.success());return e}function e(a){var b=new g.UploadDropZone({HIDE_ZONES_EVENT_NAME:"qq-hidezones",element:a,onEnter:function(b){g(a).addClass(w.classes.dropActive);b.stopPropagation()},onLeaveNotDescendants:function(b){g(a).removeClass(w.classes.dropActive)},onDrop:function(a){h(a.dataTransfer,b).then(function(){var a=n,c=b,e=Array.prototype.slice.call(a);w.callbacks.dropLog("Grabbed "+
a.length+" dropped files.");c.dropDisabled(!1);w.callbacks.processingDroppedFilesComplete(e,c.getElement())},function(){w.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.","error")})}});r.addDisposer(function(){b.dispose()});g(a).hasAttribute("qq-hide-dropzone")&&g(a).hide();k.push(b);return b}function b(a){var b;g.each(a.dataTransfer.types,function(a,c){if("Files"===c)return b=!0,!1});return b}var k=[],n=[],r=new g.DisposeSupport;var w={dropZoneElements:[],allowMultipleItems:!0,
classes:{dropActive:null},callbacks:new g.DragAndDrop.callbacks};g.extend(w,c,!0);(function(){var a=w.dropZoneElements,c=function(){setTimeout(function(){g.each(a,function(a,b){g(b).hasAttribute("qq-hide-dropzone")&&g(b).hide();g(b).removeClass(w.classes.dropActive)})},10)};g.each(a,function(c,f){var h=e(f);a.length&&g.supportedFeatures.fileDrop&&r.attach(document,"dragenter",function(c){!h.dropDisabled()&&b(c)&&g.each(a,function(a,b){b instanceof HTMLElement&&g(b).hasAttribute("qq-hide-dropzone")&&
g(b).css({display:"block"})})})});r.attach(document,"dragleave",function(a){a=g.safari()?0>a.x||0>a.y:0===a.x&&0===a.y;a&&c()});r.attach(g(document).children()[0],"mouseenter",function(a){c()});r.attach(document,"drop",function(a){b(a)&&(a.preventDefault(),c());a.preventDefault&&a.preventDefault()});r.attach(document,"qq-hidezones",c)})();g.extend(this,{setupExtraDropzone:function(a){w.dropZoneElements.push(a);e(a)},removeDropzone:function(a){var b,c=w.dropZoneElements;for(b in c)if(c[b]===a)return c.splice(b,
1)},dispose:function(){r.dispose();g.each(k,function(a,b){b.dispose()})}})};g.DragAndDrop.callbacks=function(){return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(c,f){},dropError:function(c,f){g.log("Drag & drop error code '"+c+" with these specifics: '"+f+"'","error")},dropLog:function(c,f){g.log(c,f)}}};g.UploadDropZone=function(c){function f(){return g.safari()||g.firefox()&&g.windows()}function a(a){if(!g.supportedFeatures.fileDrop)return!1;var b=a.dataTransfer,
c=g.safari();a=g.ie()&&g.supportedFeatures.fileDrop?!0:"none"!==b.effectAllowed;return b&&a&&(b.files&&b.files.length||!c&&b.types.contains&&b.types.contains("Files")||b.types.includes&&b.types.includes("Files"))}function h(a){void 0!==a&&(k=a);return k}function e(){function a(){b=document.createEvent("Event");b.initEvent(r.HIDE_ZONES_EVENT_NAME,!0,!0)}if(window.CustomEvent)try{var b=new CustomEvent(r.HIDE_ZONES_EVENT_NAME)}catch(y){a()}else a();document.dispatchEvent(b)}var b=new g.DisposeSupport,
k,n;var r={element:null,onEnter:function(a){},onLeave:function(a){},onLeaveNotDescendants:function(a){},onDrop:function(a){}};g.extend(r,c);var w=r.element;(function(a){n||(f?b.attach(document,"dragover",function(a){a.preventDefault()}):b.attach(document,"dragover",function(a){a.dataTransfer&&(a.dataTransfer.dropEffect="none",a.preventDefault())}),n=!0)})();(function(){b.attach(w,"dragover",function(b){if(a(b)){var c=g.ie()&&g.supportedFeatures.fileDrop?null:b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect=
"move"===c||"linkMove"===c?"move":"copy";b.stopPropagation();b.preventDefault()}});b.attach(w,"dragenter",function(b){virtualclass.vutil.initAcitveElement();console.log("testdragenter");if(!h()&&a(b))r.onEnter(b)});b.attach(w,"dragleave",function(b){console.log("testdragleave");if(a(b)){r.onLeave(b);var c=document.elementFromPoint(b.clientX,b.clientY);if(!g(this).contains(c))r.onLeaveNotDescendants(b)}});b.attach(w,"drop",function(b){!h()&&a(b)&&(b.preventDefault(),b.stopPropagation(),r.onDrop(b),
e(),console.log("testdrop"),virtualclass.vutil.initAcitveElement())})})();g.extend(this,{dropDisabled:function(a){return h(a)},dispose:function(){b.dispose()},getElement:function(){return w}});this._testing={};this._testing.isValidFileDrag=a};(function(){g.uiPublicApi={addInitialFiles:function(c){this._parent.prototype.addInitialFiles.apply(this,arguments);this._templating.addCacheToDom()},clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments);this._templating.clearFiles()},
addExtraDropzone:function(c){this._dnd&&this._dnd.setupExtraDropzone(c)},removeExtraDropzone:function(c){if(this._dnd)return this._dnd.removeDropzone(c)},getItemByFileId:function(c){if(!this._templating.isHiddenForever(c))return this._templating.getFileContainer(c)},reset:function(){this._parent.prototype.reset.apply(this,arguments);this._templating.reset();!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId());
this._dnd&&(this._dnd.dispose(),this._dnd=this._setupDragAndDrop());this._filesInBatchAddedToUi=this._totalFilesInBatch=0;this._setupClickAndEditEventHandlers()},setName:function(c,f){var a=this._options.formatFileName(f);this._parent.prototype.setName.apply(this,arguments);this._templating.updateFilename(c,a)},pauseUpload:function(c){var f=this._parent.prototype.pauseUpload.apply(this,arguments);f&&this._templating.uploadPaused(c);return f},continueUpload:function(c){var f=this._parent.prototype.continueUpload.apply(this,
arguments);f&&this._templating.uploadContinued(c);return f},getId:function(c){return this._templating.getFileId(c)},getDropTarget:function(c){return this.getFile(c).qqDropTarget}};g.uiPrivateApi={_getButton:function(c){var f=this._parent.prototype._getButton.apply(this,arguments);f||c===this._defaultButtonId&&(f=this._templating.getButton());return f},_removeFileItem:function(c){this._templating.removeFile(c)},_setupClickAndEditEventHandlers:function(){this._fileButtonsClickHandler=g.FileButtonsClickHandler&&
this._bindFileButtonsClickEvent();this._focusinEventSupported=!g.firefox();this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var c=this,f=this._options.dragAndDrop.extraDropzones,a=this._templating,h=a.getDropZone();h&&f.push(h);return new g.DragAndDrop({dropZoneElements:f,allowMultipleItems:this._options.multiple,
classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){a.showDropProcessing()},processingDroppedFilesComplete:function(e,b){a.hideDropProcessing();g.each(e,function(a,c){c.qqDropTarget=b});e.length&&c.addFiles(e,null,null)},dropError:function(a,b){c._itemError(a,b)},dropLog:function(a,b){c.log(a,b)}}})},_bindFileButtonsClickEvent:function(){var c=this;return new g.FileButtonsClickHandler({templating:this._templating,log:function(f,a){c.log(f,a)},onDeleteFile:function(f){c.deleteFile(f)},
onCancel:function(f){c.cancel(f)},onRetry:function(f){c.retry(f)},onPause:function(f){c.pauseUpload(f)},onContinue:function(f){c.continueUpload(f)},onGetName:function(f){return c.getName(f)}})},_isEditFilenameEnabled:function(){return this._templating.isEditFilenamePossible()&&!this._options.autoUpload&&g.FilenameClickHandler&&g.FilenameInputFocusHandler&&g.FilenameInputFocusHandler},_filenameEditHandler:function(){var c=this,f=this._templating;return{templating:f,log:function(a,f){c.log(a,f)},onGetUploadStatus:function(a){return c.getUploads({id:a}).status},
onGetName:function(a){return c.getName(a)},onSetName:function(a,f){c.setName(a,f)},onEditingStatusChange:function(a,c){var e=g(f.getEditInput(a)),b=g(f.getFileContainer(a));c?(e.addClass("qq-editing"),f.hideFilename(a),f.hideEditIcon(a)):(e.removeClass("qq-editing"),f.showFilename(a),f.showEditIcon(a));b.addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(c,f,a){this._parent.prototype._onUploadStatusChange.apply(this,arguments);this._isEditFilenameEnabled()&&this._templating.getFileContainer(c)&&
a!==g.status.SUBMITTED&&(this._templating.markFilenameEditable(c),this._templating.hideEditIcon(c));f===g.status.UPLOAD_RETRYING&&a===g.status.UPLOADING?(this._templating.hideRetry(c),this._templating.setStatusText(c),g(this._templating.getFileContainer(c)).removeClass(this._classes.retrying)):a===g.status.UPLOAD_FAILED&&this._templating.hidePause(c)},_bindFilenameInputFocusInEvent:function(){var c=g.extend({},this._filenameEditHandler());return new g.FilenameInputFocusInHandler(c)},_bindFilenameInputFocusEvent:function(){var c=
g.extend({},this._filenameEditHandler());return new g.FilenameInputFocusHandler(c)},_bindFilenameClickEvent:function(){var c=g.extend({},this._filenameEditHandler());return new g.FilenameClickHandler(c)},_storeForLater:function(c){this._parent.prototype._storeForLater.apply(this,arguments);this._templating.hideSpinner(c)},_onAllComplete:function(c,f){this._parent.prototype._onAllComplete.apply(this,arguments);this._templating.resetTotalProgress()},_onSubmit:function(c,f){var a=this.getFile(c);a&&
a.qqPath&&this._options.dragAndDrop.reportDirectoryPaths&&this._paramsStore.addReadOnly(c,{qqpath:a.qqPath});this._parent.prototype._onSubmit.apply(this,arguments);this._addToList(c,f)},_onSubmitted:function(c){this._isEditFilenameEnabled()&&(this._templating.markFilenameEditable(c),this._templating.showEditIcon(c),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(c)))},_onProgress:function(c,f,a,g){this._parent.prototype._onProgress.apply(this,
arguments);this._templating.updateProgress(c,a,g);0===g||100===Math.round(a/g*100)?(this._templating.hideCancel(c),this._templating.hidePause(c),this._templating.hideProgress(c),this._templating.setStatusText(c,this._options.text.waitingForResponse),this._displayFileSize(c)):this._displayFileSize(c,a,g)},_onTotalProgress:function(c,f){this._parent.prototype._onTotalProgress.apply(this,arguments);this._templating.updateTotalProgress(c,f)},_onComplete:function(c,f,a,h){function e(a){n&&(k.setStatusText(c),
g(n).removeClass(r._classes.retrying),k.hideProgress(c),r.getUploads({id:c}).status!==g.status.UPLOAD_FAILED&&k.hideCancel(c),k.hideSpinner(c),a.success?r._markFileAsSuccessful(c):(g(n).addClass(r._classes.fail),k.showCancel(c),k.isRetryPossible()&&!r._preventRetries[c]&&(g(n).addClass(r._classes.retryable),k.showRetry(c)),r._controlFailureTextDisplay(c,a)))}var b=this._parent.prototype._onComplete.apply(this,arguments),k=this._templating,n=k.getFileContainer(c),r=this;b instanceof g.Promise?b.done(function(a){e(a)}):
e(a);return b},_markFileAsSuccessful:function(c){var f=this._templating;this._isDeletePossible()&&f.showDeleteButton(c);g(f.getFileContainer(c)).addClass(this._classes.success);this._maybeUpdateThumbnail(c)},_onUploadPrep:function(c){this._parent.prototype._onUploadPrep.apply(this,arguments);this._templating.showSpinner(c)},_onUpload:function(c,f){var a=this._parent.prototype._onUpload.apply(this,arguments);this._templating.showSpinner(c);return a},_onUploadChunk:function(c,f){this._parent.prototype._onUploadChunk.apply(this,
arguments);0<f.partIndex&&this._handler.isResumable(c)&&this._templating.allowPause(c)},_onCancel:function(c,f){this._parent.prototype._onCancel.apply(this,arguments);this._removeFileItem(c);0===this._getNotFinished()&&this._templating.resetTotalProgress()},_onBeforeAutoRetry:function(c){this._parent.prototype._onBeforeAutoRetry.apply(this,arguments);this._showCancelLink(c);if(this._options.retry.showAutoRetryNote){var f=this._autoRetries[c];var a=this._options.retry.maxAutoAttempts;f=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,
f);f=f.replace(/\{maxAuto\}/g,a);this._templating.setStatusText(c,f);g(this._templating.getFileContainer(c)).addClass(this._classes.retrying)}},_onBeforeManualRetry:function(c){if(this._parent.prototype._onBeforeManualRetry.apply(this,arguments))return this._templating.resetProgress(c),g(this._templating.getFileContainer(c)).removeClass(this._classes.fail),this._templating.setStatusText(c),this._templating.showSpinner(c),this._showCancelLink(c),!0;g(this._templating.getFileContainer(c)).addClass(this._classes.retryable);
this._templating.showRetry(c);return!1},_onSubmitDelete:function(c){var f=g.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,c,f)},_onSubmitDeleteSuccess:function(c,f,a){this._options.deleteFile.forceConfirm?this._showDeleteConfirm.apply(this,arguments):this._sendDeleteRequest.apply(this,arguments)},_onDeleteComplete:function(c,f,a){this._parent.prototype._onDeleteComplete.apply(this,arguments);this._templating.hideSpinner(c);a?(this._templating.setStatusText(c,
this._options.deleteFile.deletingFailedText),this._templating.showDeleteButton(c)):this._removeFileItem(c)},_sendDeleteRequest:function(c,f,a){this._templating.hideDeleteButton(c);this._templating.showSpinner(c);this._templating.setStatusText(c,this._options.deleteFile.deletingStatusText);this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(c,f,a){var h=this.getName(c);h=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,h);f=this.getUuid(c);var e=arguments,
b=this;h=this._options.showConfirm(h);g.isGenericPromise(h)?h.then(function(){b._sendDeleteRequest.apply(b,e)}):!1!==h&&b._sendDeleteRequest.apply(b,e)},_addToList:function(c,f,a){var h=0,e=this._handler.isProxied(c)&&this._options.scaling.hideScaled;if(this._options.display.prependFiles){1<this._totalFilesInBatch&&0<this._filesInBatchAddedToUi&&(h=this._filesInBatchAddedToUi-1);var b={index:h}}a||(this._options.disableCancelForFormUploads&&!g.supportedFeatures.ajaxUploading&&this._templating.disableCancel(),
this._options.multiple||(h=this.getUploads({id:c}),this._handledProxyGroup=this._handledProxyGroup||h.proxyGroupId,h.proxyGroupId===this._handledProxyGroup&&h.proxyGroupId||(this._handler.cancelAll(),this._clearList(),this._handledProxyGroup=null)));a?(this._templating.addFileToCache(c,this._options.formatFileName(f),b,e),this._templating.updateThumbnail(c,this._thumbnailUrls[c],!0,this._options.thumbnails.customResizer)):(this._templating.addFile(c,this._options.formatFileName(f),b,e),this._templating.generatePreview(c,
this.getFile(c),this._options.thumbnails.customResizer));this._filesInBatchAddedToUi+=1;(a||this._options.display.fileSizeOnSubmit&&g.supportedFeatures.ajaxUploading)&&this._displayFileSize(c)},_clearList:function(){this._templating.clearFiles();this.clearStoredFiles()},_displayFileSize:function(c,f,a){var g=this.getSize(c),e=this._formatSize(g);0<=g&&(void 0!==f&&void 0!==a&&(e=this._formatProgress(f,a)),this._templating.updateSize(c,e))},_formatProgress:function(c,f){var a=this._options.text.formatProgress;
a=a.replace("{percent}",Math.round(c/f*100));c=this._formatSize(f);return a=a.replace("{total_size}",c)},_controlFailureTextDisplay:function(c,f){var a=this._options.failedUploadTextDisplay.mode;var g=this._options.failedUploadTextDisplay.responseProperty;"custom"===a?(f=f[g],f||(f=this._options.text.failUpload),this._templating.setStatusText(c,f),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(c,f)):"default"===a?this._templating.setStatusText(c,this._options.text.failUpload):
"none"!==a&&this.log("failedUploadTextDisplay.mode value of '"+a+"' is not valid","warn")},_showTooltip:function(c,f){this._templating.getFileContainer(c).title=f},_showCancelLink:function(c){this._options.disableCancelForFormUploads&&!g.supportedFeatures.ajaxUploading||this._templating.showCancel(c)},_itemError:function(c,f,a){var g=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(g)},_batchError:function(c){this._parent.prototype._batchError.apply(this,arguments);
this._options.showMessage(c)},_setupPastePrompt:function(){var c=this;this._options.callbacks.onPasteReceived=function(){return c._options.showPrompt(c._options.paste.namePromptMessage,c._options.paste.defaultName)}},_fileOrBlobRejected:function(c,f){--this._totalFilesInBatch;this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(c,f,a){this._totalFilesInBatch=c.length;this._filesInBatchAddedToUi=0;this._parent.prototype._prepareItemsForUpload.apply(this,
arguments)},_maybeUpdateThumbnail:function(c){var f=this._thumbnailUrls[c];this.getUploads({id:c}).status===g.status.DELETED||!f&&!this._options.thumbnails.placeholders.waitUntilResponse&&g.supportedFeatures.imagePreviews||this._templating.updateThumbnail(c,f,this._options.thumbnails.customResizer)},_addCannedFile:function(c){var f=this._parent.prototype._addCannedFile.apply(this,arguments);this._addToList(f,this.getName(f),!0);this._templating.hideSpinner(f);this._templating.hideCancel(f);this._markFileAsSuccessful(f);
return f},_setSize:function(c,f){this._parent.prototype._setSize.apply(this,arguments);this._templating.updateSize(c,this._formatSize(f))},_sessionRequestComplete:function(){this._templating.addCacheToDom();this._parent.prototype._sessionRequestComplete.apply(this,arguments)}}})();g.FineUploader=function(c,f){var a=this;this._parent=f?g[f].FineUploaderBasic:g.FineUploaderBasic;this._parent.apply(this,arguments);g.extend(this._options,{element:null,button:null,listElement:null,dragAndDrop:{extraDropzones:[],
reportDirectoryPaths:!1},text:{formatProgress:"{percent}% of {total_size}",failUpload:"Upload failed",waitingForResponse:"Processing...",paused:"Paused"},template:"qq-template",classes:{retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",success:"qq-upload-success",fail:"qq-upload-fail",editable:"qq-editable",hide:"qq-hide",dropActive:"qq-upload-drop-area-active"},failedUploadTextDisplay:{mode:"default",responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",
unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}..."},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},thumbnails:{customResizer:null,maxCount:0,placeholders:{waitUntilResponse:!1,
notAvailablePath:null,waitingPath:null},timeBetweenThumbs:750},scaling:{hideScaled:!1},showMessage:function(c){if(a._templating.hasDialog("alert"))return a._templating.showDialog("alert",c);setTimeout(function(){window.alert(c)},0)},showConfirm:function(c){return a._templating.hasDialog("confirm")?a._templating.showDialog("confirm",c):window.confirm(c)},showPrompt:function(c,e){return a._templating.hasDialog("prompt")?a._templating.showDialog("prompt",c,e):window.prompt(c,e)}},!0);g.extend(this._options,
c,!0);this._templating=new g.Templating({log:g.bind(this.log,this),templateIdOrEl:this._options.template,containerEl:this._options.element,fileContainerEl:this._options.listElement,button:this._options.button,imageGenerator:this._imageGenerator,classes:{hide:this._options.classes.hide,editable:this._options.classes.editable},limits:{maxThumbs:this._options.thumbnails.maxCount,timeBetweenThumbs:this._options.thumbnails.timeBetweenThumbs},placeholders:{waitUntilUpdate:this._options.thumbnails.placeholders.waitUntilResponse,
thumbnailNotAvailable:this._options.thumbnails.placeholders.notAvailablePath,waitingForThumbnail:this._options.thumbnails.placeholders.waitingPath},text:this._options.text});this._options.workarounds.ios8SafariUploads&&g.ios800()&&g.iosSafari()?this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari):!g.supportedFeatures.uploading||this._options.cors.expected&&!g.supportedFeatures.uploadCors?this._templating.renderFailure(this._options.messages.unsupportedBrowser):(this._wrapCallbacks(),
this._templating.render(),this._classes=this._options.classes,!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._setupClickAndEditEventHandlers(),g.DragAndDrop&&g.supportedFeatures.fileDrop&&(this._dnd=this._setupDragAndDrop()),this._options.paste.targetElement&&this._options.paste.promptForName&&(g.PasteSupport?this._setupPastePrompt():this.log("Paste support module not found.",
"error")),this._filesInBatchAddedToUi=this._totalFilesInBatch=0)};g.extend(g.FineUploader.prototype,g.basePublicApi);g.extend(g.FineUploader.prototype,g.basePrivateApi);g.extend(g.FineUploader.prototype,g.uiPublicApi);g.extend(g.FineUploader.prototype,g.uiPrivateApi);g.Templating=function(c){var f=document.createDocumentFragment(),a={},h=!1,e=0,b=!1,k=[],n=-1,r={log:null,limits:{maxThumbs:0,timeBetweenThumbs:750},templateIdOrEl:"qq-template",containerEl:null,fileContainerEl:null,button:null,imageGenerator:null,
classes:{hide:"qq-hide",editable:"qq-editable"},placeholders:{waitUntilUpdate:!1,thumbnailNotAvailable:null,waitingForThumbnail:null},text:{paused:"Paused"}},w={button:"qq-upload-button-selector",alertDialog:"qq-alert-dialog-selector",dialogCancelButton:"qq-cancel-button-selector",confirmDialog:"qq-confirm-dialog-selector",dialogMessage:"qq-dialog-message-selector",dialogOkButton:"qq-ok-button-selector",promptDialog:"qq-prompt-dialog-selector",uploader:"qq-uploader-selector",drop:"qq-upload-drop-area-selector",
list:"qq-upload-list-selector",progressBarContainer:"qq-progress-bar-container-selector",progressBar:"qq-progress-bar-selector",totalProgressBarContainer:"qq-total-progress-bar-container-selector",totalProgressBar:"qq-total-progress-bar-selector",file:"qq-upload-file-selector",spinner:"qq-upload-spinner-selector",size:"qq-upload-size-selector",cancel:"qq-upload-cancel-selector",pause:"qq-upload-pause-selector",continueButton:"qq-upload-continue-selector",deleteButton:"qq-upload-delete-selector",retry:"qq-upload-retry-selector",
statusText:"qq-upload-status-text-selector",editFilenameInput:"qq-edit-filename-selector",editNameIcon:"qq-edit-filename-icon-selector",dropText:"qq-upload-drop-area-text-selector",dropProcessing:"qq-drop-processing-selector",dropProcessingSpinner:"qq-drop-processing-spinner-selector",thumbnail:"qq-thumbnail-selector"},v={},A=new g.Promise,y=new g.Promise,x,q,B,C,E=function(a){var b=new g.Promise;y.then(function(c){G(c,a);a.src?b.success():(a.src=c.src,a.onload=function(){a.onload=null;ea(a);b.success()})},
function(){z(a);b.success()});return b},I=function(a,b,c){var d=l(a);aa("Generating new thumbnail for "+a);b.qqThumbnailId=a;return r.imageGenerator.generate(b,d,c).then(function(){e++;ea(d);v[a].success()},function(){v[a].failure();r.placeholders.waitUntilUpdate||K(a,d)})},F=function(){if(k.length){b=!0;var a=k.shift();a.update?W(a):ja(a)}else b=!1},J=function(b){return a[b]||g(B).getFirstByClass("qq-file-id-"+b)},L=function(a){return null==a?d(O,w.totalProgressBarContainer)||d(O,w.totalProgressBar):
d(J(a),w.progressBarContainer)||d(J(a),w.progressBar)},d=function(a,b){return a&&g(a).getFirstByClass(b)},l=function(a){return fa&&d(J(a),w.thumbnail)},z=function(a){a&&g(a).addClass(r.classes.hide)},G=function(a,b){var c=a.style.maxWidth;(a=a.style.maxHeight)&&c&&!b.style.maxWidth&&!b.style.maxHeight&&g(b).css({maxWidth:c,maxHeight:a})},K=function(a,b){var c=v[a]||(new g.Promise).failure(),d=new g.Promise;A.then(function(a){c.then(function(){d.success()},function(){G(a,b);b.onload=function(){b.onload=
null;d.success()};b.src=a.src;ea(b)})});return d},T=function(a,b,c){var d=c.firstChild;0<b&&(d=g(c).children()[b].nextSibling);c.insertBefore(a,d)},ja=function(a){var b=a.id,c=a.optFileOrBlob,d=c&&c.qqThumbnailId,f=l(b),h={customResizeFunction:a.customResizeFunction,maxSize:n,orient:!0,scale:!0};g.supportedFeatures.imagePreviews?f?r.limits.maxThumbs&&r.limits.maxThumbs<=e?(K(b,f),F()):E(f).done(function(){v[b]=new g.Promise;v[b].done(function(){setTimeout(F,r.limits.timeBetweenThumbs)});null!=d?Y(b,
d):I(b,c,h)}):F():f&&(E(f),F())},W=function(a){var b=a.id,c=a.thumbnailUrl,d=a.showWaitingImg,f=l(b);a={customResizeFunction:a.customResizeFunction,scale:C,maxSize:n};if(f)if(c)if(r.limits.maxThumbs&&r.limits.maxThumbs<=e)K(b,f),F();else return d&&E(f),r.imageGenerator.generate(c,f,a).then(function(){ea(f);e++;setTimeout(F,r.limits.timeBetweenThumbs)},function(){K(b,f);setTimeout(F,r.limits.timeBetweenThumbs)});else K(b,f),F()},Ea=function(a,b){var c=L(a);a=null==a?w.totalProgressBar:w.progressBar;
c&&!g(c).hasClass(a)&&(c=g(c).getFirstByClass(a));c&&(g(c).css({width:b+"%"}),c.setAttribute("aria-valuenow",b))},ea=function(a){a&&g(a).removeClass(r.classes.hide)},Y=function(a,b){var c=l(a),d=l(b);aa(g.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.",a,b,b));v[b].then(function(){e++;v[a].success();aa(g.format("Now using previously generated thumbnail created for ID {} on ID {}.",b,a));c.src=d.src;ea(c)},function(){v[a].failure();r.placeholders.waitUntilUpdate||
K(a,c)})};g.extend(r,c);var aa=r.log;g.supportedFeatures.imagePreviews||(r.limits.timeBetweenThumbs=0,r.limits.maxThumbs=0);var O=r.containerEl;var fa=void 0!==r.imageGenerator;var xa=function(){var a;aa("Parsing template");if(null==r.templateIdOrEl)throw Error("You MUST specify either a template element or ID!");if(g.isString(r.templateIdOrEl)){var b=document.getElementById(r.templateIdOrEl);if(null===b)throw Error(g.format("Cannot find template script at ID '{}'!",r.templateIdOrEl));var c=b.innerHTML}else{if(void 0===
r.templateIdOrEl.innerHTML)throw Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");c=r.templateIdOrEl.innerHTML}c=g.trimStr(c);b=document.createElement("div");b.appendChild(g.toElement(c));c=g(b).getFirstByClass(w.uploader);r.button&&(a=g(b).getFirstByClass(w.button))&&g(a).remove();g.DragAndDrop&&g.supportedFeatures.fileDrop||(a=g(b).getFirstByClass(w.dropProcessing))&&g(a).remove();(a=g(b).getFirstByClass(w.drop))&&!g.DragAndDrop&&(aa("DnD module unavailable.",
"info"),g(a).remove());g.supportedFeatures.fileDrop?g(c).hasAttribute("qq-drop-area-text")&&a&&(c=g(a).getFirstByClass(w.dropText))&&g(c).remove():(c.removeAttribute("qq-drop-area-text"),a&&g(a).hasAttribute("qq-hide-dropzone")&&g(a).css({display:"none"}));c=g(b).getFirstByClass(w.thumbnail);fa?c&&(n=parseInt(c.getAttribute("qq-max-size")),n=0<n?n:null,C=g(c).hasAttribute("qq-server-scale")):c&&g(c).remove();fa=fa&&c;x=0<g(b).getByClass(w.editFilenameInput).length;q=0<g(b).getByClass(w.retry).length;
c=g(b).getFirstByClass(w.list);if(null==c)throw Error("Could not find the file list container in the template!");a=c.children[0].cloneNode(!0);c.innerHTML="";b.getElementsByTagName("DIALOG").length&&document.createElement("dialog");aa("Template parsing complete");return{template:b,fileTemplate:a}}();(function(){var a=r.placeholders.thumbnailNotAvailable,b=r.placeholders.waitingForThumbnail,c={maxSize:n,scale:C};fa&&(a?r.imageGenerator.generate(a,new Image,c).then(function(a){A.success(a)},function(){A.failure();
aa("Problem loading 'not available' placeholder image at "+a,"error")}):A.failure(),b?r.imageGenerator.generate(b,new Image,c).then(function(a){y.success(a)},function(){y.failure();aa("Problem loading 'waiting for thumbnail' placeholder image at "+b,"error")}):y.failure())})();g.extend(this,{render:function(){aa("Rendering template in DOM.");e=0;O.appendChild(xa.template.cloneNode(!0));z(d(O,w.dropProcessing));this.hideTotalProgress();B=r.fileContainerEl||d(O,w.list);aa("Template rendering complete")},
renderFailure:function(a){a=g.toElement(a);O.innerHTML="";O.appendChild(a)},reset:function(){this.render()},clearFiles:function(){B.innerHTML=""},disableCancel:function(){h=!0},addFile:function(b,c,e,k,m){var n=xa.fileTemplate.cloneNode(!0),q=d(n,w.file),r=d(O,w.uploader),x=m?f:B,v;m&&(a[b]=n);g(n).addClass("qq-file-id-"+b);r.removeAttribute("qq-drop-area-text");q&&(g(q).setText(c),q.setAttribute("title",c));n.setAttribute("qq-file-id",b);e?T(n,e.index,x):x.appendChild(n);k?(n.style.display="none",
g(n).addClass("qq-hidden-forever")):(z(L(b)),z(d(J(b),w.size)),z(d(J(b),w.deleteButton)),z(d(J(b),w.retry)),z(d(J(b),w.pause)),z(d(J(b),w.continueButton)),h&&this.hideCancel(b),(v=l(b))&&!v.src&&y.then(function(a){v.src=a.src;a.style.maxHeight&&a.style.maxWidth&&g(v).css({maxHeight:a.style.maxHeight,maxWidth:a.style.maxWidth});ea(v)}))},addFileToCache:function(a,b,c,d){this.addFile(a,b,c,d,!0)},addCacheToDom:function(){B.appendChild(f);f=document.createDocumentFragment();a={}},removeFile:function(a){g(J(a)).remove()},
getFileId:function(a){if(a){for(;null==a.getAttribute("qq-file-id");)a=a.parentNode;return parseInt(a.getAttribute("qq-file-id"))}},getFileList:function(){return B},markFilenameEditable:function(a){(a=d(J(a),w.file))&&g(a).addClass(r.classes.editable)},updateFilename:function(a,b){if(a=d(J(a),w.file))g(a).setText(b),a.setAttribute("title",b)},hideFilename:function(a){z(d(J(a),w.file))},showFilename:function(a){ea(d(J(a),w.file))},isFileName:function(a){return g(a).hasClass(w.file)},getButton:function(){return r.button||
d(O,w.button)},hideDropProcessing:function(){z(d(O,w.dropProcessing))},showDropProcessing:function(){ea(d(O,w.dropProcessing))},getDropZone:function(){return d(O,w.drop)},isEditFilenamePossible:function(){return x},hideRetry:function(a){z(d(J(a),w.retry))},isRetryPossible:function(){return q},showRetry:function(a){ea(d(J(a),w.retry))},getFileContainer:function(a){return J(a)},showEditIcon:function(a){(a=d(J(a),w.editNameIcon))&&g(a).addClass(r.classes.editable)},isHiddenForever:function(a){return g(J(a)).hasClass("qq-hidden-forever")},
hideEditIcon:function(a){(a=d(J(a),w.editNameIcon))&&g(a).removeClass(r.classes.editable)},isEditIcon:function(a){return g(a).hasClass(w.editNameIcon,!0)},getEditInput:function(a){return d(J(a),w.editFilenameInput)},isEditInput:function(a){return g(a).hasClass(w.editFilenameInput,!0)},updateProgress:function(a,b,c){var d=L(a);d&&0<c&&(b=Math.round(b/c*100),100===b?z(d):ea(d),Ea(a,b))},updateTotalProgress:function(a,b){this.updateProgress(null,a,b)},hideProgress:function(a){(a=L(a))&&z(a)},hideTotalProgress:function(){this.hideProgress()},
resetProgress:function(a){Ea(a,0);this.hideTotalProgress(a)},resetTotalProgress:function(){this.resetProgress()},showCancel:function(a){h||(a=d(J(a),w.cancel))&&g(a).removeClass(r.classes.hide)},hideCancel:function(a){z(d(J(a),w.cancel))},isCancel:function(a){return g(a).hasClass(w.cancel,!0)},allowPause:function(a){ea(d(J(a),w.pause));z(d(J(a),w.continueButton))},uploadPaused:function(a){this.setStatusText(a,r.text.paused);this.allowContinueButton(a);z(d(J(a),w.spinner))},hidePause:function(a){z(d(J(a),
w.pause))},isPause:function(a){return g(a).hasClass(w.pause,!0)},isContinueButton:function(a){return g(a).hasClass(w.continueButton,!0)},allowContinueButton:function(a){ea(d(J(a),w.continueButton));z(d(J(a),w.pause))},uploadContinued:function(a){this.setStatusText(a,"");this.allowPause(a);ea(d(J(a),w.spinner))},showDeleteButton:function(a){ea(d(J(a),w.deleteButton))},hideDeleteButton:function(a){z(d(J(a),w.deleteButton))},isDeleteButton:function(a){return g(a).hasClass(w.deleteButton,!0)},isRetry:function(a){return g(a).hasClass(w.retry,
!0)},updateSize:function(a,b){if(a=d(J(a),w.size))ea(a),g(a).setText(b)},setStatusText:function(a,b){(a=d(J(a),w.statusText))&&(null==b?g(a).clearText():g(a).setText(b))},hideSpinner:function(a){g(J(a)).removeClass("qq-in-progress");z(d(J(a),w.spinner))},showSpinner:function(a){g(J(a)).addClass("qq-in-progress");ea(d(J(a),w.spinner))},generatePreview:function(a,c,d){this.isHiddenForever(a)||(k.push({id:a,customResizeFunction:d,optFileOrBlob:c}),!b&&F())},updateThumbnail:function(a,c,d,e){this.isHiddenForever(a)||
(k.push({customResizeFunction:e,update:!0,id:a,thumbnailUrl:c,showWaitingImg:d}),!b&&F())},hasDialog:function(a){return g.supportedFeatures.dialogElement&&!!d(O,w[a+"Dialog"])},showDialog:function(a,b,c){var e=d(O,w[a+"Dialog"]);a=d(e,w.dialogMessage);var f=e.getElementsByTagName("INPUT")[0],h=d(e,w.dialogCancelButton),k=d(e,w.dialogOkButton),l=new g.Promise,m=function(){h.removeEventListener("click",n);k&&k.removeEventListener("click",q);l.failure()},n=function(){h.removeEventListener("click",n);
e.close()},q=function(){e.removeEventListener("close",m);k.removeEventListener("click",q);e.close();l.success(f&&f.value)};e.addEventListener("close",m);h.addEventListener("click",n);k&&k.addEventListener("click",q);f&&(f.value=c);a.textContent=b;e.showModal();return l}})};g.UiEventHandler=function(c,f){function a(a){h.attach(a,e.eventType,function(a){a=a||window.event;e.onHandled(a.target||a.srcElement,a)})}var h=new g.DisposeSupport,e={eventType:"click",attachTo:null,onHandled:function(a,c){}};
g.extend(this,{addHandler:function(b){a(b)},dispose:function(){h.dispose()}});g.extend(f,{getFileIdFromItem:function(a){return a.qqFileId},getDisposeSupport:function(){return h}});g.extend(e,c);e.attachTo&&a(e.attachTo)};g.FileButtonsClickHandler=function(c){var f={templating:null,log:function(a,c){},onDeleteFile:function(a){},onCancel:function(a){},onRetry:function(a){},onPause:function(a){},onContinue:function(a){},onGetName:function(a){}},a={cancel:function(a){f.onCancel(a)},retry:function(a){f.onRetry(a)},
deleteButton:function(a){f.onDeleteFile(a)},pause:function(a){f.onPause(a)},continueButton:function(a){f.onContinue(a)}};g.extend(f,c);f.eventType="click";f.onHandled=function(c,e){g.each(a,function(a,h){a=a.charAt(0).toUpperCase()+a.slice(1);if(f.templating["is"+a](c))return a=f.templating.getFileId(c),g.preventDefault(e),f.log(g.format("Detected valid file button click event on file '{}', ID: {}.",f.onGetName(a),a)),h(a),!1})};f.attachTo=f.templating.getFileList();g.extend(this,new g.UiEventHandler(f,
{}))};g.FilenameClickHandler=function(c){var f={},a={templating:null,log:function(a,c){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(a){},onGetName:function(a){}};g.extend(a,c);a.eventType="click";a.onHandled=function(c,e){if(a.templating.isFileName(c)||a.templating.isEditIcon(c)){var b=a.templating.getFileId(c);a.onGetUploadStatus(b)===g.status.SUBMITTED&&(a.log(g.format("Detected valid filename click event on file '{}', ID: {}.",a.onGetName(b),
b)),g.preventDefault(e),f.handleFilenameEdit(b,c,!0))}};g.extend(this,new g.FilenameEditHandler(a,f))};g.FilenameInputFocusInHandler=function(c,f){var a={templating:null,onGetUploadStatus:function(a){},log:function(a,c){}};f||(f={});a.eventType="focusin";a.onHandled=function(c,e){a.templating.isEditInput(c)&&(e=a.templating.getFileId(c),a.onGetUploadStatus(e)===g.status.SUBMITTED&&(a.log(g.format("Detected valid filename input focus event on file '{}', ID: {}.",a.onGetName(e),e)),f.handleFilenameEdit(e,
c)))};g.extend(a,c);g.extend(this,new g.FilenameEditHandler(a,f))};g.FilenameInputFocusHandler=function(c){c.eventType="focus";c.attachTo=null;g.extend(this,new g.FilenameInputFocusInHandler(c,{}))};g.FilenameEditHandler=function(c,f){function a(a,c){a=a.value;if(void 0!==a&&0<g.trimStr(a).length){var e=b.onGetName(c);e=g.getExtension(e);void 0!==e&&(a=a+"."+e);b.onSetName(c,a)}b.onEditingStatusChange(c,!1)}function h(b,c){f.getDisposeSupport().attach(b,"blur",function(){a(b,c)})}function e(b,c){f.getDisposeSupport().attach(b,
"keyup",function(e){13===(e.keyCode||e.which)&&a(b,c)})}var b={templating:null,log:function(a,b){},onGetUploadStatus:function(a){},onGetName:function(a){},onSetName:function(a,b){},onEditingStatusChange:function(a,b){}};g.extend(b,c);b.attachTo=b.templating.getFileList();g.extend(this,new g.UiEventHandler(b,f));g.extend(f,{handleFilenameEdit:function(a,c,f){c=b.templating.getEditInput(a);b.onEditingStatusChange(a,!0);var g=b.onGetName(a),k=g.lastIndexOf(".");0<k&&(g=g.substr(0,k));c.value=g;f&&c.focus();
h(c,a);e(c,a)}})};(function(){g.s3.FineUploader=function(c){var f={failedUploadTextDisplay:{mode:"custom"}};g.extend(f,c,!0);g.FineUploader.call(this,f,"s3");g.supportedFeatures.ajaxUploading||void 0!==f.iframeSupport.localBlankPagePath||(this._options.element.innerHTML="<div>You MUST set the <code>localBlankPagePath</code> property of the <code>iframeSupport</code> option since this browser does not support the File API!</div>")};g.extend(g.s3.FineUploader.prototype,g.s3.FineUploaderBasic.prototype);
g.extend(g.s3.FineUploader.prototype,g.uiPublicApi);g.extend(g.s3.FineUploader.prototype,g.uiPrivateApi)})()})(window);(function(k,g){"function"===typeof define&&define.amd?define("pdfjs-dist/build/pdf",["exports"],g):"undefined"!==typeof exports?g(exports):g(k.pdfjsDistBuildPdf={})})(this,function(k){var g="undefined"!==typeof document&&document.currentScript?document.currentScript.src:null,c={};(function(){(function(c,a){a(c.pdfjsSharedUtil={})})(this,function(c){function a(a){x>=y.warnings&&console.log("Warning: "+a)}function f(a){x>=y.errors&&(console.log("Error: "+a),console.log(e()));throw Error(a);}function e(){try{throw Error();
}catch(W){return W.stack?W.stack.split("\n").slice(2).join("\n"):""}}function b(a,b){a||f(b)}function g(a){b("string"===typeof a,"Invalid argument for stringToBytes");for(var c=a.length,d=new Uint8Array(c),e=0;e<c;++e)d[e]=a.charCodeAt(e)&255;return d}function k(a){if(void 0!==a.length)return a.length;b(void 0!==a.byteLength);return a.byteLength}function r(a){return"number"===typeof a&&(a|0)===a}function w(){var a={};a.promise=new Promise(function(b,c){a.resolve=b;a.reject=c});return a}function v(a,
b,c){this.sourceName=a;this.targetName=b;this.comObj=c;this.callbackIndex=1;this.postMessageTransfers=!0;var d=this.callbacksCapabilities=Object.create(null),e=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var b=a.data;if(b.targetName===this.sourceName)if(b.isReply)if(a=b.callbackId,b.callbackId in d){var g=d[a];delete d[a];"error"in b?g.reject(b.error):g.resolve(b.data)}else f("Cannot resolve callback "+a);else if(b.action in e){var h=e[b.action];if(b.callbackId){var k=
this.sourceName,l=b.sourceName;Promise.resolve().then(function(){return h[0].call(h[1],b.data)}).then(function(a){c.postMessage({sourceName:k,targetName:l,isReply:!0,callbackId:b.callbackId,data:a})},function(a){a instanceof Error&&(a+="");c.postMessage({sourceName:k,targetName:l,isReply:!0,callbackId:b.callbackId,error:a})})}else h[0].call(h[1],b.data)}else f("Unknown action from worker: "+b.action)}.bind(this);c.addEventListener("message",this._onComObjOnMessage)}var A="undefined"!==typeof window?
window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this,y={errors:0,warnings:1,infos:5},x=y.warnings,q=function(){function a(a,b){this.name="PasswordException";this.message=a;this.code=b}a.prototype=Error();return a.constructor=a}(),B=function(){function a(a,b){this.name="UnknownErrorException";this.message=a;this.details=b}a.prototype=Error();return a.constructor=a}(),C=function(){function a(a){this.name="InvalidPDFException";this.message=a}a.prototype=Error();return a.constructor=
a}(),E=function(){function a(a){this.name="MissingPDFException";this.message=a}a.prototype=Error();return a.constructor=a}(),I=function(){function a(a,b){this.name="UnexpectedResponseException";this.message=a;this.status=b}a.prototype=Error();return a.constructor=a}(),F=function(){function a(a){this.message=a}a.prototype=Error();a.prototype.name="NotImplementedException";return a.constructor=a}(),J=function(){function a(a,b){this.begin=a;this.end=b;this.message="Missing data ["+a+", "+b+")"}a.prototype=
Error();a.prototype.name="MissingDataException";return a.constructor=a}(),L=function(){function a(a){this.message=a}a.prototype=Error();a.prototype.name="XRefParseException";return a.constructor=a}(),d=/\x00/g,l=function(){function a(d,e){this.buffer=d;this.byteLength=d.length;for(d=this.length=void 0===e?this.byteLength>>2:e;c<d;)Object.defineProperty(a.prototype,c,b(c)),c++}function b(a){return{get:function(){var b=this.buffer,c=a<<2;return(b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24)>>>0},set:function(b){var c=
this.buffer,d=a<<2;c[d]=b&255;c[d+1]=b>>8&255;c[d+2]=b>>16&255;c[d+3]=b>>>24&255}}}a.prototype=Object.create(null);var c=0;return a}();c.Uint32ArrayView=l;var z=function(){function a(){}var c=["rgb(",0,",",0,",",0,")"];a.makeCssRgb=function(a,b,d){c[1]=a;c[3]=b;c[5]=d;return c.join("")};a.transform=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]};a.applyTransform=function(a,b){return[a[0]*b[0]+
a[1]*b[2]+b[4],a[0]*b[1]+a[1]*b[3]+b[5]]};a.applyInverseTransform=function(a,b){var c=b[0]*b[3]-b[1]*b[2];return[(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c]};a.getAxialAlignedBoundingBox=function(b,c){var d=a.applyTransform(b,c),e=a.applyTransform(b.slice(2,4),c),f=a.applyTransform([b[0],b[3]],c);b=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],e[0],f[0],b[0]),Math.min(d[1],e[1],f[1],b[1]),Math.max(d[0],e[0],f[0],b[0]),Math.max(d[1],e[1],f[1],b[1])]};
a.inverseTransform=function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]};a.apply3dTransform=function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]};a.singularValueDecompose2dScale=function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[2]*b[1]+a[3]*b[3],e=(c+d)/2;a=Math.sqrt((c+d)*(c+d)-4*(c*d-(a[2]*b[0]+a[3]*b[2])*(a[0]*b[1]+a[1]*b[3])))/2;return[Math.sqrt(e+a||
1),Math.sqrt(e-a||1)]};a.normalizeRect=function(a){var b=a.slice(0);a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]);a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]);return b};a.intersect=function(b,c){function d(a,b){return a-b}var e=[b[0],b[2],c[0],c[2]].sort(d),f=[b[1],b[3],c[1],c[3]].sort(d),g=[];b=a.normalizeRect(b);c=a.normalizeRect(c);if(e[0]===b[0]&&e[1]===c[0]||e[0]===c[0]&&e[1]===b[0])g[0]=e[1],g[2]=e[2];else return!1;if(f[0]===b[1]&&f[1]===c[1]||f[0]===c[1]&&f[1]===b[1])g[1]=f[1],g[3]=f[2];else return!1;return g};a.sign=
function(a){return 0>a?-1:1};var d=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" ");a.toRoman=function(a,c){b(r(a)&&0<a,"The number should be a positive integer.");for(var e,f=[];1E3<=a;)a-=1E3,f.push("M");e=a/100|0;a%=100;f.push(d[e]);e=a/10|0;a%=10;f.push(d[10+e]);f.push(d[20+a]);a=f.join("");return c?a.toLowerCase():a};a.appendToArray=function(a,b){Array.prototype.push.apply(a,b)};a.prependToArray=function(a,b){Array.prototype.unshift.apply(a,
b)};a.extendObj=function(a,b){for(var c in b)a[c]=b[c]};a.getInheritableProperty=function(a,b){for(;a&&!a.has(b);)a=a.get("Parent");return a?a.get(b):null};a.inherit=function(a,b,c){a.prototype=Object.create(b.prototype);a.prototype.constructor=a;for(var d in c)a.prototype[d]=c[d]};a.loadScript=function(a,b){var c=document.createElement("script"),d=!1;c.setAttribute("src",a);b&&(c.onload=function(){d||b();d=!0});document.getElementsByTagName("head")[0].appendChild(c)};return a}();l=function(){function a(a,
b,c,d,e,f){this.viewBox=a;this.scale=b;this.rotation=c;this.offsetX=d;this.offsetY=e;var g=(a[2]+a[0])/2,h=(a[3]+a[1])/2,k;c%=360;switch(0>c?c+360:c){case 180:c=-1;var l=k=0;var m=1;break;case 90:c=0;l=k=1;m=0;break;case 270:c=0;l=k=-1;m=0;break;default:c=1,l=k=0,m=-1}f&&(l=-l,m=-m);0===c?(d=Math.abs(h-a[1])*b+d,e=Math.abs(g-a[0])*b+e,f=Math.abs(a[3]-a[1])*b,a=Math.abs(a[2]-a[0])*b):(d=Math.abs(g-a[0])*b+d,e=Math.abs(h-a[1])*b+e,f=Math.abs(a[2]-a[0])*b,a=Math.abs(a[3]-a[1])*b);this.transform=[c*b,
k*b,l*b,m*b,d-c*b*g-l*b*h,e-k*b*g-m*b*h];this.width=f;this.height=a;this.fontScale=b}a.prototype={clone:function(b){b=b||{};var c="scale"in b?b.scale:this.scale,d="rotation"in b?b.rotation:this.rotation;return new a(this.viewBox.slice(),c,d,this.offsetX,this.offsetY,b.dontFlip)},convertToViewportPoint:function(a,b){return z.applyTransform([a,b],this.transform)},convertToViewportRectangle:function(a){var b=z.applyTransform([a[0],a[1]],this.transform);a=z.applyTransform([a[2],a[3]],this.transform);
return[b[0],b[1],a[0],a[1]]},convertToPdfPoint:function(a,b){return z.applyInverseTransform([a,b],this.transform)}};return a}();var G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,
64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];(function(){function b(a){this._status=0;this._handlers=[];try{a.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(Y){this._reject(Y)}}if(A.Promise)"function"!==typeof A.Promise.all&&(A.Promise.all=function(a){var b=0,c=[],d,e,f=new A.Promise(function(a,b){d=a;e=b});a.forEach(function(a,f){b++;a.then(function(a){c[f]=a;b--;0===b&&d(c)},e)});0===b&&d(c);return f}),"function"!==typeof A.Promise.resolve&&(A.Promise.resolve=function(a){return new A.Promise(function(b){b(a)})}),
"function"!==typeof A.Promise.reject&&(A.Promise.reject=function(a){return new A.Promise(function(b,c){c(a)})}),"function"!==typeof A.Promise.prototype.catch&&(A.Promise.prototype.catch=function(a){return A.Promise.prototype.then(void 0,a)});else{var c={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(a){0!==a._status&&(this.handlers=this.handlers.concat(a._handlers),a._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),
0)))},runHandlers:function(){for(var a=Date.now()+1;0<this.handlers.length;){var b=this.handlers.shift(),c=b.thisPromise._status,d=b.thisPromise._value;try{1===c?"function"===typeof b.onResolve&&(d=b.onResolve(d)):"function"===typeof b.onReject&&(d=b.onReject(d),c=1,b.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(b.thisPromise))}catch(fa){c=2,d=fa}b.nextPromise._updateStatus(c,d);if(Date.now()>=a)break}0<this.handlers.length?setTimeout(this.runHandlers.bind(this),0):this.running=
!1},addUnhandledRejection:function(a){this.unhandledRejections.push({promise:a,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function(a){a._unhandledRejection=!1;for(var b=0;b<this.unhandledRejections.length;b++)this.unhandledRejections[b].promise===a&&(this.unhandledRejections.splice(b),b--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var b=Date.now(),c=0;c<this.unhandledRejections.length;c++)if(500<
b-this.unhandledRejections[c].time){var d=this.unhandledRejections[c].promise._value,e="Unhandled rejection: "+d;d.stack&&(e+="\n"+d.stack);a(e);this.unhandledRejections.splice(c);c--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),500))}};b.all=function(a){function c(a){2!==f._status&&(h=[],e(a))}var d,e,f=new b(function(a,b){d=a;e=b}),g=a.length,h=[];if(0===g)return d(h),f;for(var k=0,l=a.length;k<l;++k){var m=a[k],n=function(a){return function(b){2!==f._status&&(h[a]=
b,g--,0===g&&d(h))}}(k);b.isPromise(m)?m.then(n,c):n(m)}return f};b.isPromise=function(a){return a&&"function"===typeof a.then};b.resolve=function(a){return new b(function(b){b(a)})};b.reject=function(a){return new b(function(b,c){c(a)})};b.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(a,d){1!==this._status&&2!==this._status&&(1===a&&b.isPromise(d)?d.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,2)):(this._status=a,this._value=
d,2===a&&0===this._handlers.length&&(this._unhandledRejection=!0,c.addUnhandledRejection(this)),c.scheduleHandlers(this)))},_resolve:function(a){this._updateStatus(1,a)},_reject:function(a){this._updateStatus(2,a)},then:function(a,d){var e=new b(function(a,b){this.resolve=a;this.reject=b});this._handlers.push({thisPromise:this,onResolve:a,onReject:d,nextPromise:e});c.scheduleHandlers(this);return e},catch:function(a){return this.then(void 0,a)}};A.Promise=b}})();var K=function(){function b(){this.started=
Object.create(null);this.times=[];this.enabled=!0}b.prototype={time:function(b){this.enabled&&(b in this.started&&a("Timer is already running for "+b),this.started[b]=Date.now())},timeEnd:function(b){this.enabled&&(b in this.started||a("Timer has not been started for "+b),this.times.push({name:b,start:this.started[b],end:Date.now()}),delete this.started[b])},toString:function(){var a,b=this.times,c="",d=0;var e=0;for(a=b.length;e<a;++e){var f=b[e].name;f.length>d&&(d=f.length)}e=0;for(a=b.length;e<
a;++e){var g=b[e];f=g.end-g.start;for(g=g.name;g.length<d;)g+=" ";c+=g+" "+f+"ms\n"}return c}};return b}(),T=function(a,b){if("undefined"!==typeof Blob)return new Blob([a],{type:b});var c=new MozBlobBuilder;c.append(a);return c.getBlob(b)},ja=function(){return function(a,b,c){if(!c&&"undefined"!==typeof URL&&URL.createObjectURL)return a=T(a,b),URL.createObjectURL(a);b="data:"+b+";base64,";c=0;for(var d=a.length;c<d;c+=3){var e=a[c]&255,f=a[c+1]&255,g=a[c+2]&255;b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[e>>
2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(e&3)<<4|f>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[c+1<d?(f&15)<<2|g>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[c+2<d?g&63:64]}return b}}();v.prototype={on:function(a,b,c){var d=this.actionHandler;d[a]&&f('There is already an actionName called "'+a+'"');d[a]=[b,c]},send:function(a,b,c){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,
data:b},c)},sendWithPromise:function(a,b,c){var d=this.callbackIndex++;a={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b,callbackId:d};b=w();this.callbacksCapabilities[d]=b;try{this.postMessage(a,c)}catch(aa){b.reject(aa)}return b.promise},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}};(function(a){function b(a){""==a&&(f.call(this),
this._isInvalid=!0);return a.toLowerCase()}function c(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1==[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function d(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1==[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function e(a,e,g){function h(a){w.push(a)}var k=e||"scheme start",r=0,z="",y=!1,x=!1,w=[];a:for(;(void 0!=a[r-1]||0==r)&&!this._isInvalid;){var v=a[r];switch(k){case "scheme start":if(v&&n.test(v))z+=v.toLowerCase(),k="scheme";else if(e){h("Invalid scheme.");
break a}else{z="";k="no scheme";continue}break;case "scheme":if(v&&q.test(v))z+=v.toLowerCase();else if(":"==v){this._scheme=z;z="";if(e)break a;void 0!==l[this._scheme]&&(this._isRelative=!0);k="file"==this._scheme?"relative":this._isRelative&&g&&g._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(e){void 0!=v&&h("Code point not allowed in scheme: "+v);break a}else{z="";r=0;k="no scheme";continue}break;case "scheme data":"?"==v?(this._query=
"?",k="query"):"#"==v?(this._fragment="#",k="fragment"):void 0!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this._schemeData+=c(v));break;case "no scheme":if(g&&void 0!==l[g._scheme]){k="relative";continue}else h("Missing scheme."),f.call(this),this._isInvalid=!0;break;case "relative or authority":if("/"==v&&"/"==a[r+1])k="authority ignore slashes";else{h("Expected /, got: "+v);k="relative";continue}break;case "relative":this._isRelative=!0;"file"!=this._scheme&&(this._scheme=g._scheme);if(void 0==v){this._host=
g._host;this._port=g._port;this._path=g._path.slice();this._query=g._query;this._username=g._username;this._password=g._password;break a}else if("/"==v||"\\"==v)"\\"==v&&h("\\ is an invalid code point."),k="relative slash";else if("?"==v)this._host=g._host,this._port=g._port,this._path=g._path.slice(),this._query="?",this._username=g._username,this._password=g._password,k="query";else if("#"==v)this._host=g._host,this._port=g._port,this._path=g._path.slice(),this._query=g._query,this._fragment="#",
this._username=g._username,this._password=g._password,k="fragment";else{k=a[r+1];var B=a[r+2];if("file"!=this._scheme||!n.test(v)||":"!=k&&"|"!=k||void 0!=B&&"/"!=B&&"\\"!=B&&"?"!=B&&"#"!=B)this._host=g._host,this._port=g._port,this._username=g._username,this._password=g._password,this._path=g._path.slice(),this._path.pop();k="relative path";continue}break;case "relative slash":if("/"==v||"\\"==v)"\\"==v&&h("\\ is an invalid code point."),k="file"==this._scheme?"file host":"authority ignore slashes";
else{"file"!=this._scheme&&(this._host=g._host,this._port=g._port,this._username=g._username,this._password=g._password);k="relative path";continue}break;case "authority first slash":if("/"==v)k="authority second slash";else{h("Expected '/', got: "+v);k="authority ignore slashes";continue}break;case "authority second slash":k="authority ignore slashes";if("/"!=v){h("Expected '/', got: "+v);continue}break;case "authority ignore slashes":if("/"!=v&&"\\"!=v){k="authority";continue}else h("Expected authority, got: "+
v);break;case "authority":if("@"==v){y&&(h("@ already seen."),z+="%40");y=!0;for(v=0;v<z.length;v++)B=z[v],"\t"==B||"\n"==B||"\r"==B?h("Invalid whitespace in authority."):":"==B&&null===this._password?this._password="":(B=c(B),null!==this._password?this._password+=B:this._username+=B);z=""}else if(void 0==v||"/"==v||"\\"==v||"?"==v||"#"==v){r-=z.length;z="";k="host";continue}else z+=v;break;case "file host":if(void 0==v||"/"==v||"\\"==v||"?"==v||"#"==v){2!=z.length||!n.test(z[0])||":"!=z[1]&&"|"!=
z[1]?(0!=z.length&&(this._host=b.call(this,z),z=""),k="relative path start"):k="relative path";continue}else"\t"==v||"\n"==v||"\r"==v?h("Invalid whitespace in file host."):z+=v;break;case "host":case "hostname":if(":"!=v||x)if(void 0==v||"/"==v||"\\"==v||"?"==v||"#"==v){this._host=b.call(this,z);z="";k="relative path start";if(e)break a;continue}else"\t"!=v&&"\n"!=v&&"\r"!=v?("["==v?x=!0:"]"==v&&(x=!1),z+=v):h("Invalid code point in host/hostname: "+v);else if(this._host=b.call(this,z),z="",k="port",
"hostname"==e)break a;break;case "port":if(/[0-9]/.test(v))z+=v;else if(void 0==v||"/"==v||"\\"==v||"?"==v||"#"==v||e){""!=z&&(z=parseInt(z,10),z!=l[this._scheme]&&(this._port=z+""),z="");if(e)break a;k="relative path start";continue}else"\t"==v||"\n"==v||"\r"==v?h("Invalid code point in port: "+v):(f.call(this),this._isInvalid=!0);break;case "relative path start":"\\"==v&&h("'\\' not allowed in path.");k="relative path";if("/"!=v&&"\\"!=v)continue;break;case "relative path":if(void 0!=v&&"/"!=v&&
"\\"!=v&&(e||"?"!=v&&"#"!=v))"\t"!=v&&"\n"!=v&&"\r"!=v&&(z+=c(v));else{"\\"==v&&h("\\ not allowed in relative path.");if(B=m[z.toLowerCase()])z=B;".."==z?(this._path.pop(),"/"!=v&&"\\"!=v&&this._path.push("")):"."==z&&"/"!=v&&"\\"!=v?this._path.push(""):"."!=z&&("file"==this._scheme&&0==this._path.length&&2==z.length&&n.test(z[0])&&"|"==z[1]&&(z=z[0]+":"),this._path.push(z));z="";"?"==v?(this._query="?",k="query"):"#"==v&&(this._fragment="#",k="fragment")}break;case "query":e||"#"!=v?void 0!=v&&"\t"!=
v&&"\n"!=v&&"\r"!=v&&(this._query+=d(v)):(this._fragment="#",k="fragment");break;case "fragment":void 0!=v&&"\t"!=v&&"\n"!=v&&"\r"!=v&&(this._fragment+=v)}r++}}function f(){this._username=this._schemeData=this._scheme="";this._password=null;this._port=this._host="";this._path=[];this._fragment=this._query="";this._isRelative=this._isInvalid=!1}function g(a,b){void 0===b||b instanceof g||(b=new g(String(b)));this._url=a;f.call(this);a=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");e.call(this,a,null,
b)}var h=!1;try{if("function"===typeof URL&&"object"===typeof URL.prototype&&"origin"in URL.prototype){var k=new URL("b","http://a");k.pathname="c%20d";h="http://a/c%20d"===k.href}}catch(Fa){}if(!h){var l=Object.create(null);l.ftp=21;l.file=0;l.gopher=70;l.http=80;l.https=443;l.ws=80;l.wss=443;var m=Object.create(null);m["%2e"]=".";m[".%2e"]="..";m["%2e."]="..";m["%2e%2e"]="..";var n=/[a-zA-Z]/,q=/[a-zA-Z0-9\+\-\.]/;g.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;
var a="";if(""!=this._username||null!=this._password)a=this._username+(null!=this._password?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){f.call(this);e.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||e.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&
e.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&e.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&e.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],e.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?
"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"==a[0]&&(a=a.slice(1)),e.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"==a[0]&&(a=a.slice(1)),e.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null"}return(a=this.host)?this._scheme+
"://"+a:""}};var r=a.URL;r&&(g.createObjectURL=function(a){return r.createObjectURL.apply(r,arguments)},g.revokeObjectURL=function(a){r.revokeObjectURL(a)});a.URL=g}})(A);c.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];c.IDENTITY_MATRIX=[1,0,0,1,0,0];c.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,
closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,
setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,
endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};c.VERBOSITY_LEVELS=y;c.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};c.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};
c.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};c.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};c.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,
CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};c.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};c.InvalidPDFException=C;c.MessageHandler=v;c.MissingDataException=J;c.MissingPDFException=E;c.NotImplementedException=F;c.PageViewport=l;c.PasswordException=q;c.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};c.StatTimer=K;c.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9};c.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,
STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};c.UnexpectedResponseException=I;c.UnknownErrorException=B;c.Util=z;c.XRefParseException=L;c.arrayByteLength=k;c.arraysToBytes=function(a){if(1===a.length&&a[0]instanceof Uint8Array)return a[0];var b=0,c,d=a.length;for(c=0;c<d;c++){var e=a[c];var f=k(e);b+=f}var h=0;b=new Uint8Array(b);for(c=0;c<d;c++)e=a[c],e instanceof Uint8Array||(e="string"===typeof e?g(e):new Uint8Array(e)),f=e.byteLength,b.set(e,
h),h+=f;return b};c.assert=b;c.bytesToString=function(a){b(null!==a&&"object"===typeof a&&void 0!==a.length,"Invalid argument for bytesToString");var c=a.length;if(8192>c)return String.fromCharCode.apply(null,a);for(var d=[],e=0;e<c;e+=8192){var f=a.subarray(e,Math.min(e+8192,c));d.push(String.fromCharCode.apply(null,f))}return d.join("")};c.createBlob=T;c.createPromiseCapability=w;c.createObjectURL=ja;c.deprecated=function(a){console.log("Deprecated API usage: "+a)};c.error=f;c.getLookupTableFactory=
function(a){var b;return function(){a&&(b=Object.create(null),a(b),a=null);return b}};c.getVerbosityLevel=function(){return x};c.globalScope=A;c.info=function(a){x>=y.infos&&console.log("Info: "+a)};c.isArray=function(a){return a instanceof Array};c.isArrayBuffer=function(a){return"object"===typeof a&&null!==a&&void 0!==a.byteLength};c.isBool=function(a){return"boolean"===typeof a};c.isEmptyObj=function(a){for(var b in a)return!1;return!0};c.isInt=r;c.isNum=function(a){return"number"===typeof a};
c.isString=function(a){return"string"===typeof a};c.isSameOrigin=function(a,b){try{var c=new URL(a);if(!c.origin||"null"===c.origin)return!1}catch(Y){return!1}a=new URL(b,c);return c.origin===a.origin};c.isValidUrl=function(a,b){if(!a||"string"!==typeof a)return!1;a=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(a);if(!a)return b;a=a[0].toLowerCase();switch(a){case "http":case "https":case "ftp":case "mailto":case "tel":return!0;default:return!1}};c.isLittleEndian=function(){var a=new Uint8Array(2);a[0]=1;return 1===
(new Uint16Array(a.buffer))[0]};c.isEvalSupported=function(){try{return new Function(""),!0}catch(W){return!1}};c.loadJpegStream=function(b,c,d){var e=new Image;e.onload=function(){d.resolve(b,e)};e.onerror=function(){d.resolve(b,null);a("Error during JPEG image loading")};e.src=c};c.log2=function(a){for(var b=1,c=0;a>b;)b<<=1,c++;return c};c.readInt8=function(a,b){return a[b]<<24>>24};c.readUint16=function(a,b){return a[b]<<8|a[b+1]};c.readUint32=function(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<
8|a[b+3])>>>0};c.removeNullCharacters=function(b){return"string"!==typeof b?(a("The argument for removeNullCharacters must be a string."),b):b.replace(d,"")};c.setVerbosityLevel=function(a){x=a};c.shadow=function(a,b,c){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1});return c};c.string32=function(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)};c.stringToBytes=g;c.stringToPDFString=function(a){var b,c=a.length,d=[];if("\u00fe"===a[0]&&"\u00ff"===a[1])for(b=
2;b<c;b+=2)d.push(String.fromCharCode(a.charCodeAt(b)<<8|a.charCodeAt(b+1)));else for(b=0;b<c;++b){var e=G[a.charCodeAt(b)];d.push(e?String.fromCharCode(e):a.charAt(b))}return d.join("")};c.stringToUTF8String=function(a){return decodeURIComponent(escape(a))};c.utf8StringToString=function(a){return unescape(encodeURIComponent(a))};c.warn=a});(function(c,a){a(c.pdfjsDisplayDOMUtils={},c.pdfjsSharedUtil)})(this,function(c,a){function f(c){var e=a.globalScope.PDFJS;switch(c){case "pdfBug":return e?e.pdfBug:
!1;case "disableAutoFetch":return e?e.disableAutoFetch:!1;case "disableStream":return e?e.disableStream:!1;case "disableRange":return e?e.disableRange:!1;case "disableFontFace":return e?e.disableFontFace:!1;case "disableCreateObjectURL":return e?e.disableCreateObjectURL:!1;case "disableWebGL":return e?e.disableWebGL:!0;case "cMapUrl":return e?e.cMapUrl:null;case "cMapPacked":return e?e.cMapPacked:!1;case "postMessageTransfers":return e?e.postMessageTransfers:!0;case "workerSrc":return e?e.workerSrc:
null;case "disableWorker":return e?e.disableWorker:!1;case "maxImageSize":return e?e.maxImageSize:-1;case "imageResourcesPath":return e?e.imageResourcesPath:"";case "isEvalSupported":return e?e.isEvalSupported:!0;case "externalLinkTarget":if(!e)return k.NONE;switch(e.externalLinkTarget){case k.NONE:case k.SELF:case k.BLANK:case k.PARENT:case k.TOP:return e.externalLinkTarget}b("PDFJS.externalLinkTarget is invalid: "+e.externalLinkTarget);return e.externalLinkTarget=k.NONE;case "externalLinkRel":return e?
e.externalLinkRel:"noreferrer";case "enableStats":return!(!e||!e.enableStats);default:throw Error("Unknown default setting: "+c);}}var e=a.removeNullCharacters,b=a.warn,g=function(){function a(){}var b=["ms","Moz","Webkit","O"],c=Object.create(null);a.getProp=function(a,e){if(1===arguments.length&&"string"===typeof c[a])return c[a];e=e||document.documentElement;var f=e.style;if("string"===typeof f[a])return c[a]=a;var g=a.charAt(0).toUpperCase()+a.slice(1);for(var h=0,k=b.length;h<k;h++){var m=b[h]+
g;if("string"===typeof f[m])return c[a]=m}return c[a]="undefined"};a.setProp=function(a,b,c){a=this.getProp(a);"undefined"!==a&&(b.style[a]=c)};return a}(),k={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},r=["","_self","_blank","_parent","_top"];c.CustomStyle=g;c.addLinkAttributes=function(a,b){var c=b&&b.url;a.href=a.title=c?e(c):"";c&&(c=b.target,"undefined"===typeof c&&(c=f("externalLinkTarget")),a.target=r[c],b=b.rel,"undefined"===typeof b&&(b=f("externalLinkRel")),a.rel=b)};c.isExternalLinkTargetSet=
function(){switch(f("externalLinkTarget")){case k.NONE:return!1;case k.SELF:case k.BLANK:case k.PARENT:case k.TOP:return!0}};c.getFilenameFromUrl=function(a){var b=a.indexOf("#"),c=a.indexOf("?");b=Math.min(0<b?b:a.length,0<c?c:a.length);return a.substring(a.lastIndexOf("/",b)+1,b)};c.LinkTarget=k;c.hasCanvasTypedArrays=function(){var a=document.createElement("canvas");a.width=a.height=1;return"undefined"!==typeof a.getContext("2d").createImageData(1,1).data.buffer};c.getDefaultSetting=f});(function(c,
a){a(c.pdfjsDisplayFontLoader={},c.pdfjsSharedUtil)})(this,function(c,a){function f(a){this.docId=a;this.styleElement=null;this.nativeFontFaces=[];this.loadTestFontId=0;this.loadingContext={requests:[],nextRequestId:0}}var e=a.assert,b=a.bytesToString,g=a.string32,k=a.shadow,r=a.warn;f.prototype={insertRule:function(a){var b=this.styleElement;b||(b=this.styleElement=document.createElement("style"),b.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(b));
b=b.sheet;b.insertRule(a,b.cssRules.length)},clear:function(){var a=this.styleElement;a&&(a.parentNode.removeChild(a),a=this.styleElement=null);this.nativeFontFaces.forEach(function(a){document.fonts.delete(a)});this.nativeFontFaces.length=0},get loadTestFont(){return k(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},
addNativeFontFace:function(a){this.nativeFontFaces.push(a);document.fonts.add(a)},bind:function(a,b){for(var c=[],e=[],g=[],h=function(a){return a.loaded.catch(function(b){r('Failed to load font "'+a.family+'": '+b)})},k=0,m=a.length;k<m;k++){var n=a[k];if(!n.attached&&!1!==n.loading)if(n.attached=!0,f.isFontLoadingAPISupported){if(n=n.createNativeFontFace())this.addNativeFontFace(n),g.push(h(n))}else{var y=n.createFontFaceRule();y&&(this.insertRule(y),c.push(y),e.push(n))}}var v=this.queueLoadingCallback(b);
f.isFontLoadingAPISupported?Promise.all(g).then(function(){v.complete()}):0<c.length&&!f.isSyncFontLoadingSupported?this.prepareFontLoadEvent(c,e,v):v.complete()},queueLoadingCallback:function(a){var b=this.loadingContext,c={id:"pdfjs-font-loading-"+b.nextRequestId++,complete:function(){e(!c.end,"completeRequest() cannot be called twice");for(c.end=Date.now();0<b.requests.length&&b.requests[0].end;){var a=b.requests.shift();setTimeout(a.callback,0)}},callback:a,started:Date.now()};b.requests.push(c);
return c},prepareFontLoadEvent:function(a,b,c){function e(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function f(a,b,c,d){var e=a.substr(0,b);a=a.substr(b+c);return e+d+a}function h(a,b){n++;30<n?(r("Load test font never loaded."),b()):(m.font="30px "+a,m.fillText(".",0,20),0<m.getImageData(0,0,1,1).data[3]?b():setTimeout(h.bind(null,a,b)))}var k;a=document.createElement("canvas");a.width=1;a.height=1;var m=a.getContext("2d"),n=0;a="lt"+Date.now()+
this.loadTestFontId++;var y=this.loadTestFont;y=f(y,976,a.length,a);var x=e(y,16);var d=0;for(k=a.length-3;d<k;d+=4)x=x-1482184792+e(a,d)|0;d<a.length&&(x=x-1482184792+e(a+"XXX",d)|0);y=f(y,16,4,g(x));d="url(data:font/opentype;base64,"+btoa(y)+");";this.insertRule('@font-face { font-family:"'+a+'";src:'+d+"}");y=[];d=0;for(k=b.length;d<k;d++)y.push(b[d].loadedName);y.push(a);var l=document.createElement("div");l.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
d=0;for(k=y.length;d<k;++d)b=document.createElement("span"),b.textContent="Hi",b.style.fontFamily=y[d],l.appendChild(b);document.body.appendChild(l);h(a,function(){document.body.removeChild(l);c.complete()})}};f.isFontLoadingAPISupported="undefined"!==typeof document&&!!document.fonts;Object.defineProperty(f,"isSyncFontLoadingSupported",{get:function(){if("undefined"===typeof navigator)return k(f,"isSyncFontLoadingSupported",!0);var a=!1,b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);
b&&14<=b[1]&&(a=!0);return k(f,"isSyncFontLoadingSupported",a)},enumerable:!0,configurable:!0});var w={get value(){return k(this,"value",a.isEvalSupported())}},v=function(){function a(a,b){this.compiledGlyphs=Object.create(null);for(var c in a)this[c]=a[c];this.options=b}a.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var a=new FontFace(this.loadedName,this.data,{});this.options.fontRegistry&&this.options.fontRegistry.registerFont(this);
return a},createFontFaceRule:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var a=b(new Uint8Array(this.data)),c=this.loadedName;a="url(data:"+this.mimetype+";base64,"+btoa(a)+");";c='@font-face { font-family:"'+c+'";src:'+a+"}";this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,a);return c},getPathGenerator:function(a,b){if(!(b in this.compiledGlyphs)){var c=a.get(this.loadedName+"_path_"+b),e;if(this.options.isEvalSupported&&
w.value){var f="";var g=0;for(e=c.length;g<e;g++){var h=c[g];a=void 0!==h.args?h.args.join(","):"";f+="c."+h.cmd+"("+a+");\n"}this.compiledGlyphs[b]=new Function("c","size",f)}else this.compiledGlyphs[b]=function(a,b){g=0;for(e=c.length;g<e;g++)h=c[g],"scale"===h.cmd&&(h.args=[b,-b]),a[h.cmd].apply(a,h.args)}}return this.compiledGlyphs[b]}};return a}();c.FontFaceObject=v;c.FontLoader=f});(function(c,a){a(c.pdfjsDisplayMetadata={},c.pdfjsSharedUtil)})(this,function(c,a){function f(a){return a.replace(/>\\376\\377([^<]+)/g,
function(a,b){a=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,e){return String.fromCharCode(64*b+8*c+1*e)});b="";for(var c=0;c<a.length;c+=2){var e=256*a.charCodeAt(c)+a.charCodeAt(c+1);b+="&#x"+(65536+e).toString(16).substring(1)+";"}return">"+b})}function e(a){"string"===typeof a?(a=f(a),a=(new DOMParser).parseFromString(a,"application/xml")):a instanceof Document||b("Metadata: Invalid metadata object");this.metaDocument=a;this.metadata=Object.create(null);this.parse()}var b=a.error;e.prototype=
{parse:function(){var a=this.metaDocument.documentElement;if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===b&&a.hasChildNodes()){a=a.childNodes;var c,e;var f=0;for(c=a.length;f<c;f++)if(b=a[f],"rdf:description"===b.nodeName.toLowerCase()){var g=0;for(e=b.childNodes.length;g<e;g++)if("#text"!==b.childNodes[g].nodeName.toLowerCase()){var h=b.childNodes[g];var k=h.nodeName.toLowerCase();
this.metadata[k]=h.textContent.trim()}}}},get:function(a){return this.metadata[a]||null},has:function(a){return"undefined"!==typeof this.metadata[a]}};c.Metadata=e});(function(c,a){a(c.pdfjsDisplaySVG={},c.pdfjsSharedUtil)})(this,function(c,a){var f=a.FONT_IDENTITY_MATRIX,e=a.IDENTITY_MATRIX,b=a.ImageKind,g=a.OPS,k=a.Util,r=a.isNum,w=a.isArray,v=a.warn,A=a.createObjectURL,y=function(){function a(a,b,c,f){var d=f,g=b.length;c[d]=g>>24&255;c[d+1]=g>>16&255;c[d+2]=g>>8&255;c[d+3]=g&255;d+=4;c[d]=a.charCodeAt(0)&
255;c[d+1]=a.charCodeAt(1)&255;c[d+2]=a.charCodeAt(2)&255;c[d+3]=a.charCodeAt(3)&255;d+=4;c.set(b,d);d+=b.length;a=-1;for(f+=4;f<d;f++)a=a>>>8^e[(a^c[f])&255];f=a^-1;c[d]=f>>24&255;c[d+1]=f>>16&255;c[d+2]=f>>8&255;c[d+3]=f&255}for(var c=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256),f=0;256>f;f++){for(var g=f,h=0;8>h;h++)g=g&1?3988292384^g>>1&2147483647:g>>1&2147483647;e[f]=g}return function(e,f){var d=void 0===e.kind?b.GRAYSCALE_1BPP:e.kind,g=e.width,h=e.height,k=e.data;switch(d){case b.GRAYSCALE_1BPP:var m=
0;var n=1;var q=g+7>>3;break;case b.RGB_24BPP:m=2;n=8;q=3*g;break;case b.RGBA_32BPP:m=6;n=8;q=4*g;break;default:throw Error("invalid format");}e=new Uint8Array((1+q)*h);var r=0,y=0,x;for(x=0;x<h;++x)e[r++]=0,e.set(k.subarray(y,y+q),r),y+=q,r+=q;if(d===b.GRAYSCALE_1BPP)for(x=r=0;x<h;x++)for(r++,d=0;d<q;d++)e[r++]^=255;g=new Uint8Array([g>>24&255,g>>16&255,g>>8&255,g&255,h>>24&255,h>>16&255,h>>8&255,h&255,n,m,0,0,0]);n=e.length;h=new Uint8Array(2+n+5*Math.ceil(n/65535)+4);d=0;h[d++]=120;h[d++]=156;
for(m=0;65535<n;)h[d++]=0,h[d++]=255,h[d++]=255,h[d++]=0,h[d++]=0,h.set(e.subarray(m,m+65535),d),d+=65535,m+=65535,n-=65535;h[d++]=1;h[d++]=n&255;h[d++]=n>>8&255;h[d++]=~n&255;h[d++]=(~n&65535)>>8&255;h.set(e.subarray(m),d);d+=e.length-m;n=1;for(q=m=0;q<e.length;++q)n=(n+(e[q]&255))%65521,m=(m+n)%65521;e=m<<16|n;h[d++]=e>>24&255;h[d++]=e>>16&255;h[d++]=e>>8&255;h[d++]=e&255;e=new Uint8Array(c.length+36+g.length+h.length);d=0;e.set(c,d);d+=c.length;a("IHDR",g,e,d);d+=12+g.length;a("IDATA",h,e,d);d+=
12+h.length;a("IEND",new Uint8Array(0),e,d);return A(e,"image/png",f)}}(),x=function(){function a(){this.fontSizeScale=1;this.fontWeight="normal";this.fontSize=0;this.textMatrix=e;this.fontMatrix=f;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=
[];this.clipId="";this.pendingClip=!1;this.maskId=""}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}();a=function(){function a(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");c.setAttributeNS(null,"version","1.1");c.setAttributeNS(null,"width",a+"px");c.setAttributeNS(null,"height",b+"px");c.setAttributeNS(null,"viewBox","0 0 "+a+" "+b);return c}function b(a){if(a===(a|0))return a.toString();a=a.toFixed(10);
var b=a.length-1;if("0"!==a[b])return a;do b--;while("0"===a[b]);return a.substr(0,"."===a[b]?b:b+1)}function c(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":"scale("+b(a[0])+" "+b(a[3])+")";if(a[0]===a[3]&&a[1]===-a[2])return"rotate("+b(180*Math.acos(a[0])/Math.PI)+")"}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return"translate("+b(a[4])+" "+b(a[5])+")";return"matrix("+b(a[0])+" "+b(a[1])+" "+b(a[2])+" "+b(a[3])+" "+b(a[4])+" "+b(a[5])+")"}function h(a,b,c){this.current=
new x;this.transformMatrix=e;this.transformStack=[];this.extraStack=[];this.commonObjs=a;this.objs=b;this.embedFonts=this.pendingEOFill=!1;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!c}var m=["butt","round","square"],n=["miter","round","bevel"],J=0,L=0;h.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a);this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop();this.current=
this.extraStack.pop();this.tgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix));this.pgrp.appendChild(this.tgrp)},group:function(a){this.save();this.executeOpTree(a);this.restore()},loadDependencies:function(a){var b=a.fnArray,c=b.length;a=a.argsArray;for(var d=this,e=0;e<c;e++)if(g.dependency===b[e])for(var f=a[e],h=0,k=f.length;h<k;h++){var m=f[h];var n="g_"===m.substring(0,2)?new Promise(function(a){d.commonObjs.get(m,
a)}):new Promise(function(a){d.objs.get(m,a)});this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)},transform:function(a,b,e,f,g,h){this.transformMatrix=k.transform(this.transformMatrix,[a,b,e,f,g,h]);this.tgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix))},getSVG:function(b,f){this.svg=a(f.width,f.height);this.viewport=f;return this.loadDependencies(b).then(function(){this.transformMatrix=
e;this.pgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.pgrp.setAttributeNS(null,"transform",c(f.transform));this.tgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix));this.defs=document.createElementNS("http://www.w3.org/2000/svg","svg:defs");this.pgrp.appendChild(this.defs);this.pgrp.appendChild(this.tgrp);this.svg.appendChild(this.pgrp);var a=this.convertOpList(b);this.executeOpTree(a);return this.svg}.bind(this))},
convertOpList:function(a){var b=a.argsArray,c=a.fnArray,d=c.length,e=[];a=[];for(var f in g)e[g[f]]=f;for(f=0;f<d;f++){var h=c[f];a.push({fnId:h,fn:e[h],args:b[f]})}b=[];c=[];d=a.length;for(e=0;e<d;e++)"save"===a[e].fn?(b.push({fnId:92,fn:"group",items:[]}),c.push(b),b=b[b.length-1].items):"restore"===a[e].fn?b=c.pop():b.push(a[e]);return b},executeOpTree:function(a){for(var b=a.length,c=0;c<b;c++){var d=a[c].fn,e=a[c].args;switch(a[c].fnId|0){case g.beginText:this.beginText();break;case g.setLeading:this.setLeading(e);
break;case g.setLeadingMoveText:this.setLeadingMoveText(e[0],e[1]);break;case g.setFont:this.setFont(e);break;case g.showText:this.showText(e[0]);break;case g.showSpacedText:this.showText(e[0]);break;case g.endText:this.endText();break;case g.moveText:this.moveText(e[0],e[1]);break;case g.setCharSpacing:this.setCharSpacing(e[0]);break;case g.setWordSpacing:this.setWordSpacing(e[0]);break;case g.setHScale:this.setHScale(e[0]);break;case g.setTextMatrix:this.setTextMatrix(e[0],e[1],e[2],e[3],e[4],e[5]);
break;case g.setLineWidth:this.setLineWidth(e[0]);break;case g.setLineJoin:this.setLineJoin(e[0]);break;case g.setLineCap:this.setLineCap(e[0]);break;case g.setMiterLimit:this.setMiterLimit(e[0]);break;case g.setFillRGBColor:this.setFillRGBColor(e[0],e[1],e[2]);break;case g.setStrokeRGBColor:this.setStrokeRGBColor(e[0],e[1],e[2]);break;case g.setDash:this.setDash(e[0],e[1]);break;case g.setGState:this.setGState(e[0]);break;case g.fill:this.fill();break;case g.eoFill:this.eoFill();break;case g.stroke:this.stroke();
break;case g.fillStroke:this.fillStroke();break;case g.eoFillStroke:this.eoFillStroke();break;case g.clip:this.clip("nonzero");break;case g.eoClip:this.clip("evenodd");break;case g.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case g.paintJpegXObject:this.paintJpegXObject(e[0],e[1],e[2]);break;case g.paintImageXObject:this.paintImageXObject(e[0]);break;case g.paintInlineImageXObject:this.paintInlineImageXObject(e[0]);break;case g.paintImageMaskXObject:this.paintImageMaskXObject(e[0]);
break;case g.paintFormXObjectBegin:this.paintFormXObjectBegin(e[0],e[1]);break;case g.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case g.closePath:this.closePath();break;case g.closeStroke:this.closeStroke();break;case g.closeFillStroke:this.closeFillStroke();break;case g.nextLine:this.nextLine();break;case g.transform:this.transform(e[0],e[1],e[2],e[3],e[4],e[5]);break;case g.constructPath:this.constructPath(e[0],e[1]);break;case g.endPath:this.endPath();break;case 92:this.group(a[c].items);
break;default:v("Unimplemented method "+d)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(a,c,e,f,g,h){var d=this.current;this.current.textMatrix=this.current.lineMatrix=[a,c,e,f,g,h];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;d.xcoords=[];d.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");d.tspan.setAttributeNS(null,
"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",b(d.fontSize)+"px");d.tspan.setAttributeNS(null,"y",b(-d.y));d.txtElement=document.createElementNS("http://www.w3.org/2000/svg","svg:text");d.txtElement.appendChild(d.tspan)},beginText:function(){this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;this.current.textMatrix=e;this.current.lineMatrix=e;this.current.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");this.current.txtElement=document.createElementNS("http://www.w3.org/2000/svg",
"svg:text");this.current.txtgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.current.xcoords=[]},moveText:function(a,c){var d=this.current;this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=c;d.xcoords=[];d.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",b(d.fontSize)+"px");d.tspan.setAttributeNS(null,"y",b(-d.y))},showText:function(a){var d=
this.current,e=d.fontSize;if(0!==e){var f=d.charSpacing,g=d.wordSpacing,h=d.fontDirection,k=d.textHScale*h,m=a.length,n=d.font.vertical,q=e*d.fontMatrix[0],x=0,y;for(y=0;y<m;++y){var v=a[y];if(null===v)x+=h*g;else if(r(v))x+=-v*e*.001;else{d.xcoords.push(d.x+x*k);var w=v.fontChar;x+=v.width*q+f*h;d.tspan.textContent+=w}}n?d.y-=x*k:d.x+=x*k;d.tspan.setAttributeNS(null,"x",d.xcoords.map(b).join(" "));d.tspan.setAttributeNS(null,"y",b(-d.y));d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,
"font-size",b(d.fontSize)+"px");"normal"!==d.fontStyle&&d.tspan.setAttributeNS(null,"font-style",d.fontStyle);"normal"!==d.fontWeight&&d.tspan.setAttributeNS(null,"font-weight",d.fontWeight);"#000000"!==d.fillColor&&d.tspan.setAttributeNS(null,"fill",d.fillColor);d.txtElement.setAttributeNS(null,"transform",c(d.textMatrix)+" scale(1, -1)");d.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");d.txtElement.appendChild(d.tspan);d.txtgrp.appendChild(d.txtElement);
this.tgrp.appendChild(d.txtElement)}},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=document.createElementNS("http://www.w3.org/2000/svg","svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=A(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+a.loadedName+'"; src: url('+b+"); }\n"},setFont:function(a){var c=this.current,
d=this.commonObjs.get(a[0]);a=a[1];this.current.font=d;this.embedFonts&&d.data&&!this.embeddedFonts[d.loadedName]&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d);c.fontMatrix=d.fontMatrix?d.fontMatrix:f;var e=d.black?d.bold?"bolder":"bold":d.bold?"bold":"normal",g=d.italic?"italic":"normal";0>a?(a=-a,c.fontDirection=-1):c.fontDirection=1;c.fontSize=a;c.fontFamily=d.loadedName;c.fontWeight=e;c.fontStyle=g;c.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");c.tspan.setAttributeNS(null,
"y",b(-c.y));c.xcoords=[]},endText:function(){this.current.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp);this.tgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix))},setLineWidth:function(a){this.current.lineWidth=a},setLineCap:function(a){this.current.lineCap=m[a]},setLineJoin:function(a){this.current.lineJoin=n[a]},setMiterLimit:function(a){this.current.miterLimit=
a},setStrokeRGBColor:function(a,b,c){a=k.makeCssRgb(a,b,c);this.current.strokeColor=a},setFillRGBColor:function(a,b,c){a=k.makeCssRgb(a,b,c);this.current.fillColor=a;this.current.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");this.current.xcoords=[]},setDash:function(a,b){this.current.dashArray=a;this.current.dashPhase=b},constructPath:function(a,c){var d=this.current,e=d.x,f=d.y;d.path=document.createElementNS("http://www.w3.org/2000/svg","svg:path");for(var h=[],k=a.length,
l=0,m=0;l<k;l++)switch(a[l]|0){case g.rectangle:e=c[m++];f=c[m++];var n=c[m++],q=c[m++];n=e+n;q=f+q;h.push("M",b(e),b(f),"L",b(n),b(f),"L",b(n),b(q),"L",b(e),b(q),"Z");break;case g.moveTo:e=c[m++];f=c[m++];h.push("M",b(e),b(f));break;case g.lineTo:e=c[m++];f=c[m++];h.push("L",b(e),b(f));break;case g.curveTo:e=c[m+4];f=c[m+5];h.push("C",b(c[m]),b(c[m+1]),b(c[m+2]),b(c[m+3]),b(e),b(f));m+=6;break;case g.curveTo2:e=c[m+2];f=c[m+3];h.push("C",b(e),b(f),b(c[m]),b(c[m+1]),b(c[m+2]),b(c[m+3]));m+=4;break;
case g.curveTo3:e=c[m+2];f=c[m+3];h.push("C",b(c[m]),b(c[m+1]),b(e),b(f),b(e),b(f));m+=4;break;case g.closePath:h.push("Z")}d.path.setAttributeNS(null,"d",h.join(" "));d.path.setAttributeNS(null,"stroke-miterlimit",b(d.miterLimit));d.path.setAttributeNS(null,"stroke-linecap",d.lineCap);d.path.setAttributeNS(null,"stroke-linejoin",d.lineJoin);d.path.setAttributeNS(null,"stroke-width",b(d.lineWidth)+"px");d.path.setAttributeNS(null,"stroke-dasharray",d.dashArray.map(b).join(" "));d.path.setAttributeNS(null,
"stroke-dashoffset",b(d.dashPhase)+"px");d.path.setAttributeNS(null,"fill","none");this.tgrp.appendChild(d.path);d.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp);d.element=d.path;d.setCurrentPoint(e,f)},endPath:function(){this.current.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp);this.tgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.tgrp.setAttributeNS(null,
"transform",c(this.transformMatrix))},clip:function(a){var b=this.current;b.clipId="clippath"+J;J++;this.clippath=document.createElementNS("http://www.w3.org/2000/svg","svg:clipPath");this.clippath.setAttributeNS(null,"id",b.clipId);var d=b.element.cloneNode();"evenodd"===a?d.setAttributeNS(null,"clip-rule","evenodd"):d.setAttributeNS(null,"clip-rule","nonzero");this.clippath.setAttributeNS(null,"transform",c(this.transformMatrix));this.clippath.appendChild(d);this.defs.appendChild(this.clippath);
b.pendingClip=!0;this.cgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.cgrp.setAttributeNS(null,"clip-path","url(#"+b.clipId+")");this.pgrp.appendChild(this.cgrp)},closePath:function(){var a=this.current,b=a.path.getAttributeNS(null,"d");a.path.setAttributeNS(null,"d",b+"Z")},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=
a[b],e=d[1];switch(d[0]){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],e[1]);break;case "Font":this.setFont(e)}}},fill:function(){var a=this.current;a.element.setAttributeNS(null,"fill",a.fillColor)},stroke:function(){var a=this.current;a.element.setAttributeNS(null,"stroke",a.strokeColor);a.element.setAttributeNS(null,"fill","none")},eoFill:function(){var a=this.current;
a.element.setAttributeNS(null,"fill",a.fillColor);a.element.setAttributeNS(null,"fill-rule","evenodd")},fillStroke:function(){this.stroke();this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function(){this.closePath();this.stroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},paintSolidColorImageMask:function(){var a=this.current,b=document.createElementNS("http://www.w3.org/2000/svg","svg:rect");
b.setAttributeNS(null,"x","0");b.setAttributeNS(null,"y","0");b.setAttributeNS(null,"width","1px");b.setAttributeNS(null,"height","1px");b.setAttributeNS(null,"fill",a.fillColor);this.tgrp.appendChild(b)},paintJpegXObject:function(a,c,e){var d=this.current;a=this.objs.get(a);var f=document.createElementNS("http://www.w3.org/2000/svg","svg:image");f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);f.setAttributeNS(null,"width",a.width+"px");f.setAttributeNS(null,"height",a.height+
"px");f.setAttributeNS(null,"x","0");f.setAttributeNS(null,"y",b(-e));f.setAttributeNS(null,"transform","scale("+b(1/c)+" "+b(-1/e)+")");this.tgrp.appendChild(f);d.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp)},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):v("Dependent image isn't ready yet")},paintInlineImageXObject:function(a,c){var d=this.current,e=a.width,f=a.height;a=y(a,this.forceDataSchema);
var g=document.createElementNS("http://www.w3.org/2000/svg","svg:rect");g.setAttributeNS(null,"x","0");g.setAttributeNS(null,"y","0");g.setAttributeNS(null,"width",b(e));g.setAttributeNS(null,"height",b(f));d.element=g;this.clip("nonzero");g=document.createElementNS("http://www.w3.org/2000/svg","svg:image");g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);g.setAttributeNS(null,"x","0");g.setAttributeNS(null,"y",b(-f));g.setAttributeNS(null,"width",b(e)+"px");g.setAttributeNS(null,"height",
b(f)+"px");g.setAttributeNS(null,"transform","scale("+b(1/e)+" "+b(-1/f)+")");c?c.appendChild(g):this.tgrp.appendChild(g);d.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp)},paintImageMaskXObject:function(a){var c=this.current,d=a.width,e=a.height,f=c.fillColor;c.maskId="mask"+L++;var g=document.createElementNS("http://www.w3.org/2000/svg","svg:mask");g.setAttributeNS(null,"id",c.maskId);var h=document.createElementNS("http://www.w3.org/2000/svg",
"svg:rect");h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y","0");h.setAttributeNS(null,"width",b(d));h.setAttributeNS(null,"height",b(e));h.setAttributeNS(null,"fill",f);h.setAttributeNS(null,"mask","url(#"+c.maskId+")");this.defs.appendChild(g);this.tgrp.appendChild(h);this.paintInlineImageXObject(a,g)},paintFormXObjectBegin:function(a,c){this.save();w(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);if(w(c)&&4===c.length){a=c[2]-c[0];var d=c[3]-c[1],e=document.createElementNS("http://www.w3.org/2000/svg",
"svg:rect");e.setAttributeNS(null,"x",c[0]);e.setAttributeNS(null,"y",c[1]);e.setAttributeNS(null,"width",b(a));e.setAttributeNS(null,"height",b(d));this.current.element=e;this.clip("nonzero");this.endPath()}},paintFormXObjectEnd:function(){this.restore()}};return h}();c.SVGGraphics=a});(function(c,a){a(c.pdfjsDisplayAnnotationLayer={},c.pdfjsSharedUtil,c.pdfjsDisplayDOMUtils)})(this,function(c,a,g){function e(){}var b=a.AnnotationBorderStyleType,f=a.AnnotationType,h=a.Util,k=g.addLinkAttributes,
w=g.LinkTarget,v=g.getFilenameFromUrl,A=a.warn,y=g.CustomStyle,x=g.getDefaultSetting;e.prototype={create:function(a){switch(a.data.annotationType){case f.LINK:return new B(a);case f.TEXT:return new C(a);case f.WIDGET:return new E(a);case f.POPUP:return new I(a);case f.HIGHLIGHT:return new J(a);case f.UNDERLINE:return new L(a);case f.SQUIGGLY:return new d(a);case f.STRIKEOUT:return new l(a);case f.FILEATTACHMENT:return new z(a);default:return new q(a)}}};var q=function(){function a(a,b){this.isRenderable=
b||!1;this.data=a.data;this.layer=a.layer;this.page=a.page;this.viewport=a.viewport;this.linkService=a.linkService;this.downloadManager=a.downloadManager;this.imageResourcesPath=a.imageResourcesPath;b&&(this.container=this._createContainer())}a.prototype={_createContainer:function(){var a=this.data,c=this.page,d=this.viewport,e=document.createElement("section"),f=a.rect[2]-a.rect[0],g=a.rect[3]-a.rect[1];e.setAttribute("data-annotation-id",a.id);c=h.normalizeRect([a.rect[0],c.view[3]-a.rect[1]+c.view[1],
a.rect[2],c.view[3]-a.rect[3]+c.view[1]]);y.setProp("transform",e,"matrix("+d.transform.join(",")+")");y.setProp("transformOrigin",e,-c[0]+"px "+-c[1]+"px");if(0<a.borderStyle.width){e.style.borderWidth=a.borderStyle.width+"px";a.borderStyle.style!==b.UNDERLINE&&(f-=2*a.borderStyle.width,g-=2*a.borderStyle.width);d=a.borderStyle.horizontalCornerRadius;var k=a.borderStyle.verticalCornerRadius;(0<d||0<k)&&y.setProp("borderRadius",e,d+"px / "+k+"px");switch(a.borderStyle.style){case b.SOLID:e.style.borderStyle=
"solid";break;case b.DASHED:e.style.borderStyle="dashed";break;case b.BEVELED:A("Unimplemented border style: beveled");break;case b.INSET:A("Unimplemented border style: inset");break;case b.UNDERLINE:e.style.borderBottomStyle="solid"}a.color?e.style.borderColor=h.makeCssRgb(a.color[0]|0,a.color[1]|0,a.color[2]|0):e.style.borderWidth=0}e.style.left=c[0]+"px";e.style.top=c[1]+"px";e.style.width=f+"px";e.style.height=g+"px";return e},_createPopup:function(a,b,c){b||(b=document.createElement("div"),b.style.height=
a.style.height,b.style.width=a.style.width,a.appendChild(b));b=(new F({container:a,trigger:b,color:c.color,title:c.title,contents:c.contents,hideWrapper:!0})).render();b.style.left=a.style.width;a.appendChild(b)},render:function(){throw Error("Abstract method AnnotationElement.render called");}};return a}(),B=function(){function a(a){q.call(this,a,!0)}h.inherit(a,q,{render:function(){this.container.className="linkAnnotation";var a=document.createElement("a");k(a,{url:this.data.url,target:this.data.newWindow?
w.BLANK:void 0});this.data.url||(this.data.action?this._bindNamedAction(a,this.data.action):this._bindLink(a,this.data.dest||null));this.container.appendChild(a);return this.container},_bindLink:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b);a.onclick=function(){b&&c.linkService.navigateTo(b);return!1};b&&(a.className="internalLink")},_bindNamedAction:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl("");a.onclick=function(){c.linkService.executeNamedAction(b);
return!1};a.className="internalLink"}});return a}(),C=function(){function a(a){q.call(this,a,!!(a.data.hasPopup||a.data.title||a.data.contents))}h.inherit(a,q,{render:function(){this.container.className="textAnnotation";var a=document.createElement("img");a.style.height=this.container.style.height;a.style.width=this.container.style.width;a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";a.alt="[{{type}} Annotation]";a.dataset.l10nId="text_annotation_type";a.dataset.l10nArgs=
JSON.stringify({type:this.data.name});this.data.hasPopup||this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container}});return a}(),E=function(){function a(a){q.call(this,a,!a.data.hasAppearance&&!!a.data.fieldValue)}h.inherit(a,q,{render:function(){var a=document.createElement("div");a.textContent=this.data.fieldValue;a.style.textAlign=["left","center","right"][this.data.textAlignment];a.style.verticalAlign="middle";a.style.display="table-cell";var b=this.data.fontRefName?
this.page.commonObjs.getData(this.data.fontRefName):null;this._setTextStyle(a,b);this.container.appendChild(a);return this.container},_setTextStyle:function(a,b){a=a.style;a.fontSize=this.data.fontSize+"px";a.direction=0>this.data.fontDirection?"rtl":"ltr";b&&(a.fontWeight=b.black?b.bold?"900":"bold":b.bold?"bold":"normal",a.fontStyle=b.italic?"italic":"normal",a.fontFamily=(b.loadedName?'"'+b.loadedName+'", ':"")+(b.fallbackName||"Helvetica, sans-serif"))}});return a}(),I=function(){function a(a){q.call(this,
a,!(!a.data.title&&!a.data.contents))}h.inherit(a,q,{render:function(){this.container.className="popupAnnotation";var a=this.layer.querySelector('[data-annotation-id="'+this.data.parentId+'"]');if(!a)return this.container;var b=new F({container:this.container,trigger:a,color:this.data.color,title:this.data.title,contents:this.data.contents}),c=parseFloat(a.style.left),d=parseFloat(a.style.width);y.setProp("transformOrigin",this.container,-(c+d)+"px -"+a.style.top);this.container.style.left=c+d+"px";
this.container.appendChild(b.render());return this.container}});return a}(),F=function(){function a(a){this.container=a.container;this.trigger=a.trigger;this.color=a.color;this.title=a.title;this.contents=a.contents;this.hideWrapper=a.hideWrapper||!1;this.pinned=!1}a.prototype={render:function(){var a=document.createElement("div");a.className="popupWrapper";this.hideElement=this.hideWrapper?a:this.container;this.hideElement.setAttribute("hidden",!0);var b=document.createElement("div");b.className=
"popup";var c=this.color;c&&(b.style.backgroundColor=h.makeCssRgb(.7*(255-c[0])+c[0]|0,.7*(255-c[1])+c[1]|0,.7*(255-c[2])+c[2]|0));c=this._formatContents(this.contents);var d=document.createElement("h1");d.textContent=this.title;this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,!1));this.trigger.addEventListener("mouseout",this._hide.bind(this,!1));b.addEventListener("click",this._hide.bind(this,!0));b.appendChild(d);b.appendChild(c);
a.appendChild(b);return a},_formatContents:function(a){var b=document.createElement("p");a=a.split(/(?:\r\n?|\n)/);for(var c=0,d=a.length;c<d;++c)b.appendChild(document.createTextNode(a[c])),c<d-1&&b.appendChild(document.createElement("br"));return b},_toggle:function(){this.pinned?this._hide(!0):this._show(!0)},_show:function(a){a&&(this.pinned=!0);this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)},_hide:function(a){a&&(this.pinned=
!1);this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),--this.container.style.zIndex)}};return a}(),J=function(){function a(a){q.call(this,a,!!(a.data.hasPopup||a.data.title||a.data.contents))}h.inherit(a,q,{render:function(){this.container.className="highlightAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}});return a}(),L=function(){function a(a){q.call(this,a,!!(a.data.hasPopup||a.data.title||
a.data.contents))}h.inherit(a,q,{render:function(){this.container.className="underlineAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}});return a}(),d=function(){function a(a){q.call(this,a,!!(a.data.hasPopup||a.data.title||a.data.contents))}h.inherit(a,q,{render:function(){this.container.className="squigglyAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}});return a}(),l=function(){function a(a){q.call(this,
a,!!(a.data.hasPopup||a.data.title||a.data.contents))}h.inherit(a,q,{render:function(){this.container.className="strikeoutAnnotation";this.data.hasPopup||this._createPopup(this.container,null,this.data);return this.container}});return a}(),z=function(){function a(a){q.call(this,a,!0);this.filename=v(a.data.file.filename);this.content=a.data.file.content}h.inherit(a,q,{render:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");a.style.height=this.container.style.height;
a.style.width=this.container.style.width;a.addEventListener("dblclick",this._download.bind(this));this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,a,this.data);this.container.appendChild(a);return this.container},_download:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):A("Download cannot be started due to unavailable download manager")}});return a}();a=function(){return{render:function(a){for(var b=new e,
c=0,d=a.annotations.length;c<d;c++){var f=a.annotations[c];f&&(f={data:f,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||x("imageResourcesPath")},f=b.create(f),f.isRenderable&&a.div.appendChild(f.render()))}},update:function(a){for(var b=0,c=a.annotations.length;b<c;b++){var d=a.div.querySelector('[data-annotation-id="'+a.annotations[b].id+'"]');d&&y.setProp("transform",d,"matrix("+a.viewport.transform.join(",")+
")")}a.div.removeAttribute("hidden")}}}();c.AnnotationLayer=a});(function(c,a){a(c.pdfjsDisplayTextLayer={},c.pdfjsSharedUtil,c.pdfjsDisplayDOMUtils)})(this,function(c,a,g){var e=a.Util,b=a.createPromiseCapability,f=g.CustomStyle,h=g.getDefaultSetting;a=function(){function a(a,b,c,f){f=f[c.fontName];var g=document.createElement("div");a.push(g);if(k.test(c.str)){var m=e.transform(b.transform,c.transform);a=Math.atan2(m[1],m[0]);f.vertical&&(a+=Math.PI/2);var n=Math.sqrt(m[2]*m[2]+m[3]*m[3]),q=n;f.ascent?
q*=f.ascent:f.descent&&(q*=1+f.descent);if(0===a){var r=m[4];m=m[5]-q}else r=m[4]+q*Math.sin(a),m=m[5]-q*Math.cos(a);g.style.left=r+"px";g.style.top=m+"px";g.style.fontSize=n+"px";g.style.fontFamily=f.fontFamily;g.textContent=c.str;h("pdfBug")&&(g.dataset.fontName=c.fontName);0!==a&&(g.dataset.angle=180/Math.PI*a);1<c.str.length&&(g.dataset.canvasWidth=f.vertical?c.height*b.scale:c.width*b.scale)}else g.dataset.isWhitespace=!0}function c(a){if(!a._canceled){var b=a._container,c=a._textDivs;a=a._capability;
var e=c.length;if(!(1E5<e)){var g=document.createElement("canvas");g.mozOpaque=!0;g=g.getContext("2d",{alpha:!1});for(var h,k,m=0;m<e;m++){var n=c[m];if(void 0===n.dataset.isWhitespace){var r=n.style.fontSize,d=n.style.fontFamily;if(r!==h||d!==k)g.font=r+" "+d,h=r,k=d;r=g.measureText(n.textContent).width;0<r&&(b.appendChild(n),r=void 0!==n.dataset.canvasWidth?"scaleX("+n.dataset.canvasWidth/r+")":"",(d=n.dataset.angle)&&(r="rotate("+d+"deg) "+r),r&&f.setProp("transform",n,r))}}}a.resolve()}}function g(a,
c,e,f){this._textContent=a;this._container=c;this._viewport=e;this._textDivs=f=f||[];this._canceled=!1;this._capability=b();this._renderTimer=null}var k=/\S/;g.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0;null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null);this._capability.reject("canceled")},_render:function(b){for(var e=this._textContent.items,f=this._textContent.styles,g=this._textDivs,h=this._viewport,k=0,m=e.length;k<
m;k++)a(g,h,e[k],f);if(b){var n=this;this._renderTimer=setTimeout(function(){c(n);n._renderTimer=null},b)}else c(this)}};return function(a){var b=new g(a.textContent,a.container,a.viewport,a.textDivs);b._render(a.timeout);return b}}();c.renderTextLayer=a});(function(c,a){a(c.pdfjsDisplayWebGL={},c.pdfjsSharedUtil,c.pdfjsDisplayDOMUtils)})(this,function(c,a,g){var e=a.shadow,b=g.getDefaultSetting;a=function(){function a(a,b,c){c=a.createShader(c);a.shaderSource(c,b);a.compileShader(c);if(!a.getShaderParameter(c,
a.COMPILE_STATUS))throw a=a.getShaderInfoLog(c),Error("Error during shader compilation: "+a);return c}function c(a,b){for(var c=a.createProgram(),e=0,f=b.length;e<f;++e)a.attachShader(c,b[e]);a.linkProgram(c);if(!a.getProgramParameter(c,a.LINK_STATUS))throw a=a.getProgramInfoLog(c),Error("Error during program linking: "+a);return c}function f(a,b,c){a.activeTexture(c);c=a.createTexture();a.bindTexture(a.TEXTURE_2D,c);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return c}function g(){h||(k=document.createElement("canvas"),h=k.getContext("webgl",{premultipliedalpha:!1}))}var h,k,y=null,x=null;return{get isEnabled(){if(b("disableWebGL"))return!1;var a=!1;try{g(),a=!!h}catch(B){}return e(this,"isEnabled",a)},composeSMask:function(b,e,m){var n=b.width,
q=b.height;if(!y){g();var r=k;k=null;var x=h;h=null;var v=a(x,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
x.VERTEX_SHADER),d=a(x,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
x.FRAGMENT_SHADER),l=c(x,[v,d]);x.useProgram(l);v={};v.gl=x;v.canvas=r;v.resolutionLocation=x.getUniformLocation(l,"u_resolution");v.positionLocation=x.getAttribLocation(l,"a_position");v.backdropLocation=x.getUniformLocation(l,"u_backdrop");v.subtypeLocation=x.getUniformLocation(l,"u_subtype");r=x.getAttribLocation(l,"a_texCoord");d=x.getUniformLocation(l,"u_image");l=x.getUniformLocation(l,"u_mask");var w=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,w);x.bufferData(x.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),x.STATIC_DRAW);x.enableVertexAttribArray(r);x.vertexAttribPointer(r,2,x.FLOAT,!1,0,0);x.uniform1i(d,0);x.uniform1i(l,1);y=v}x=y;v=x.canvas;r=x.gl;v.width=n;v.height=q;r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight);r.uniform2f(x.resolutionLocation,n,q);m.backdrop?r.uniform4f(x.resolutionLocation,m.backdrop[0],m.backdrop[1],m.backdrop[2],1):r.uniform4f(x.resolutionLocation,0,0,0,0);r.uniform1i(x.subtypeLocation,"Luminosity"===m.subtype?1:0);b=f(r,b,r.TEXTURE0);e=
f(r,e,r.TEXTURE1);m=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,m);r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,0,n,0,0,q,0,q,n,0,n,q]),r.STATIC_DRAW);r.enableVertexAttribArray(x.positionLocation);r.vertexAttribPointer(x.positionLocation,2,r.FLOAT,!1,0,0);r.clearColor(0,0,0,0);r.enable(r.BLEND);r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);r.clear(r.COLOR_BUFFER_BIT);r.drawArrays(r.TRIANGLES,0,6);r.flush();r.deleteTexture(b);r.deleteTexture(e);r.deleteBuffer(m);return v},drawFigures:function(b,e,f,
m,n){if(!x){g();var q=k;k=null;var r=h;h=null;var v=a(r,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
r.VERTEX_SHADER),d=a(r,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",r.FRAGMENT_SHADER);v=c(r,[v,
d]);r.useProgram(v);d={};d.gl=r;d.canvas=q;d.resolutionLocation=r.getUniformLocation(v,"u_resolution");d.scaleLocation=r.getUniformLocation(v,"u_scale");d.offsetLocation=r.getUniformLocation(v,"u_offset");d.positionLocation=r.getAttribLocation(v,"a_position");d.colorLocation=r.getAttribLocation(v,"a_color");x=d}q=x;r=q.canvas;v=q.gl;r.width=b;r.height=e;v.viewport(0,0,v.drawingBufferWidth,v.drawingBufferHeight);v.uniform2f(q.resolutionLocation,b,e);b=0;var l;var y=0;for(l=m.length;y<l;y++)switch(m[y].type){case "lattice":var w=
m[y].coords.length/m[y].verticesPerRow|0;b+=(w-1)*(m[y].verticesPerRow-1)*6;break;case "triangles":b+=m[y].coords.length}d=new Float32Array(2*b);e=new Uint8Array(3*b);var A=n.coords,B=n.colors,C=0,E=0;y=0;for(l=m.length;y<l;y++){w=m[y];var I=w.coords,ea=w.colors;switch(w.type){case "lattice":var Y=w.verticesPerRow;w=I.length/Y|0;for(var aa=1;aa<w;aa++)for(var O=aa*Y+1,fa=1;fa<Y;fa++,O++)d[C]=A[I[O-Y-1]],d[C+1]=A[I[O-Y-1]+1],d[C+2]=A[I[O-Y]],d[C+3]=A[I[O-Y]+1],d[C+4]=A[I[O-1]],d[C+5]=A[I[O-1]+1],e[E]=
B[ea[O-Y-1]],e[E+1]=B[ea[O-Y-1]+1],e[E+2]=B[ea[O-Y-1]+2],e[E+3]=B[ea[O-Y]],e[E+4]=B[ea[O-Y]+1],e[E+5]=B[ea[O-Y]+2],e[E+6]=B[ea[O-1]],e[E+7]=B[ea[O-1]+1],e[E+8]=B[ea[O-1]+2],d[C+6]=d[C+2],d[C+7]=d[C+3],d[C+8]=d[C+4],d[C+9]=d[C+5],d[C+10]=A[I[O]],d[C+11]=A[I[O]+1],e[E+9]=e[E+3],e[E+10]=e[E+4],e[E+11]=e[E+5],e[E+12]=e[E+6],e[E+13]=e[E+7],e[E+14]=e[E+8],e[E+15]=B[ea[O]],e[E+16]=B[ea[O]+1],e[E+17]=B[ea[O]+2],C+=12,E+=18;break;case "triangles":for(w=0,Y=I.length;w<Y;w++)d[C]=A[I[w]],d[C+1]=A[I[w]+1],e[E]=
B[ea[w]],e[E+1]=B[ea[w]+1],e[E+2]=B[ea[w]+2],C+=2,E+=3}}f?v.clearColor(f[0]/255,f[1]/255,f[2]/255,1):v.clearColor(0,0,0,0);v.clear(v.COLOR_BUFFER_BIT);f=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,f);v.bufferData(v.ARRAY_BUFFER,d,v.STATIC_DRAW);v.enableVertexAttribArray(q.positionLocation);v.vertexAttribPointer(q.positionLocation,2,v.FLOAT,!1,0,0);m=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,m);v.bufferData(v.ARRAY_BUFFER,e,v.STATIC_DRAW);v.enableVertexAttribArray(q.colorLocation);v.vertexAttribPointer(q.colorLocation,
3,v.UNSIGNED_BYTE,!1,0,0);v.uniform2f(q.scaleLocation,n.scaleX,n.scaleY);v.uniform2f(q.offsetLocation,n.offsetX,n.offsetY);v.drawArrays(v.TRIANGLES,0,b);v.flush();v.deleteBuffer(f);v.deleteBuffer(m);return r},clear:function(){y&&y.canvas&&(y.canvas.width=0,y.canvas.height=0);x&&x.canvas&&(x.canvas.width=0,x.canvas.height=0);x=y=null}}}();c.WebGLUtils=a});(function(c,a){a(c.pdfjsDisplayPatternHelper={},c.pdfjsSharedUtil,c.pdfjsDisplayWebGL)})(this,function(c,a,g){var e=a.Util,b=a.info,f=a.isArray,
h=a.error,k=g.WebGLUtils,w={RadialAxial:{fromIR:function(a){var b=a[1],c=a[2],e=a[3],f=a[4],g=a[5],h=a[6];return{type:"Pattern",getPattern:function(a){var k;"axial"===b?k=a.createLinearGradient(e[0],e[1],f[0],f[1]):"radial"===b&&(k=a.createRadialGradient(e[0],e[1],g,f[0],f[1],h));a=0;for(var m=c.length;a<m;++a){var n=c[a];k.addColorStop(n[0],n[1])}return k}}}}},v=function(){function a(a,b,c,e,f,g,h,k){var m=b.coords,n=b.colors,d=a.data;a=4*a.width;if(m[c+1]>m[e+1]){var l=c;c=e;e=l;l=g;g=h;h=l}m[e+
1]>m[f+1]&&(l=e,e=f,f=l,l=h,h=k,k=l);m[c+1]>m[e+1]&&(l=c,c=e,e=l,l=g,g=h,h=l);l=(m[c]+b.offsetX)*b.scaleX;c=(m[c+1]+b.offsetY)*b.scaleY;var q=(m[e]+b.offsetX)*b.scaleX;e=(m[e+1]+b.offsetY)*b.scaleY;var r=(m[f]+b.offsetX)*b.scaleX;b=(m[f+1]+b.offsetY)*b.scaleY;if(!(c>=b)){f=n[g];m=n[g+1];g=n[g+2];var v=n[h],x=n[h+1];h=n[h+2];var w=n[k],y=n[k+1];k=n[k+2];n=Math.round(b);for(var A,B,C,aa,O,E,F,I,ha,ua=Math.round(c);ua<=n;ua++){ua<e?(ha=ua<c?0:c===e?1:(c-ua)/(c-e),A=l-(l-q)*ha,B=f-(f-v)*ha,C=m-(m-x)*
ha,aa=g-(g-h)*ha):(ha=ua>b?1:e===b?0:(e-ua)/(e-b),A=q-(q-r)*ha,B=v-(v-w)*ha,C=x-(x-y)*ha,aa=h-(h-k)*ha);ha=ua<c?0:ua>b?1:(c-ua)/(c-b);O=l-(l-r)*ha;E=f-(f-w)*ha;F=m-(m-y)*ha;I=g-(g-k)*ha;ha=Math.round(Math.min(A,O));for(var Xa=Math.round(Math.max(A,O)),fb=a*ua+4*ha,Ub=ha;Ub<=Xa;Ub++)ha=(A-Ub)/(A-O),ha=0>ha?0:1<ha?1:ha,d[fb++]=B-(B-E)*ha|0,d[fb++]=C-(C-F)*ha|0,d[fb++]=aa-(aa-I)*ha|0,d[fb++]=255}}}return function(b,c,e,f,g,m,n){var q=Math.floor(b[0]),r=Math.floor(b[1]),v=Math.ceil(b[2])-q;b=Math.ceil(b[3])-
r;var d=Math.min(Math.ceil(Math.abs(v*c[0]*1.1)),3E3);c=Math.min(Math.ceil(Math.abs(b*c[1]*1.1)),3E3);v/=d;b/=c;e={coords:e,colors:f,offsetX:-q,offsetY:-r,scaleX:1/v,scaleY:1/b};f=d+4;var l=c+4;if(k.isEnabled)g=k.drawFigures(d,c,m,g,e),n=n.getCanvas("mesh",f,l,!1),n.context.drawImage(g,2,2);else{n=n.getCanvas("mesh",f,l,!1);f=n.context;c=f.createImageData(d,c);if(m){var x=c.data;d=0;for(l=x.length;d<l;d+=4)x[d]=m[0],x[d+1]=m[1],x[d+2]=m[2],x[d+3]=255}for(d=0;d<g.length;d++){m=c;var w=g[d];l=e;x=w.coords;
var y=w.colors;switch(w.type){case "lattice":var A=w.verticesPerRow;var B=Math.floor(x.length/A)-1,C=A-1;for(w=0;w<B;w++)for(var E=w*A,I=0;I<C;I++,E++)a(m,l,x[E],x[E+1],x[E+A],y[E],y[E+1],y[E+A]),a(m,l,x[E+A+1],x[E+1],x[E+A],y[E+A+1],y[E+1],y[E+A]);break;case "triangles":w=0;for(A=x.length;w<A;w+=3)a(m,l,x[w],x[w+1],x[w+2],y[w],y[w+1],y[w+2]);break;default:h("illigal figure")}}f.putImageData(c,2,2)}g=n.canvas;return{canvas:g,offsetX:q-2*v,offsetY:r-2*b,scaleX:v,scaleY:b}}}();w.Mesh={fromIR:function(a){var b=
a[2],c=a[3],f=a[4],g=a[5],h=a[6],k=a[8];return{type:"Pattern",getPattern:function(a,m,n){if(n)var q=e.singularValueDecompose2dScale(a.mozCurrentTransform);else if(q=e.singularValueDecompose2dScale(m.baseTransform),h){var d=e.singularValueDecompose2dScale(h);q=[q[0]*d[0],q[1]*d[1]]}q=v(g,q,b,c,f,n?null:k,m.cachedCanvases);n||(a.setTransform.apply(a,m.baseTransform),h&&a.transform.apply(a,h));a.translate(q.offsetX,q.offsetY);a.scale(q.scaleX,q.scaleY);return a.createPattern(q.canvas,"no-repeat")}}}};
w.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};a=function(){function a(a,b,c,e,f){this.operatorList=a[2];this.matrix=a[3]||[1,0,0,1,0,0];this.bbox=a[4];this.xstep=a[5];this.ystep=a[6];this.paintType=a[7];this.tilingType=a[8];this.color=b;this.canvasGraphicsFactory=e;this.baseTransform=f;this.type="Pattern";this.ctx=c}a.prototype={createPatternCanvas:function(a){var c=this.operatorList,f=this.bbox,g=this.xstep,h=this.ystep,k=this.paintType,m=this.color,n=
this.canvasGraphicsFactory;b("TilingType: "+this.tilingType);var r=f[0],v=f[1],d=f[2],l=f[3],w=[r,v],y=[r+g,v+h],A=y[0]-w[0];y=y[1]-w[1];var T=e.singularValueDecompose2dScale(this.matrix),ja=e.singularValueDecompose2dScale(this.baseTransform);T=[T[0]*ja[0],T[1]*ja[1]];A=Math.min(Math.ceil(Math.abs(A*T[0])),3E3);y=Math.min(Math.ceil(Math.abs(y*T[1])),3E3);T=a.cachedCanvases.getCanvas("pattern",A,y,!0);ja=T.context;n=n.createCanvasGraphics(ja);n.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(ja,
k,m);this.setScale(A,y,g,h);this.transformToScale(n);n.transform.apply(n,[1,0,0,1,-w[0],-w[1]]);this.clipBbox(n,f,r,v,d,l);n.executeOperatorList(c);return T.canvas},setScale:function(a,b,c,e){this.scale=[a/c,b/e]},transformToScale:function(a){var b=this.scale;a.transform.apply(a,[b[0],0,0,b[1],0,0])},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,c,e,g,h){b&&f(b)&&4===b.length&&(a.ctx.rect(c,e,g-c,h-e),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,
b,c){switch(b){case 1:b=this.ctx;a.fillStyle=b.fillStyle;a.strokeStyle=b.strokeStyle;break;case 2:b=e.makeCssRgb(c[0],c[1],c[2]);a.fillStyle=b;a.strokeStyle=b;break;default:h("Unsupported paint type: "+b)}},getPattern:function(a,b){b=this.createPatternCanvas(b);a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);this.scaleToContext();return a.createPattern(b,"repeat")}};return a}();c.getShadingPatternFromIR=function(a){var b=w[a[0]];b||h("Unknown IR type: "+a[0]);
return b.fromIR(a)};c.TilingPattern=a});(function(c,a){a(c.pdfjsDisplayCanvas={},c.pdfjsSharedUtil,c.pdfjsDisplayDOMUtils,c.pdfjsDisplayPatternHelper,c.pdfjsDisplayWebGL)})(this,function(c,a,g,e,b){function f(a,b){var c=document.createElement("canvas");c.width=a;c.height=b;return c}function h(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=
a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4];a=a[5];var g=b*e-c*d,h=c*d-b*e;return[e/g,c/h,d/h,b/g,(e*f-d*a)/h,(c*f-b*a)/g]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,
6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4];c[5]=c[1]*a+c[3]*b+c[5];this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]*=a;c[1]*=a;c[2]*=b;c[3]*=b;this._originalScale(a,b)},a.transform=function(b,c,d,e,f,g){var h=this._transformMatrix;this._transformMatrix=[h[0]*b+h[2]*c,h[1]*b+h[3]*c,h[0]*d+h[2]*e,h[1]*
d+h[3]*e,h[0]*f+h[2]*g+h[4],h[1]*f+h[3]*g+h[5]];a._originalTransform(b,c,d,e,f,g)},a.setTransform=function(b,c,d,e,f,g){this._transformMatrix=[b,c,d,e,f,g];a._originalSetTransform(b,c,d,e,f,g)},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this._transformMatrix;this._transformMatrix=[d[0]*b+d[2]*c,d[1]*b+d[3]*c,d[0]*-c+d[2]*b,d[1]*-c+d[3]*b,d[4],d[5]];this._originalRotate(a)})}function k(a){var b=a.width,c=a.height,d,e=b+1,f=new Uint8Array(e*(c+1)),g=new Uint8Array([0,2,4,0,1,0,5,4,8,10,
0,8,0,2,1,0]),h=b+7&-8,k=a.data,l=new Uint8Array(h*c),m=0;a=0;for(d=k.length;a<d;a++){var n=128;for(var q=k[a];0<n;)l[m++]=q&n?0:255,n>>=1}m=k=0;0!==l[m]&&(f[0]=1,++k);for(d=1;d<b;d++)l[m]!==l[m+1]&&(f[d]=l[m]?2:1,++k),m++;0!==l[m]&&(f[d]=2,++k);for(a=1;a<c;a++){m=a*h;n=a*e;l[m-h]!==l[m]&&(f[n]=l[m]?1:8,++k);q=(l[m]?4:0)+(l[m-h]?8:0);for(d=1;d<b;d++)q=(q>>2)+(l[m+1]?4:0)+(l[m-h+1]?8:0),g[q]&&(f[n+d]=g[q],++k),m++;l[m-h]!==l[m]&&(f[n+d]=l[m]?2:4,++k);if(1E3<k)return null}m=h*(c-1);n=a*e;0!==l[m]&&
(f[n]=8,++k);for(d=1;d<b;d++)l[m]!==l[m+1]&&(f[n+d]=l[m]?4:8,++k),m++;0!==l[m]&&(f[n+d]=4,++k);if(1E3<k)return null;g=new Int32Array([0,e,-1,0,-e,0,0,0,1]);var r=[];for(a=0;k&&a<=c;a++){h=a*e;for(l=h+b;h<l&&!f[h];)h++;if(h!==l){l=[h%e,a];m=f[h];d=h;do{n=g[m];do h+=n;while(!f[h]);n=f[h];5!==n&&10!==n?(m=n,f[h]=0):(m=n&51*m>>4,f[h]&=m>>2|m<<2);l.push(h%e);l.push(h/e|0);--k}while(d!==h);r.push(l);--a}}return function(a){a.save();a.scale(1/b,-1/c);a.translate(0,-c);a.beginPath();for(var d=0,e=r.length;d<
e;d++){var f=r[d];a.moveTo(f[0],f[1]);for(var g=2,h=f.length;g<h;g+=2)a.lineTo(f[g],f[g+1])}a.fill();a.beginPath();a.restore()}}var w=a.FONT_IDENTITY_MATRIX,v=a.IDENTITY_MATRIX,A=a.ImageKind,y=a.OPS,x=a.TextRenderingMode,q=a.Uint32ArrayView,B=a.Util,C=a.assert,E=a.info,I=a.isNum,F=a.isArray,J=a.isLittleEndian,L=a.error,d=a.shadow,l=a.warn,z=e.TilingPattern,G=e.getShadingPatternFromIR,K=b.WebGLUtils,T=g.hasCanvasTypedArrays,ja={get value(){return d(ja,"value",T())}},W={get value(){return d(W,"value",
J())}},Ea=function(){function a(){this.cache=Object.create(null)}a.prototype={getCanvas:function(a,b,c,d){void 0!==this.cache[a]?(a=this.cache[a],a.canvas.width=b,a.canvas.height=c,a.context.setTransform(1,0,0,1,0,0)):(b=f(b,c),c=b.getContext("2d"),d&&h(c),this.cache[a]=a={canvas:b,context:c});return a},clear:function(){for(var a in this.cache){var b=this.cache[a];b.canvas.width=0;b.canvas.height=0;delete this.cache[a]}}};return a}(),ea=function(){function a(a){this.alphaIsShape=!1;this.fontSize=
0;this.fontSizeScale=1;this.textMatrix=v;this.textMatrixScale=1;this.fontMatrix=w;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRenderingMode=x.FILL;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.resumeSMaskCtx=this.activeSMask=null;this.old=a}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};
return a}();a=function(){function a(a,b,c,d){this.ctx=a;this.current=new ea;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=b;this.objs=c;this.imageLayer=d;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new Ea;a&&h(a);this.cachedGetSinglePixelWidth=null}function b(a,b){if("undefined"!==typeof ImageData&&
b instanceof ImageData)a.putImageData(b,0,0);else{var c=b.height,d=b.width,e=c%16;c=(c-e)/16;var f=0===e?c:c+1,g=a.createImageData(d,16),h=0,k=b.data,l=g.data,m,n;if(b.kind===A.GRAYSCALE_1BPP){var r=k.byteLength;l=ja.value?new Uint32Array(l.buffer):new q(l);var v=l.length,w=d+7>>3,u=W.value||!ja.value?4278190080:255;for(m=0;m<f;m++){var x=m<c?16:e;for(n=b=0;n<x;n++){var y=r-h,z=0;y=y>w?d:8*y-7;for(var B=y&-8,C=0,O=0;z<B;z+=8)O=k[h++],l[b++]=O&128?4294967295:u,l[b++]=O&64?4294967295:u,l[b++]=O&32?
4294967295:u,l[b++]=O&16?4294967295:u,l[b++]=O&8?4294967295:u,l[b++]=O&4?4294967295:u,l[b++]=O&2?4294967295:u,l[b++]=O&1?4294967295:u;for(;z<y;z++)0===C&&(O=k[h++],C=128),l[b++]=O&C?4294967295:u,C>>=1}for(;b<v;)l[b++]=0;a.putImageData(g,0,16*m)}}else if(b.kind===A.RGBA_32BPP){n=0;x=64*d;for(m=0;m<c;m++)l.set(k.subarray(h,h+x)),h+=x,a.putImageData(g,0,n),n+=16;m<f&&(l.set(k.subarray(h,h+d*e*4)),a.putImageData(g,0,n))}else if(b.kind===A.RGB_24BPP)for(x=16*d,m=0;m<f;m++){m>=c&&(x=e,x*=d);b=0;for(n=x;n--;)l[b++]=
k[h++],l[b++]=k[h++],l[b++]=k[h++],l[b++]=255;a.putImageData(g,0,16*m)}else L("bad image kind: "+b.kind)}}function c(a,b){var c=b.height,d=b.width,e=c%16;c=(c-e)/16;var f=0===e?c:c+1,g=a.createImageData(d,16),h=0;b=b.data;for(var k=g.data,l=0;l<f;l++){for(var m=l<c?16:e,n=3,q=0;q<m;q++)for(var r=0,v=0;v<d;v++){if(!r){var u=b[h++];r=128}k[n]=u&r?0:255;n+=4;r>>=1}a.putImageData(g,0,16*l)}}function e(a,b){for(var c="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),
d=0,e=c.length;d<e;d++){var f=c[d];void 0!==a[f]&&(b[f]=a[f])}void 0!==a.setLineDash?(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset):void 0!==a.mozDashOffset&&(b.mozDash=a.mozDash,b.mozDashOffset=a.mozDashOffset)}function f(a,b,c){for(var d=a.length,e=1/255,f=3;f<d;f+=4)b[f]=b[f]*(c?c[a[f]]:a[f])*e|0}function g(a,b,c){for(var d=a.length,e=3;e<d;e+=4){var f=77*a[e-3]+152*a[e-2]+28*a[e-1];b[e]=c?b[e]*c[f>>8]>>8:b[e]*f>>16}}function m(a,b,c){var d=b.canvas,e=b.context;a.setTransform(b.scaleX,
0,0,b.scaleY,b.offsetX,b.offsetY);var h=b.backdrop||null;if(!b.transferMap&&K.isEnabled)c=K.composeSMask(c.canvas,d,{subtype:b.subtype,backdrop:h}),a.setTransform(1,0,0,1,0,0),a.drawImage(c,b.offsetX,b.offsetY);else{var k=d.width,l=d.height,m=b.transferMap,n=!!h,q=n?h[0]:0,r=n?h[1]:0;h=n?h[2]:0;b="Luminosity"===b.subtype?g:f;for(var v=Math.min(l,Math.ceil(1048576/k)),w=0;w<l;w+=v){var x=Math.min(v,l-w),u=e.getImageData(0,w,k,x);x=c.getImageData(0,w,k,x);if(n)for(var y=u.data,z=q,A=r,B=h,C=y.length,
O=3;O<C;O+=4){var G=y[O];if(0===G)y[O-3]=z,y[O-2]=A,y[O-1]=B;else if(255>G){var E=255-G;y[O-3]=y[O-3]*G+z*E>>8;y[O-2]=y[O-2]*G+A*E>>8;y[O-1]=y[O-1]*G+B*E>>8}}b(u.data,x.data,m);e.putImageData(x,0,w)}a.drawImage(d,0,0)}}var n=["butt","round","square"],r=["miter","round","bevel"],J={},T={};a.prototype={beginDrawing:function(a,b,c){var d=this.ctx.canvas.width,e=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle="rgb(255, 255, 255)";this.ctx.fillRect(0,0,d,e);this.ctx.restore();c&&(c=this.cachedCanvases.getCanvas("transparent",
d,e,!0),this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();a&&this.ctx.transform.apply(this.ctx,a);this.ctx.transform.apply(this.ctx,b.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,b,c,d){var e=a.argsArray;a=a.fnArray;b=b||0;var f=e.length;if(f===b)return b;for(var g=
10<f-b&&"function"===typeof c,h=g?Date.now()+15:0,k=0,l=this.commonObjs,m=this.objs,n;;){if(void 0!==d&&b===d.nextBreakPoint)return d.breakIt(b,c),b;n=a[b];if(n!==y.dependency)this[n].apply(this,e[b]);else{n=e[b];for(var q=0,r=n.length;q<r;q++){var v=n[q],u="g"===v[0]&&"_"===v[1]?l:m;if(!u.isResolved(v))return u.get(v,c),b}}b++;if(b===f)return b;if(g&&10<++k){if(Date.now()>h)return c(),b;k=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup();this.ctx.restore();this.transparentCanvas&&
(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null);this.cachedCanvases.clear();K.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=n[a]},setLineJoin:function(a){this.ctx.lineJoin=r[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=
this.ctx;void 0!==c.setLineDash?(c.setLineDash(a),c.lineDashOffset=b):(c.mozDash=a,c.mozDashOffset=b)},setRenderingIntent:function(a){},setFlatness:function(a){},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[1];switch(d[0]){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],e[1]);break;case "RI":this.setRenderingIntent(e);break;case "FL":this.setFlatness(e);
break;case "Font":this.setFont(e[0],e[1]);break;case "CA":this.current.strokeAlpha=d[1];break;case "ca":this.current.fillAlpha=d[1];this.ctx.globalAlpha=d[1];break;case "BM":e&&e.name&&"Normal"!==e.name?(d=e.name.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()}).substring(1),this.ctx.globalCompositeOperation=d,this.ctx.globalCompositeOperation!==d&&l('globalCompositeOperation "'+d+'" is not supported')):this.ctx.globalCompositeOperation="source-over";break;case "SMask":this.current.activeSMask&&
(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=e?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),c=this.ctx,d=c.mozCurrentTransform;this.ctx.save();b=b.context;b.scale(1/
a.scaleX,1/a.scaleY);b.translate(-a.offsetX,-a.offsetY);b.transform.apply(b,d);a.startTransformInverse=b.mozCurrentTransformInverse;e(c,b);this.ctx=b;this.setGState([["BM","Normal"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();m(this.ctx,this.current.activeSMask,a);this.ctx.restore();this.ctx.save();e(a,this.ctx);this.current.resumeSMaskCtx=a;var b=B.transform(this.current.activeSMask.startTransformInverse,
a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,b);a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,a.canvas.width,a.canvas.height);a.restore()},resumeSMaskGroup:function(){var a=this.ctx;this.ctx=this.current.resumeSMaskCtx;this.groupStack.push(a);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();m(this.ctx,this.current.activeSMask,a);this.ctx.restore();e(a,this.ctx);a=B.transform(this.current.activeSMask.startTransformInverse,
a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,a)},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup();null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup();0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),
this.cachedGetSinglePixelWidth=this.pendingClip=null)},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f);this.cachedGetSinglePixelWidth=null},constructPath:function(a,b){for(var c=this.ctx,d=this.current,e=d.x,f=d.y,g=0,h=0,k=a.length;g<k;g++)switch(a[g]|0){case y.rectangle:e=b[h++];f=b[h++];var l=b[h++],m=b[h++];0===l&&(l=this.getSinglePixelWidth());0===m&&(m=this.getSinglePixelWidth());l=e+l;m=f+m;this.ctx.moveTo(e,f);this.ctx.lineTo(l,f);this.ctx.lineTo(l,m);this.ctx.lineTo(e,m);
this.ctx.lineTo(e,f);this.ctx.closePath();break;case y.moveTo:e=b[h++];f=b[h++];c.moveTo(e,f);break;case y.lineTo:e=b[h++];f=b[h++];c.lineTo(e,f);break;case y.curveTo:e=b[h+4];f=b[h+5];c.bezierCurveTo(b[h],b[h+1],b[h+2],b[h+3],e,f);h+=6;break;case y.curveTo2:c.bezierCurveTo(e,f,b[h],b[h+1],b[h+2],b[h+3]);e=b[h+2];f=b[h+3];h+=4;break;case y.curveTo3:e=b[h+2];f=b[h+3];c.bezierCurveTo(b[h],b[h+1],e,f,e,f);h+=4;break;case y.closePath:c.closePath()}d.setCurrentPoint(e,f)},closePath:function(){this.ctx.closePath()},
stroke:function(a){a="undefined"!==typeof a?a:!0;var b=this.ctx,c=this.current.strokeColor;b.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth);b.globalAlpha=this.current.strokeAlpha;c&&c.hasOwnProperty("type")&&"Pattern"===c.type?(b.save(),b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke();a&&this.consumePath();b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){a="undefined"!==typeof a?a:!0;var b=
this.ctx,c=this.current.fillColor,d=!1;this.current.patternFill&&(b.save(),this.baseTransform&&b.setTransform.apply(b,this.baseTransform),b.fillStyle=c.getPattern(b,this),d=!0);this.pendingEOFill?(void 0!==b.mozFillRule?(b.mozFillRule="evenodd",b.fill(),b.mozFillRule="nonzero"):b.fill("evenodd"),this.pendingEOFill=!1):b.fill();d&&b.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=
!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=J},eoClip:function(){this.pendingClip=T},beginText:function(){this.current.textMatrix=v;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===
a)b.beginPath();else{b.save();b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,d.transform);b.translate(d.x,d.y);d.addToPath(b,d.fontSize)}b.restore();b.clip();b.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),d=this.current;
c||L("Can't find font for "+a);d.fontMatrix=c.fontMatrix?c.fontMatrix:w;0!==d.fontMatrix[0]&&0!==d.fontMatrix[3]||l("Invalid font matrix for font "+a);0>b?(b=-b,d.fontDirection=-1):d.fontDirection=1;this.current.font=c;this.current.fontSize=b;if(!c.isType3Font){a=c.black?c.bold?"900":"bold":c.bold?"bold":"normal";d=c.italic?"italic":"normal";c='"'+(c.loadedName||"sans-serif")+'", '+c.fallbackName;var e=16>b?16:100<b?100:b;this.current.fontSizeScale=b/e;this.ctx.font=d+" "+a+" "+e+"px "+c}},setTextRenderingMode:function(a){this.current.textRenderingMode=
a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f];this.current.textMatrixScale=Math.sqrt(a*a+b*b);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,b,c){var d=
this.ctx,e=this.current,f=e.font,g=e.textRenderingMode;e=e.fontSize/e.fontSizeScale;var h=g&x.FILL_STROKE_MASK;g=!!(g&x.ADD_TO_PATH_FLAG);if(f.disableFontFace||g)var k=f.getPathGenerator(this.commonObjs,a);f.disableFontFace?(d.save(),d.translate(b,c),d.beginPath(),k(d,e),h!==x.FILL&&h!==x.FILL_STROKE||d.fill(),h!==x.STROKE&&h!==x.FILL_STROKE||d.stroke(),d.restore()):(h!==x.FILL&&h!==x.FILL_STROKE||d.fillText(a,b,c),h!==x.STROKE&&h!==x.FILL_STROKE||d.strokeText(a,b,c));g&&(this.pendingTextPaths||(this.pendingTextPaths=
[])).push({transform:d.mozCurrentTransform,x:b,y:c,fontSize:e,addToPath:k})},get isFontSubpixelAAEnabled(){var a=document.createElement("canvas").getContext("2d");a.scale(1.5,1);a.fillText("I",0,10);a=a.getImageData(0,0,10,10).data;for(var b=!1,c=3;c<a.length;c+=4)if(0<a[c]&&255>a[c]){b=!0;break}return d(this,"isFontSubpixelAAEnabled",b)},showText:function(a){var b=this.current,c=b.font;if(c.isType3Font)return this.showType3Text(a);var d=b.fontSize;if(0!==d){var e=this.ctx,f=b.fontSizeScale,g=b.charSpacing,
h=b.wordSpacing,k=b.fontDirection,l=b.textHScale*k,m=a.length,n=c.vertical,q=n?1:-1,r=c.defaultVMetrics,v=d*b.fontMatrix[0],u=b.textRenderingMode===x.FILL&&!c.disableFontFace;e.save();e.transform.apply(e,b.textMatrix);e.translate(b.x,b.y+b.textRise);b.patternFill&&(e.fillStyle=b.fillColor.getPattern(e,this));0<k?e.scale(l,-1):e.scale(l,1);var w=b.lineWidth,y=b.textMatrixScale;if(0===y||0===w){if(y=b.textRenderingMode&x.FILL_STROKE_MASK,y===x.STROKE||y===x.FILL_STROKE)this.cachedGetSinglePixelWidth=
null,w=.65*this.getSinglePixelWidth()}else w/=y;1!==f&&(e.scale(f,f),w/=f);e.lineWidth=w;for(y=w=0;y<m;++y){var z=a[y];if(I(z))w+=q*z*d/1E3;else{var A=!1,B=(z.isSpace?h:0)+g,O=z.fontChar,C=z.accent,G=z.width;if(n){var E=z.vmetric||r;var aa=z.vmetric?E[1]:.5*G;aa=-aa*v;var K=E[2]*v;G=E?-E[0]:G;E=aa/f;K=(w+K)/f}else E=w/f,K=0;c.remeasure&&0<G&&(aa=1E3*e.measureText(O).width/d*f,G<aa&&this.isFontSubpixelAAEnabled?(aa=G/aa,A=!0,e.save(),e.scale(aa,1),E/=aa):G!==aa&&(E+=(G-aa)/2E3*d/f));if(z.isInFont||
c.missingFile)u&&!C?e.fillText(O,E,K):(this.paintChar(O,E,K),C&&(z=E+C.offset.x/f,O=K-C.offset.y/f,this.paintChar(C.fontChar,z,O)));w+=G*v+B*k;A&&e.restore()}}n?b.y-=w*l:b.x+=w*l;e.restore()}},showType3Text:function(a){var b=this.ctx,c=this.current,d=c.font,e=c.fontSize,f=c.fontDirection,g=d.vertical?1:-1,h=c.charSpacing,k=c.wordSpacing,m=c.textHScale*f,n=c.fontMatrix||w,q=a.length;if(c.textRenderingMode!==x.INVISIBLE&&0!==e){this.cachedGetSinglePixelWidth=null;b.save();b.transform.apply(b,c.textMatrix);
b.translate(c.x,c.y);b.scale(m,f);for(f=0;f<q;++f){var r=a[f];if(I(r))r=g*r*e/1E3,this.ctx.translate(r,0),c.x+=r*m;else{var v=(r.isSpace?k:0)+h,y=d.charProcOperatorList[r.operatorListId];y?(this.processingType3=r,this.save(),b.scale(e,e),b.transform.apply(b,n),this.executeOperatorList(y),this.restore(),r=B.applyTransform([r.width,0],n)[0]*e+v,b.translate(r,0),c.x+=r*m):l('Type3 character "'+r.operatorListId+'" is not available')}}b.restore();this.processingType3=null}},setCharWidth:function(a,b){},
setCharWidthAndBounds:function(a,b,c,d,e,f){this.ctx.rect(c,d,e-c,f-d);this.clip();this.endPath()},getColorN_Pattern:function(b){if("TilingPattern"===b[0]){var c=b[1],d=this.baseTransform||this.ctx.mozCurrentTransform.slice(),e=this;b=new z(b,c,this.ctx,{createCanvasGraphics:function(b){return new a(b,e.commonObjs,e.objs)}},d)}else b=G(b);return b},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);
this.current.patternFill=!0},setStrokeRGBColor:function(a,b,c){a=B.makeCssRgb(a,b,c);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,b,c){a=B.makeCssRgb(a,b,c);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=!1},shadingFill:function(a){var b=this.ctx;this.save();a=G(a);b.fillStyle=a.getPattern(b,this,!0);var c=b.mozCurrentTransformInverse;if(c){b=b.canvas;var d=b.width,e=b.height;b=B.applyTransform([0,0],c);a=B.applyTransform([0,e],c);var f=B.applyTransform([d,
0],c);c=B.applyTransform([d,e],c);d=Math.min(b[0],a[0],f[0],c[0]);e=Math.min(b[1],a[1],f[1],c[1]);this.ctx.fillRect(d,e,Math.max(b[0],a[0],f[0],c[0])-d,Math.max(b[1],a[1],f[1],c[1])-e)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){L("Should not call beginInlineImage")},beginImageData:function(){L("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){this.save();this.baseTransformStack.push(this.baseTransform);F(a)&&6===a.length&&this.transform.apply(this,
a);this.baseTransform=this.ctx.mozCurrentTransform;F(b)&&4===b.length&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||E("TODO: Support non-isolated groups.");a.knockout&&l("Knockout groups not supported.");var c=b.mozCurrentTransform;a.matrix&&b.transform.apply(b,a.matrix);C(a.bbox,"Bounding box is required.");var d=
B.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform);d=B.intersect(d,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0];var f=Math.floor(d[0]),g=Math.floor(d[1]),h=Math.max(Math.ceil(d[2])-f,1),k=Math.max(Math.ceil(d[3])-g,1),m=d=1;4096<h&&(d=h/4096,h=4096);4096<k&&(m=k/4096,k=4096);var n="groupAt"+this.groupLevel;a.smask&&(n+="_smask_"+this.smaskCounter++%2);h=this.cachedCanvases.getCanvas(n,h,k,!0);k=h.context;k.scale(1/d,1/m);k.translate(-f,-g);k.transform.apply(k,c);a.smask?this.smaskStack.push({canvas:h.canvas,
context:k,offsetX:f,offsetY:g,scaleX:d,scaleY:m,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(f,g),b.scale(d,m));e(b,k);this.ctx=k;this.setGState([["BM","Normal"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++;this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=
!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(b.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.current=new ea;this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){this.save();F(a)&&4===a.length&&(this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,b);this.transform.apply(this,
c)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){var d=this.objs.get(a);if(d){this.save();var e=this.ctx;e.scale(1/b,-1/c);e.drawImage(d,0,0,d.width,d.height,0,-c,b,c);this.imageLayer&&(d=e.mozCurrentTransformInverse,e=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:e[0],top:e[1],width:b/d[0],height:c/d[3]}));this.restore()}else l("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var b=this.ctx,d=a.width,e=a.height,f=this.current.fillColor,
g=this.current.patternFill,h=this.processingType3;h&&void 0===h.compiled&&(h.compiled=1E3>=d&&1E3>=e?k({data:a.data,width:d,height:e}):null);h&&h.compiled?h.compiled(b):(b=this.cachedCanvases.getCanvas("maskCanvas",d,e),h=b.context,h.save(),c(h,a),h.globalCompositeOperation="source-in",h.fillStyle=g?f.getPattern(h,this):f,h.fillRect(0,0,d,e),h.restore(),this.paintInlineImageXObject(b.canvas))},paintImageMaskXObjectRepeat:function(a,b,d,e){var f=a.width,g=a.height,h=this.current.fillColor,k=this.current.patternFill,
l=this.cachedCanvases.getCanvas("maskCanvas",f,g),m=l.context;m.save();c(m,a);m.globalCompositeOperation="source-in";m.fillStyle=k?h.getPattern(m,this):h;m.fillRect(0,0,f,g);m.restore();a=this.ctx;h=0;for(k=e.length;h<k;h+=2)a.save(),a.transform(b,0,0,d,e[h],e[h+1]),a.scale(1,-1),a.drawImage(l.canvas,0,0,f,g,0,-1,1,1),a.restore()},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,d=this.current.fillColor,e=this.current.patternFill,f=0,g=a.length;f<g;f++){var h=a[f],k=h.width,l=h.height,m=
this.cachedCanvases.getCanvas("maskCanvas",k,l),n=m.context;n.save();c(n,h);n.globalCompositeOperation="source-in";n.fillStyle=e?d.getPattern(n,this):d;n.fillRect(0,0,k,l);n.restore();b.save();b.transform.apply(b,h.transform);b.scale(1,-1);b.drawImage(m.canvas,0,0,k,l,0,-1,1,1);b.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):l("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,b,c,d){if(a=this.objs.get(a)){for(var e=a.width,f=a.height,
g=[],h=0,k=d.length;h<k;h+=2)g.push({transform:[b,0,0,c,d[h],d[h+1]],x:0,y:0,w:e,h:f});this.paintInlineImageXObjectGroup(a,g)}else l("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var c=a.width,d=a.height,e=this.ctx;this.save();e.scale(1/c,-1/d);var f=e.mozCurrentTransformInverse,g=f[0];var h=f[1];g=Math.max(Math.sqrt(g*g+h*h),1);h=f[2];var k=f[3];k=Math.max(Math.sqrt(h*h+k*k),1);if(a instanceof HTMLElement||!a.data)var l=a;else{var m=this.cachedCanvases.getCanvas("inlineImage",
c,d);h=m.context;b(h,a);l=m.canvas}for(var n=c,q=d,r="prescale1";2<g&&1<n||2<k&&1<q;){var v=n,w=q;2<g&&1<n&&(v=Math.ceil(n/2),g/=n/v);2<k&&1<q&&(w=Math.ceil(q/2),k/=q/w);m=this.cachedCanvases.getCanvas(r,v,w);h=m.context;h.clearRect(0,0,v,w);h.drawImage(l,0,0,n,q,0,0,v,w);l=m.canvas;n=v;q=w;r="prescale1"===r?"prescale2":"prescale1"}e.drawImage(l,0,0,n,q,0,-d,c,d);this.imageLayer&&(e=this.getCanvasPosition(0,-d),this.imageLayer.appendImage({imgData:a,left:e[0],top:e[1],width:c/f[0],height:d/f[3]}));
this.restore()},paintInlineImageXObjectGroup:function(a,c){var d=this.ctx,e=a.width,f=a.height,g=this.cachedCanvases.getCanvas("inlineImage",e,f);b(g.context,a);for(var h=0,k=c.length;h<k;h++){var l=c[h];d.save();d.transform.apply(d,l.transform);d.scale(1,-1);d.drawImage(g.canvas,l.x,l.y,l.w,l.h,0,-1,1,1);this.imageLayer&&(l=this.getCanvasPosition(l.x,l.y),this.imageLayer.appendImage({imgData:a,left:l[0],top:l[1],width:e,height:f}));d.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,
0,1,1)},paintXObject:function(){l("Unsupported 'paintXObject' command.")},markPoint:function(a){},markPointProps:function(a,b){},beginMarkedContent:function(a){},beginMarkedContentProps:function(a,b){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===T?void 0!==a.mozFillRule?(a.mozFillRule="evenodd",a.clip(),a.mozFillRule="nonzero"):a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},
getSinglePixelWidth:function(a){null===this.cachedGetSinglePixelWidth&&(a=this.ctx.mozCurrentTransformInverse,this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])));return this.cachedGetSinglePixelWidth},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}};for(var Fa in y)a.prototype[y[Fa]]=a.prototype[Fa];return a}();c.CanvasGraphics=a;c.createScratchCanvas=f});(function(c,a){a(c.pdfjsDisplayAPI={},
c.pdfjsSharedUtil,c.pdfjsDisplayFontLoader,c.pdfjsDisplayCanvas,c.pdfjsDisplayMetadata,c.pdfjsDisplayDOMUtils)})(this,function(c,a,h,e,b,k,n){function f(a,b,c,d){if(a.destroyed)return Promise.reject(Error("Worker was destroyed"));b.disableAutoFetch=fa("disableAutoFetch");b.disableStream=fa("disableStream");b.chunkedViewerLoading=!!c;c&&(b.length=c.length,b.initialData=c.initialData);return a.messageHandler.sendWithPromise("GetDocRequest",{docId:d,source:b,disableRange:fa("disableRange"),maxImageSize:fa("maxImageSize"),
cMapUrl:fa("cMapUrl"),cMapPacked:fa("cMapPacked"),disableFontFace:fa("disableFontFace"),disableCreateObjectURL:fa("disableCreateObjectURL"),postMessageTransfers:fa("postMessageTransfers")&&!ha}).then(function(b){if(a.destroyed)throw Error("Worker was destroyed");return b})}var m=a.InvalidPDFException,v=a.MessageHandler,A=a.MissingPDFException,y=a.PageViewport,x=a.PasswordResponses,q=a.PasswordException,B=a.StatTimer,C=a.UnexpectedResponseException,E=a.UnknownErrorException,I=a.Util,F=a.createPromiseCapability,
J=a.error,L=a.deprecated,d=a.getVerbosityLevel,l=a.info,z=a.isArrayBuffer,G=a.isSameOrigin,K=a.loadJpegStream,T=a.stringToBytes,ja=a.globalScope,W=a.warn,Ea=h.FontFaceObject,ea=h.FontLoader,Y=e.CanvasGraphics,aa=e.createScratchCanvas,O=b.Metadata,fa=k.getDefaultSetting,xa=!1,ma,ha=!1;a=!1;"undefined"===typeof window&&(xa=!0,"undefined"===typeof require.ensure&&(require.ensure=require("node-ensure")),a=!0);"undefined"!==typeof __webpack_require__&&(a=!0);"undefined"!==typeof requirejs&&requirejs.toUrl&&
(ma=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));h="undefined"!==typeof requirejs&&requirejs.load;var ua=a?function(a){require.ensure([],function(){var b=require("./pdf.worker.js");a(b.WorkerMessageHandler)})}:h?function(a){requirejs(["pdfjs-dist/build/pdf.worker"],function(b){a(b.WorkerMessageHandler)})}:null,Xa=function(){function a(){this._capability=F();this._worker=this._transport=null;this.docId="d"+b++;this.destroyed=!1;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}var b=
0;a.prototype={get promise(){return this._capability.promise},destroy:function(){this.destroyed=!0;return(this._transport?this._transport.destroy():Promise.resolve()).then(function(){this._transport=null;this._worker&&(this._worker.destroy(),this._worker=null)}.bind(this))},then:function(a,b){return this.promise.then.apply(this.promise,arguments)}};return a}(),fb=function(){function a(a,b){this.length=a;this.initialData=b;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=
[];this._readyCapability=F()}a.prototype={addRangeListener:function(a){this._rangeListeners.push(a)},addProgressListener:function(a){this._progressListeners.push(a)},addProgressiveReadListener:function(a){this._progressiveReadListeners.push(a)},onDataRange:function(a,b){for(var c=this._rangeListeners,d=0,e=c.length;d<e;++d)c[d](a,b)},onDataProgress:function(a){this._readyCapability.promise.then(function(){for(var b=this._progressListeners,c=0,d=b.length;c<d;++c)b[c](a)}.bind(this))},onDataProgressiveRead:function(a){this._readyCapability.promise.then(function(){for(var b=
this._progressiveReadListeners,c=0,d=b.length;c<d;++c)b[c](a)}.bind(this))},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(a,b){throw Error("Abstract method PDFDataRangeTransport.requestDataRange");},abort:function(){}};return a}(),Ub=function(){function a(a,b,c){this.pdfInfo=a;this.transport=b;this.loadingTask=c}a.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(a){return this.transport.getPage(a)},
getPageIndex:function(a){return this.transport.getPageIndex(a)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(a){return this.transport.getDestination(a)},getPageLabels:function(){return this.transport.getPageLabels()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},
getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}};return a}(),Fa=function(){function a(a,b,c){this.pageIndex=a;this.pageInfo=b;this.transport=c;this.stats=new B;this.stats.enabled=fa("enableStats");this.commonObjs=c.commonObjs;this.objs=new xb;this.pendingCleanup=
this.cleanupAfterRender=!1;this.intentStates=Object.create(null);this.destroyed=!1}a.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(a,b){2>arguments.length&&(b=this.rotate);return new y(this.view,a,b,0,0)},getAnnotations:function(a){a=a&&a.intent||null;this.annotationsPromise&&this.annotationsIntent===a||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,
a),this.annotationsIntent=a);return this.annotationsPromise},render:function(a){function b(a){var b=e.renderTasks.indexOf(f);0<=b&&e.renderTasks.splice(b,1);g.cleanupAfterRender&&(g.pendingCleanup=!0);g._tryCleanup();a?f.capability.reject(a):f.capability.resolve();c.timeEnd("Rendering");c.timeEnd("Overall")}var c=this.stats;c.time("Overall");this.pendingCleanup=!1;var d="print"===a.intent?"print":"display";this.intentStates[d]||(this.intentStates[d]=Object.create(null));var e=this.intentStates[d];
e.displayReadyCapability||(e.receivingOperatorList=!0,e.displayReadyCapability=F(),e.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d}));var f=new Ha(b,a,this.objs,this.commonObjs,e.operatorList,this.pageNumber);f.useRequestAnimationFrame="print"!==d;e.renderTasks||(e.renderTasks=[]);e.renderTasks.push(f);d=f.task;a.continueCallback&&(L("render is used with continueCallback parameter"),
d.onContinue=a.continueCallback);var g=this;e.displayReadyCapability.promise.then(function(a){g.pendingCleanup?b():(c.time("Rendering"),f.initalizeGraphics(a),f.operatorListChanged())},function(a){b(a)});return d},getOperatorList:function(){function a(){if(b.operatorList.lastChunk){b.opListReadCapability.resolve(b.operatorList);var a=b.renderTasks.indexOf(c);0<=a&&b.renderTasks.splice(a,1)}}this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var b=this.intentStates.oplist;if(!b.opListReadCapability){var c=
{};c.operatorListChanged=a;b.receivingOperatorList=!0;b.opListReadCapability=F();b.renderTasks=[];b.renderTasks.push(c);b.operatorList={fnArray:[],argsArray:[],lastChunk:!1};this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return b.opListReadCapability.promise},getTextContent:function(a){return this.transport.messageHandler.sendWithPromise("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:a&&a.normalizeWhitespace||!1})},_destroy:function(){this.destroyed=
!0;this.transport.pageCache[this.pageIndex]=null;var a=[];Object.keys(this.intentStates).forEach(function(b){"oplist"!==b&&this.intentStates[b].renderTasks.forEach(function(b){var c=b.capability.promise.catch(function(){});a.push(c);b.cancel()})},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=!1;return Promise.all(a)},destroy:function(){L("page destroy method, use cleanup() instead");this.cleanup()},cleanup:function(){this.pendingCleanup=!0;this._tryCleanup()},_tryCleanup:function(){this.pendingCleanup&&
!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return 0!==a.renderTasks.length||a.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1)},_startRenderPage:function(a,b){b=this.intentStates[b];b.displayReadyCapability&&b.displayReadyCapability.resolve(a)},_renderPageChunk:function(a,b){b=this.intentStates[b];var c;var d=0;for(c=a.length;d<c;d++)b.operatorList.fnArray.push(a.fnArray[d]),
b.operatorList.argsArray.push(a.argsArray[d]);b.operatorList.lastChunk=a.lastChunk;for(d=0;d<b.renderTasks.length;d++)b.renderTasks[d].operatorListChanged();a.lastChunk&&(b.receivingOperatorList=!1,this._tryCleanup())}};return a}(),yc=function(){function a(){if("undefined"!==typeof ma)return ma;if(fa("workerSrc"))return fa("workerSrc");if(g)return g.replace(/\.js$/i,".worker.js");J("No PDFJS.workerSrc specified")}function b(){f||(f=F(),(ua||function(b){I.loadScript(a(),function(){b(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})})(f.resolve));
return f.promise}function c(a){this.name=a;this.destroyed=!1;this._readyCapability=F();this._messageHandler=this._webWorker=this._port=null;this._initialize()}var e=0,f;c.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initialize:function(){if(!xa&&!fa("disableWorker")&&"undefined"!==typeof Worker){var b=a();try{G(window.location.href,b)||(b=URL.createObjectURL(new Blob(["importScripts('"+(new URL(b,window.location)).href+
"');"])));var c=new Worker(b),e=new v("main","worker",c),f=function(){c.removeEventListener("error",g);e.destroy();c.terminate();this.destroyed?this._readyCapability.reject(Error("Worker was destroyed")):this._setupFakeWorker()}.bind(this),g=function(a){this._webWorker||f()}.bind(this);c.addEventListener("error",g);e.on("test",function(a){c.removeEventListener("error",g);this.destroyed?f():a&&a.supportTypedArray?(this._messageHandler=e,this._webWorker=this._port=c,a.supportTransfers||(ha=!0),this._readyCapability.resolve(),
e.send("configure",{verbosity:d()})):(this._setupFakeWorker(),e.destroy(),c.terminate())}.bind(this));e.on("console_log",function(a){console.log.apply(console,a)});e.on("console_error",function(a){console.error.apply(console,a)});e.on("ready",function(a){c.removeEventListener("error",g);if(this.destroyed)f();else try{h()}catch(vb){this._setupFakeWorker()}}.bind(this));var h=function(){var a=fa("postMessageTransfers")&&!ha;a=new Uint8Array([a?255:0]);try{e.send("test",a,[a.buffer])}catch(vb){l("Cannot use postMessage transfers"),
a[0]=0,e.send("test",a)}};h();return}catch(pa){l("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){xa||fa("disableWorker")||(W("Setting up fake worker."),xa=!0);b().then(function(a){if(this.destroyed)this._readyCapability.reject(Error("Worker was destroyed"));else{var b={_listeners:[],postMessage:function(a){var b={data:a};this._listeners.forEach(function(a){a.call(this,b)},this)},addEventListener:function(a,b){this._listeners.push(b)},removeEventListener:function(a,
b){a=this._listeners.indexOf(b);this._listeners.splice(a,1)},terminate:function(){}};this._port=b;var c="fake"+e++,d=new v(c+"_worker",c,b);a.setup(d,b);this._messageHandler=new v(c,c+"_worker",b);this._readyCapability.resolve()}}.bind(this))},destroy:function(){this.destroyed=!0;this._webWorker&&(this._webWorker.terminate(),this._webWorker=null);this._port=null;this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}};return c}(),Oa=function(){function a(a,b,c){this.messageHandler=
a;this.loadingTask=b;this.pdfDataRangeTransport=c;this.commonObjs=new xb;this.fontLoader=new ea(b.docId);this.destroyed=!1;this.destroyCapability=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=F();this.setupMessageHandler()}a.prototype={destroy:function(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0;this.destroyCapability=F();var a=[];this.pageCache.forEach(function(b){b&&a.push(b._destroy())});this.pageCache=[];this.pagePromises=[];var b=
this,c=this.messageHandler.sendWithPromise("Terminate",null);a.push(c);Promise.all(a).then(function(){b.fontLoader.clear();b.pdfDataRangeTransport&&(b.pdfDataRangeTransport.abort(),b.pdfDataRangeTransport=null);b.messageHandler&&(b.messageHandler.destroy(),b.messageHandler=null);b.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise},setupMessageHandler:function(){function a(a){b.send("UpdatePassword",a)}var b=this.messageHandler,c=this.pdfDataRangeTransport;
c&&(c.addRangeListener(function(a,c){b.send("OnDataRange",{begin:a,chunk:c})}),c.addProgressListener(function(a){b.send("OnDataProgress",{loaded:a})}),c.addProgressiveReadListener(function(a){b.send("OnDataRange",{chunk:a})}),b.on("RequestDataRange",function(a){c.requestDataRange(a.begin,a.end)},this));b.on("GetDoc",function(a){var b=a.pdfInfo;this.numPages=a.pdfInfo.numPages;a=this.loadingTask;this.pdfDocument=b=new Ub(b,this,a);a._capability.resolve(b)},this);b.on("NeedPassword",function(b){var c=
this.loadingTask;if(c.onPassword)return c.onPassword(a,x.NEED_PASSWORD);c._capability.reject(new q(b.message,b.code))},this);b.on("IncorrectPassword",function(b){var c=this.loadingTask;if(c.onPassword)return c.onPassword(a,x.INCORRECT_PASSWORD);c._capability.reject(new q(b.message,b.code))},this);b.on("InvalidPDF",function(a){this.loadingTask._capability.reject(new m(a.message))},this);b.on("MissingPDF",function(a){this.loadingTask._capability.reject(new A(a.message))},this);b.on("UnexpectedResponse",
function(a){this.loadingTask._capability.reject(new C(a.message,a.status))},this);b.on("UnknownError",function(a){this.loadingTask._capability.reject(new E(a.message,a.details))},this);b.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},this);b.on("PDFManagerReady",function(a){this.pdfDataRangeTransport&&this.pdfDataRangeTransport.transportReady()},this);b.on("StartRenderPage",function(a){if(!this.destroyed){var b=this.pageCache[a.pageIndex];b.stats.timeEnd("Page Request");b._startRenderPage(a.transparency,
a.intent)}},this);b.on("RenderPageChunk",function(a){this.destroyed||this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this);b.on("commonobj",function(a){if(!this.destroyed){var b=a[0],c=a[1];if(!this.commonObjs.hasData(b))switch(c){case "Font":a=a[2];if("error"in a){var d=a.error;W("Error during font loading: "+d);this.commonObjs.resolve(b,d);break}else{d=null;fa("pdfBug")&&ja.FontInspector&&ja.FontInspector.enabled&&(d={registerFont:function(a,b){ja.FontInspector.fontAdded(a,
b)}});var e=new Ea(a,{isEvalSuported:fa("isEvalSupported"),disableFontFace:fa("disableFontFace"),fontRegistry:d})}this.fontLoader.bind([e],function(a){this.commonObjs.resolve(b,e)}.bind(this));break;case "FontPath":this.commonObjs.resolve(b,a[2]);break;default:d("Got unknown common object type "+c)}}},this);b.on("obj",function(a){if(!this.destroyed){var b=a[0],c=a[2],d=this.pageCache[a[1]];if(!d.objs.hasData(b))switch(c){case "JpegStream":a=a[3];K(b,a,d.objs);break;case "Image":a=a[3];d.objs.resolve(b,
a);a&&"data"in a&&8E6<a.data.length&&(d.cleanupAfterRender=!0);break;default:J("Got unknown object type "+c)}}},this);b.on("DocProgress",function(a){if(!this.destroyed){var b=this.loadingTask;if(b.onProgress)b.onProgress({loaded:a.loaded,total:a.total})}},this);b.on("PageError",function(a){if(!this.destroyed){var b=this.pageCache[a.pageNum-1].intentStates[a.intent];b.displayReadyCapability?b.displayReadyCapability.reject(a.error):J(a.error);if(b.operatorList)for(b.operatorList.lastChunk=!0,a=0;a<
b.renderTasks.length;a++)b.renderTasks[a].operatorListChanged()}},this);b.on("UnsupportedFeature",function(a){if(!this.destroyed){a=a.featureId;var b=this.loadingTask;if(b.onUnsupportedFeature)b.onUnsupportedFeature(a);Ba.notify(a)}},this);b.on("JpegDecode",function(a){if(this.destroyed)return Promise.reject("Worker was terminated");var b=a[0],c=a[1];return 3!==c&&1!==c?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,d){var e=new Image;e.onload=function(){var b=
e.width,d=e.height,f=b*d,g=4*f;f=new Uint8Array(f*c);var h=aa(b,d).getContext("2d");h.drawImage(e,0,0);h=h.getImageData(0,0,b,d).data;var k,l;if(3===c)for(l=k=0;k<g;k+=4,l+=3)f[l]=h[k],f[l+1]=h[k+1],f[l+2]=h[k+2];else if(1===c)for(l=k=0;k<g;k+=4,l++)f[l]=h[k];a({data:f,width:b,height:d})};e.onerror=function(){d(Error("JpegDecode failed to load image"))};e.src=b})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(a,b){if(0>=a||a>this.numPages||
(a|0)!==a)return Promise.reject(Error("Invalid page request"));var c=a-1;if(c in this.pagePromises)return this.pagePromises[c];a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:c}).then(function(a){if(this.destroyed)throw Error("Transport destroyed");a=new Fa(c,a,this);return this.pageCache[c]=a}.bind(this));return this.pagePromises[c]=a},getPageIndex:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})},getAnnotations:function(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",
{pageIndex:a,intent:b})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(a){return this.messageHandler.sendWithPromise("GetDestination",{id:a})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",
null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){return{info:a[0],metadata:a[1]?new O(a[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var a=0,b=this.pageCache.length;a<b;a++){var c=this.pageCache[a];c&&c.cleanup()}this.commonObjs.clear();this.fontLoader.clear()}.bind(this))}};return a}(),xb=function(){function a(){this.objs=
Object.create(null)}a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var b={capability:F(),data:null,resolved:!1};return this.objs[a]=b},get:function(a,b){if(b)return this.ensureObj(a).capability.promise.then(b),null;(b=this.objs[a])&&b.resolved||J("Requesting object that isn't resolved yet "+a);return b.data},resolve:function(a,b){a=this.ensureObj(a);a.resolved=!0;a.data=b;a.capability.resolve(b)},isResolved:function(a){var b=this.objs;return b[a]?b[a].resolved:!1},hasData:function(a){return this.isResolved(a)},
getData:function(a){var b=this.objs;return b[a]&&b[a].resolved?b[a].data:null},clear:function(){this.objs=Object.create(null)}};return a}(),Jb=function(){function a(a){this._internalRenderTask=a;this.onContinue=null}a.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(a,b){return this.promise.then.apply(this.promise,arguments)}};return a}(),Ha=function(){function a(a,b,c,d,e,f){this.callback=a;this.params=
b;this.objs=c;this.commonObjs=d;this.operatorListIdx=null;this.operatorList=e;this.pageNumber=f;this.running=!1;this.graphicsReadyCallback=null;this.cancelled=this.useRequestAnimationFrame=this.graphicsReady=!1;this.capability=F();this.task=new Jb(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this)}a.prototype={initalizeGraphics:function(a){if(!this.cancelled){fa("pdfBug")&&ja.StepperManager&&ja.StepperManager.enabled&&
(this.stepper=ja.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var b=this.params;this.gfx=new Y(b.canvasContext,this.commonObjs,this.objs,b.imageLayer);this.gfx.beginDrawing(b.transform,b.viewport,a);this.operatorListIdx=0;this.graphicsReady=!0;this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1;this.cancelled=!0;this.callback("cancelled")},operatorListChanged:function(){this.graphicsReady?
(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function(){this.running=!0;this.cancelled||(this.task.onContinue?this.task.onContinue.call(this.task,this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame&&"undefined"!==typeof window?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},
_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}};return a}(),Ba=function(){var a=[];return{listen:function(b){L("Global UnsupportedManager.listen is used:  use PDFDocumentLoadingTask.onUnsupportedFeature instead");a.push(b)},notify:function(b){for(var c=
0,d=a.length;c<d;c++)a[c](b)}}}();c.version="1.5.188";c.build="0e2d50f";c.getDocument=function(a,b,c,d){var e=new Xa;1<arguments.length&&L("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument");b&&(b instanceof fb||(b=Object.create(b),b.length=a.length,b.initialData=a.initialData,b.abort||(b.abort=function(){})),a=Object.create(a),a.range=b);e.onPassword=c||null;e.onProgress=d||null;if("string"===typeof a)var g={url:a};else z(a)?g={data:a}:a instanceof fb?
g={range:a}:("object"!==typeof a&&J("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),a.url||a.data||a.range||J("Invalid parameter object: need either .data, .range or .url"),g=a);var h={},k=null,l=null,m;for(m in g)if("url"===m&&"undefined"!==typeof window)h[m]=(new URL(g[m],window.location)).href;else if("range"===m)k=g[m];else if("worker"===m)l=g[m];else if("data"!==m||g[m]instanceof Uint8Array)h[m]=g[m];else{var n=g[m];"string"===typeof n?h[m]=T(n):"object"!==
typeof n||null===n||isNaN(n.length)?z(n)?h[m]=new Uint8Array(n):J("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property."):h[m]=new Uint8Array(n)}h.rangeChunkSize=h.rangeChunkSize||65536;l||(l=new yc,e._worker=l);var q=e.docId;l.promise.then(function(){if(e.destroyed)throw Error("Loading aborted");return f(l,h,k,q).then(function(a){if(e.destroyed)throw Error("Loading aborted");a=new v(q,a,l.port);var b=new Oa(a,e,k);e._transport=b;a.send("Ready",
null)})}).catch(e._capability.reject);return e};c.PDFDataRangeTransport=fb;c.PDFWorker=yc;c.PDFDocumentProxy=Ub;c.PDFPageProxy=Fa;c._UnsupportedManager=Ba});(function(c,a){a(c.pdfjsDisplayGlobal={},c.pdfjsSharedUtil,c.pdfjsDisplayDOMUtils,c.pdfjsDisplayAPI,c.pdfjsDisplayAnnotationLayer,c.pdfjsDisplayTextLayer,c.pdfjsDisplayMetadata,c.pdfjsDisplaySVG)})(this,function(c,a,g,e,b,k,n,r){var f=a.globalScope,h=a.deprecated,m=a.warn,y=g.LinkTarget,x="undefined"===typeof window;f.PDFJS||(f.PDFJS={});var q=
f.PDFJS;q.version="1.5.188";q.build="0e2d50f";q.pdfBug=!1;void 0!==q.verbosity&&a.setVerbosityLevel(q.verbosity);delete q.verbosity;Object.defineProperty(q,"verbosity",{get:function(){return a.getVerbosityLevel()},set:function(b){a.setVerbosityLevel(b)},enumerable:!0,configurable:!0});q.VERBOSITY_LEVELS=a.VERBOSITY_LEVELS;q.OPS=a.OPS;q.UNSUPPORTED_FEATURES=a.UNSUPPORTED_FEATURES;q.isValidUrl=a.isValidUrl;q.shadow=a.shadow;q.createBlob=a.createBlob;q.createObjectURL=function(b,c){return a.createObjectURL(b,
c,q.disableCreateObjectURL)};Object.defineProperty(q,"isLittleEndian",{configurable:!0,get:function(){var b=a.isLittleEndian();return a.shadow(q,"isLittleEndian",b)}});q.removeNullCharacters=a.removeNullCharacters;q.PasswordResponses=a.PasswordResponses;q.PasswordException=a.PasswordException;q.UnknownErrorException=a.UnknownErrorException;q.InvalidPDFException=a.InvalidPDFException;q.MissingPDFException=a.MissingPDFException;q.UnexpectedResponseException=a.UnexpectedResponseException;q.Util=a.Util;
q.PageViewport=a.PageViewport;q.createPromiseCapability=a.createPromiseCapability;q.maxImageSize=void 0===q.maxImageSize?-1:q.maxImageSize;q.cMapUrl=void 0===q.cMapUrl?null:q.cMapUrl;q.cMapPacked=void 0===q.cMapPacked?!1:q.cMapPacked;q.disableFontFace=void 0===q.disableFontFace?!1:q.disableFontFace;q.imageResourcesPath=void 0===q.imageResourcesPath?"":q.imageResourcesPath;q.disableWorker=void 0===q.disableWorker?!1:q.disableWorker;q.workerSrc=void 0===q.workerSrc?null:q.workerSrc;q.disableRange=void 0===
q.disableRange?!1:q.disableRange;q.disableStream=void 0===q.disableStream?!1:q.disableStream;q.disableAutoFetch=void 0===q.disableAutoFetch?!1:q.disableAutoFetch;q.pdfBug=void 0===q.pdfBug?!1:q.pdfBug;q.postMessageTransfers=void 0===q.postMessageTransfers?!0:q.postMessageTransfers;q.disableCreateObjectURL=void 0===q.disableCreateObjectURL?!1:q.disableCreateObjectURL;q.disableWebGL=void 0===q.disableWebGL?!0:q.disableWebGL;q.externalLinkTarget=void 0===q.externalLinkTarget?y.NONE:q.externalLinkTarget;
q.externalLinkRel=void 0===q.externalLinkRel?"noreferrer":q.externalLinkRel;q.isEvalSupported=void 0===q.isEvalSupported?!0:q.isEvalSupported;var B=q.openExternalLinksInNewWindow;delete q.openExternalLinksInNewWindow;Object.defineProperty(q,"openExternalLinksInNewWindow",{get:function(){return q.externalLinkTarget===y.BLANK},set:function(a){a&&h('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.');q.externalLinkTarget!==y.NONE?m("PDFJS.externalLinkTarget is already initialized"):
q.externalLinkTarget=a?y.BLANK:y.NONE},enumerable:!0,configurable:!0});B&&(q.openExternalLinksInNewWindow=B);q.getDocument=e.getDocument;q.PDFDataRangeTransport=e.PDFDataRangeTransport;q.PDFWorker=e.PDFWorker;Object.defineProperty(q,"hasCanvasTypedArrays",{configurable:!0,get:function(){var b=g.hasCanvasTypedArrays();return a.shadow(q,"hasCanvasTypedArrays",b)}});q.CustomStyle=g.CustomStyle;q.LinkTarget=y;q.addLinkAttributes=g.addLinkAttributes;q.getFilenameFromUrl=g.getFilenameFromUrl;q.isExternalLinkTargetSet=
g.isExternalLinkTargetSet;q.AnnotationLayer=b.AnnotationLayer;q.renderTextLayer=k.renderTextLayer;q.Metadata=n.Metadata;q.SVGGraphics=r.SVGGraphics;q.UnsupportedManager=e._UnsupportedManager;c.globalScope=f;c.isWorker=x;c.PDFJS=f.PDFJS})}).call(c);k.PDFJS=c.pdfjsDisplayGlobal.PDFJS;k.build=c.pdfjsDisplayAPI.build;k.version=c.pdfjsDisplayAPI.version;k.getDocument=c.pdfjsDisplayAPI.getDocument;k.PDFDataRangeTransport=c.pdfjsDisplayAPI.PDFDataRangeTransport;k.PDFWorker=c.pdfjsDisplayAPI.PDFWorker;k.renderTextLayer=
c.pdfjsDisplayTextLayer.renderTextLayer;k.AnnotationLayer=c.pdfjsDisplayAnnotationLayer.AnnotationLayer;k.CustomStyle=c.pdfjsDisplayDOMUtils.CustomStyle;k.PasswordResponses=c.pdfjsSharedUtil.PasswordResponses;k.InvalidPDFException=c.pdfjsSharedUtil.InvalidPDFException;k.MissingPDFException=c.pdfjsSharedUtil.MissingPDFException;k.SVGGraphics=c.pdfjsDisplaySVG.SVGGraphics;k.UnexpectedResponseException=c.pdfjsSharedUtil.UnexpectedResponseException;k.OPS=c.pdfjsSharedUtil.OPS;k.UNSUPPORTED_FEATURES=c.pdfjsSharedUtil.UNSUPPORTED_FEATURES;
k.isValidUrl=c.pdfjsSharedUtil.isValidUrl;k.createObjectURL=c.pdfjsSharedUtil.createObjectURL;k.removeNullCharacters=c.pdfjsSharedUtil.removeNullCharacters;k.shadow=c.pdfjsSharedUtil.shadow;k.createBlob=c.pdfjsSharedUtil.createBlob;k.getFilenameFromUrl=c.pdfjsDisplayDOMUtils.getFilenameFromUrl;k.addLinkAttributes=c.pdfjsDisplayDOMUtils.addLinkAttributes});var CodeMirror=function(){function k(a,b){if(!(this instanceof k))return new k(a,b);this.options=b=b?hd(b):{};hd(Eg,b,!1);v(b);var c=b.value;"string"==typeof c&&(c=new Eb(c,b.mode,null,b.lineSeparator));this.doc=c;var d=new k.inputStyles[b.inputStyle](this);a=this.display=new g(a,c,d);a.wrapper.CodeMirror=this;m(this);e(this);b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");b.autofocus&&!yd&&a.input.focus();q(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,
focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Kf,keySeq:null,specialChars:null};var f=this;Ma&&11>Za&&setTimeout(function(){f.display.input.reset(!0)},20);Le(this);Sa||(zg(),Sa=!0);S(this);this.curOp.forceUpdate=!0;Pf(this,c);b.autofocus&&!yd||f.hasFocus()?setTimeout(rg(fe,this),20):Kc(this);for(var p in Ee)if(Ee.hasOwnProperty(p))Ee[p](this,b[p],af);F(this);b.finishInit&&b.finishInit(this);for(c=0;c<oh.length;++c)oh[c](this);Ac(this);zb&&b.lineWrapping&&
"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function g(a,b,c){this.input=c;this.scrollbarFiller=ka("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=ka("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=ka("div",null,"CodeMirror-code");this.selectionDiv=ka("div",null,null,"position: relative; z-index: 1");this.cursorDiv=
ka("div",null,"CodeMirror-cursors");this.measure=ka("div",null,"CodeMirror-measure");this.lineMeasure=ka("div",null,"CodeMirror-measure");this.lineSpace=ka("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");this.mover=ka("div",[ka("div",[this.lineSpace],"CodeMirror-lines")],null,"position: relative");this.sizer=ka("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=ka("div",null,null,"position: absolute; height: "+
Df+"px; width: 1px;");this.gutters=ka("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=ka("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=ka("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");Ma&&8>Za&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);zb||xd&&yd||(this.scroller.draggable=!0);a&&(a.appendChild?a.appendChild(this.wrapper):a(this.wrapper));this.reportedViewFrom=
this.reportedViewTo=this.viewFrom=this.viewTo=b.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=
this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;c.init(this)}function c(a){a.doc.mode=k.getMode(a.options,a.doc.modeOption);f(a)}function f(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null)});a.doc.frontier=a.doc.first;Uc(a,100);a.state.modeGen++;a.curOp&&Ra(a)}function a(a){var b=X(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/ca(a.display)-3);return function(e){if(nf(a.doc,
e))return 0;var f=0;if(e.widgets)for(var g=0;g<e.widgets.length;g++)e.widgets[g].height&&(f+=e.widgets[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function h(b){var c=b.doc,d=a(b);c.iter(function(a){var b=d(a);b!=a.height&&rc(a,b)})}function e(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");kd(a)}function b(a){m(a);Ra(a);setTimeout(function(){I(a)},20)}function m(a){var b=a.display.gutters,c=a.options.gutters;
qc(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(ka("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none";n(a)}function n(a){a.display.sizer.style.marginLeft=a.display.gutters.offsetWidth+"px"}function r(a){var b;if(0==a.height)return 0;for(var c=a.text.length,d=a;b=id(d,!0);)b=b.find(0,!0),d=b.from.line,c+=b.from.ch-b.to.ch;for(d=a;b=id(d,!1);)b=b.find(0,!0),c-=d.text.length-
b.from.ch,d=b.to.line,c+=d.text.length-b.to.ch;return c}function w(a){var b=a.display;a=a.doc;b.maxLine=qa(a,a.first);b.maxLineLength=r(b.maxLine);b.maxLineChanged=!0;a.iter(function(a){var c=r(a);c>b.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function v(a){var b=$b(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):-1<b&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function A(a){var b=a.display,c=b.gutters.offsetWidth,
d=Math.round(a.doc.height+Gc(a.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,viewWidth:b.wrapper.clientWidth,barLeft:a.options.fixedGutter?c:0,docHeight:d,scrollHeight:d+$a(a)+b.barHeight,nativeBarWidth:b.nativeBarWidth,gutterWidth:c}}function y(a,b,c){this.cm=c;var d=this.vert=ka("div",[ka("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),e=this.horiz=ka("div",[ka("div",null,
null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a(d);a(e);ra(d,"scroll",function(){d.clientHeight&&b(d.scrollTop,"vertical")});ra(e,"scroll",function(){e.clientWidth&&b(e.scrollLeft,"horizontal")});this.checkedOverlay=!1;Ma&&8>Za&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function x(){}function q(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&Sb(a.display.wrapper,a.display.scrollbars.addClass));a.display.scrollbars=new k.scrollbarModel[a.options.scrollbarStyle](function(b){a.display.wrapper.insertBefore(b,
a.display.scrollbarFiller);ra(b,"mousedown",function(){a.state.focused&&setTimeout(function(){a.display.input.focus()},0)});b.setAttribute("cm-not-content","true")},function(b,c){"horizontal"==c?Jc(a,b):ec(a,b)},a);a.display.scrollbars.addClass&&na(a.display.wrapper,a.display.scrollbars.addClass)}function B(a,b){b||(b=A(a));var c=a.display.barWidth,d=a.display.barHeight;C(a,b);for(b=0;4>b&&c!=a.display.barWidth||d!=a.display.barHeight;b++)c!=a.display.barWidth&&a.options.lineWrapping&&T(a),C(a,A(a)),
c=a.display.barWidth,d=a.display.barHeight}function C(a,b){var c=a.display,d=c.scrollbars.update(b);c.sizer.style.paddingRight=(c.barWidth=d.right)+"px";c.sizer.style.paddingBottom=(c.barHeight=d.bottom)+"px";d.right&&d.bottom?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=d.bottom+"px",c.scrollbarFiller.style.width=d.right+"px"):c.scrollbarFiller.style.display="";d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=
d.bottom+"px",c.gutterFiller.style.width=b.gutterWidth+"px"):c.gutterFiller.style.display=""}function E(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop;d=Math.floor(d-a.lineSpace.offsetTop);var e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight;d=we(b,d);e=we(b,e);if(c&&c.ensure){var f=c.ensure.from.line;c=c.ensure.to.line;f<d?(d=f,e=we(b,zc(qa(b,f))+a.wrapper.clientHeight)):Math.min(c,b.lastLine())>=e&&(d=we(b,zc(qa(b,c))-a.wrapper.clientHeight),e=c)}return{from:d,to:Math.max(e,
d+1)}}function I(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=L(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+"px",g=0;g<c.length;g++)if(!c[g].hidden){a.options.fixedGutter&&c[g].gutter&&(c[g].gutter.style.left=f);var p=c[g].alignable;if(p)for(var h=0;h<p.length;h++)p[h].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+"px")}}function F(a){if(!a.options.lineNumbers)return!1;var b=a.doc;b=J(a.options,b.first+
b.size-1);var c=a.display;if(b.length!=c.lineNumChars){var d=c.measure.appendChild(ka("div",[ka("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),e=d.firstChild.offsetWidth;d=d.offsetWidth-e;c.lineGutter.style.width="";c.lineNumInnerWidth=Math.max(e,c.lineGutter.offsetWidth-d)+1;c.lineNumWidth=c.lineNumInnerWidth+d;c.lineNumChars=c.lineNumInnerWidth?b.length:-1;c.lineGutter.style.width=c.lineNumWidth+"px";n(a);return!0}return!1}function J(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}
function L(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function d(a,b,c){var d=a.display;this.viewport=b;this.visible=E(d,a.doc,b);this.editorIsHidden=!d.wrapper.offsetWidth;this.wrapperHeight=d.wrapper.clientHeight;this.wrapperWidth=d.wrapper.clientWidth;this.oldDisplayWidth=xc(a);this.force=c;this.dims=W(a);this.events=[]}function l(a,b){var c=a.display,d=a.doc;if(b.editorIsHidden)return kb(a),!1;if(!b.force&&b.visible.from>=c.viewFrom&&b.visible.to<=c.viewTo&&
(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo)&&c.renderedView==c.view&&0==ce(a))return!1;F(a)&&(kb(a),b.dims=W(a));var e=d.first+d.size,f=Math.max(b.visible.from-a.options.viewportMargin,d.first),g=Math.min(e,b.visible.to+a.options.viewportMargin);c.viewFrom<f&&20>f-c.viewFrom&&(f=Math.max(d.first,c.viewFrom));c.viewTo>g&&20>c.viewTo-g&&(g=Math.min(e,c.viewTo));Ce&&(f=$d(a.doc,f),g=za(a.doc,g));d=f!=c.viewFrom||g!=c.viewTo||c.lastWrapHeight!=b.wrapperHeight||c.lastWrapWidth!=b.wrapperWidth;
e=a.display;0==e.view.length||f>=e.viewTo||g<=e.viewFrom?(e.view=Zb(a,f,g),e.viewFrom=f):(e.viewFrom>f?e.view=Zb(a,f,e.viewFrom).concat(e.view):e.viewFrom<f&&(e.view=e.view.slice(nc(a,f))),e.viewFrom=f,e.viewTo<g?e.view=e.view.concat(Zb(a,e.viewTo,g)):e.viewTo>g&&(e.view=e.view.slice(0,nc(a,g))));e.viewTo=g;c.viewOffset=zc(qa(a.doc,c.viewFrom));a.display.mover.style.top=c.viewOffset+"px";g=ce(a);if(!d&&0==g&&!b.force&&c.renderedView==c.view&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo))return!1;
f=Xc();4<g&&(c.lineDiv.style.display="none");Ea(a,c.updateLineNumbers,b.dims);4<g&&(c.lineDiv.style.display="");c.renderedView=c.view;f&&Xc()!=f&&f.offsetHeight&&f.focus();qc(c.cursorDiv);qc(c.selectionDiv);c.gutters.style.height=c.sizer.style.minHeight=0;d&&(c.lastWrapHeight=b.wrapperHeight,c.lastWrapWidth=b.wrapperWidth,Uc(a,400));c.updateLineNumbers=null;return!0}function z(a,b){for(var c=b.viewport,d=!0;;d=!1){if(!d||!a.options.lineWrapping||b.oldDisplayWidth==xc(a))if(c&&null!=c.top&&(c={top:Math.min(a.doc.height+
Gc(a.display)-Vc(a),c.top)}),b.visible=E(a.display,a.doc,c),b.visible.from>=a.display.viewFrom&&b.visible.to<=a.display.viewTo)break;if(!l(a,b))break;T(a);d=A(a);Ic(a);K(a,d);B(a,d)}b.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)b.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}function G(a,b){b=new d(a,b);if(l(a,b)){T(a);z(a,
b);var c=A(a);Ic(a);K(a,c);B(a,c);b.finish()}}function K(a,b){a.display.sizer.style.minHeight=b.docHeight+"px";var c=b.docHeight+a.display.barHeight;a.display.heightForcer.style.top=c+"px";a.display.gutters.style.height=Math.max(c+$a(a),b.clientHeight)+"px"}function T(a){a=a.display;for(var b=a.lineDiv.offsetTop,c=0;c<a.view.length;c++){var d=a.view[c];if(!d.hidden){if(Ma&&8>Za){var e=d.node.offsetTop+d.node.offsetHeight;var f=e-b;b=e}else f=d.node.getBoundingClientRect(),f=f.bottom-f.top;e=d.line.height-
f;2>f&&(f=X(a));if(.001<e||-.001>e)if(rc(d.line,f),ja(d.line),d.rest)for(f=0;f<d.rest.length;f++)ja(d.rest[f])}}}function ja(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.offsetHeight}function W(a){for(var b=a.display,c={},d={},e=b.gutters.clientLeft,f=b.gutters.firstChild,g=0;f;f=f.nextSibling,++g)c[a.options.gutters[g]]=f.offsetLeft+f.clientLeft+e,d[a.options.gutters[g]]=f.clientWidth;return{fixedPos:L(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,
gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function Ea(a,b,c){function d(b){var c=b.nextSibling;zb&&Oc&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b);return c}var e=a.display,f=a.options.lineNumbers,g=e.lineDiv,p=g.firstChild,h=e.view;e=e.viewFrom;for(var k=0;k<h.length;k++){var t=h[k];if(!t.hidden)if(t.node&&t.node.parentNode==g){for(;p!=t.node;)p=d(p);p=f&&null!=b&&b<=e&&t.lineNumber;t.changes&&(-1<$b(t.changes,"gutter")&&(p=!1),ea(a,t,e,c));p&&(qc(t.lineNumber),
t.lineNumber.appendChild(document.createTextNode(J(a.options,e))));p=t.node.nextSibling}else{var l=xa(a,t,e,c);g.insertBefore(l,p)}e+=t.size}for(;p;)p=d(p)}function ea(a,b,c,d){for(var e=0;e<b.changes.length;e++){var f=b.changes[e];if("text"==f){f=b;var g=f.text.className,p=aa(a,f);f.text==f.node&&(f.node=p.pre);f.text.parentNode.replaceChild(p.pre,f.text);f.text=p.pre;p.bgClass!=f.bgClass||p.textClass!=f.textClass?(f.bgClass=p.bgClass,f.textClass=p.textClass,O(f)):g&&(f.text.className=g)}else if("gutter"==
f)fa(a,b,c,d);else if("class"==f)O(b);else if("widget"==f){g=a;p=b;var h=d;p.alignable&&(p.alignable=null);for(var k=p.node.firstChild;k;k=f)f=k.nextSibling,"CodeMirror-linewidget"==k.className&&p.node.removeChild(k);ma(g,p,h)}}b.changes=null}function Y(a){a.node==a.text&&(a.node=ka("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),Ma&&8>Za&&(a.node.style.zIndex=2));return a.node}function aa(a,b){var c=a.display.externalMeasured;
return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):Pg(a,b)}function O(a){var b=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;b&&(b+=" CodeMirror-linebackground");if(a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var c=Y(a);a.background=c.insertBefore(ka("div",null,b),c.firstChild)}a.line.wrapClass?Y(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");a.text.className=
(a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass)||""}function fa(a,b,c,d){b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null);b.gutterBackground&&(b.node.removeChild(b.gutterBackground),b.gutterBackground=null);if(b.line.gutterClass){var e=Y(b);b.gutterBackground=ka("div",null,"CodeMirror-gutter-background "+b.line.gutterClass,"left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px");e.insertBefore(b.gutterBackground,b.text)}var f=
b.line.gutterMarkers;if(a.options.lineNumbers||f){e=Y(b);var g=b.gutter=ka("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");a.display.input.setUneditable(g);e.insertBefore(g,b.text);b.line.gutterClass&&(g.className+=" "+b.line.gutterClass);!a.options.lineNumbers||f&&f["CodeMirror-linenumbers"]||(b.lineNumber=g.appendChild(ka("div",J(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+
"px; width: "+a.display.lineNumInnerWidth+"px")));if(f)for(b=0;b<a.options.gutters.length;++b)c=a.options.gutters[b],(e=f.hasOwnProperty(c)&&f[c])&&g.appendChild(ka("div",[e],"CodeMirror-gutter-elt","left: "+d.gutterLeft[c]+"px; width: "+d.gutterWidth[c]+"px"))}}function xa(a,b,c,d){var e=aa(a,b);b.text=b.node=e.pre;e.bgClass&&(b.bgClass=e.bgClass);e.textClass&&(b.textClass=e.textClass);O(b);fa(a,b,c,d);ma(a,b,d);return b.node}function ma(a,b,c){ha(a,b.line,b,c,!0);if(b.rest)for(var d=0;d<b.rest.length;d++)ha(a,
b.rest[d],b,c,!1)}function ha(a,b,c,d,e){if(b.widgets){var f=Y(c),g=0;for(b=b.widgets;g<b.length;++g){var p=b[g],h=ka("div",[p.node],"CodeMirror-linewidget");p.handleMouseEvents||h.setAttribute("cm-ignore-events","true");var k=p,t=h,l=d;if(k.noHScroll){(c.alignable||(c.alignable=[])).push(t);var m=l.wrapperWidth;t.style.left=l.fixedPos+"px";k.coverGutter||(m-=l.gutterTotalWidth,t.style.paddingLeft=l.gutterTotalWidth+"px");t.style.width=m+"px"}k.coverGutter&&(t.style.zIndex=5,t.style.position="relative",
k.noHScroll||(t.style.marginLeft=-l.gutterTotalWidth+"px"));a.display.input.setUneditable(h);e&&p.above?f.insertBefore(h,c.gutter||c.text):f.appendChild(h);ac(p,"redraw")}}}function ua(a){return V(a.line,a.ch)}function Xa(a,b){return 0>wa(a,b)?b:a}function fb(a,b){return 0>wa(a,b)?a:b}function Ub(a){a.state.focused||(a.display.input.focus(),fe(a))}function Fa(a){return a.options.readOnly||a.doc.cantEdit}function yc(a,b,c,d,e){var f=a.doc;a.display.shift=!1;d||(d=f.sel);var g=a.state.pasteIncoming||
"paste"==e,p=f.splitLines(b),h=null;if(g&&1<d.ranges.length)if(Pc&&Pc.join("\n")==b){if(0==d.ranges.length%Pc.length){h=[];for(var k=0;k<Pc.length;k++)h.push(f.splitLines(Pc[k]))}}else p.length==d.ranges.length&&(h=ng(p,function(a){return[a]}));for(k=d.ranges.length-1;0<=k;k--){var t=d.ranges[k];var l=t.from(),m=t.to();t.empty()&&(c&&0<c?l=V(l.line,l.ch-c):a.state.overwrite&&!g&&(m=V(m.line,Math.min(qa(f,m.line).text.length,m.ch+Ua(p).length))));t=a.curOp.updateInput;l={from:l,to:m,text:h?h[k%h.length]:
p,origin:e||(g?"paste":a.state.cutIncoming?"cut":"+input")};Qb(a.doc,l);ac(a,"inputRead",a,l)}b&&!g&&xb(a,b);Rb(a);a.curOp.updateInput=t;a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=!1}function Oa(a,b){var c=a.clipboardData&&a.clipboardData.getData("text/plain");if(c)return a.preventDefault(),tb(b,function(){yc(b,c,0,null,"paste")}),!0}function xb(a,b){if(a.options.electricChars&&a.options.smartIndent)for(var c=a.doc.sel,d=c.ranges.length-1;0<=d;d--){var e=c.ranges[d];if(!(100<e.head.ch||
d&&c.ranges[d-1].head.line==e.head.line)){var f=a.getModeAt(e.head),g=!1;if(f.electricChars)for(var p=0;p<f.electricChars.length;p++){if(-1<b.indexOf(f.electricChars.charAt(p))){g=Md(a,e.head.line,"smart");break}}else f.electricInput&&f.electricInput.test(qa(a.doc,e.head.line).text.slice(0,e.head.ch))&&(g=Md(a,e.head.line,"smart"));g&&ac(a,"electricInput",a,e.head.line)}}}function Jb(a){for(var b=[],c=[],d=0;d<a.doc.sel.ranges.length;d++){var e=a.doc.sel.ranges[d].head.line;e={anchor:V(e,0),head:V(e+
1,0)};c.push(e);b.push(a.getRange(e.anchor,e.head))}return{text:b,ranges:c}}function Ha(a){a.setAttribute("autocorrect","off");a.setAttribute("autocapitalize","off");a.setAttribute("spellcheck","false")}function Ba(a){this.cm=a;this.prevInput="";this.pollingFast=!1;this.polling=new Kf;this.hasSelection=this.inaccurateSelection=!1;this.composing=null}function R(){var a=ka("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),b=ka("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");
zb?a.style.width="1000px":a.setAttribute("wrap","off");Ye&&(a.style.border="1px solid black");Ha(a);return b}function Aa(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Kf;this.gracePeriod=!1}function Ca(a,b){var c=Hb(a,b.line);if(!c||c.hidden)return null;a=qa(a.doc,b.line);c=Yd(c,a,b.line);a=jd(a);var d="left";a&&(d=me(a,b.ch)%2?"right":"left");b=Zc(c.map,b.ch,d);b.offset="right"==b.collapse?b.end:b.start;return b}function mb(a,
b){b&&(a.bad=!0);return a}function ab(a,b,c){if(b==a.display.lineDiv){var d=a.display.lineDiv.childNodes[c];if(!d)return mb(a.clipPos(V(a.display.viewTo-1)),!0);b=null;c=0}else for(d=b;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var e=0;e<a.display.view.length;e++){var f=a.display.view[e];if(f.node==d)return ya(f,b,c)}}function ya(a,b,c){function d(b,c,d){for(var e=-1;e<(k?k.length:0);e++)for(var f=0>e?h.map:k[e],g=0;g<f.length;g+=
3){var p=f[g+2];if(p==b||p==c){c=Ia(0>e?a.line:a.rest[e]);e=f[g]+d;if(0>d||p!=b)e=f[g+(d?1:0)];return V(c,e)}}}var e=a.text.firstChild,f=!1;if(!b||!Tg(e,b))return mb(V(Ia(a.line),0),!0);if(b==e&&(f=!0,b=e.childNodes[c],c=0,!b))return c=a.rest?Ua(a.rest):a.line,mb(V(Ia(c),c.text.length),f);var g=3==b.nodeType?b:null,p=b;g||1!=b.childNodes.length||3!=b.firstChild.nodeType||(g=b.firstChild,c&&(c=g.nodeValue.length));for(;p.parentNode!=e;)p=p.parentNode;var h=a.measure,k=h.maps;if(b=d(g,p,c))return mb(b,
f);e=p.nextSibling;for(g=g?g.nodeValue.length-c:0;e;e=e.nextSibling){if(b=d(e,e.firstChild,0))return mb(V(b.line,b.ch-g),f);g+=e.textContent.length}p=p.previousSibling;for(g=c;p;p=p.previousSibling){if(b=d(p,p.firstChild,-1))return mb(V(b.line,b.ch+g),f);g+=e.textContent.length}}function ib(a,b,c,d,e){function f(a){return function(b){return b.id==a}}function g(b){if(1==b.nodeType){var c=b.getAttribute("cm-text");if(null!=c)""==c&&(c=b.textContent.replace(/\u200b/g,"")),p+=c;else{c=b.getAttribute("cm-marker");
var l;if(c)b=a.findMarks(V(d,0),V(e+1,0),f(+c)),b.length&&(l=b[0].find())&&(p+=Hc(a.doc,l.from,l.to).join(k));else if("false"!=b.getAttribute("contenteditable")){for(l=0;l<b.childNodes.length;l++)g(b.childNodes[l]);/^(pre|div|p)$/i.test(b.nodeName)&&(h=!0)}}}else 3==b.nodeType&&(b=b.nodeValue)&&(h&&(p+=k,h=!1),p+=b)}for(var p="",h=!1,k=a.doc.lineSeparator();;){g(b);if(b==c)break;b=b.nextSibling}return p}function nb(a,b){this.ranges=a;this.primIndex=b}function Q(a,b){this.anchor=a;this.head=b}function u(a,
b){b=a[b];a.sort(function(a,b){return wa(a.from(),b.from())});b=$b(a,b);for(var c=1;c<a.length;c++){var d=a[c],e=a[c-1];if(0<=wa(e.to(),d.from())){var f=fb(e.from(),d.from()),g=Xa(e.to(),d.to());d=e.empty()?d.from()==d.head:e.from()==e.head;c<=b&&--b;a.splice(--c,2,new Q(d?g:f,d?f:g))}}return new nb(a,b)}function yb(a,b){return new nb([new Q(a,b||a)],0)}function pa(a,b){if(b.line<a.first)return V(a.first,0);var c=a.first+a.size-1;if(b.line>c)return V(c,qa(a,c).text.length);a=qa(a,b.line).text.length;
c=b.ch;b=null==c||c>a?V(b.line,a):0>c?V(b.line,0):b;return b}function vb(a,b){return b>=a.first&&b<a.first+a.size}function Wc(a,b,c,d){return a.cm&&a.cm.display.shift||a.extend?(a=b.anchor,d&&(b=0>wa(c,a),b!=0>wa(d,a)?(a=c,c=d):b!=0>wa(c,d)&&(c=d)),new Q(a,c)):new Q(d||c,c)}function cc(a,b,c,d){Pa(a,new nb([Wc(a,a.sel.primary(),b,c)],0),d)}function Ed(a,b,c){for(var d=[],e=0;e<a.sel.ranges.length;e++)d[e]=Wc(a,a.sel.ranges[e],b[e],null);b=u(d,a.sel.primIndex);Pa(a,b,c)}function be(a,b,c,d){var e=
a.sel.ranges.slice(0);e[b]=c;Pa(a,u(e,a.sel.primIndex),d)}function Fd(a,b){var c={ranges:b.ranges,update:function(b){this.ranges=[];for(var c=0;c<b.length;c++)this.ranges[c]=new Q(pa(a,b[c].anchor),pa(a,b[c].head))}};ia(a,"beforeSelectionChange",a,c);a.cm&&ia(a.cm,"beforeSelectionChange",a.cm,c);return c.ranges!=b.ranges?u(c.ranges,c.ranges.length-1):b}function Cb(a,b,c){var d=a.history.done,e=Ua(d);e&&e.ranges?(d[d.length-1]=b,Na(a,b,c)):Pa(a,b,c)}function Pa(a,b,c){Na(a,b,c);b=a.sel;var d=a.cm?
a.cm.curOp.id:NaN,e=a.history,f=c&&c.origin,g;if(!(g=d==e.lastSelOp)&&(g=f&&e.lastSelOrigin==f)&&!(g=e.lastModTime==e.lastSelTime&&e.lastOrigin==f)){g=Ua(e.done);var p=f.charAt(0);g="*"==p||"+"==p&&g.ranges.length==b.ranges.length&&g.somethingSelected()==b.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}g?e.done[e.done.length-1]=b:ve(b,e.done);e.lastSelTime=+new Date;e.lastSelOrigin=f;e.lastSelOp=d;c&&!1!==c.clearRedo&&Lf(e.undone)}function Na(a,b,c){if(wb(a,
"beforeSelectionChange")||a.cm&&wb(a.cm,"beforeSelectionChange"))b=Fd(a,b);var d=c&&c.bias||(0>wa(b.primary().head,a.sel.primary().head)?-1:1);jb(a,Pe(a,b,d,!0));c&&!1===c.scroll||!a.cm||Rb(a.cm)}function jb(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,ue(a.cm)),ac(a,"cursorActivity",a))}function Gd(a){jb(a,Pe(a,a.sel,null,!1),Lc)}function Pe(a,b,c,d){for(var e,f=0;f<b.ranges.length;f++){var g=b.ranges[f],p=lc(a,g.anchor,c,d),h=lc(a,g.head,c,d);if(e||
p!=g.anchor||h!=g.head)e||(e=b.ranges.slice(0,f)),e[f]=new Q(p,h)}return e?u(e,b.primIndex):b}function lc(a,b,c,d){var e=!1,f=b,g=c||1;a.cantEdit=!1;a:for(;;){var p=qa(a,f.line);if(p.markedSpans)for(var h=0;h<p.markedSpans.length;++h){var k=p.markedSpans[h],l=k.marker;if((null==k.from||(l.inclusiveLeft?k.from<=f.ch:k.from<f.ch))&&(null==k.to||(l.inclusiveRight?k.to>=f.ch:k.to>f.ch))){if(d&&(ia(l,"beforeCursorEnter"),l.explicitlyCleared))if(p.markedSpans){--h;continue}else break;if(l.atomic){h=l.find(0>
g?-1:1);if(0==wa(h,f)&&(h.ch+=g,0>h.ch?h=h.line>a.first?pa(a,V(h.line-1)):null:h.ch>p.text.length&&(h=h.line<a.first+a.size-1?V(h.line+1,0):null),!h)){if(e){if(!d)return lc(a,b,c,!0);a.cantEdit=!0;return V(a.first,0)}e=!0;h=b;g=-g}f=h;continue a}}}return f}}function Ic(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Qe(a,b){for(var c=a.doc,d={},e=d.cursors=document.createDocumentFragment(),f=d.selection=document.createDocumentFragment(),g=0;g<c.sel.ranges.length;g++)if(!1!==
b||g!=c.sel.primIndex){var p=c.sel.ranges[g],h=p.empty();if(h||a.options.showCursorWhenSelecting){var k=a,l=e,t=Db(k,p.head,"div",null,null,!k.options.singleCursorHeightPerLine),m=l.appendChild(ka("div","\u00a0","CodeMirror-cursor"));m.style.left=t.left+"px";m.style.top=t.top+"px";m.style.height=Math.max(0,t.bottom-t.top)*k.options.cursorHeight+"px";t.other&&(k=l.appendChild(ka("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),k.style.display="",k.style.left=t.other.left+"px",k.style.top=
t.other.top+"px",k.style.height=.85*(t.other.bottom-t.other.top)+"px")}h||Ad(a,p,f)}return d}function Ad(a,b,c){function d(a,b,c,d){0>b&&(b=0);b=Math.round(b);d=Math.round(d);p.appendChild(ka("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?l-a:c)+"px; height: "+(d-b)+"px"))}function e(b,c,e){var f=qa(g,b),p=f.text.length,h,t;yg(jd(f),c||0,null==e?p:e,function(g,m,n){var H=$c(a,V(b,g),"div",f,"left"),la;if(g==m){var q=H;n=la=H.left}else q=$c(a,V(b,
m-1),"div",f,"right"),"rtl"==n&&(n=H,H=q,q=n),n=H.left,la=q.right;null==c&&0==g&&(n=k);3<q.top-H.top&&(d(n,H.top,null,H.bottom),n=k,H.bottom<q.top&&d(n,H.bottom,null,q.top));null==e&&m==p&&(la=l);if(!h||H.top<h.top||H.top==h.top&&H.left<h.left)h=H;if(!t||q.bottom>t.bottom||q.bottom==t.bottom&&q.right>t.right)t=q;n<k+1&&(n=k);d(n,q.top,la-n,q.bottom)});return{start:h,end:t}}var f=a.display,g=a.doc,p=document.createDocumentFragment(),h=M(a.display),k=h.left,l=Math.max(f.sizerWidth,xc(a)-f.sizer.offsetLeft)-
h.right;f=b.from();b=b.to();if(f.line==b.line)e(f.line,f.ch,b.ch);else{var t=qa(g,f.line);h=qa(g,b.line);h=Cd(t)==Cd(h);f=e(f.line,f.ch,h?t.text.length+1:null).end;b=e(b.line,h?0:null,b.ch).start;h&&(f.top<b.top-2?(d(f.right,f.top,null,f.bottom),d(k,b.top,b.left,b.bottom)):d(f.right,f.top,b.left-f.right,f.bottom));f.bottom<b.top&&d(k,f.bottom,null,b.top)}c.appendChild(p)}function re(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?
b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(b.cursorDiv.style.visibility="hidden")}}function Uc(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,rg(Sf,a))}function Sf(a){var b=a.doc;b.frontier<b.first&&(b.frontier=b.first);if(!(b.frontier>=a.display.viewTo)){var c=+new Date+a.options.workTime,d=Rc(b.mode,sb(a,b.frontier)),e=[];b.iter(b.frontier,Math.min(b.first+b.size,
a.display.viewTo+500),function(f){if(b.frontier>=a.display.viewFrom){var g=f.styles,p=kf(a,f,d,!0);f.styles=p.styles;var h=f.styleClasses;(p=p.classes)?f.styleClasses=p:h&&(f.styleClasses=null);h=!g||g.length!=f.styles.length||h!=p&&(!h||!p||h.bgClass!=p.bgClass||h.textClass!=p.textClass);for(p=0;!h&&p<g.length;++p)h=g[p]!=f.styles[p];h&&e.push(b.frontier);f.stateAfter=Rc(b.mode,d)}else Ne(a,f.text,d),f.stateAfter=0==b.frontier%5?Rc(b.mode,d):null;++b.frontier;if(+new Date>c)return Uc(a,a.options.workDelay),
!0});e.length&&tb(a,function(){for(var b=0;b<e.length;b++)cb(a,e[b],"text")})}}function mc(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1E3:100);b>g;--b){if(b<=f.first)return f.first;var p=qa(f,b-1);if(p.stateAfter&&(!c||b<=f.frontier))return b;p=cd(p.text,null,a.options.tabSize);if(null==e||d>p)e=b-1,d=p}return e}function sb(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;var f=mc(a,b,c),g=f>d.first&&qa(d,f-1).stateAfter;g=g?Rc(d.mode,g):Zg(d.mode);d.iter(f,b,function(c){Ne(a,
c.text,g);c.stateAfter=f==b-1||0==f%5||f>=e.viewFrom&&f<e.viewTo?Rc(d.mode,g):null;++f});c&&(d.frontier=f);return g}function Gc(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function M(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=bc(a.measure,ka("pre","x"));b=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle;b={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};isNaN(b.left)||isNaN(b.right)||(a.cachedPaddingH=b);return b}function $a(a){return Df-a.display.nativeBarWidth}
function xc(a){return a.display.scroller.clientWidth-$a(a)-a.display.barWidth}function Vc(a){return a.display.scroller.clientHeight-$a(a)-a.display.barHeight}function Yd(a,b,c){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d<a.rest.length;d++)if(a.rest[d]==b)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(d=0;d<a.rest.length;d++)if(Ia(a.rest[d])>c)return{map:a.measure.maps[d],cache:a.measure.caches[d],before:!0}}function Hb(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[nc(a,
b)];if((a=a.display.externalMeasured)&&b>=a.lineN&&b<a.lineN+a.size)return a}function N(a,b){var c=Ia(b),d=Hb(a,c);d&&!d.text?d=null:d&&d.changes&&(ea(a,d,c,W(a)),a.curOp.forceUpdate=!0);if(!d){var e=Cd(b);d=Ia(e);e=a.display.externalMeasured=new oc(a.doc,e,d);e.lineN=d;d=e.built=Pg(a,e);e.text=d.pre;bc(a.display.lineMeasure,d.pre);d=e}a=Yd(d,b,c);return{line:b,view:d,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function Bd(a,b,c,d,e){b.before&&(c=-1);var f=c+(d||"");if(b.cache.hasOwnProperty(f))a=
b.cache[f];else{b.rect||(b.rect=b.view.text.getBoundingClientRect());if(!b.hasHeights){var g=b.view,p=b.rect,h=a.options.lineWrapping,k=h&&xc(a);if(!g.measure.heights||h&&g.measure.width!=k){var l=g.measure.heights=[];if(h)for(g.measure.width=k,g=g.text.firstChild.getClientRects(),h=0;h<g.length-1;h++){k=g[h];var t=g[h+1];2<Math.abs(k.bottom-t.bottom)&&l.push((k.bottom+t.top)/2-p.top)}l.push(p.bottom-p.top)}b.hasHeights=!0}g=d;h=Zc(b.map,c,g);d=h.node;p=h.start;k=h.end;c=h.collapse;if(3==d.nodeType){for(l=
0;4>l;l++){for(;p&&pb(b.line.text.charAt(h.coverStart+p));)--p;for(;h.coverStart+k<h.coverEnd&&pb(b.line.text.charAt(h.coverStart+k));)++k;if(Ma&&9>Za&&0==p&&k==h.coverEnd-h.coverStart)var m=d.parentNode.getBoundingClientRect();else if(Ma&&a.options.lineWrapping){var n=he(d,p,k).getClientRects();m=n.length?n["right"==g?n.length-1:0]:eg}else m=he(d,p,k).getBoundingClientRect()||eg;if(m.left||m.right||0==p)break;k=p;--p;c="right"}Ma&&11>Za&&((n=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==
screen.deviceXDPI)||(null!=Ef?n=Ef:(l=bc(a.display.measure,ka("span","x")),n=l.getBoundingClientRect(),l=he(l,0,1).getBoundingClientRect(),n=Ef=1<Math.abs(n.left-l.left)),n=!n),n||(n=screen.logicalXDPI/screen.deviceXDPI,l=screen.logicalYDPI/screen.deviceYDPI,m={left:m.left*n,right:m.right*n,top:m.top*l,bottom:m.bottom*l}))}else 0<p&&(c=g="right"),m=a.options.lineWrapping&&1<(n=d.getClientRects()).length?n["right"==g?n.length-1:0]:d.getBoundingClientRect();!(Ma&&9>Za)||p||m&&(m.left||m.right)||(m=
(m=d.parentNode.getClientRects()[0])?{left:m.left,right:m.left+ca(a.display),top:m.top,bottom:m.bottom}:eg);n=m.top-b.rect.top;d=m.bottom-b.rect.top;p=(n+d)/2;g=b.view.measure.heights;for(l=0;l<g.length-1&&!(p<g[l]);l++);c={left:("right"==c?m.right:m.left)-b.rect.left,right:("left"==c?m.left:m.right)-b.rect.left,top:l?g[l-1]:0,bottom:g[l]};m.left||m.right||(c.bogus=!0);a.options.singleCursorHeightPerLine||(c.rtop=n,c.rbottom=d);a=c;a.bogus||(b.cache[f]=a)}return{left:a.left,right:a.right,top:e?a.rtop:
a.top,bottom:e?a.rbottom:a.bottom}}function Zc(a,b,c){for(var d,e,f,g,p,h,k=0;k<a.length;k+=3){e=a[k];d=a[k+1];if(b<e)g=0,p=1,h="left";else if(b<d)g=b-e,p=g+1;else if(k==a.length-3||b==d&&a[k+3]>b)p=d-e,g=p-1,b>=d&&(h="right");if(null!=g){f=a[k+2];e==d&&c==(f.insertLeft?"left":"right")&&(h=c);if("left"==c&&0==g)for(;k&&a[k-2]==a[k-3]&&a[k-1].insertLeft;)f=a[(k-=3)+2],h="left";if("right"==c&&g==d-e)for(;k<a.length-3&&a[k+3]==a[k+4]&&!a[k+5].insertLeft;)f=a[(k+=3)+2],h="right";break}}return{node:f,
start:g,end:p,collapse:h,coverStart:e,coverEnd:d}}function Tf(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function Uf(a){a.display.externalMeasure=null;qc(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)Tf(a.display.view[b])}function kd(a){Uf(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}
function da(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=Dd(b.widgets[e]);c.top+=f;c.bottom+=f}if("line"==d)return c;d||(d="local");b=zc(b);b="local"==d?b+a.display.lineSpace.offsetTop:b-a.display.viewOffset;if("page"==d||"window"==d)a=a.display.lineSpace.getBoundingClientRect(),b+=a.top+("window"==d?0:window.pageYOffset||(document.documentElement||document.body).scrollTop),d=a.left+("window"==d?0:window.pageXOffset||(document.documentElement||document.body).scrollLeft),
c.left+=d,c.right+=d;c.top+=b;c.bottom+=b;return c}function dc(a,b,c){if("div"==c)return b;var d=b.left;b=b.top;"page"==c?(d-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,b-=window.pageYOffset||(document.documentElement||document.body).scrollTop):"local"!=c&&c||(c=a.display.sizer.getBoundingClientRect(),d+=c.left,b+=c.top);a=a.display.lineSpace.getBoundingClientRect();return{left:d-a.left,top:b-a.top}}function $c(a,b,c,d,e){d||(d=qa(a.doc,b.line));var f=d;b=b.ch;d=Bd(a,
N(a,d),b,e);return da(a,f,d,c)}function Db(a,b,c,d,e,f){function g(b,g){b=Bd(a,e,b,g?"right":"left",f);g?b.left=b.right:b.right=b.left;return da(a,d,b,c)}function p(a,b){var c=h[b],d=c.level%2;a==bg(c)&&b&&c.level<h[b-1].level?(c=h[--b],a=Xe(c)-(c.level%2?0:1),d=!0):a==Xe(c)&&b<h.length-1&&c.level<h[b+1].level&&(c=h[++b],a=bg(c)-c.level%2,d=!1);return d&&a==c.to&&a>c.from?g(a-1):g(a,d)}d=d||qa(a.doc,b.line);e||(e=N(a,d));var h=jd(d);b=b.ch;if(!h)return g(b);var k=me(h,b);k=p(b,k);null!=df&&(k.other=
p(b,df));return k}function Re(a,b){var c=0;b=pa(a.doc,b);a.options.lineWrapping||(c=ca(a.display)*b.ch);b=qa(a.doc,b.line);a=zc(b)+a.display.lineSpace.offsetTop;return{left:c,right:c,top:a,bottom:a+b.height}}function Ka(a,b,c,d){a=V(a,b);a.xRel=d;c&&(a.outside=!0);return a}function Ke(a,b,c){var d=a.doc;c+=a.display.viewOffset;if(0>c)return Ka(d.first,0,!0,-1);var e=we(d,c),f=d.first+d.size-1;if(e>f)return Ka(d.first+d.size-1,qa(d,f).text.length,!0,1);0>b&&(b=0);for(d=qa(d,e);;)if(e=Ib(a,d,e,b,c),
f=(d=id(d,!1))&&d.find(0,!0),d&&(e.ch>f.from.ch||e.ch==f.from.ch&&0<e.xRel))e=Ia(d=f.to.line);else return e}function Ib(a,b,c,d,e){function f(d){d=Db(a,V(c,d),"line",b,k);p=!0;if(g>d.bottom)return d.left-h;if(g<d.top)return d.left+h;p=!1;return d.left}var g=e-zc(b),p=!1,h=2*a.display.wrapper.clientWidth,k=N(a,b),l=jd(b),t=b.text.length;e=vf(b);var m=cg(b),n=f(e),H=p,q=f(m),la=p;if(d>q)return Ka(c,m,la,1);for(;;){if(l?m==e||m==xf(b,e,1):1>=m-e){l=d<n||d-n<=q-d?e:m;for(d-=l==e?n:q;pb(b.text.charAt(l));)++l;
return Ka(c,l,l==e?H:la,-1>d?-1:1<d?1:0)}var r=Math.ceil(t/2),Ta=e+r;if(l){Ta=e;for(var u=0;u<r;++u)Ta=xf(b,Ta,1)}u=f(Ta);if(u>d){m=Ta;q=u;if(la=p)q+=1E3;t=r}else e=Ta,n=u,H=p,t-=r}}function X(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Sd){Sd=ka("pre");for(var b=0;49>b;++b)Sd.appendChild(document.createTextNode("x")),Sd.appendChild(ka("br"));Sd.appendChild(document.createTextNode("x"))}bc(a.measure,Sd);b=Sd.offsetHeight/50;3<b&&(a.cachedTextHeight=b);qc(a.measure);return b||
1}function ca(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=ka("span","xxxxxxxxxx"),c=ka("pre",[b]);bc(a.measure,c);b=b.getBoundingClientRect();b=(b.right-b.left)/10;2<b&&(a.cachedCharWidth=b);return b||10}function S(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Xg};
Td?Td.ops.push(a.curOp):a.curOp.ownsGroup=Td={ops:[a.curOp],delayedCallbacks:[]}}function Ac(a){if(a=a.curOp.ownsGroup)try{var b=a.delayedCallbacks,c=0;do{for(;c<b.length;c++)b[c].call(null);for(var e=0;e<a.ops.length;e++){var f=a.ops[e];if(f.cursorActivityHandlers)for(;f.cursorActivityCalled<f.cursorActivityHandlers.length;)f.cursorActivityHandlers[f.cursorActivityCalled++].call(null,f.cm)}}while(c<b.length)}finally{Td=null;for(b=0;b<a.ops.length;b++)a.ops[b].cm.curOp=null;a=a.ops;for(b=0;b<a.length;b++){f=
a[b];c=f.cm;var g=e=c.display;!g.scrollbarsClipped&&g.scroller.offsetWidth&&(g.nativeBarWidth=g.scroller.offsetWidth-g.scroller.clientWidth,g.heightForcer.style.height=$a(c)+"px",g.sizer.style.marginBottom=-g.nativeBarWidth+"px",g.sizer.style.borderRightWidth=$a(c)+"px",g.scrollbarsClipped=!0);f.updateMaxLine&&w(c);f.mustUpdate=f.viewChanged||f.forceUpdate||null!=f.scrollTop||f.scrollToPos&&(f.scrollToPos.from.line<e.viewFrom||f.scrollToPos.to.line>=e.viewTo)||e.maxLineChanged&&c.options.lineWrapping;
f.update=f.mustUpdate&&new d(c,f.mustUpdate&&{top:f.scrollTop,ensure:f.scrollToPos},f.forceUpdate)}for(b=0;b<a.length;b++)f=a[b],f.updatedDisplay=f.mustUpdate&&l(f.cm,f.update);for(b=0;b<a.length;b++)if(f=a[b],c=f.cm,e=c.display,f.updatedDisplay&&T(c),f.barMeasure=A(c),e.maxLineChanged&&!c.options.lineWrapping&&(g=e.maxLine.text.length,g=Bd(c,N(c,e.maxLine),g,void 0),f.adjustWidthTo=g.left+3,c.display.sizerWidth=f.adjustWidthTo,f.barMeasure.scrollWidth=Math.max(e.scroller.clientWidth,e.sizer.offsetLeft+
f.adjustWidthTo+$a(c)+c.display.barWidth),f.maxScrollLeft=Math.max(0,e.sizer.offsetLeft+f.adjustWidthTo-xc(c))),f.updatedDisplay||f.selectionChanged)f.preparedSelection=e.input.prepareSelection();for(b=0;b<a.length;b++)f=a[b],c=f.cm,null!=f.adjustWidthTo&&(c.display.sizer.style.minWidth=f.adjustWidthTo+"px",f.maxScrollLeft<c.doc.scrollLeft&&Jc(c,Math.min(c.display.scroller.scrollLeft,f.maxScrollLeft),!0),c.display.maxLineChanged=!1),f.preparedSelection&&c.display.input.showSelection(f.preparedSelection),
f.updatedDisplay&&K(c,f.barMeasure),(f.updatedDisplay||f.startHeight!=c.doc.height)&&B(c,f.barMeasure),f.selectionChanged&&re(c),c.state.focused&&f.updateInput&&c.display.input.reset(f.typing),f.focus&&f.focus==Xc()&&Ub(f.cm);for(b=0;b<a.length;b++){var p=void 0;f=a[b];c=f.cm;e=c.display;g=c.doc;f.updatedDisplay&&z(c,f.update);null==e.wheelStartX||null==f.scrollTop&&null==f.scrollLeft&&!f.scrollToPos||(e.wheelStartX=e.wheelStartY=null);null==f.scrollTop||e.scroller.scrollTop==f.scrollTop&&!f.forceScroll||
(g.scrollTop=Math.max(0,Math.min(e.scroller.scrollHeight-e.scroller.clientHeight,f.scrollTop)),e.scrollbars.setScrollTop(g.scrollTop),e.scroller.scrollTop=g.scrollTop);null==f.scrollLeft||e.scroller.scrollLeft==f.scrollLeft&&!f.forceScroll||(g.scrollLeft=Math.max(0,Math.min(e.scroller.scrollWidth-xc(c),f.scrollLeft)),e.scrollbars.setScrollLeft(g.scrollLeft),e.scroller.scrollLeft=g.scrollLeft,I(c));if(f.scrollToPos){var h=pa(g,f.scrollToPos.from);var k=pa(g,f.scrollToPos.to),m=f.scrollToPos.margin;
null==m&&(m=0);for(var n=0;5>n;n++){var q=!1;p=Db(c,h);var r=k&&k!=h?Db(c,k):p;r=Jd(c,Math.min(p.left,r.left),Math.min(p.top,r.top)-m,Math.max(p.left,r.left),Math.max(p.bottom,r.bottom)+m);var u=c.doc.scrollTop,v=c.doc.scrollLeft;null!=r.scrollTop&&(ec(c,r.scrollTop),1<Math.abs(c.doc.scrollTop-u)&&(q=!0));null!=r.scrollLeft&&(Jc(c,r.scrollLeft),1<Math.abs(c.doc.scrollLeft-v)&&(q=!0));if(!q)break}h=p;f.scrollToPos.isCursor&&c.state.focused&&(Kb(c,"scrollCursorIntoView")||(k=c.display,m=k.sizer.getBoundingClientRect(),
p=null,0>h.top+m.top?p=!0:h.bottom+m.top>(window.innerHeight||document.documentElement.clientHeight)&&(p=!1),null==p||zf||(h=ka("div","\u200b",null,"position: absolute; top: "+(h.top-k.viewOffset-c.display.lineSpace.offsetTop)+"px; height: "+(h.bottom-h.top+$a(c)+k.barHeight)+"px; left: "+h.left+"px; width: 2px;"),c.display.lineSpace.appendChild(h),h.scrollIntoView(p),c.display.lineSpace.removeChild(h))))}p=f.maybeHiddenMarkers;h=f.maybeUnhiddenMarkers;if(p)for(k=0;k<p.length;++k)p[k].lines.length||
ia(p[k],"hide");if(h)for(k=0;k<h.length;++k)h[k].lines.length&&ia(h[k],"unhide");e.wrapper.offsetHeight&&(g.scrollTop=c.display.scroller.scrollTop);f.changeObjs&&ia(c,"changes",c,f.changeObjs);f.update&&f.update.finish()}}}function tb(a,b){if(a.curOp)return b();S(a);try{return b()}finally{Ac(a)}}function Ja(a,b){return function(){if("EditorRich"!=virtualclass.currApp||!arguments[0].ctrlKey||90!=arguments[0].keyCode&&89!=arguments[0].keyCode){if(a.curOp)return b.apply(a,arguments);S(a);try{return b.apply(a,
arguments)}finally{Ac(a)}}else virtualclass.editorRich.undoManager(arguments[0].keyCode)}}function bb(a){return function(){if(this.curOp)return a.apply(this,arguments);S(this);try{return a.apply(this,arguments)}finally{Ac(this)}}}function hb(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);S(b);try{return a.apply(this,arguments)}finally{Ac(b)}}}function oc(a,b,c){for(var d=this.line=b,e;d=id(d,!1);)d=d.find(1,!0).line,(e||(e=[])).push(d);this.size=(this.rest=e)?Ia(Ua(this.rest))-
c+1:1;this.node=this.text=null;this.hidden=nf(a,b)}function Zb(a,b,c){var d=[],e;for(e=b;e<c;)b=new oc(a.doc,qa(a.doc,e),e),e+=b.size,d.push(b);return d}function Ra(a,b,c,d){var e;null==b&&(b=a.doc.first);null==c&&(c=a.doc.first+a.doc.size);d||(d=0);var f=a.display;d&&c<f.viewTo&&(null==f.updateLineNumbers||f.updateLineNumbers>b)&&(f.updateLineNumbers=b);a.curOp.viewChanged=!0;if(b>=f.viewTo)Ce&&$d(a.doc,b)<f.viewTo&&kb(a);else if(c<=f.viewFrom)Ce&&za(a.doc,c+d)>f.viewFrom?kb(a):(f.viewFrom+=d,f.viewTo+=
d);else if(b<=f.viewFrom&&c>=f.viewTo)kb(a);else if(b<=f.viewFrom)(e=xe(a,c,c+d,1))?(f.view=f.view.slice(e.index),f.viewFrom=e.lineN,f.viewTo+=d):kb(a);else if(c>=f.viewTo)(e=xe(a,b,b,-1))?(f.view=f.view.slice(0,e.index),f.viewTo=e.lineN):kb(a);else{e=xe(a,b,b,-1);var g=xe(a,c,c+d,1);e&&g?(f.view=f.view.slice(0,e.index).concat(Zb(a,e.lineN,g.lineN)).concat(f.view.slice(g.index)),f.viewTo+=d):kb(a)}if(a=f.externalMeasured)c<a.lineN?a.lineN+=d:b<a.lineN+a.size&&(f.externalMeasured=null)}function cb(a,
b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;e&&b>=e.lineN&&b<e.lineN+e.size&&(d.externalMeasured=null);b<d.viewFrom||b>=d.viewTo||(a=d.view[nc(a,b)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==$b(a,c)&&a.push(c)))}function kb(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function nc(a,b){if(b>=a.display.viewTo)return null;b-=a.display.viewFrom;if(0>b)return null;a=a.display.view;for(var c=0;c<a.length;c++)if(b-=a[c].size,
0>b)return c}function xe(a,b,c,d){var e=nc(a,b),f=a.display.view;if(!Ce||c==a.doc.first+a.doc.size)return{index:e,lineN:c};for(var g=0,p=a.display.viewFrom;g<e;g++)p+=f[g].size;if(p!=b){if(0<d){if(e==f.length-1)return null;b=p+f[e].size-b;e++}else b=p-b;c+=b}for(;$d(a.doc,c)!=c;){if(e==(0>d?0:f.length-1))return null;c+=d*f[e-(0>d?1:0)].size;e+=d}return{index:e,lineN:c}}function ce(a){a=a.display.view;for(var b=0,c=0;c<a.length;c++){var d=a[c];d.hidden||d.node&&!d.changes||++b}return b}function Le(a){function b(){d.activeTouch&&
(e=setTimeout(function(){d.activeTouch=null},1E3),f=d.activeTouch,f.end=+new Date)}function c(a,b){if(null==b.left)return!0;var c=b.left-a.left;a=b.top-a.top;return 400<c*c+a*a}var d=a.display;ra(d.scroller,"mousedown",Ja(a,ld));Ma&&11>Za?ra(d.scroller,"dblclick",Ja(a,function(b){if(!Kb(a,b)){var c=ad(a,b);!c||gb(a,b,"gutterClick",!0,ac)||pc(a.display,b)||(jc(b),b=a.findWordAt(c),cc(a.doc,b.anchor,b.head))}})):ra(d.scroller,"dblclick",function(b){Kb(a,b)||jc(b)});Af||ra(d.scroller,"contextmenu",function(b){nd(a,
b)});var e,f={end:0};ra(d.scroller,"touchstart",function(a){if(1!=a.touches.length)var b=!1;else b=a.touches[0],b=1>=b.radiusX&&1>=b.radiusY;b||(clearTimeout(e),b=+new Date,d.activeTouch={start:b,moved:!1,prev:300>=b-f.end?f:null},1==a.touches.length&&(d.activeTouch.left=a.touches[0].pageX,d.activeTouch.top=a.touches[0].pageY))});ra(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)});ra(d.scroller,"touchend",function(e){var f=d.activeTouch;if(f&&!pc(d,e)&&null!=f.left&&!f.moved&&
300>new Date-f.start){var g=a.coordsChar(d.activeTouch,"page");f=!f.prev||c(f,f.prev)?new Q(g,g):!f.prev.prev||c(f,f.prev.prev)?a.findWordAt(g):new Q(V(g.line,0),pa(a.doc,V(g.line+1,0)));a.setSelection(f.anchor,f.head);a.focus();jc(e)}b()});ra(d.scroller,"touchcancel",b);ra(d.scroller,"scroll",function(){d.scroller.clientHeight&&(ec(a,d.scroller.scrollTop),Jc(a,d.scroller.scrollLeft,!0),ia(a,"scroll",a))});ra(d.scroller,"mousewheel",function(b){vg(a,b)});ra(d.scroller,"DOMMouseScroll",function(b){vg(a,
b)});ra(d.wrapper,"scroll",function(){d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={simple:function(b){Kb(a,b)||Cf(b)},start:function(b){if(Ma&&(!a.state.draggingText||100>+new Date-Vd))Cf(b);else if(!Kb(a,b)&&!pc(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.setDragImage&&!Rd)){var c=ka("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";Xb&&(c.width=c.height=1,a.display.wrapper.appendChild(c),
c._top=c.offsetTop);b.dataTransfer.setDragImage(c,0,0);Xb&&c.parentNode.removeChild(c)}},drop:Ja(a,de)};var g=d.input.getField();ra(g,"keyup",function(b){md.call(a,b)});ra(g,"keydown",Ja(a,P));ra(g,"keypress",Ja(a,pf));ra(g,"focus",rg(fe,a));ra(g,"blur",rg(Kc,a))}function Pb(a){var b=a.display;if(b.lastWrapHeight!=b.wrapper.clientHeight||b.lastWrapWidth!=b.wrapper.clientWidth)b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,a.setSize()}function pc(a,b){for(b=b.target||
b.srcElement;b!=a.wrapper;b=b.parentNode)if(!b||1==b.nodeType&&"true"==b.getAttribute("cm-ignore-events")||b.parentNode==a.sizer&&b!=a.mover)return!0}function ad(a,b,c,d){var e=a.display;if(!c&&"true"==(b.target||b.srcElement).getAttribute("cm-not-content"))return null;c=e.lineSpace.getBoundingClientRect();try{var f=b.clientX-c.left;var g=b.clientY-c.top}catch(td){return null}b=Ke(a,f,g);var p;d&&1==b.xRel&&(p=qa(a.doc,b.line).text).length==b.ch&&(d=cd(p,p.length,a.options.tabSize)-p.length,b=V(b.line,
Math.max(0,Math.round((f-M(a.display).left)/ca(a.display))-d)));return b}function ld(a){var b=this.display;if(!(b.activeTouch&&b.input.supportsTouch()||Kb(this,a)))if(b.shift=a.shiftKey,pc(b,a))zb||(b.scroller.draggable=!1,setTimeout(function(){b.scroller.draggable=!0},100));else if(!gb(this,a,"gutterClick",!0,ac)){var c=ad(this,a);window.focus();switch(uh(a)){case 1:c?Da(this,a,c):(a.target||a.srcElement)==b.scroller&&jc(a);break;case 2:zb&&(this.state.lastMiddleDown=+new Date);c&&cc(this.doc,c);
setTimeout(function(){b.input.focus()},20);jc(a);break;case 3:Af?nd(this,a):Te(this)}}}function Da(a,b,c){Ma?setTimeout(rg(Ub,a),0):a.curOp.focus=Xc();var d=+new Date;if($e&&$e.time>d-400&&0==wa($e.pos,c))var e="triple";else ic&&ic.time>d-400&&0==wa(ic.pos,c)?(e="double",$e={time:d,pos:c}):(e="single",ic={time:d,pos:c});d=a.doc.sel;var f=Oc?b.metaKey:b.ctrlKey,g;a.options.dragDrop&&ch&&!Fa(a)&&"single"==e&&-1<(g=d.contains(c))&&(0>wa((g=d.ranges[g]).from(),c)||0<c.xRel)&&(0<wa(g.to(),c)||0>c.xRel)?
ye(a,b,c,f):Vf(a,b,c,e,f)}function ye(a,b,c,d){var e=a.display,f=+new Date,g=Ja(a,function(h){zb&&(e.scroller.draggable=!1);a.state.draggingText=!1;Ec(document,"mouseup",g);Ec(e.scroller,"drop",g);10>Math.abs(b.clientX-h.clientX)+Math.abs(b.clientY-h.clientY)&&(jc(h),!d&&+new Date-200<f&&cc(a.doc,c),zb||Ma&&9==Za?setTimeout(function(){document.body.focus();e.input.focus()},20):e.input.focus())});zb&&(e.scroller.draggable=!0);a.state.draggingText=g;e.scroller.dragDrop&&e.scroller.dragDrop();ra(document,
"mouseup",g);ra(e.scroller,"drop",g)}function Vf(a,b,c,d,e){function f(b){if(0!=wa(q,b))if(q=b,"rect"==d){var e=[];var f=a.options.tabSize,g=cd(qa(k,c.line).text,c.ch,f),h=cd(qa(k,b.line).text,b.ch,f),p=Math.min(g,h);g=Math.max(g,h);h=Math.min(c.line,b.line);for(var t=Math.min(a.lastLine(),Math.max(c.line,b.line));h<=t;h++){var H=qa(k,h).text,r=Kg(H,p,f);p==g?e.push(new Q(V(h,r),V(h,r))):H.length>r&&e.push(new Q(V(h,r),V(h,Kg(H,g,f))))}e.length||e.push(new Q(c,c));Pa(k,u(l.ranges.slice(0,m).concat(e),
m),{origin:"*mouse",scroll:!1});a.scrollIntoView(b)}else e=n,f=e.anchor,p=b,"single"!=d&&(b="double"==d?a.findWordAt(b):new Q(V(b.line,0),pa(k,V(b.line+1,0))),0<wa(b.anchor,f)?(p=b.head,f=fb(e.from(),b.anchor)):(p=b.anchor,f=Xa(e.to(),b.head))),e=l.ranges.slice(0),e[m]=new Q(pa(k,f),p),Pa(k,u(e,m),Xf)}function g(b){var c=++la,e=ad(a,b,!0,"rect"==d);if(e)if(0!=wa(e,q)){a.curOp.focus=Xc();f(e);var h=E(p,k);(e.line>=h.to||e.line<h.from)&&setTimeout(Ja(a,function(){la==c&&g(b)}),150)}else{var l=b.clientY<
r.top?-20:b.clientY>r.bottom?20:0;l&&setTimeout(Ja(a,function(){la==c&&(p.scroller.scrollTop+=l,g(b))}),50)}}function h(a){la=Infinity;jc(a);p.input.focus();Ec(document,"mousemove",v);Ec(document,"mouseup",w);k.history.lastSelOrigin=null}var p=a.display,k=a.doc;jc(b);var l=k.sel,t=l.ranges;if(e&&!b.shiftKey){var m=k.sel.contains(c);var n=-1<m?t[m]:new Q(c,c)}else n=k.sel.primary(),m=k.sel.primIndex;if(b.altKey)d="rect",e||(n=new Q(c,c)),c=ad(a,b,!0,!0),m=-1;else if("double"==d){var H=a.findWordAt(c);
n=a.display.shift||k.extend?Wc(k,n,H.anchor,H.head):H}else"triple"==d?(H=new Q(V(c.line,0),pa(k,V(c.line+1,0))),n=a.display.shift||k.extend?Wc(k,n,H.anchor,H.head):H):n=Wc(k,n,c);e?-1==m?(m=t.length,Pa(k,u(t.concat([n]),m),{scroll:!1,origin:"*mouse"})):1<t.length&&t[m].empty()&&"single"==d&&!b.shiftKey?(Pa(k,u(t.slice(0,m).concat(t.slice(m+1)),0)),l=k.sel):be(k,m,n,Xf):(m=0,Pa(k,new nb([n],0),Xf),l=k.sel);var q=c,r=p.wrapper.getBoundingClientRect(),la=0,v=Ja(a,function(a){uh(a)?g(a):h(a)}),w=Ja(a,
h);ra(document,"mousemove",v);ra(document,"mouseup",w)}function gb(a,b,c,d,e){try{var f=b.clientX;var g=b.clientY}catch(Ue){return!1}if(f>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&jc(b);d=a.display;var h=d.lineDiv.getBoundingClientRect();if(g>h.bottom||!wb(a,c))return kh(b);g-=h.top-d.viewOffset;for(h=0;h<a.options.gutters.length;++h){var p=d.gutters.childNodes[h];if(p&&p.getBoundingClientRect().right>=f)return g=we(a.doc,g),e(a,c,a,g,a.options.gutters[h],b),kh(b)}}
function de(a){var b,c=this;if(!Kb(c,a)&&!pc(c.display,a)){jc(a);Ma&&(Vd=+new Date);var d=ad(c,a,!0),e=a.dataTransfer.files;if(d&&!Fa(c))if(e&&e.length&&window.FileReader&&window.File){var f=e.length;var g=Array(f);var h=0;a=function(a,b){var e=new FileReader;e.onload=Ja(c,function(){g[b]=e.result;if(++h==f){d=pa(c.doc,d);var a={from:d,to:d,text:c.doc.splitLines(g.join(c.doc.lineSeparator())),origin:"paste"};Qb(c.doc,a);Cb(c.doc,yb(d,Va(a)))}});e.readAsText(a)};for(var p=0;p<f;++p)a(e[p],p)}else if(c.state.draggingText&&
-1<c.doc.sel.contains(d))c.state.draggingText(a),setTimeout(function(){c.display.input.focus()},20);else try{if(g=a.dataTransfer.getData("Text")){!c.state.draggingText||(Oc?a.altKey:a.ctrlKey)||(b=c.listSelections());Na(c.doc,yb(d,d));if(b)for(p=0;p<b.length;++p)pd(c.doc,"",b[p].anchor,b[p].head,"drag");c.replaceSelection(g,"around","paste");c.display.input.focus()}}catch(Ue){}}}function ec(a,b){2>Math.abs(a.doc.scrollTop-b)||(a.doc.scrollTop=b,xd||G(a,{top:b}),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=
b),a.display.scrollbars.setScrollTop(b),xd&&G(a),Uc(a,100))}function Jc(a,b,c){(c?b==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-b))||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,I(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbars.setScrollLeft(b))}function vg(a,b){var c=Yg(b),d=c.x;c=c.y;var e=a.display,f=e.scroller;if(d&&f.scrollWidth>f.clientWidth||c&&f.scrollHeight>f.clientHeight){if(c&&Oc&&zb){var g=
b.target,h=e.view;a:for(;g!=f;g=g.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==g){a.display.currentWheelTarget=g;break a}}!d||xd||Xb||null==Yb?(c&&null!=Yb&&(b=c*Yb,g=a.doc.scrollTop,h=g+e.wrapper.clientHeight,0>b?g=Math.max(0,g+b-50):h=Math.min(a.doc.height,h+b+50),G(a,{top:g,bottom:h})),20>De&&(null==e.wheelStartX?(e.wheelStartX=f.scrollLeft,e.wheelStartY=f.scrollTop,e.wheelDX=d,e.wheelDY=c,setTimeout(function(){if(null!=e.wheelStartX){var a=f.scrollLeft-e.wheelStartX,b=f.scrollTop-e.wheelStartY;
a=b&&e.wheelDY&&b/e.wheelDY||a&&e.wheelDX&&a/e.wheelDX;e.wheelStartX=e.wheelStartY=null;a&&(Yb=(Yb*De+a)/(De+1),++De)}},200)):(e.wheelDX+=d,e.wheelDY+=c))):(c&&ec(a,Math.max(0,Math.min(f.scrollTop+c*Yb,f.scrollHeight-f.clientHeight))),Jc(a,Math.max(0,Math.min(f.scrollLeft+d*Yb,f.scrollWidth-f.clientWidth))),jc(b),e.wheelStartX=null)}}function bd(a,b,c){if("string"==typeof b&&(b=gg[b],!b))return!1;a.display.input.ensurePolled();var d=a.display.shift,e=!1;try{Fa(a)&&(a.state.suppressEdits=!0),c&&(a.display.shift=
!1),e=b(a)!=rd}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}function Wf(a,b,c){for(var d=0;d<a.state.keyMaps.length;d++){var e=ba(b,a.state.keyMaps[d],c,a);if(e)return e}return a.options.extraKeys&&ba(b,a.options.extraKeys,c,a)||ba(b,a.options.keyMap,c,a)}function fc(a,b,c,d){var e=a.state.keySeq;if(e){if(Gg(b))return"handled";Qc.set(50,function(){a.state.keySeq==e&&(a.state.keySeq=null,a.display.input.reset())});b=e+" "+b}d=Wf(a,b,d);"multi"==d&&(a.state.keySeq=b);"handled"==d&&ac(a,
"keyHandled",a,b,c);if("handled"==d||"multi"==d)jc(c),re(a);return e&&!d&&/\'$/.test(b)?(jc(c),!0):!!d}function ee(a,b){var c=$g(b,!0);return c?b.shiftKey&&!a.state.keySeq?fc(a,"Shift-"+c,b,function(b){return bd(a,b,!0)})||fc(a,c,b,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return bd(a,b)}):fc(a,c,b,function(b){return bd(a,b)}):!1}function Se(a,b,c){return fc(a,"'"+c+"'",b,function(b){return bd(a,b,!0)})}function P(a){this.curOp.focus=Xc();if(!Kb(this,a)){Ma&&11>Za&&27==a.keyCode&&
(a.returnValue=!1);var b=a.keyCode;this.display.shift=16==b||a.shiftKey;var c=ee(this,a);Xb&&(fg=c?b:null,!c&&88==b&&!Ig&&(Oc?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));18!=b||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||Gb(this)}}function Gb(a){function b(a){18!=a.keyCode&&a.altKey||(Sb(c,"CodeMirror-crosshair"),Ec(document,"keyup",b),Ec(document,"mouseover",b))}var c=a.display.lineDiv;na(c,"CodeMirror-crosshair");ra(document,"keyup",b);ra(document,"mouseover",
b)}function md(a){16==a.keyCode&&(this.doc.sel.shift=!1);Kb(this,a)}function pf(a){if(!(pc(this.display,a)||Kb(this,a)||a.ctrlKey&&!a.altKey||Oc&&a.metaKey)){var b=a.keyCode,c=a.charCode;if(Xb&&b==fg)fg=null,jc(a);else if(!Xb||a.which&&!(10>a.which)||!ee(this,a))if(b=String.fromCharCode(null==c?b:c),!Se(this,a,b))this.display.input.onKeyPress(a)}}function Te(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,Kc(a))},100)}function fe(a){a.state.delayingBlurEvent&&
(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&(a.state.focused||(ia(a,"focus",a),a.state.focused=!0,na(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),zb&&setTimeout(function(){a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),re(a))}function Kc(a){a.state.delayingBlurEvent||(a.state.focused&&(ia(a,"blur",a),a.state.focused=!1,Sb(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),
setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function nd(a,b){var c;(c=pc(a.display,b))||(c=wb(a,"gutterContextMenu")?gb(a,b,"gutterContextMenu",!1,ia):!1);if(!c)a.display.input.onContextMenu(b)}function Hd(a,b){if(0>wa(a,b.from))return a;if(0>=wa(a,b.to))return Va(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,d=a.ch;a.line==b.to.line&&(d+=Va(b).ch-b.to.ch);return V(c,d)}function sc(a,b){for(var c=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new Q(Hd(e.anchor,
b),Hd(e.head,b)))}return u(c,a.sel.primIndex)}function se(a,b,c){return a.line==b.line?V(c.line,a.ch-b.ch+c.ch):V(c.line+(a.line-b.line),a.ch)}function tc(a,b,c){b={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};c&&(b.update=function(b,c,d,e){b&&(this.from=pa(a,b));c&&(this.to=pa(a,c));d&&(this.text=d);void 0!==e&&(this.origin=e)});ia(a,"beforeChange",a,b);a.cm&&ia(a.cm,"beforeChange",a.cm,b);return b.canceled?null:{from:b.from,to:b.to,text:b.text,
origin:b.origin}}function Qb(a,b,c){if(a.cm){if(!a.cm.curOp)return Ja(a.cm,Qb)(a,b,c);if(a.cm.state.suppressEdits)return}if(wb(a,"beforeChange")||a.cm&&wb(a.cm,"beforeChange"))if(b=tc(a,b,!0),!b)return;if(c=Wg&&!c&&Dh(a,b.from,b.to))for(var d=c.length-1;0<=d;--d)od(a,{from:c[d].from,to:c[d].to,text:d?[""]:b.text});else od(a,b)}function od(a,b){if(1!=b.text.length||""!=b.text[0]||0!=wa(b.from,b.to)){var c=sc(a,b);Ng(a,b,c,a.cm?a.cm.curOp.id:NaN);Id(a,b,c,Hf(a,b));var d=[];Lb(a,function(a,c){c||-1!=
$b(d,a.history)||(th(a.history,b),d.push(a.history));Id(a,b,null,Hf(a,b))})}}function Bc(a,b,c){if(!a.cm||!a.cm.state.suppressEdits){for(var d=a.history,e,f=a.sel,g="undo"==b?d.done:d.undone,h="undo"==b?d.undone:d.done,p=0;p<g.length&&(e=g[p],c?!e.ranges||e.equals(a.sel):e.ranges);p++);if(p!=g.length){for(d.lastOrigin=d.lastSelOrigin=null;;)if(e=g.pop(),e.ranges){ve(e,h);if(c&&!e.equals(a.sel)){Pa(a,e,{clearRedo:!1});return}f=e}else break;c=[];ve(f,h);h.push({changes:c,generation:d.generation});d.generation=
e.generation||++d.maxGeneration;d=wb(a,"beforeChange")||a.cm&&wb(a.cm,"beforeChange");for(p=e.changes.length-1;0<=p;--p){var k=e.changes[p];k.origin=b;if(d&&!tc(a,k,!1)){g.length=0;break}c.push(tg(a,k));f=p?sc(a,k):Ua(g);Id(a,k,f,Jf(a,k));!p&&a.cm&&a.cm.scrollIntoView({from:k.from,to:Va(k)});var l=[];Lb(a,function(a,b){b||-1!=$b(l,a.history)||(th(a.history,k),l.push(a.history));Id(a,k,null,Jf(a,k))})}}}}function te(a,b){if(0!=b&&(a.first+=b,a.sel=new nb(ng(a.sel.ranges,function(a){return new Q(V(a.anchor.line+
b,a.anchor.ch),V(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){Ra(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d<c.viewTo;d++)cb(a.cm,d,"gutter")}}function Id(a,b,c,d){if(a.cm&&!a.cm.curOp)return Ja(a.cm,Id)(a,b,c,d);if(b.to.line<a.first)te(a,b.text.length-1-(b.to.line-b.from.line));else if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);te(a,e);b={from:V(a.first,0),to:V(b.to.line+e,b.to.ch),text:[Ua(b.text)],origin:b.origin}}e=
a.lastLine();b.to.line>e&&(b={from:b.from,to:V(e,qa(a,e).text.length),text:[b.text[0]],origin:b.origin});b.removed=Hc(a,b.from,b.to);c||(c=sc(a,b));a.cm?qf(a.cm,b,d):Qg(a,b,d);Na(a,c,Lc)}}function qf(b,c,d){var e=b.doc,f=b.display,g=c.from,h=c.to,p=!1,k=g.line;b.options.lineWrapping||(k=Ia(Cd(qa(e,g.line))),e.iter(k,h.line+1,function(a){if(a==f.maxLine)return p=!0}));-1<e.sel.contains(c.from,c.to)&&ue(b);Qg(e,c,d,a(b));b.options.lineWrapping||(e.iter(k,g.line+c.text.length,function(a){var b=r(a);
b>f.maxLineLength&&(f.maxLine=a,f.maxLineLength=b,f.maxLineChanged=!0,p=!1)}),p&&(b.curOp.updateMaxLine=!0));e.frontier=Math.min(e.frontier,g.line);Uc(b,400);d=c.text.length-(h.line-g.line)-1;c.full?Ra(b):g.line!=h.line||1!=c.text.length||sg(b.doc,c)?Ra(b,g.line,h.line+1,d):cb(b,g.line,"text");d=wb(b,"changes");if((e=wb(b,"change"))||d)c={from:g,to:h,text:c.text,removed:c.removed,origin:c.origin},e&&ac(b,"change",b,c),d&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(c);b.display.selForContextMenu=
null}function pd(a,b,c,d,e){d||(d=c);if(0>wa(d,c)){var f=d;d=c;c=f}"string"==typeof b&&(b=a.splitLines(b));Qb(a,{from:c,to:d,text:b,origin:e})}function Jd(a,b,c,d,e){var f=a.display,g=X(a.display);0>c&&(c=0);var h=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,p=Vc(a),k={};e-c>p&&(e=c+p);var l=a.doc.height+Gc(f),m=c<g;g=e>l-g;c<h?k.scrollTop=m?0:c:e>h+p&&(c=Math.min(c,(g?l:e)-p),c!=h&&(k.scrollTop=c));h=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft;
a=xc(a)-(a.options.fixedGutter?f.gutters.offsetWidth:0);(f=d-b>a)&&(d=b+a);10>b?k.scrollLeft=0:b<h?k.scrollLeft=Math.max(0,b-(f?0:10)):d>a+h-3&&(k.scrollLeft=d+(f?0:10)-a);return k}function Kd(a,b,c){null==b&&null==c||Ld(a);null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+b);null!=c&&(a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function Rb(a){Ld(a);var b=a.getCursor(),c=b,d=b;a.options.lineWrapping||(c=b.ch?V(b.line,b.ch-
1):b,d=V(b.line,b.ch+1));a.curOp.scrollToPos={from:c,to:d,margin:a.options.cursorScrollMargin,isCursor:!0}}function Ld(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=Re(a,b.from),d=Re(a,b.to);b=Jd(a,Math.min(c.left,d.left),Math.min(c.top,d.top)-b.margin,Math.max(c.right,d.right),Math.max(c.bottom,d.bottom)+b.margin);a.scrollTo(b.scrollLeft,b.scrollTop)}}function Md(a,b,c,d){var e=a.doc,f;null==c&&(c="add");"smart"==c&&(e.mode.indent?f=sb(a,b):c="prev");var g=a.options.tabSize,h=
qa(e,b),p=cd(h.text,null,g);h.stateAfter&&(h.stateAfter=null);var k=h.text.match(/^\s*/)[0];if(!d&&!/\S/.test(h.text)){var l=0;c="not"}else if("smart"==c&&(l=e.mode.indent(f,h.text.slice(k.length),h.text),l==rd||150<l)){if(!d)return;c="prev"}"prev"==c?l=b>e.first?cd(qa(e,b-1).text,null,g):0:"add"==c?l=p+a.options.indentUnit:"subtract"==c?l=p-a.options.indentUnit:"number"==typeof c&&(l=p+c);l=Math.max(0,l);d="";c=0;if(a.options.indentWithTabs)for(a=Math.floor(l/g);a;--a)c+=g,d+="\t";c<l&&(d+=hh(l-
c));if(d!=k)return pd(e,d,V(b,0),V(b,k.length),"+input"),h.stateAfter=null,!0;for(a=0;a<e.sel.ranges.length;a++)if(g=e.sel.ranges[a],g.head.line==b&&g.head.ch<k.length){c=V(b,k.length);be(e,a,new Q(c,c));break}}function qd(a,b,c,d){var e=b,f=b;"number"==typeof b?f=qa(a,Math.max(a.first,Math.min(b,a.first+a.size-1))):e=Ia(b);if(null==e)return null;d(f,e)&&a.cm&&cb(a.cm,e,c);return f}function gc(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&0>=wa(f.from,Ua(d).to);){var g=
d.pop();if(0>wa(g.from,f.from)){f.from=g.from;break}}d.push(f)}tb(a,function(){for(var b=d.length-1;0<=b;b--)pd(a.doc,"",d[b].from,d[b].to,"+delete");Rb(a)})}function uc(a,b,c,d,e){function f(b){var d=(e?xf:Pd)(k,h,c,!0);if(null==d){if(b=!b)b=g+c,b<a.first||b>=a.first+a.size?b=l=!1:(g=b,b=k=qa(a,b));if(b)h=e?(0>c?cg:vf)(k):0>c?k.text.length:0;else return l=!1}else h=d;return!0}var g=b.line,h=b.ch,p=c,k=qa(a,g),l=!0;if("char"==d)f();else if("column"==d)f(!0);else if("word"==d||"group"==d){var m=null;
d="group"==d;b=a.cm&&a.cm.getHelper(b,"wordChars");for(var t=!0;!(0>c)||f(!t);t=!1){var n=k.text.charAt(h)||"\n";n=Og(n,b)?"w":d&&"\n"==n?"n":!d||/\s/.test(n)?null:"p";!d||t||n||(n="s");if(m&&m!=n){0>c&&(c=1,f());break}n&&(m=n);if(0<c&&!f(!t))break}}p=lc(a,V(g,h),p,!0);l||(p.hitSide=!0);return p}function Wa(a,b,c,d){var e=a.doc,f=b.left,g;for("page"==d?g=b.top+c*(Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-(0>c?1.5:.5)*X(a.display)):"line"==d&&
(g=0<c?b.bottom+3:b.top-3);;){b=Ke(a,f,g);if(!b.outside)break;if(0>c?0>=g:g>=e.height){b.hitSide=!0;break}g+=5*c}return b}function ta(a,b,c,d){k.defaults[a]=b;c&&(Ee[a]=d?function(a,b,d){d!=af&&c(a,b,d)}:c)}function kg(a){var b=a.split(/-(?!$)/);a=b[b.length-1];for(var c,d,e,f,g=0;g<b.length-1;g++){var h=b[g];if(/^(cmd|meta|m)$/i.test(h))f=!0;else if(/^a(lt)?$/i.test(h))c=!0;else if(/^(c|ctrl|control)$/i.test(h))d=!0;else if(/^s(hift)$/i.test(h))e=!0;else throw Error("Unrecognized modifier name: "+
h);}c&&(a="Alt-"+a);d&&(a="Ctrl-"+a);f&&(a="Cmd-"+a);e&&(a="Shift-"+a);return a}function Ob(a){return"string"==typeof a?ne[a]:a}function kc(a,b,c,d,e){if(d&&d.shared)return Je(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return Ja(a.cm,kc)(a,b,c,d,e);var f=new Dc(a,e);e=wa(b,c);d&&hd(d,f,!1);if(0<e||0==e&&!1!==f.clearWhenEmpty)return f;f.replacedWith&&(f.collapsed=!0,f.widgetNode=ka("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||f.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&
(f.widgetNode.insertLeft=!0));if(f.collapsed){if(Mf(a,b.line,b,c,f)||b.line!=c.line&&Mf(a,c.line,b,c,f))throw Error("Inserting collapsed marker partially overlapping an existing one");Ce=!0}f.addToHistory&&Ng(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var g=b.line,h=a.cm,p;a.iter(g,c.line+1,function(a){h&&f.collapsed&&!h.options.lineWrapping&&Cd(a)==h.display.maxLine&&(p=!0);f.collapsed&&g!=b.line&&rc(a,0);var d=new hf(f,g==b.line?b.ch:null,g==c.line?c.ch:null);a.markedSpans=a.markedSpans?a.markedSpans.concat([d]):
[d];d.marker.attachLine(a);++g});f.collapsed&&a.iter(b.line,c.line+1,function(b){nf(a,b)&&rc(b,0)});f.clearOnEnter&&ra(f,"beforeCursorEnter",function(){f.clear()});f.readOnly&&(Wg=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());f.collapsed&&(f.id=++hg,f.atomic=!0);if(h){p&&(h.curOp.updateMaxLine=!0);if(f.collapsed)Ra(h,b.line,c.line+1);else if(f.className||f.title||f.startStyle||f.endStyle||f.css)for(d=b.line;d<=c.line;d++)cb(h,d,"text");f.atomic&&Gd(h.doc);ac(h,"markerAdded",
h,f)}return f}function Je(a,b,c,d,e){d=hd(d);d.shared=!1;var f=[kc(a,b,c,d,e)],g=f[0],h=d.widgetNode;Lb(a,function(a){h&&(d.widgetNode=h.cloneNode(!0));f.push(kc(a,pa(a,b),pa(a,c),d,e));for(var p=0;p<a.linked.length;++p)if(a.linked[p].isParent)return;g=Ua(f)});return new Ge(f,g)}function fd(a){return a.findMarks(V(a.first,0),a.clipPos(V(a.lastLine())),function(a){return a.parent})}function lg(a){for(var b=0;b<a.length;b++){var c=a[b],d=[c.primary.doc];Lb(c.primary.doc,function(a){d.push(a)});for(var e=
0;e<c.markers.length;e++){var f=c.markers[e];-1==$b(d,f.doc)&&(f.parent=null,c.markers.splice(e--,1))}}}function hf(a,b,c){this.marker=a;this.from=b;this.to=c}function Gf(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function Hf(a,b){var c;if(b.full)return null;var d=vb(a,b.from.line)&&qa(a,b.from.line).markedSpans,e=vb(a,b.to.line)&&qa(a,b.to.line).markedSpans;if(!d&&!e)return null;a=b.from.ch;var f=b.to.ch;var g=0==wa(b.from,b.to);if(d)for(var h=0;h<d.length;++h){var p=
d[h],k=p.marker;if(null==p.from||(k.inclusiveLeft?p.from<=a:p.from<a)||!(p.from!=a||"bookmark"!=k.type||g&&p.marker.insertLeft)){var l=null==p.to||(k.inclusiveRight?p.to>=a:p.to>a);(c||(c=[])).push(new hf(k,p.from,l?null:p.to))}}d=c;var m;if(e)for(c=0;c<e.length;++c)if(h=e[c],p=h.marker,null==h.to||(p.inclusiveRight?h.to>=f:h.to>f)||h.from==f&&"bookmark"==p.type&&(!g||h.marker.insertLeft))k=null==h.from||(p.inclusiveLeft?h.from<=f:h.from<f),(m||(m=[])).push(new hf(p,k?null:h.from-f,null==h.to?null:
h.to-f));f=1==b.text.length;h=Ua(b.text).length+(f?a:0);if(d)for(e=0;e<d.length;++e)if(c=d[e],null==c.to)(g=Gf(m,c.marker),g)?f&&(c.to=null==g.to?null:g.to+h):c.to=a;if(m)for(e=0;e<m.length;++e)c=m[e],null!=c.to&&(c.to+=h),null==c.from?(g=Gf(d,c.marker),g||(c.from=h,f&&(d||(d=[])).push(c))):(c.from+=h,f&&(d||(d=[])).push(c));d&&(d=If(d));m&&m!=d&&(m=If(m));a=[d];if(!f){b=b.text.length-2;var t;if(0<b&&d)for(e=0;e<d.length;++e)null==d[e].to&&(t||(t=[])).push(new hf(d[e].marker,null,null));for(e=0;e<
b;++e)a.push(t);a.push(m)}return a}function If(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&!1!==c.marker.clearWhenEmpty&&a.splice(b--,1)}return a.length?a:null}function Jf(a,b){var c;if(c=b["spans_"+a.id]){for(var d=0,e=[];d<b.text.length;++d)e.push(wh(c[d]));c=e}else c=null;a=Hf(a,b);if(!c)return a;if(!a)return c;for(b=0;b<c.length;++b)if(d=c[b],e=a[b],d&&e){var f=0;a:for(;f<e.length;++f){for(var g=e[f],h=0;h<d.length;++h)if(d[h].marker==g.marker)continue a;d.push(g)}}else e&&
(c[b]=e);return c}function Dh(a,b,c){var d=null;a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=$b(d,c)||(d||(d=[])).push(c)}});if(!d)return null;a=[{from:b,to:c}];for(b=0;b<d.length;++b){c=d[b];for(var e=c.find(0),f=0;f<a.length;++f){var g=a[f];if(!(0>wa(g.to,e.from)||0<wa(g.from,e.to))){var h=[f,1],p=wa(g.from,e.from),k=wa(g.to,e.to);(0>p||!c.inclusiveLeft&&!p)&&h.push({from:g.from,to:e.from});(0<k||!c.inclusiveRight&&
!k)&&h.push({from:e.to,to:g.to});a.splice.apply(a,h);f+=h.length-1}}}return a}function mg(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function pg(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function qg(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;c=a.find();var d=b.find(),e=wa(c.from,d.from)||(a.inclusiveLeft?-1:0)-(b.inclusiveLeft?-1:0);return e?-e:(c=wa(c.to,d.to)||(a.inclusiveRight?1:0)-
(b.inclusiveRight?1:0))?c:b.id-a.id}function id(a,b){a=Ce&&a.markedSpans;if(a)for(var c,d=0;d<a.length;++d)if(c=a[d],c.marker.collapsed&&null==(b?c.from:c.to)&&(!e||0>qg(e,c.marker)))var e=c.marker;return e}function Mf(a,b,c,d,e){a=qa(a,b);if(a=Ce&&a.markedSpans)for(b=0;b<a.length;++b){var f=a[b];if(f.marker.collapsed){var g=f.marker.find(0),h=wa(g.from,c)||(f.marker.inclusiveLeft?-1:0)-(e.inclusiveLeft?-1:0),p=wa(g.to,d)||(f.marker.inclusiveRight?1:0)-(e.inclusiveRight?1:0);if(!(0<=h&&0>=p||0>=h&&
0<=p)&&(0>=h&&(0<wa(g.to,c)||f.marker.inclusiveRight&&e.inclusiveLeft)||0<=h&&(0>wa(g.from,d)||f.marker.inclusiveLeft&&e.inclusiveRight)))return!0}}}function Cd(a){for(var b;b=id(a,!0);)a=b.find(-1,!0).line;return a}function $d(a,b){a=qa(a,b);var c=Cd(a);return a==c?b:Ia(c)}function za(a,b){if(b>a.lastLine())return b;var c=qa(a,b);if(!nf(a,c))return b;for(;a=id(c,!1);)c=a.find(1,!0).line;return Ia(c)+1}function nf(a,b){var c=Ce&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed&&
(null==d.from||!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&Zd(a,b,d)))return!0}function Zd(a,b,c){if(null==c.to)return b=c.marker.find(1,!0),Zd(a,b.line,Gf(b.line.markedSpans,c.marker));if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var d,e=0;e<b.markedSpans.length;++e)if(d=b.markedSpans[e],d.marker.collapsed&&!d.marker.widgetNode&&d.from==c.to&&(null==d.to||d.to!=c.from)&&(d.marker.inclusiveLeft||c.marker.inclusiveRight)&&Zd(a,b,d))return!0}function Dd(a){if(null!=a.height)return a.height;
var b=a.doc.cm;if(!b)return 0;if(!Tg(document.body,a.node)){var c="position: relative;";a.coverGutter&&(c+="margin-left: -"+b.display.gutters.offsetWidth+"px;");a.noHScroll&&(c+="width: "+b.display.wrapper.clientWidth+"px;");bc(b.display.measure,ka("div",[a.node],null,c))}return a.height=a.node.offsetHeight}function ih(a,b,c,d){var e=new Fb(a,c,d),f=a.cm;f&&e.noHScroll&&(f.display.alignWidgets=!0);qd(a,b,"widget",function(b){var c=b.widgets||(b.widgets=[]);null==e.insertAt?c.push(e):c.splice(Math.min(c.length-
1,Math.max(0,e.insertAt)),0,e);e.line=b;f&&!nf(a,b)&&(c=zc(b)<a.scrollTop,rc(b,b.height+Dd(e)),c&&Kd(f,null,e.height),f.curOp.forceUpdate=!0);return!0});return e}function gd(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=c[2]:(new RegExp("(?:^|s)"+c[2]+"(?:$|s)")).test(b[d])||(b[d]+=" "+c[2])}return a}function Nf(a,b){if(a.blankLine)return a.blankLine(b);if(a.innerMode&&
(a=k.innerMode(a,b),a.mode.blankLine))return a.mode.blankLine(a.state)}function Yc(a,b,c,d){for(var e=0;10>e;e++){d&&(d[0]=k.innerMode(a,c).mode);var f=a.token(b,c);if(b.pos>b.start)return f}throw Error("Mode "+a.name+" failed to advance stream.");}function lf(a,b,c,d){function e(a){return{start:p.start,end:p.pos,string:p.current(),type:m||null,state:a?Rc(f.mode,k):k}}var f=a.doc,g=f.mode;b=pa(f,b);var h=qa(f,b.line),k=sb(a,b.line,c),p=new bf(h.text,a.options.tabSize),l;for(d&&(l=[]);(d||p.pos<b.ch)&&
!p.eol();){p.start=p.pos;var m=Yc(g,p,k);d&&l.push(e(!0))}return d?l:e()}function mf(a,b,c,d,e,f,g){var h=c.flattenSpans;null==h&&(h=a.options.flattenSpans);var k=0,p=null,l=new bf(b,a.options.tabSize),m=a.options.addModeClass&&[null];for(""==b&&gd(Nf(c,d),f);!l.eol();){if(l.pos>a.options.maxHighlightLength){h=!1;g&&Ne(a,b,d,l.pos);l.pos=b.length;var t=null}else t=gd(Yc(c,l,d,m),f);if(m){var n=m[0].name;n&&(t="m-"+(t?n+" "+t:n))}if(!h||p!=t){for(;k<l.start;)k=Math.min(l.start,k+5E4),e(k,p);p=t}l.start=
l.pos}for(;k<l.pos;)a=Math.min(l.pos,k+5E4),e(a,p),k=a}function kf(a,b,c,d){var e=[a.state.modeGen],f={};mf(a,b.text,a.doc.mode,c,function(a,b){e.push(a,b)},f,d);for(c=0;c<a.state.overlays.length;++c){var g=a.state.overlays[c],h=1,k=0;mf(a,b.text,g.mode,!0,function(a,b){for(var c=h;k<a;){var d=e[h];d>a&&e.splice(h,1,a,e[h+1],d);h+=2;k=Math.min(a,d)}if(b)if(g.opaque)e.splice(c,h-c,a,"cm-overlay "+b),h=c+2;else for(;c<h;c+=2)a=e[c+1],e[c+1]=(a?a+" ":"")+"cm-overlay "+b},f)}return{styles:e,classes:f.bgClass||
f.textClass?f:null}}function og(a,b,c){if(!b.styles||b.styles[0]!=a.state.modeGen){var d=kf(a,b,b.stateAfter=sb(a,Ia(b)));b.styles=d.styles;d.classes?b.styleClasses=d.classes:b.styleClasses&&(b.styleClasses=null);c===a.doc.frontier&&a.doc.frontier++}return b.styles}function Ne(a,b,c,d){var e=a.doc.mode,f=new bf(b,a.options.tabSize);f.start=f.pos=d||0;for(""==b&&Nf(e,c);!f.eol()&&f.pos<=a.options.maxHighlightLength;)Yc(e,f,c),f.start=f.pos}function jh(a,b){if(!a||/^\s*$/.test(a))return null;b=b.addModeClass?
sd:Wd;return b[a]||(b[a]=a.replace(/\S+/g,"cm-$&"))}function Pg(a,b){var c=ka("span",null,null,zb?"padding-right: .1px":null);c={pre:ka("pre",[c],"CodeMirror-line"),content:c,col:0,pos:0,cm:a,splitSpaces:(Ma||zb)&&a.getOption("lineWrapping")};b.measure={};for(var d=0;d<=(b.rest?b.rest.length:0);d++){var e=d?b.rest[d-1]:b.line,f;c.pos=0;c.addToken=Mg;if(null!=oa)var g=oa;else{g=bc(a.display.measure,document.createTextNode("A\u062eA"));var h=he(g,0,1).getBoundingClientRect();g=h&&h.left!=h.right?oa=
3>he(g,1,2).getBoundingClientRect().right-h.right:!1}g&&(f=jd(e))&&(c.addToken=Oe(c.addToken,f));c.map=[];var k=b!=a.display.externalMeasured&&Ia(e);a:{var p=h=g=void 0,l=void 0,m=void 0,t=void 0,n=void 0,q=c;k=og(a,e,k);var r=e.markedSpans,u=e.text,v=0;if(r){var w=u.length,x=0;D=1;for(var y="",z=0;;){if(z==x){m=l=p=h=t="";g=null;z=Infinity;for(var A=[],B=0;B<r.length;++B){var O=r[B],C=O.marker;"bookmark"==C.type&&O.from==x&&C.widgetNode?A.push(C):O.from<=x&&(null==O.to||O.to>x||C.collapsed&&O.to==
x&&O.from==x)?(null!=O.to&&O.to!=x&&z>O.to&&(z=O.to,l=""),C.className&&(m+=" "+C.className),C.css&&(t=C.css),C.startStyle&&O.from==x&&(p+=" "+C.startStyle),C.endStyle&&O.to==z&&(l+=" "+C.endStyle),C.title&&!h&&(h=C.title),C.collapsed&&(!g||0>qg(g.marker,C))&&(g=O)):O.from>x&&z>O.from&&(z=O.from)}if(g&&(g.from||0)==x){ae(q,(null==g.to?w+1:g.to)-x,g.marker,null==g.from);if(null==g.to)break a;g.to==x&&(g=!1)}if(!g&&A.length)for(B=0;B<A.length;++B)ae(q,0,A[B])}if(x>=w)break;for(A=Math.min(w,z);;){if(y){B=
x+y.length;g||(O=B>A?y.slice(0,A-x):y,q.addToken(q,O,n?n+m:m,p,x+O.length==z?l:"",h,t));if(B>=A){y=y.slice(A-x);x=A;break}x=B;p=""}y=u.slice(v,v=k[D++]);n=jh(k[D++],q.cm.options)}}}else for(var D=1;D<k.length;D+=2)q.addToken(q,u.slice(v,v=k[D]),jh(k[D+1],q.cm.options))}e.styleClasses&&(e.styleClasses.bgClass&&(c.bgClass=wd(e.styleClasses.bgClass,c.bgClass||"")),e.styleClasses.textClass&&(c.textClass=wd(e.styleClasses.textClass,c.textClass||"")));0==c.map.length&&c.map.push(0,0,c.content.appendChild(Mb(a.display.measure)));
0==d?(b.measure.map=c.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(c.map),(b.measure.caches||(b.measure.caches=[])).push({}))}zb&&/\bcm-tab\b/.test(c.content.lastChild.className)&&(c.content.className="cm-tab-wrap-hack");ia(a,"renderLine",a,b.line,c.pre);c.pre.className&&(c.textClass=wd(c.pre.className,c.textClass||""));return c}function Mg(a,b,c,d,e,f,g){if(b){var h=a.splitSpaces?b.replace(/ {3,}/g,Of):b,k=a.cm.state.specialChars,p=!1;if(k.test(b)){var l=document.createDocumentFragment();
for(var m=0;;){k.lastIndex=m;var n=k.exec(b),t=n?n.index-m:b.length-m;if(t){var q=document.createTextNode(h.slice(m,m+t));Ma&&9>Za?l.appendChild(ka("span",[q])):l.appendChild(q);a.map.push(a.pos,a.pos+t,q);a.col+=t;a.pos+=t}if(!n)break;m+=t+1;"\t"==n[0]?(q=a.cm.options.tabSize,n=q-a.col%q,q=l.appendChild(ka("span",hh(n),"cm-tab")),q.setAttribute("role","presentation"),q.setAttribute("cm-text","\t"),a.col+=n):("\r"==n[0]||"\n"==n[0]?(q=l.appendChild(ka("span","\r"==n[0]?"\u240d":"\u2424","cm-invalidchar")),
q.setAttribute("cm-text",n[0])):(q=a.cm.options.specialCharPlaceholder(n[0]),q.setAttribute("cm-text",n[0]),Ma&&9>Za?l.appendChild(ka("span",[q])):l.appendChild(q)),a.col+=1);a.map.push(a.pos,a.pos+1,q);a.pos++}}else a.col+=b.length,l=document.createTextNode(h),a.map.push(a.pos,a.pos+b.length,l),Ma&&9>Za&&(p=!0),a.pos+=b.length;if(c||d||e||p||g)return b=c||"",d&&(b+=d),e&&(b+=e),d=ka("span",[l],b,g),f&&(d.title=f),a.content.appendChild(d);a.content.appendChild(l)}}function Of(a){for(var b=" ",c=0;c<
a.length-2;++c)b+=c%2?" ":"\u00a0";return b+" "}function Oe(a,b){return function(c,d,e,f,g,h,k){e=e?e+" cm-force-border":"cm-force-border";for(var p=c.pos,l=p+d.length;;){for(var m=0;m<b.length;m++){var n=b[m];if(n.to>p&&n.from<=p)break}if(n.to>=l)return a(c,d,e,f,g,h,k);a(c,d.slice(0,n.to-p),e,f,null,h,k);f=null;d=d.slice(n.to-p);p=n.to}}}function ae(a,b,c,d){var e=!d&&c.widgetNode;e&&a.map.push(a.pos,a.pos+b,e);!d&&a.cm.display.input.needsContentAttribute&&(e||(e=a.content.appendChild(document.createElement("span"))),
e.setAttribute("cm-marker",c.id));e&&(a.cm.display.input.setUneditable(e),a.content.appendChild(e));a.pos+=b}function sg(a,b){return 0==b.from.ch&&0==b.to.ch&&""==Ua(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Qg(a,b,c,d){function e(a,c,e){a.text=c;a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null);null!=a.order&&(a.order=null);mg(a);pg(a,e);c=d?d(a):1;c!=a.height&&rc(a,c);ac(a,"change",a,b)}function f(a,b){for(var e=[];a<b;++a)e.push(new D(k[a],c?c[a]:null,d));return e}
var g=b.from,h=b.to,k=b.text,p=qa(a,g.line),l=qa(a,h.line),m=Ua(k),n=c?c[k.length-1]:null,t=h.line-g.line;if(b.full)a.insert(0,f(0,k.length)),a.remove(k.length,a.size-k.length);else if(sg(a,b)){var q=f(0,k.length-1);e(l,l.text,n);t&&a.remove(g.line,t);q.length&&a.insert(g.line,q)}else p==l?1==k.length?e(p,p.text.slice(0,g.ch)+m+p.text.slice(h.ch),n):(q=f(1,k.length-1),q.push(new D(m+p.text.slice(h.ch),n,d)),e(p,p.text.slice(0,g.ch)+k[0],c?c[0]:null),a.insert(g.line+1,q)):1==k.length?(e(p,p.text.slice(0,
g.ch)+k[0]+l.text.slice(h.ch),c?c[0]:null),a.remove(g.line+1,t)):(e(p,p.text.slice(0,g.ch)+k[0],c?c[0]:null),e(l,m+l.text.slice(h.ch),n),q=f(1,k.length-1),1<t&&a.remove(g.line+1,t-1),a.insert(g.line+1,q));ac(a,"change",a,b)}function ob(a){this.lines=a;this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,c+=a[b].height;this.height=c}function of(a){this.children=a;for(var b=0,c=0,d=0;d<a.length;++d){var e=a[d];b+=e.chunkSize();c+=e.height;e.parent=this}this.size=b;this.height=c;this.parent=
null}function Lb(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var k=f&&h.sharedHist;if(!c||k)b(h.doc,k),d(h.doc,a,k)}}}d(a,null,!0)}function Pf(a,b){if(b.cm)throw Error("This document is already in use.");a.doc=b;b.cm=a;h(a);c(a);a.options.lineWrapping||w(a);a.options.mode=b.modeOption;Ra(a)}function qa(a,b){b-=a.first;if(0>b||b>=a.size)throw Error("There is no line "+(b+a.first)+" in the document.");for(;!a.lines;)for(var c=0;;++c){var d=
a.children[c],e=d.chunkSize();if(b<e){a=d;break}b-=e}return a.lines[b]}function Hc(a,b,c){var d=[],e=b.line;a.iter(b.line,c.line+1,function(a){a=a.text;e==c.line&&(a=a.slice(0,c.ch));e==b.line&&(a=a.slice(b.ch));d.push(a);++e});return d}function Qa(a,b,c){var d=[];a.iter(b,c,function(a){d.push(a.text)});return d}function rc(a,b){if(b-=a.height)for(;a;a=a.parent)a.height+=b}function Ia(a){if(null==a.parent)return null;var b=a.parent;a=$b(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var d=0;c.children[d]!=
b;++d)a+=c.children[d].chunkSize();return a+b.first}function we(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=a.children[d],f=e.height;if(b<f){a=e;continue a}b-=f;c+=e.chunkSize()}return c}while(!a.lines);for(d=0;d<a.lines.length;++d){e=a.lines[d].height;if(b<e)break;b-=e}return c+d}function zc(a){a=Cd(a);for(var b=0,c=a.parent,d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==a)break;else b+=e.height}for(a=c.parent;a;c=a,a=c.parent)for(d=0;d<a.children.length&&(e=a.children[d],
e!=c);++d)b+=e.height;return b}function jd(a){var b=a.order;null==b&&(b=a.order=Ie(a.text));return b}function Qf(a){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a||1}function tg(a,b){var c={from:ua(b.from),to:Va(b),text:Hc(a,b.from,b.to)};ug(a,c,b.from.line,b.to.line+1);Lb(a,function(a){ug(a,c,b.from.line,b.to.line+1)},!0);return c}function Lf(a){for(;a.length;)if(Ua(a).ranges)a.pop();
else break}function Ng(a,b,c,d){var e=a.history;e.undone.length=0;var f=+new Date,g;if(g=e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastModTime>f-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0))){if(e.lastOp==d){Lf(e.done);var h=Ua(e.done)}else e.done.length&&!Ua(e.done).ranges?h=Ua(e.done):1<e.done.length&&!e.done[e.done.length-2].ranges?(e.done.pop(),h=Ua(e.done)):h=void 0;g=h}if(g){var k=Ua(h.changes);0==wa(b.from,b.to)&&0==wa(b.from,k.to)?k.to=Va(b):
h.changes.push(tg(a,b))}else for((h=Ua(e.done))&&h.ranges||ve(a.sel,e.done),h={changes:[tg(a,b)],generation:e.generation},e.done.push(h);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift();e.done.push(c);e.generation=++e.maxGeneration;e.lastModTime=e.lastSelTime=f;e.lastOp=e.lastSelOp=d;e.lastOrigin=e.lastSelOrigin=b.origin;k||ia(a,"historyAdded")}function ve(a,b){var c=Ua(b);c&&c.ranges&&c.equals(a)||b.push(a)}function ug(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,
c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans);++f})}function wh(a){if(!a)return null;for(var b=0,c;b<a.length;++b)a[b].marker.explicitlyCleared?c||(c=a.slice(0,b)):c&&c.push(a[b]);return c?c.length?c:null:a}function Rf(a,b,c){for(var d=0,e=[];d<a.length;++d){var f=a[d];if(f.ranges)e.push(c?nb.prototype.deepCopy.call(f):f);else{f=f.changes;var g=[];e.push({changes:g});for(var h=0;h<f.length;++h){var k=f[h],p;g.push({from:k.from,to:k.to,text:k.text});
if(b)for(var l in k)(p=l.match(/^spans_(\d+)$/))&&-1<$b(b,Number(p[1]))&&(Ua(g)[l]=k[l],delete k[l])}}}return e}function Lg(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function Rg(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=!0;if(f.ranges){f.copied||(f=a[e]=f.deepCopy(),f.copied=!0);for(var h=0;h<f.ranges.length;h++)Lg(f.ranges[h].anchor,b,c,d),Lg(f.ranges[h].head,b,c,d)}else{for(h=0;h<f.changes.length;++h){var k=f.changes[h];if(c<k.from.line)k.from=V(k.from.line+d,k.from.ch),k.to=
V(k.to.line+d,k.to.ch);else if(b<=k.to.line){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function th(a,b){var c=b.from.line,d=b.to.line;b=b.text.length-(d-c)-1;Rg(a.done,c,d,b);Rg(a.undone,c,d,b)}function kh(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function uh(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));Oc&&a.ctrlKey&&1==b&&(b=3);return b}function ac(a,b){function c(a){return function(){a.apply(null,e)}}var d=a._handlers&&a._handlers[b];if(d){var e=
Array.prototype.slice.call(arguments,2);if(Td)var f=Td.delayedCallbacks;else rf?f=rf:(f=rf=[],setTimeout(qb,0));for(var g=0;g<d.length;++g)f.push(c(d[g]))}}function qb(){var a=rf;rf=null;for(var b=0;b<a.length;++b)a[b]()}function Kb(a,b,c){"string"==typeof b&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}});ia(a,c||b.type,a,b);return kh(b)||b.codemirrorIgnore}function ue(a){var b=a._handlers&&a._handlers.cursorActivity;if(b){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=
[]);for(var c=0;c<b.length;++c)-1==$b(a,b[c])&&a.push(b[c])}}function wb(a,b){return(a=a._handlers&&a._handlers[b])&&0<a.length}function jf(a){a.prototype.on=function(a,b){ra(this,a,b)};a.prototype.off=function(a,b){Ec(this,a,b)}}function Kf(){this.id=null}function Kg(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("\t",d);-1==f&&(f=a.length);var g=f-d;if(f==a.length||e+g>=b)return d+Math.min(g,b-e);e+=f-d;e+=c-e%c;d=f+1;if(e>=b)return d}}function hh(a){for(;La.length<=a;)La.push(Ua(La)+" ");return La[a]}
function Ua(a){return a[a.length-1]}function $b(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function ng(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function Me(){}function sa(a,b){Object.create?a=Object.create(a):(Me.prototype=a,a=new Me);b&&hd(b,a);return a}function hd(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||!1===c&&b.hasOwnProperty(d)||(b[d]=a[d]);return b}function rg(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,
b)}}function Og(a,b){return b?-1<b.source.indexOf("\\w")&&bh(a)?!0:b.test(a):bh(a)}function vh(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function pb(a){return 768<=a.charCodeAt(0)&&Sg.test(a)}function ka(a,b,c,d){a=document.createElement(a);c&&(a.className=c);d&&(a.style.cssText=d);if("string"==typeof b)a.appendChild(document.createTextNode(b));else if(b)for(c=0;c<b.length;++c)a.appendChild(b[c]);return a}function qc(a){for(var b=a.childNodes.length;0<b;--b)a.removeChild(a.firstChild);
return a}function bc(a,b){return qc(a).appendChild(b)}function Xc(){for(var a=document.activeElement;a&&a.root&&a.root.activeElement;)a=a.root.activeElement;return a}function Bb(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function wd(a,b){a=a.split(" ");for(var c=0;c<a.length;c++)a[c]&&!Bb(a[c]).test(b)&&(b+=" "+a[c]);return b}function uf(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].CodeMirror;d&&a(d)}}
function zg(){var a;ra(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null;uf(Pb)},100))});ra(window,"blur",function(){uf(Kc)})}function Mb(a){if(null==Ga){var b=ka("span","\u200b");bc(a,ka("span",[b,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(Ga=1>=b.offsetWidth&&2<b.offsetHeight&&!(Ma&&8>Za))}a=Ga?ka("span","\u200b"):ka("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");a.setAttribute("cm-text","");return a}function yg(a,b,c,d){if(!a)return d(b,
c,"ltr");for(var e=!1,f=0;f<a.length;++f){var g=a[f];if(g.from<c&&g.to>b||b==c&&g.to==b)d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?"rtl":"ltr"),e=!0}e||d(b,c,"ltr")}function bg(a){return a.level%2?a.to:a.from}function Xe(a){return a.level%2?a.from:a.to}function vf(a){return(a=jd(a))?bg(a[0]):0}function cg(a){var b=jd(a);return b?Xe(Ua(b)):a.text.length}function dg(a,b){var c=qa(a.doc,b);a=Cd(c);a!=c&&(b=Ia(a));a=(c=jd(a))?c[0].level%2?cg(a):vf(a):0;return V(b,a)}function Ag(a,b){var c=dg(a,
b.line);a=qa(a.doc,c.line);var d=jd(a);return d&&0!=d[0].level?c:(a=Math.max(0,a.text.search(/\S/)),V(c.line,b.line==c.line&&b.ch<=a&&b.ch?0:a))}function me(a,b){df=null;for(var c=0,d;c<a.length;++c){var e=a[c];if(e.from<b&&e.to>b)return c;if(e.from==b||e.to==b)if(null==d)d=c;else{b=e.level;var f=a[d].level;a=a[0].level;a=b==a?!0:f==a?!1:b<f;if(a)return e.from!=e.to&&(df=d),c;e.from!=e.to&&(df=c);break}}return d}function wf(a,b,c,d){if(!d)return b+c;do b+=c;while(0<b&&pb(a.text.charAt(b)));return b}
function xf(a,b,c,d){var e=jd(a);if(!e)return Pd(a,b,c,d);var f=me(e,b),g=e[f];for(b=wf(a,b,g.level%2?-c:c,d);;){if(b>g.from&&b<g.to)return b;if(b==g.from||b==g.to){if(me(e,b)==f)return b;g=e[f+c];return 0<c==g.level%2?g.to:g.from}g=e[f+=c];if(!g)return null;b=0<c==g.level%2?wf(a,g.to,-1,d):wf(a,g.from,1,d)}}function Pd(a,b,c,d){b+=c;if(d)for(;0<b&&pb(a.text.charAt(b));)b+=c;return 0>b||b>a.text.length?null:b}var xd=/gecko\/\d/i.test(navigator.userAgent),Vg=/MSIE \d/.test(navigator.userAgent),yf=
/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ma=Vg||yf,Za=Ma&&(Vg?document.documentMode||6:yf[1]),zb=/WebKit\//.test(navigator.userAgent),Bg=zb&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Qd=/Chrome\//.test(navigator.userAgent),Xb=/Opera\//.test(navigator.userAgent),Rd=/Apple Computer/.test(navigator.vendor),xh=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),zf=/PhantomJS/.test(navigator.userAgent),Ye=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),
yd=Ye||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Oc=Ye||/Mac/.test(navigator.platform),Cg=/win/i.test(navigator.platform),vc=Xb&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);vc&&(vc=Number(vc[1]));vc&&15<=vc&&(Xb=!1,zb=!0);var Ze=Oc&&(Bg||Xb&&(null==vc||12.11>vc)),Af=xd||Ma&&9<=Za,Wg=!1,Ce=!1;y.prototype=hd({update:function(a){var b=a.scrollWidth>a.clientWidth+1,c=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;c?(this.vert.style.display="block",this.vert.style.bottom=
b?d+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(b?d:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");b?(this.horiz.style.display="block",this.horiz.style.right=c?d+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(c?d:0))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedOverlay&&0<a.clientHeight&&
(0==d&&this.overlayHack(),this.checkedOverlay=!0);return{right:c?d:0,bottom:b?d:0}},setScrollLeft:function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a)},setScrollTop:function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a)},overlayHack:function(){this.horiz.style.minHeight=this.vert.style.minWidth=Oc&&!xh?"12px":"18px";var a=this,b=function(b){(b.target||b.srcElement)!=a.vert&&(b.target||b.srcElement)!=a.horiz&&Ja(a.cm,ld)(b)};ra(this.vert,"mousedown",b);ra(this.horiz,"mousedown",b)},
clear:function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)}},y.prototype);x.prototype=hd({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},x.prototype);k.scrollbarModel={"native":y,"null":x};d.prototype.signal=function(a,b){wb(a,b)&&this.events.push(arguments)};d.prototype.finish=function(){for(var a=0;a<this.events.length;a++)ia.apply(null,this.events[a])};var V=k.Pos=function(a,b){if(!(this instanceof
V))return new V(a,b);this.line=a;this.ch=b},wa=k.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch},Pc=null;Ba.prototype=hd({init:function(a){function b(a){if(d.somethingSelected())Pc=d.getSelections(),c.inaccurateSelection&&(c.prevInput="",c.inaccurateSelection=!1,f.value=Pc.join("\n"),cf(f));else if(d.options.lineWiseCopyCut){var b=Jb(d);Pc=b.text;"cut"==a.type?d.setSelections(b.ranges,null,Lc):(c.prevInput="",f.value=b.text.join("\n"),cf(f))}else return;"cut"==a.type&&(d.state.cutIncoming=!0)}
var c=this,d=this.cm,e=this.wrapper=R(),f=this.textarea=e.firstChild;a.wrapper.insertBefore(e,a.wrapper.firstChild);Ye&&(f.style.width="0px");ra(f,"input",function(){Ma&&9<=Za&&c.hasSelection&&(c.hasSelection=null);c.poll()});ra(f,"paste",function(a){if(Oa(a,d))return!0;d.state.pasteIncoming=!0;c.fastPoll()});ra(f,"cut",b);ra(f,"copy",b);ra(a.scroller,"paste",function(b){pc(a,b)||(d.state.pasteIncoming=!0,c.focus())});ra(a.lineSpace,"selectstart",function(b){pc(a,b)||jc(b)});ra(f,"compositionstart",
function(){var a=d.getCursor("from");c.composing={start:a,range:d.markText(a,d.getCursor("to"),{className:"CodeMirror-composing"})}});ra(f,"compositionend",function(){c.composing&&(c.poll(),c.composing.range.clear(),c.composing=null)})},prepareSelection:function(){var a=this.cm,b=a.display,c=a.doc,d=Qe(a);if(a.options.moveInputWithCursor){a=Db(a,c.sel.primary().head,"div");c=b.wrapper.getBoundingClientRect();var e=b.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-
10,a.top+e.top-c.top));d.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,a.left+e.left-c.left))}return d},showSelection:function(a){var b=this.cm.display;bc(b.cursorDiv,a.cursors);bc(b.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},reset:function(a){if(!this.contextMenuPending){var b=this.cm,c=b.doc;if(b.somethingSelected()){this.prevInput="";var d=c.sel.primary();var e=(d=Ig&&(100<d.to().line-d.from().line||1E3<(e=b.getSelection()).length))?
"-":e||b.getSelection();this.textarea.value=e;b.state.focused&&cf(this.textarea);Ma&&9<=Za&&(this.hasSelection=e)}else a||(this.prevInput=this.textarea.value="",Ma&&9<=Za&&(this.hasSelection=null));this.inaccurateSelection=d}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!yd||Xc()!=this.textarea))try{this.textarea.focus()}catch(p){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=
this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var a=this;a.pollingFast||a.polling.set(this.cm.options.pollInterval,function(){a.poll();a.cm.state.focused&&a.slowPoll()})},fastPoll:function(){function a(){c.poll()||b?(c.pollingFast=!1,c.slowPoll()):(b=!0,c.polling.set(60,a))}var b=!1,c=this;c.pollingFast=!0;c.polling.set(20,a)},poll:function(){var a=this.cm,b=this.textarea,c=this.prevInput;if(this.contextMenuPending||!a.state.focused||dh(b)&&!c&&!this.composing||
Fa(a)||a.options.disableInput||a.state.keySeq)return!1;var d=b.value;if(d==c&&!a.somethingSelected())return!1;if(Ma&&9<=Za&&this.hasSelection===d||Oc&&/[\uf700-\uf7ff]/.test(d))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var e=d.charCodeAt(0);8203!=e||c||(c="\u200b");if(8666==e)return this.reset(),this.cm.execCommand("undo")}var f=0;for(e=Math.min(c.length,d.length);f<e&&c.charCodeAt(f)==d.charCodeAt(f);)++f;var g=this;tb(a,function(){yc(a,d.slice(f),c.length-f,null,
g.composing?"*compose":null);1E3<d.length||-1<d.indexOf("\n")?b.value=g.prevInput="":g.prevInput=d;g.composing&&(g.composing.range.clear(),g.composing.range=a.markText(g.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))});return!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){Ma&&9<=Za&&(this.hasSelection=null);this.fastPoll()},onContextMenu:function(a){function b(){if(null!=g.selectionStart){var a=e.somethingSelected(),b=
"\u200b"+(a?g.value:"");g.value="\u21da";g.value=b;d.prevInput=a?"":"\u200b";g.selectionStart=1;g.selectionEnd=b.length;f.selForContextMenu=e.doc.sel}}function c(){d.contextMenuPending=!1;d.wrapper.style.position="relative";g.style.cssText=p;Ma&&9>Za&&f.scrollbars.setScrollTop(f.scroller.scrollTop=k);if(null!=g.selectionStart){(!Ma||Ma&&9>Za)&&b();var a=0,c=function(){f.selForContextMenu==e.doc.sel&&0==g.selectionStart&&0<g.selectionEnd&&"\u200b"==d.prevInput?Ja(e,gg.selectAll)(e):10>a++?f.detectingSelectAll=
setTimeout(c,500):f.input.reset()};f.detectingSelectAll=setTimeout(c,200)}}var d=this,e=d.cm,f=e.display,g=d.textarea,h=ad(e,a),k=f.scroller.scrollTop;if(h&&!Xb){e.options.resetSelectionOnContextMenu&&-1==e.doc.sel.contains(h)&&Ja(e,Pa)(e.doc,yb(h),Lc);var p=g.style.cssText;d.wrapper.style.position="absolute";g.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: "+(Ma?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
if(zb)var l=window.scrollY;f.input.focus();zb&&window.scrollTo(null,l);f.input.reset();e.somethingSelected()||(g.value=d.prevInput=" ");d.contextMenuPending=!0;f.selForContextMenu=e.doc.sel;clearTimeout(f.detectingSelectAll);Ma&&9<=Za&&b();if(Af){Cf(a);var m=function(){Ec(window,"mouseup",m);setTimeout(c,20)};ra(window,"mouseup",m)}else setTimeout(c,50)}},setUneditable:Me,needsContentAttribute:!1},Ba.prototype);Aa.prototype=hd({init:function(a){function b(a){if(d.somethingSelected())Pc=d.getSelections(),
"cut"==a.type&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var b=Jb(d);Pc=b.text;"cut"==a.type&&d.operation(function(){d.setSelections(b.ranges,0,Lc);d.replaceSelection("",null,"cut")})}else return;if(a.clipboardData&&!Ye)a.preventDefault(),a.clipboardData.clearData(),a.clipboardData.setData("text/plain",Pc.join("\n"));else{var c=R();a=c.firstChild;d.display.lineSpace.insertBefore(c,d.display.lineSpace.firstChild);a.value=Pc.join("\n");var e=document.activeElement;cf(a);setTimeout(function(){d.display.lineSpace.removeChild(c);
e.focus()},50)}}var c=this,d=c.cm;a=c.div=a.lineDiv;a.contentEditable="true";Ha(a);ra(a,"paste",function(a){Oa(a,d)});ra(a,"compositionstart",function(a){a=a.data;c.composing={sel:d.doc.sel,data:a,startData:a};if(a){var b=d.doc.sel.primary(),e=d.getLine(b.head.line).indexOf(a,Math.max(0,b.head.ch-a.length));-1<e&&e<=b.head.ch&&(c.composing.sel=yb(V(b.head.line,e),V(b.head.line,e+a.length)))}});ra(a,"compositionupdate",function(a){c.composing.data=a.data});ra(a,"compositionend",function(a){var b=c.composing;
b&&(a.data==b.startData||/\u200b/.test(a.data)||(b.data=a.data),setTimeout(function(){b.handled||c.applyComposition(b);c.composing==b&&(c.composing=null)},50))});ra(a,"touchstart",function(){c.forceCompositionEnd()});ra(a,"input",function(){c.composing||c.pollContent()||tb(c.cm,function(){Ra(d)})});ra(a,"copy",b);ra(a,"cut",b)},prepareSelection:function(){var a=Qe(this.cm,!1);a.focus=this.cm.state.focused;return a},showSelection:function(a){a&&this.cm.display.view.length&&(a.focus&&this.showPrimarySelection(),
this.showMultipleSelections(a))},showPrimarySelection:function(){var a=window.getSelection(),b=this.cm.doc.sel.primary(),c=ab(this.cm,a.anchorNode,a.anchorOffset),d=ab(this.cm,a.focusNode,a.focusOffset);if(!c||c.bad||!d||d.bad||0!=wa(fb(c,d),b.from())||0!=wa(Xa(c,d),b.to()))if(c=Ca(this.cm,b.from()),d=Ca(this.cm,b.to()),c||d){var e=this.cm.display.view;b=a.rangeCount&&a.getRangeAt(0);c?d||(d=e[e.length-1].measure,d=d.maps?d.maps[d.maps.length-1]:d.map,d={node:d[d.length-1],offset:d[d.length-2]-d[d.length-
3]}):c={node:e[0].measure.map[2],offset:0};try{var f=he(c.node,c.offset,d.offset,d.node)}catch(va){}f&&(a.removeAllRanges(),a.addRange(f),b&&null==a.anchorNode?a.addRange(b):xd&&this.startGracePeriod());this.rememberSelection()}},startGracePeriod:function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){a.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(a){bc(this.cm.display.cursorDiv,
a.cursors);bc(this.cm.display.selectionDiv,a.selection)},rememberSelection:function(){var a=window.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset},selectionInEditor:function(){var a=window.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return Tg(this.div,a)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},
getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function a(){b.cm.state.focused&&(b.pollSelection(),b.polling.set(b.cm.options.pollInterval,a))}var b=this;this.selectionInEditor()?this.pollSelection():tb(this.cm,function(){b.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)},selectionChanged:function(){var a=window.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=
this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var a=window.getSelection(),b=this.cm;this.rememberSelection();var c=ab(b,a.anchorNode,a.anchorOffset),d=ab(b,a.focusNode,a.focusOffset);c&&d&&tb(b,function(){Pa(b.doc,yb(c,d),Lc);if(c.bad||d.bad)b.curOp.selectionChanged=!0})}},pollContent:function(){var a,b=this.cm;var c=b.display;var d=b.doc.sel.primary();var e=d.from();d=d.to();if(e.line<c.viewFrom||
d.line>c.viewTo-1)return!1;e.line==c.viewFrom||0==(a=nc(b,e.line))?(e=Ia(c.view[0].line),a=c.view[0].node):(e=Ia(c.view[a].line),a=c.view[a-1].node.nextSibling);var f=nc(b,d.line);f==c.view.length-1?(d=c.viewTo-1,c=c.lineDiv.lastChild):(d=Ia(c.view[f+1].line)-1,c=c.view[f+1].node.previousSibling);c=b.doc.splitLines(ib(b,a,c,e,d));for(a=Hc(b.doc,V(e,0),V(d,qa(b.doc,d).text.length));1<c.length&&1<a.length;)if(Ua(c)==Ua(a))c.pop(),a.pop(),d--;else if(c[0]==a[0])c.shift(),a.shift(),e++;else break;var g=
0;f=0;for(var h=c[0],k=a[0],l=Math.min(h.length,k.length);g<l&&h.charCodeAt(g)==k.charCodeAt(g);)++g;h=Ua(c);k=Ua(a);for(l=Math.min(h.length-(1==c.length?g:0),k.length-(1==a.length?g:0));f<l&&h.charCodeAt(h.length-f-1)==k.charCodeAt(k.length-f-1);)++f;c[c.length-1]=h.slice(0,h.length-f);c[0]=c[0].slice(g);e=V(e,g);d=V(d,a.length?Ua(a).length-f:0);if(1<c.length||c[0]||wa(e,d))return pd(b.doc,c,e,d,"+input"),!0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},
forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(a){a.data&&a.data!=a.startData&&Ja(this.cm,yc)(this.cm,a.data,0,a.sel)},setUneditable:function(a){a.setAttribute("contenteditable","false")},onKeyPress:function(a){a.preventDefault();Ja(this.cm,yc)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0)},onContextMenu:Me,resetPosition:Me,
needsContentAttribute:!0},Aa.prototype);k.inputStyles={textarea:Ba,contenteditable:Aa};nb.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(0!=wa(c.anchor,d.anchor)||0!=wa(c.head,d.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new Q(ua(this.ranges[b].anchor),
ua(this.ranges[b].head));return new nb(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(0<=wa(b,d.from())&&0>=wa(a,d.to()))return c}return-1}};Q.prototype={from:function(){return fb(this.anchor,this.head)},to:function(){return Xa(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch}};var eg={left:0,right:0,top:0,bottom:0},Sd,Td=null,Xg=0,ic,$e,Vd=0,De=0,Yb=null;Ma?Yb=-.53:xd?Yb=15:Qd?Yb=-.7:Rd&&(Yb=-1/3);var Yg=function(a){var b=a.wheelDeltaX,c=a.wheelDeltaY;null==b&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(b=a.detail);null==c&&a.detail&&a.axis==a.VERTICAL_AXIS?c=a.detail:null==c&&(c=a.wheelDelta);return{x:b,y:c}};k.wheelEventPixels=function(a){a=Yg(a);a.x*=Yb;a.y*=Yb;return a};var Qc=new Kf,fg=null,Va=k.changeEnd=function(a){return a.text?V(a.from.line+a.text.length-
1,Ua(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};k.prototype={constructor:k,focus:function(){window.focus();this.display.input.focus()},setOption:function(a,b){var c=this.options,d=c[a];if(c[a]!=b||"mode"==a)c[a]=b,Ee.hasOwnProperty(a)&&Ja(this,Ee[a])(this,b,d)},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](Ob(a))},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==
a||b[c].name==a)return b.splice(c,1),!0},addOverlay:bb(function(a,b){var c=a.token?a:k.getMode(this.options,a);if(c.startState)throw Error("Overlays may not be stateful.");this.state.overlays.push({mode:c,modeSpec:a,opaque:b&&b.opaque});this.state.modeGen++;Ra(this)}),removeOverlay:bb(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a){b.splice(c,1);this.state.modeGen++;Ra(this);break}}}),indentLine:bb(function(a,b,c){"string"!=
typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract");vb(this.doc,a)&&Md(this,a,b,c)}),indentSelection:bb(function(a){for(var b=this.doc.sel.ranges,c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.line>c&&(Md(this,e.head.line,a,!0),c=e.head.line,d==this.doc.sel.primIndex&&Rb(this));else{var f=e.from();e=e.to();var g=Math.max(c,f.line);c=Math.min(this.lastLine(),e.line-(e.ch?0:1))+1;for(e=g;e<c;++e)Md(this,e,a);e=this.doc.sel.ranges;0==f.ch&&b.length==
e.length&&0<e[d].from().ch&&be(this.doc,d,new Q(f,e[d].to()),Lc)}}}),getTokenAt:function(a,b){return lf(this,a,b)},getLineTokens:function(a,b){return lf(this,V(a),b,!0)},getTokenTypeAt:function(a){a=pa(this.doc,a);var b=og(this,qa(this.doc,a.line)),c=0,d=(b.length-1)/2;a=a.ch;if(0==a)b=b[2];else for(;;){var e=c+d>>1;if((e?b[2*e-1]:0)>=a)d=e;else if(b[2*e+1]<a)c=e+1;else{b=b[2*e+2];break}}c=b?b.indexOf("cm-overlay "):-1;return 0>c?b:0==c?null:b.slice(0,c-1)},getModeAt:function(a){var b=this.doc.mode;
return b.innerMode?k.innerMode(b,this.getTokenAt(a).state).mode:b},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!Fe.hasOwnProperty(b))return c;var d=Fe[b];a=this.getModeAt(a);if("string"==typeof a[b])d[a[b]]&&c.push(d[a[b]]);else if(a[b])for(var e=0;e<a[b].length;e++){var f=d[a[b][e]];f&&c.push(f)}else a.helperType&&d[a.helperType]?c.push(d[a.helperType]):d[a.name]&&c.push(d[a.name]);for(e=0;e<d._global.length;e++)b=d._global[e],b.pred(a,this)&&-1==
$b(c,b.val)&&c.push(b.val);return c},getStateAfter:function(a,b){var c=this.doc;a=Math.max(c.first,Math.min(null==a?c.first+c.size-1:a,c.first+c.size-1));return sb(this,a+1,b)},cursorCoords:function(a,b){var c=this.doc.sel.primary();a=null==a?c.head:"object"==typeof a?pa(this.doc,a):a?c.from():c.to();return Db(this,a,b||"page")},charCoords:function(a,b){return $c(this,pa(this.doc,a),b||"page")},coordsChar:function(a,b){a=dc(this,a,b||"page");return Ke(this,a.left,a.top)},lineAtHeight:function(a,b){a=
dc(this,{top:a,left:0},b||"page").top;return we(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1;if("number"==typeof a){var d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,c=!0);a=qa(this.doc,a)}return da(this,a,{top:0,left:0},b||"page").top+(c?this.doc.height-zc(a):0)},defaultTextHeight:function(){return X(this.display)},defaultCharWidth:function(){return ca(this.display)},setGutterMarker:bb(function(a,b,c){return qd(this.doc,a,"gutter",function(a){var d=
a.gutterMarkers||(a.gutterMarkers={});d[b]=c;!c&&vh(d)&&(a.gutterMarkers=null);return!0})}),clearGutter:bb(function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,cb(b,d,"gutter"),vh(c.gutterMarkers)&&(c.gutterMarkers=null));++d})}),lineInfo:function(a){if("number"==typeof a){if(!vb(this.doc,a))return null;var b=a;a=qa(this.doc,a);if(!a)return null}else if(b=Ia(a),null==b)return null;return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,
textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=Db(this,pa(this.doc,a));var g=a.bottom,h=a.left;b.style.position="absolute";b.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(b);f.sizer.appendChild(b);if("over"==d)g=a.top;else if("above"==d||"near"==d){var k=Math.max(f.wrapper.clientHeight,this.doc.height),l=
Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>k)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=k&&(g=a.bottom);h+b.offsetWidth>l&&(h=l-b.offsetWidth)}b.style.top=g+"px";b.style.left=b.style.right="";"right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px");c&&(a=Jd(this,h,g,h+b.offsetWidth,g+b.offsetHeight),null!=a.scrollTop&&ec(this,
a.scrollTop),null!=a.scrollLeft&&Jc(this,a.scrollLeft))},triggerOnKeyDown:bb(P),triggerOnKeyPress:bb(pf),triggerOnKeyUp:md,execCommand:function(a){if(gg.hasOwnProperty(a))return gg[a].call(null,this)},triggerElectric:bb(function(a){xb(this,a)}),findPosH:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);var f=0;for(a=pa(this.doc,a);f<b&&(a=uc(this.doc,a,e,c,d),!a.hitSide);++f);return a},moveH:bb(function(a,b){var c=this;c.extendSelectionsBy(function(d){return c.display.shift||c.doc.extend||d.empty()?uc(c.doc,
d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},zd)}),deleteH:bb(function(a,b){var c=this.doc;this.doc.sel.somethingSelected()?c.replaceSelection("",null,"+delete"):gc(this,function(d){var e=uc(c,d.head,a,b,!1);return 0>a?{from:e,to:d.head}:{from:d.head,to:e}})}),findPosV:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);var f=0;for(a=pa(this.doc,a);f<b&&(a=Db(this,a,"div"),null==d?d=a.left:a.left=d,a=Wa(this,a,e,c),!a.hitSide);++f);return a},moveV:bb(function(a,b){var c=this,d=this.doc,e=[],
f=!c.display.shift&&!d.extend&&d.sel.somethingSelected();d.extendSelectionsBy(function(g){if(f)return 0>a?g.from():g.to();var h=Db(c,g.head,"div");null!=g.goalColumn&&(h.left=g.goalColumn);e.push(h.left);var k=Wa(c,h,a,b);"page"==b&&g==d.sel.primary()&&Kd(c,null,$c(c,k,"div").top-h.top);return k},zd);if(e.length)for(var g=0;g<d.sel.ranges.length;g++)d.sel.ranges[g].goalColumn=e[g]}),findWordAt:function(a){var b=qa(this.doc,a.line).text,c=a.ch,d=a.ch;if(b){var e=this.getHelper(a,"wordChars");(0>a.xRel||
d==b.length)&&c?--c:++d;var f=b.charAt(c);for(f=Og(f,e)?function(a){return Og(a,e)}:/\s/.test(f)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!Og(a)};0<c&&f(b.charAt(c-1));)--c;for(;d<b.length&&f(b.charAt(d));)++d}return new Q(V(a.line,c),V(a.line,d))},toggleOverwrite:function(a){if(null==a||a!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?na(this.display.cursorDiv,"CodeMirror-overwrite"):Sb(this.display.cursorDiv,"CodeMirror-overwrite"),ia(this,"overwriteToggle",
this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==Xc()},scrollTo:bb(function(a,b){null==a&&null==b||Ld(this);null!=a&&(this.curOp.scrollLeft=a);null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-$a(this)-this.display.barHeight,width:a.scrollWidth-$a(this)-this.display.barWidth,clientHeight:Vc(this),clientWidth:xc(this)}},scrollIntoView:bb(function(a,b){null==a?(a=
{from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:V(a,0),to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=b||0;null!=a.from.line?(Ld(this),this.curOp.scrollToPos=a):(a=Jd(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin),this.scrollTo(a.scrollLeft,a.scrollTop))}),setSize:bb(function(a,b){function c(a){return"number"==
typeof a||/^\d+$/.test(String(a))?a+"px":a}var d=this;null!=a&&(d.display.wrapper.style.width=c(a));null!=b&&(d.display.wrapper.style.height=c(b));d.options.lineWrapping&&Uf(this);var e=d.display.viewFrom;d.doc.iter(e,d.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){cb(d,e,"widget");break}++e});d.curOp.forceUpdate=!0;ia(d,"refresh",this)}),operation:function(a){return tb(this,a)},refresh:bb(function(){var a=this.display.cachedTextHeight;Ra(this);
this.curOp.forceUpdate=!0;kd(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);n(this);(null==a||.5<Math.abs(a-X(this.display)))&&h(this);ia(this,"refresh",this)}),swapDoc:bb(function(a){var b=this.doc;b.cm=null;Pf(this,a);kd(this);this.display.input.reset();this.scrollTo(a.scrollLeft,a.scrollTop);this.curOp.forceScroll=!0;ac(this,"swapDoc",this,b);return b}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},
getGutterElement:function(){return this.display.gutters}};jf(k);var Eg=k.defaults={},Ee=k.optionHandlers={},af=k.Init={toString:function(){return"CodeMirror.Init"}};ta("value","",function(a,b){a.setValue(b)},!0);ta("mode",null,function(a,b){a.doc.modeOption=b;c(a)},!0);ta("indentUnit",2,c,!0);ta("indentWithTabs",!1);ta("smartIndent",!0);ta("tabSize",4,function(a){f(a);kd(a);Ra(a)},!0);ta("lineSeparator",null,function(a,b){if(a.doc.lineSep=b){var c=[],d=a.doc.first;a.doc.iter(function(a){for(var e=
0;;){var f=a.text.indexOf(b,e);if(-1==f)break;e=f+b.length;c.push(V(d,f))}d++});for(var e=c.length-1;0<=e;e--)pd(a.doc,b,c[e],V(c[e].line,c[e].ch+b.length))}});ta("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(a,b,c){a.state.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g");c!=k.Init&&a.refresh()});ta("specialCharPlaceholder",function(a){var b=ka("span","\u2022","cm-invalidchar");b.title="\\u"+a.charCodeAt(0).toString(16);b.setAttribute("aria-label",
b.title);return b},function(a){a.refresh()},!0);ta("electricChars",!0);ta("inputStyle",yd?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);ta("rtlMoveVisually",!Cg);ta("wholeLineUpdateBefore",!0);ta("theme","default",function(a){e(a);b(a)},!0);ta("keyMap","default",function(a,b,c){b=Ob(b);(c=c!=k.Init&&Ob(c))&&c.detach&&c.detach(a,b);b.attach&&b.attach(a,c||null)});ta("extraKeys",null);ta("lineWrapping",!1,function(a){a.options.lineWrapping?
(na(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(Sb(a.display.wrapper,"CodeMirror-wrap"),w(a));h(a);Ra(a);kd(a);setTimeout(function(){B(a)},100)},!0);ta("gutters",[],function(a){v(a.options);b(a)},!0);ta("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?L(a.display)+"px":"0";a.refresh()},!0);ta("coverGutterNextToScrollbar",!1,function(a){B(a)},!0);ta("scrollbarStyle","native",function(a){q(a);B(a);a.display.scrollbars.setScrollTop(a.doc.scrollTop);
a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0);ta("lineNumbers",!1,function(a){v(a.options);b(a)},!0);ta("firstLineNumber",1,b,!0);ta("lineNumberFormatter",function(a){return a},b,!0);ta("showCursorWhenSelecting",!1,Ic,!0);ta("resetSelectionOnContextMenu",!0);ta("lineWiseCopyCut",!0);ta("readOnly",!1,function(a,b){"nocursor"==b?(Kc(a),a.display.input.blur(),a.display.disabled=!0):(a.display.disabled=!1,b||a.display.input.reset())});ta("disableInput",!1,function(a,b){b||a.display.input.reset()},
!0);ta("dragDrop",!0,function(a,b,c){!b!=!(c&&c!=k.Init)&&(c=a.display.dragFunctions,b=b?ra:Ec,b(a.display.scroller,"dragstart",c.start),b(a.display.scroller,"dragenter",c.simple),b(a.display.scroller,"dragover",c.simple),b(a.display.scroller,"drop",c.drop))});ta("cursorBlinkRate",530);ta("cursorScrollMargin",0);ta("cursorHeight",1,Ic,!0);ta("singleCursorHeightPerLine",!0,Ic,!0);ta("workTime",100);ta("workDelay",100);ta("flattenSpans",!0,f,!0);ta("addModeClass",!1,f,!0);ta("pollInterval",100);ta("undoDepth",
200,function(a,b){a.doc.history.undoDepth=b});ta("historyEventDelay",1250);ta("viewportMargin",10,function(a){a.refresh()},!0);ta("maxHighlightLength",1E4,f,!0);ta("moveInputWithCursor",!0,function(a,b){b||a.display.input.resetPosition()});ta("tabindex",null,function(a,b){a.display.input.getField().tabIndex=b||""});ta("autofocus",null);var nh=k.modes={},Fg=k.mimeModes={};k.defineMode=function(a,b){k.defaults.mode||"null"==a||(k.defaults.mode=a);2<arguments.length&&(b.dependencies=Array.prototype.slice.call(arguments,
2));nh[a]=b};k.defineMIME=function(a,b){Fg[a]=b};k.resolveMode=function(a){if("string"==typeof a&&Fg.hasOwnProperty(a))a=Fg[a];else if(a&&"string"==typeof a.name&&Fg.hasOwnProperty(a.name)){var b=Fg[a.name];"string"==typeof b&&(b={name:b});a=sa(b,a);a.name=b.name}else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return k.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};k.getMode=function(a,b){b=k.resolveMode(b);var c=nh[b.name];if(!c)return k.getMode(a,
"text/plain");a=c(a,b);if(Bf.hasOwnProperty(b.name)){c=Bf[b.name];for(var d in c)c.hasOwnProperty(d)&&(a.hasOwnProperty(d)&&(a["_"+d]=a[d]),a[d]=c[d])}a.name=b.name;b.helperType&&(a.helperType=b.helperType);if(b.modeProps)for(d in b.modeProps)a[d]=b.modeProps[d];return a};k.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});k.defineMIME("text/plain","null");var Bf=k.modeExtensions={};k.extendMode=function(a,b){a=Bf.hasOwnProperty(a)?Bf[a]:Bf[a]={};hd(b,a)};k.defineExtension=function(a,
b){k.prototype[a]=b};k.defineDocExtension=function(a,b){Eb.prototype[a]=b};k.defineOption=ta;var oh=[];k.defineInitHook=function(a){oh.push(a)};var Fe=k.helpers={};k.registerHelper=function(a,b,c){Fe.hasOwnProperty(a)||(Fe[a]=k[a]={_global:[]});Fe[a][b]=c};k.registerGlobalHelper=function(a,b,c,d){k.registerHelper(a,b,d);Fe[a]._global.push({pred:c,val:d})};var Rc=k.copyState=function(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);a={};for(var c in b){var d=b[c];d instanceof Array&&(d=
d.concat([]));a[c]=d}return a},Zg=k.startState=function(a,b,c){return a.startState?a.startState(b,c):!0};k.innerMode=function(a,b){for(var c;a.innerMode;){c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state;a=c.mode}return c||{mode:a,state:b}};var gg=k.commands={selectAll:function(a){a.setSelection(V(a.firstLine(),0),V(a.lastLine()),Lc)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Lc)},killLine:function(a){gc(a,function(b){if(b.empty()){var c=qa(a.doc,b.head.line).text.length;
return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:V(b.head.line+1,0)}:{from:b.head,to:V(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){gc(a,function(b){return{from:V(b.from().line,0),to:pa(a.doc,V(b.to().line+1,0))}})},delLineLeft:function(a){gc(a,function(a){return{from:V(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){gc(a,function(b){var c=a.charCoords(b.head,"div").top+5;return{from:a.coordsChar({left:0,top:c},"div"),to:b.from()}})},delWrappedLineRight:function(a){gc(a,
function(b){var c=a.charCoords(b.head,"div").top+5;c=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:c}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(V(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(V(a.lastLine()))},goLineStart:function(a){a.extendSelectionsBy(function(b){return dg(a,b.head.line)},{origin:"+move",
bias:1})},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){return Ag(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){a.extendSelectionsBy(function(b){b=b.head.line;for(var c,d=qa(a.doc,b);c=id(d,!1);)d=c.find(1,!0).line,b=null;c=(c=jd(d))?c[0].level%2?vf(d):cg(d):d.text.length;return V(null==b?Ia(d):b,c)},{origin:"+move",bias:-1})},goLineRight:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+
100,top:b},"div")},zd)},goLineLeft:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:b},"div")},zd)},goLineLeftSmart:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;c=a.coordsChar({left:0,top:c},"div");return c.ch<a.getLine(c.line).search(/\S/)?Ag(a,b.head):c},zd)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,
"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},
delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var f=c[e].from();f=cd(a.getLine(f.line),f.ch,d);b.push(Array(d-
f%d+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){tb(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++){var e=b[d].head,f=qa(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new V(e.line,e.ch-1)),0<e.ch)e=new V(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),V(e.line,e.ch-2),e,"+transpose");else if(e.line>a.doc.first){var g=qa(a.doc,e.line-1).text;g&&a.replaceRange(f.charAt(0)+
a.doc.lineSeparator()+g.charAt(g.length-1),V(e.line-1,g.length-1),V(e.line,1),"+transpose")}c.push(new Q(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){tb(a,function(){for(var b=a.listSelections().length,c=0;c<b;c++){var d=a.listSelections()[c];a.replaceRange(a.doc.lineSeparator(),d.anchor,d.head,"+input");a.indentLine(d.from().line+1,null,!0);Rb(a)}})},toggleOverwrite:function(a){a.toggleOverwrite()}},ne=k.keyMap={};ne.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",
End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};ne.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft",
"Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};ne.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown",
"Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};ne.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft",
"Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",
fallthrough:["basic","emacsy"]};ne["default"]=Oc?ne.macDefault:ne.pcDefault;k.normalizeKeyMap=function(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(!/^(name|fallthrough|(de|at)tach)$/.test(c)){if("..."!=d)for(var e=ng(c.split(" "),kg),f=0;f<e.length;f++){if(f==e.length-1){var g=e.join(" ");var h=d}else g=e.slice(0,f+1).join(" "),h="...";var k=b[g];if(!k)b[g]=h;else if(k!=h)throw Error("Inconsistent bindings for "+g);}delete a[c]}}for(var l in b)a[l]=b[l];return a};var ba=k.lookupKey=
function(a,b,c,d){b=Ob(b);var e=b.call?b.call(a,d):b[a];if(!1===e)return"nothing";if("..."===e)return"multi";if(null!=e&&c(e))return"handled";if(b.fallthrough){if("[object Array]"!=Object.prototype.toString.call(b.fallthrough))return ba(a,b.fallthrough,c,d);for(e=0;e<b.fallthrough.length;e++){var f=ba(a,b.fallthrough[e],c,d);if(f)return f}}},Gg=k.isModifierKey=function(a){a="string"==typeof a?a:He[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a},$g=k.keyName=function(a,b){if(Xb&&34==a.keyCode&&
a["char"])return!1;var c=He[a.keyCode],d=c;if(null==d||a.altGraphKey)return!1;a.altKey&&"Alt"!=c&&(d="Alt-"+d);(Ze?a.metaKey:a.ctrlKey)&&"Ctrl"!=c&&(d="Ctrl-"+d);(Ze?a.ctrlKey:a.metaKey)&&"Cmd"!=c&&(d="Cmd-"+d);!b&&a.shiftKey&&"Shift"!=c&&(d="Shift-"+d);return d};k.fromTextArea=function(a,b){function c(){a.value=h.getValue()}b=b?hd(b):{};b.value=a.value;!b.tabindex&&a.tabIndex&&(b.tabindex=a.tabIndex);!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder);if(null==b.autofocus){var d=Xc();b.autofocus=
d==a||null!=a.getAttribute("autofocus")&&d==document.body}if(a.form&&(ra(a.form,"submit",c),!b.leaveSubmitMethodAlone)){var e=a.form;var f=e.submit;try{var g=e.submit=function(){c();e.submit=f;e.submit();e.submit=g}}catch(td){}}b.finishInit=function(b){b.save=c;b.getTextArea=function(){return a};b.toTextArea=function(){b.toTextArea=isNaN;c();a.parentNode.removeChild(b.getWrapperElement());a.style.display="";a.form&&(Ec(a.form,"submit",c),"function"==typeof a.form.submit&&(a.form.submit=f))}};a.style.display=
"none";var h=k(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);return h};var bf=k.StringStream=function(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0};bf.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=
this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){this.lastColumnPos<this.start&&
(this.lastColumnValue=cd(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?cd(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return cd(this.string,null,this.tabSize)-(this.lineStart?cd(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"==typeof a){var d=function(a){return c?a.toLowerCase():a},e=this.string.substr(this.pos,a.length);if(d(e)==d(a))return!1!==
b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);return a}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var hg=0,Dc=k.TextMarker=function(a,b){this.lines=[];this.type=b;this.doc=a;this.id=++hg};jf(Dc);Dc.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;b&&S(a);if(wb(this,
"clear")){var c=this.find();c&&ac(this,"clear",c.from,c.to)}for(var d=c=null,e=0;e<this.lines.length;++e){var f=this.lines[e],g=Gf(f.markedSpans,this);a&&!this.collapsed?cb(a,Ia(f),"text"):a&&(null!=g.to&&(d=Ia(f)),null!=g.from&&(c=Ia(f)));for(var h=f,k=void 0,l=f.markedSpans,m=g,n=0;n<l.length;++n)l[n]!=m&&(k||(k=[])).push(l[n]);h.markedSpans=k;null==g.from&&this.collapsed&&!nf(this.doc,f)&&a&&rc(f,X(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(e=0;e<this.lines.length;++e)f=Cd(this.lines[e]),
g=r(f),g>a.display.maxLineLength&&(a.display.maxLine=f,a.display.maxLineLength=g,a.display.maxLineChanged=!0);null!=c&&a&&this.collapsed&&Ra(a,c,d+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Gd(a.doc));a&&ac(a,"markerCleared",a,this);b&&Ac(a);this.parent&&this.parent.clear()}};Dc.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.lines.length;++e){var f=this.lines[e],g=Gf(f.markedSpans,this);if(null!=
g.from&&(c=V(b?f:Ia(f),g.from),-1==a))return c;if(null!=g.to&&(d=V(b?f:Ia(f),g.to),1==a))return d}return c&&{from:c,to:d}};Dc.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&tb(c,function(){var d=a.line,e=Ia(a.line);if(e=Hb(c,e))Tf(e),c.curOp.selectionChanged=c.curOp.forceUpdate=!0;c.curOp.updateMaxLine=!0;nf(b.doc,d)||null==b.height||(e=b.height,b.height=null,(e=Dd(b)-e)&&rc(d,d.height+e))})};Dc.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=
this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=$b(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Dc.prototype.detachLine=function(a){this.lines.splice($b(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};hg=0;var Ge=k.SharedTextMarker=function(a,b){this.markers=a;this.primary=b;for(b=0;b<a.length;++b)a[b].parent=this};jf(Ge);Ge.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=
!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();ac(this,"clear")}};Ge.prototype.find=function(a,b){return this.primary.find(a,b)};var Fb=k.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.doc=a;this.node=b};jf(Fb);Fb.prototype.clear=function(){var a=this.doc.cm,b=this.line.widgets,c=this.line,d=Ia(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.widgets=null);var f=Dd(this);rc(c,Math.max(0,c.height-f));a&&
tb(a,function(){var b=-f;zc(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Kd(a,null,b);cb(a,d,"widget")})}};Fb.prototype.changed=function(){var a=this.height,b=this.doc.cm,c=this.line;this.height=null;var d=Dd(this)-a;d&&(rc(c,c.height+d),b&&tb(b,function(){b.curOp.forceUpdate=!0;zc(c)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&Kd(b,null,d)}))};var D=k.Line=function(a,b,c){this.text=a;pg(this,b);this.height=c?c(this):1};jf(D);D.prototype.lineNo=function(){return Ia(this)};var Wd={},sd={};
ob.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;c<d;++c){var e=this.lines[c];this.height-=e.height;var f=e;f.parent=null;mg(f);ac(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(a=0;a<b.length;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};of.prototype=
{chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(a<e){var f=Math.min(b,e-a),g=d.height;d.removeInner(a,f);this.height-=g-d.height;e==f&&(this.children.splice(c--,1),d.parent=null);if(0==(b-=f))break;a=0}else a-=e}25>this.size-b&&(1<this.children.length||!(this.children[0]instanceof ob))&&(a=[],this.collapse(a),this.children=[new ob(a)],this.children[0].parent=this)},collapse:function(a){for(var b=
0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length;this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<=f){e.insertInner(a,b,c);if(e.lines&&50<e.lines.length){for(;50<e.lines.length;)a=e.lines.splice(e.lines.length-25,25),a=new ob(a),e.height-=a.height,this.children.splice(d+1,0,a),a.parent=this;this.maybeSpill()}break}a-=f}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=
a.children.splice(a.children.length-5,5);b=new of(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=$b(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new of(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<f){f=Math.min(b,f-a);if(e.iterN(a,f,c))return!0;if(0==(b-=f))break;a=0}else a-=f}}};var Sc=0,Eb=k.Doc=function(a,
b,c,d){if(!(this instanceof Eb))return new Eb(a,b,c,d);null==c&&(c=0);of.call(this,[new ob([new D("",null)])]);this.first=c;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=c;c=V(c,0);this.sel=yb(c);this.history=new Qf(null);this.id=++Sc;this.modeOption=b;this.lineSep=d;"string"==typeof a&&(a=this.splitLines(a));Qg(this,{from:c,to:c,text:a});Pa(this,yb(c),Lc)};Eb.prototype=sa(of.prototype,{constructor:Eb,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,
this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=Qa(this,this.first,this.first+this.size);return!1===a?b:b.join(a||this.lineSeparator())},setValue:hb(function(a){var b=V(this.first,0),c=this.first+this.size-1;Qb(this,{from:b,to:V(c,qa(this,c).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);Pa(this,yb(b))}),replaceRange:function(a,
b,c,d){b=pa(this,b);c=c?pa(this,c):b;pd(this,a,b,c,d)},getRange:function(a,b,c){a=Hc(this,pa(this,a),pa(this,b));return!1===c?a:a.join(c||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(vb(this,a))return qa(this,a)},getLineNumber:function(a){return Ia(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=qa(this,a));return Cd(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+
this.size-1},clipPos:function(a){return pa(this,a)},getCursor:function(a){var b=this.sel.primary();return null==a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:hb(function(a,b,c){a=pa(this,"number"==typeof a?V(a,b||0):a);Pa(this,yb(a,null),c)}),setSelection:hb(function(a,b,c){var d=pa(this,a);a=pa(this,b||a);Pa(this,yb(d,a),c)}),extendSelection:hb(function(a,
b,c){cc(this,pa(this,a),b&&pa(this,b),c)}),extendSelections:hb(function(a,b){b=[];for(var c=0;c<a.length;c++)b[c]=pa(this,a[c]);Ed(this,b)}),extendSelectionsBy:hb(function(a,b){Ed(this,ng(this.sel.ranges,a),b)}),setSelections:hb(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new Q(pa(this,a[d].anchor),pa(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex));Pa(this,u(e,b),c)}}),addSelection:hb(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new Q(pa(this,a),
pa(this,b||a)));Pa(this,u(d,d.length-1),c)}),getSelection:function(a){for(var b=this.sel.ranges,c,d=0;d<b.length;d++){var e=Hc(this,b[d].from(),b[d].to());c=c?c.concat(e):e}return!1===a?c:c.join(a||this.lineSeparator())},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var e=Hc(this,c[d].from(),c[d].to());!1!==a&&(e=e.join(a||this.lineSeparator()));b[d]=e}return b},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,
b,c||"+input")},replaceSelections:hb(function(a,b,c){for(var d=[],e=this.sel,f=0;f<e.ranges.length;f++){var g=e.ranges[f];d[f]={from:g.from(),to:g.to(),text:this.splitLines(a[f]),origin:c}}if(f=b&&"end"!=b){f=[];c=a=V(this.first,0);for(e=0;e<d.length;e++){var h=d[e];g=se(h.from,a,c);var k=se(Va(h),a,c);a=h.to;c=k;"around"==b?(h=this.sel.ranges[e],h=0>wa(h.head,h.anchor),f[e]=new Q(h?k:g,h?g:k)):f[e]=new Q(g,g)}f=new nb(f,this.sel.primIndex)}b=f;for(f=d.length-1;0<=f;f--)Qb(this,d[f]);b?Cb(this,b):
this.cm&&Rb(this.cm)}),undo:hb(function(){Bc(this,"undo")}),redo:hb(function(){Bc(this,"redo")}),undoSelection:hb(function(){Bc(this,"undo",!0)}),redoSelection:hb(function(){Bc(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(d=0;d<a.undone.length;d++)a.undone[d].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new Qf(this.history.maxGeneration)},
markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Rf(this.history.done),undone:Rf(this.history.undone)}},setHistory:function(a){var b=this.history=new Qf(this.history.maxGeneration);b.done=Rf(a.done.slice(0),null,!0);b.undone=Rf(a.undone.slice(0),
null,!0)},addLineClass:hb(function(a,b,c){return qd(this,a,"gutter"==b?"gutter":"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass";if(a[d]){if(Bb(c).test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:hb(function(a,b,c){return qd(this,a,"gutter"==b?"gutter":"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass",e=a[d];if(e)if(null==c)a[d]=null;else{var f=e.match(Bb(c));
if(!f)return!1;var g=f.index+f[0].length;a[d]=e.slice(0,f.index)+(f.index&&g!=e.length?" ":"")+e.slice(g)||null}else return!1;return!0})}),addLineWidget:hb(function(a,b,c){return ih(this,a,b,c)}),removeLineWidget:function(a){a.clear()},markText:function(a,b,c){return kc(this,pa(this,a),pa(this,b),c,"range")},setBookmark:function(a,b){b={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};a=pa(this,
a);return kc(this,a,a,b,"bookmark")},findMarksAt:function(a){a=pa(this,a);var b=[],c=qa(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=pa(this,a);b=pa(this,b);var d=[],e=a.line;this.iter(a.line,b.line+1,function(f){if(f=f.markedSpans)for(var g=0;g<f.length;g++){var h=f[g];e==a.line&&a.ch>h.to||null==h.from&&e!=a.line||e==b.line&&h.from>b.ch||c&&!c(h.marker)||
d.push(h.marker.parent||h.marker)}++e});return d},getAllMarks:function(){var a=[];this.iter(function(b){if(b=b.markedSpans)for(var c=0;c<b.length;++c)null!=b[c].from&&a.push(b[c].marker)});return a},posFromIndex:function(a){var b,c=this.first;this.iter(function(d){d=d.text.length+1;if(d>a)return b=a,!0;a-=d;++c});return pa(this,V(c,b))},indexFromPos:function(a){a=pa(this,a);var b=a.ch;if(a.line<this.first||0>a.ch)return 0;this.iter(this.first,a.line,function(a){b+=a.text.length+1});return b},copy:function(a){var b=
new Eb(Qa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.sel=this.sel;b.extend=!1;a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory()));return b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from);null!=a.to&&a.to<c&&(c=a.to);b=new Eb(Qa(this,b,c),a.mode||this.modeOption,b,this.lineSep);a.sharedHist&&(b.history=this.history);(this.linked||
(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=fd(this);for(c=0;c<a.length;c++){var d=a[c],e=d.find(),f=b.clipPos(e.from);e=b.clipPos(e.to);wa(f,e)&&(f=kc(b,f,e,d.primary,d.primary.type),d.markers.push(f),f.parent=d)}return b},unlinkDoc:function(a){a instanceof k&&(a=a.doc);if(this.linked)for(var b=0;b<this.linked.length;++b)if(this.linked[b].doc==a){this.linked.splice(b,1);a.unlinkDoc(this);lg(fd(this));break}if(a.history==this.history){var c=
[a.id];Lb(a,function(a){c.push(a.id)},!0);a.history=new Qf(null);a.history.done=Rf(this.history.done,c);a.history.undone=Rf(this.history.undone,c)}},iterLinkedDocs:function(a){Lb(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):db(a)},lineSeparator:function(){return this.lineSep||"\n"}});Eb.prototype.eachLine=Eb.prototype.iter;var Vb="iter insert remove copy getEditor constructor".split(" "),wc;for(wc in Eb.prototype)Eb.prototype.hasOwnProperty(wc)&&
0>$b(Vb,wc)&&(k.prototype[wc]=function(a){return function(){return a.apply(this.doc,arguments)}}(Eb.prototype[wc]));jf(Eb);var jc=k.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},ph=k.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},Cf=k.e_stop=function(a){jc(a);ph(a)},ra=k.on=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):(a=a._handlers||(a._handlers={}),(a[b]||(a[b]=[])).push(c))},
Ec=k.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else if(a=a._handlers&&a._handlers[b])for(b=0;b<a.length;++b)if(a[b]==c){a.splice(b,1);break}},ia=k.signal=function(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},rf=null,Df=30,rd=k.Pass={toString:function(){return"CodeMirror.Pass"}},Lc={scroll:!1},Xf={origin:"*mouse"},zd={origin:"+move"};
Kf.prototype.set=function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)};var cd=k.countColumn=function(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));d=d||0;for(e=e||0;;){var f=a.indexOf("\t",d);if(0>f||f>=b)return e+(b-d);e+=f-d;e+=c-e%c;d=f+1}},La=[""],cf=function(a){a.select()};Ye?cf=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:Ma&&(cf=function(a){try{a.select()}catch(t){}});var ze=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,
bh=k.isWordChar=function(a){return/\w/.test(a)||"\u0080"<a&&(a.toUpperCase()!=a.toLowerCase()||ze.test(a))},Sg=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
var he=document.createRange?function(a,b,c,d){var e=document.createRange();e.setEnd(d||a,c);e.setStart(a,b);return e}:function(a,b,c){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch(Ta){return d}d.collapse(!0);d.moveEnd("character",c);d.moveStart("character",b);return d};var Tg=k.contains=function(a,b){3==b.nodeType&&(b=b.parentNode);if(a.contains)return a.contains(b);do if(11==b.nodeType&&(b=b.host),b==a)return!0;while(b=b.parentNode)};Ma&&11>Za&&(Xc=function(){try{return document.activeElement}catch(p){return document.body}});
var Sb=k.rmClass=function(a,b){var c=a.className;if(b=Bb(b).exec(c)){var d=c.slice(b.index+b[0].length);a.className=c.slice(0,b.index)+(d?b[1]+d:"")}},na=k.addClass=function(a,b){var c=a.className;Bb(b).test(c)||(a.className+=(c?" ":"")+b)},Sa=!1,ch=function(){if(Ma&&9>Za)return!1;var a=ka("div");return"draggable"in a||"dragDrop"in a}(),Ga,oa,db=k.splitLines=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;b<=d;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==
a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},dh=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(t){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(H){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},Ig=function(){var a=ka("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),
Ef=null,He={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",
63276:"PageUp",63277:"PageDown",63302:"Insert"};k.keyNames=He;(function(){for(var a=0;10>a;a++)He[a+48]=He[a+96]=String(a);for(a=65;90>=a;a++)He[a]=String.fromCharCode(a);for(a=1;12>=a;a++)He[a+111]=He[a+63235]="F"+a})();var df,Ie=function(){function a(a){return 247>=a?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(a):
1424<=a&&1524>=a?"R":1536<=a&&1773>=a?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(a-1536):1774<=a&&2220>=a?"r":8192<=a&&8203>=a?"w":8204==a?"b":"L"}function b(a,b,c){this.level=a;this.from=b;this.to=c}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,d=/[stwN]/,e=/[LRr]/,f=/[Lb1n]/,g=/[1n]/;return function(h){if(!c.test(h))return!1;
for(var k=h.length,l=[],m=0;m<k;++m)l.push(a(h.charCodeAt(m)));m=0;for(var n="L";m<k;++m){var p=l[m];"m"==p?l[m]=n:n=p}m=0;for(n="L";m<k;++m)p=l[m],"1"==p&&"r"==n?l[m]="n":e.test(p)&&(n=p,"r"==p&&(l[m]="R"));m=1;for(n=l[0];m<k-1;++m)p=l[m],"+"==p&&"1"==n&&"1"==l[m+1]?l[m]="1":","!=p||n!=l[m+1]||"1"!=n&&"n"!=n||(l[m]=n),n=p;for(m=0;m<k;++m)if(p=l[m],","==p)l[m]="N";else if("%"==p){for(n=m+1;n<k&&"%"==l[n];++n);var q=m&&"!"==l[m-1]||n<k&&"1"==l[n]?"1":"N";for(p=m;p<n;++p)l[p]=q;m=n-1}m=0;for(n="L";m<
k;++m)p=l[m],"L"==n&&"1"==p?l[m]="L":e.test(p)&&(n=p);for(m=0;m<k;++m)if(d.test(l[m])){for(n=m+1;n<k&&d.test(l[n]);++n);p="L"==(n<k?l[n]:"L");q="L"==(m?l[m-1]:"L")||p?"L":"R";for(p=m;p<n;++p)l[p]=q;m=n-1}n=[];var r;for(m=0;m<k;)if(f.test(l[m])){p=m;for(++m;m<k&&f.test(l[m]);++m);n.push(new b(0,p,m))}else{var u=m;q=n.length;for(++m;m<k&&"L"!=l[m];++m);for(p=u;p<m;)if(g.test(l[p])){u<p&&n.splice(q,0,new b(1,u,p));u=p;for(++p;p<m&&g.test(l[p]);++p);n.splice(q,0,new b(2,u,p));u=p}else++p;u<m&&n.splice(q,
0,new b(1,u,m))}1==n[0].level&&(r=h.match(/^\s+/))&&(n[0].from=r[0].length,n.unshift(new b(0,0,r[0].length)));1==Ua(n).level&&(r=h.match(/\s+$/))&&(Ua(n).to-=r[0].length,n.push(new b(0,k-r[0].length,k)));2==n[0].level&&n.unshift(new b(1,n[0].to,n[0].to));n[0].level!=Ua(n).level&&n.push(new b(n[0].level,k,k));return n}}();k.version="5.5.1";return k}();(function(k){k(CodeMirror)})(function(k){var g=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,c=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,f=/[*+-]\s/;k.commands.newlineAndIndentContinueMarkdownList=function(a){if(a.getOption("disableInput"))return k.Pass;for(var h=a.listSelections(),e=[],b=0;b<h.length;b++){var m=h[b].head,n=a.getStateAfter(m.line),r=!1!==n.list,w=0!==n.quote,v=a.getLine(m.line);n=g.exec(v);if(!h[b].empty()||!r&&!w||!n){a.execCommand("newlineAndIndent");return}c.test(v)?(a.replaceRange("",
{line:m.line,ch:0},{line:m.line,ch:m.ch+1}),e[b]="\n"):(m=n[1],r=n[5],n=f.test(n[2])||0<=n[2].indexOf(">")?n[2]:parseInt(n[3],10)+1+n[4],e[b]="\n"+m+n+r)}a.replaceSelections(e)}});(function(k){"object"==typeof exports&&"object"==typeof module?k(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){var g={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,
dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,
caseFold:!0},c={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};k.defineMode("xml",function(f,a){function h(a,b){function c(c){b.tokenize=c;return c(a,b)}var d=a.next();if("<"==d){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(m("atom","]]\x3e")):null:a.match("--")?c(m("comment","--\x3e")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(n(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=
m("meta","?>"),"meta";l=a.eat("/")?"closeTag":"openTag";b.tokenize=e;return"tag bracket"}if("&"==d)return(a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"))?"atom":"error";a.eatWhile(/[^&<]/);return null}function e(a,c){var d=a.next();if(">"==d||"/"==d&&a.eat(">"))return c.tokenize=h,l=">"==d?"endTag":"selfcloseTag","tag bracket";if("="==d)return l="equals",null;if("<"==d)return c.tokenize=h,c.state=A,c.tagName=c.tagStart=
null,(a=c.tokenize(a,c))?a+" tag error":"tag error";if(/[\'\"]/.test(d))return c.tokenize=b(d),c.stringStartCol=a.column(),c.tokenize(a,c);a.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function b(a){var b=function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=e;break}return"string"};b.isInAttribute=!0;return b}function m(a,b){return function(c,d){for(;!c.eol();){if(c.match(b)){d.tokenize=h;break}c.next()}return a}}function n(a){return function(b,c){for(var d;null!=(d=b.next());){if("<"==
d)return c.tokenize=n(a+1),c.tokenize(b,c);if(">"==d)if(1==a){c.tokenize=h;break}else return c.tokenize=n(a-1),c.tokenize(b,c)}return"meta"}}function r(a,b,c){this.prev=a.context;this.tagName=b;this.indent=a.indented;this.startOfLine=c;if(L.doNotIndent.hasOwnProperty(b)||a.context&&a.context.noIndent)this.noIndent=!0}function w(a){a.context&&(a.context=a.context.prev)}function v(a,b){for(var c;a.context;){c=a.context.tagName;if(!L.contextGrabbers.hasOwnProperty(c)||!L.contextGrabbers[c].hasOwnProperty(b))break;
w(a)}}function A(a,b,c){return"openTag"==a?(c.tagStart=b.column(),y):"closeTag"==a?x:A}function y(a,b,c){if("word"==a)return c.tagName=b.current(),z="tag",C;if(L.allowMissingTagName&&"endTag"==a)return z="tag bracket",C(a,b,c);z="error";return y}function x(a,b,c){if("word"==a){a=b.current();c.context&&c.context.tagName!=a&&L.implicitlyClosed.hasOwnProperty(c.context.tagName)&&w(c);if(c.context&&c.context.tagName==a||!1===L.matchClosing)return z="tag",q;z="tag error";return B}if(L.allowMissingTagName&&
"endTag"==a)return z="tag bracket",q(a,b,c);z="error";return B}function q(a,b,c){if("endTag"!=a)return z="error",q;w(c);return A}function B(a,b,c){z="error";return q(a,b,c)}function C(a,b,c){if("word"==a)return z="attribute",E;if("endTag"==a||"selfcloseTag"==a){b=c.tagName;var d=c.tagStart;c.tagName=c.tagStart=null;"selfcloseTag"==a||L.autoSelfClosers.hasOwnProperty(b)?v(c,b):(v(c,b),c.context=new r(c,b,d==c.indented));return A}z="error";return C}function E(a,b,c){if("equals"==a)return I;L.allowMissing||
(z="error");return C(a,b,c)}function I(a,b,c){if("string"==a)return F;if("word"==a&&L.allowUnquoted)return z="string",C;z="error";return C(a,b,c)}function F(a,b,c){return"string"==a?F:C(a,b,c)}var J=f.indentUnit,L={};f=a.htmlMode?g:c;for(var d in f)L[d]=f[d];for(d in a)L[d]=a[d];var l,z;h.isInText=!0;return{startState:function(a){var b={tokenize:h,state:A,indented:a||0,tagName:null,tagStart:null,context:null};null!=a&&(b.baseIndent=a);return b},token:function(a,b){!b.tagName&&a.sol()&&(b.indented=
a.indentation());if(a.eatSpace())return null;l=null;var c=b.tokenize(a,b);(c||l)&&"comment"!=c&&(z=null,b.state=b.state(l||c,a,b),z&&(c="error"==z?c+" error":z));return c},indent:function(a,b,c){var d=a.context;if(a.tokenize.isInAttribute)return a.tagStart==a.indented?a.stringStartCol+1:a.indented+J;if(d&&d.noIndent)return k.Pass;if(a.tokenize!=e&&a.tokenize!=h)return c?c.match(/^(\s*)/)[0].length:0;if(a.tagName)return!1!==L.multilineTagIndentPastTag?a.tagStart+a.tagName.length+2:a.tagStart+J*(L.multilineTagIndentFactor||
1);if(L.alignCDATA&&/<!\[CDATA\[/.test(b))return 0;if((b=b&&/^<(\/)?([\w_:\.-]*)/.exec(b))&&b[1])for(;d;)if(d.tagName==b[2]){d=d.prev;break}else if(L.implicitlyClosed.hasOwnProperty(d.tagName))d=d.prev;else break;else if(b)for(;d;)if((c=L.contextGrabbers[d.tagName])&&c.hasOwnProperty(b[2]))d=d.prev;else break;for(;d&&d.prev&&!d.startOfLine;)d=d.prev;return d?d.indent+J:a.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:L.htmlMode?"html":
"xml",helperType:L.htmlMode?"html":"xml",skipAttribute:function(a){a.state==I&&(a.state=C)}}});k.defineMIME("text/xml","xml");k.defineMIME("application/xml","xml");k.mimeModes.hasOwnProperty("text/html")||k.defineMIME("text/html",{name:"xml",htmlMode:!0})});(function(k){k(CodeMirror)})(function(k){k.defineMode("markdown",function(g,c){function f(a,b,c){b.f=b.inline=c;return c(a,b)}function a(a){return!a||!/\S/.test(a.string)}function h(a){a.linkTitle=!1;a.em=!1;a.strong=!1;a.strikethrough=!1;a.quote=0;a.indentedCode=!1;I||a.f!=b||(a.f=v,a.block=e);a.trailingSpace=0;a.trailingSpaceNewLine=!1;a.prevLine=a.thisLine;return a.thisLine=null}function e(b,d){var e=b.sol(),h=!1!==d.list,n=d.indentedCode;d.indentedCode=!1;h&&(0<=d.indentationDiff?(4>d.indentationDiff&&
(d.indentation-=d.indentationDiff),d.list=null):0<d.indentation?(d.list=null,d.listDepth=Math.floor(d.indentation/4)):(d.list=!1,d.listDepth=0));var v=null;if(4<=d.indentationDiff)return b.skipToEnd(),n||a(d.prevLine)?(d.indentation-=4,d.indentedCode=!0,L.code):null;if(b.eatSpace())return null;if((v=b.match(T))&&6>=v[1].length)return d.header=v[1].length,c.highlightFormatting&&(d.formatting="header"),d.f=d.inline,r(d);if(a(d.prevLine)||d.quote||h||n||!(v=b.match(ja))){if(b.eat(">"))return d.quote=
e?1:d.quote+1,c.highlightFormatting&&(d.formatting="quote"),b.eatSpace(),r(d);if("["===b.peek())return f(b,d,q);if(b.match(l,!0))return d.hr=!0,L.hr;if((a(d.prevLine)||h)&&(b.match(z,!1)||b.match(G,!1)))return b.match(z,!0)?e="ul":(b.match(G,!0),e="ol"),d.indentation=b.column()+b.current().length,d.list=!0,d.listDepth++,c.taskLists&&b.match(K,!1)&&(d.taskList=!0),d.f=d.inline,c.highlightFormatting&&(d.formatting=["list","list-"+e]),r(d);if(c.fencedCodeBlocks&&(v=b.match(Ea,!0)))return d.fencedChars=
v[1],b=v[2],k.findModeByName&&(e=k.findModeByName(b))&&(b=e.mime||e.mimes[0]),b=k.getMode(g,b),d.localMode="null"==b.name?null:b,d.localMode&&(d.localState=d.localMode.startState()),d.f=d.block=m,c.highlightFormatting&&(d.formatting="code-block"),d.code=!0,r(d)}else return d.header="="==v[0].charAt(0)?1:2,c.highlightFormatting&&(d.formatting="header"),d.f=d.inline,r(d);return f(b,d,d.inline)}function b(a,b){var c=F.token(a,b.htmlState);if(I&&null===b.htmlState.tagStart&&!b.htmlState.context&&b.htmlState.tokenize.isInText||
b.md_inside&&-1<a.current().indexOf(">"))b.f=v,b.block=e,b.htmlState=null;return c}function m(a,b){if(a.sol()&&b.fencedChars&&a.match(b.fencedChars,!1))return b.localMode=b.localState=null,b.f=b.block=n,null;if(b.localMode)return b.localMode.token(a,b.localState);a.skipToEnd();return L.code}function n(a,b){a.match(b.fencedChars);b.block=e;b.f=v;b.fencedChars=null;c.highlightFormatting&&(b.formatting="code-block");b.code=!0;a=r(b);b.code=!1;return a}function r(a){var b=[];if(a.formatting){b.push(L.formatting);
"string"===typeof a.formatting&&(a.formatting=[a.formatting]);for(var d=0;d<a.formatting.length;d++)b.push(L.formatting+"-"+a.formatting[d]),"header"===a.formatting[d]&&b.push(L.formatting+"-"+a.formatting[d]+"-"+a.header),"quote"===a.formatting[d]&&(!c.maxBlockquoteDepth||c.maxBlockquoteDepth>=a.quote?b.push(L.formatting+"-"+a.formatting[d]+"-"+a.quote):b.push("error"))}if(a.taskOpen)return b.push("meta"),b.length?b.join(" "):null;if(a.taskClosed)return b.push("property"),b.length?b.join(" "):null;
a.linkHref?b.push(L.linkHref,"url"):(a.strong&&b.push(L.strong),a.em&&b.push(L.em),a.strikethrough&&b.push(L.strikethrough),a.linkText&&b.push(L.linkText),a.code&&b.push(L.code));a.header&&b.push(L.header,L.header+"-"+a.header);a.quote&&(b.push(L.quote),!c.maxBlockquoteDepth||c.maxBlockquoteDepth>=a.quote?b.push(L.quote+"-"+a.quote):b.push(L.quote+"-"+c.maxBlockquoteDepth));!1!==a.list&&((d=(a.listDepth-1)%3)?1===d?b.push(L.list2):b.push(L.list3):b.push(L.list1));a.trailingSpaceNewLine?b.push("trailing-space-new-line"):
a.trailingSpace&&b.push("trailing-space-"+(a.trailingSpace%2?"a":"b"));return b.length?b.join(" "):null}function w(a,b){if(a.match(W,!0))return r(b)}function v(a,d){var e=d.text(a,d);if("undefined"!==typeof e)return e;if(d.list)return d.list=null,r(d);if(d.taskList)return"x"!==a.match(K,!0)[1]?d.taskOpen=!0:d.taskClosed=!0,c.highlightFormatting&&(d.formatting="task"),d.taskList=!1,r(d);d.taskOpen=!1;d.taskClosed=!1;if(d.header&&a.match(/^#+$/,!0))return c.highlightFormatting&&(d.formatting="header"),
r(d);e=a.sol();var f=a.next();if("\\"===f&&(a.next(),c.highlightFormatting))return a=r(d),d=L.formatting+"-escape",a?a+" "+d:d;if(d.linkTitle){d.linkTitle=!1;var g=f;"("===f&&(g=")");g=(g+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(a.match(new RegExp("^\\s*(?:[^"+g+"\\\\]+|\\\\\\\\|\\\\.)"+g),!0))return L.linkHref}if("`"===f){f=d.formatting;c.highlightFormatting&&(d.formatting="code");e=r(d);g=a.pos;a.eatWhile("`");a=1+a.pos-g;if(d.code){if(a===J)return d.code=!1,e;d.formatting=f}else J=a,d.code=
!0;return r(d)}if(d.code)return r(d);if("!"===f&&a.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return a.match(/\[[^\]]*\]/),d.inline=d.f=y,L.image;if("["===f&&a.match(/.*\](\(.*\)| ?\[.*\])/,!1))return d.linkText=!0,c.highlightFormatting&&(d.formatting="link"),r(d);if("]"===f&&d.linkText&&a.match(/\(.*\)| ?\[.*\]/,!1))return c.highlightFormatting&&(d.formatting="link"),a=r(d),d.linkText=!1,d.inline=d.f=y,a;if("<"===f&&a.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return d.f=d.inline=A,c.highlightFormatting&&
(d.formatting="link"),a=r(d),(a?a+" ":"")+L.linkInline;if("<"===f&&a.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return d.f=d.inline=A,c.highlightFormatting&&(d.formatting="link"),a=r(d),(a?a+" ":"")+L.linkEmail;if("<"===f&&a.match(/^(!--|\w)/,!1))return e=a.string.indexOf(">",a.pos),-1!=e&&(e=a.string.substring(a.start,e),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(e)&&(d.md_inside=!0)),a.backUp(1),d.htmlState=k.startState(F),e=b,d.f=d.block=e,e(a,d);if("<"===f&&a.match(/^\/\w*?>/))return d.md_inside=
!1,"tag";g=!1;if(!c.underscoresBreakWords&&"_"===f&&"_"!==a.peek()&&a.match(/(\w)/,!1)){var h=a.pos-2;0<=h&&(h=a.string.charAt(h),"_"!==h&&h.match(/(\w)/,!1)&&(g=!0))}if("*"===f||"_"===f&&!g){if(!e||" "!==a.peek()){if(d.strong===f&&a.eat(f))return c.highlightFormatting&&(d.formatting="strong"),e=r(d),d.strong=!1,e;if(!d.strong&&a.eat(f))return d.strong=f,c.highlightFormatting&&(d.formatting="strong"),r(d);if(d.em===f)return c.highlightFormatting&&(d.formatting="em"),e=r(d),d.em=!1,e;if(!d.em)return d.em=
f,c.highlightFormatting&&(d.formatting="em"),r(d)}}else if(" "===f&&(a.eat("*")||a.eat("_"))){if(" "===a.peek())return r(d);a.backUp(1)}if(c.strikethrough)if("~"===f&&a.eatWhile(f)){if(d.strikethrough)return c.highlightFormatting&&(d.formatting="strikethrough"),e=r(d),d.strikethrough=!1,e;if(a.match(/^[^\s]/,!1))return d.strikethrough=!0,c.highlightFormatting&&(d.formatting="strikethrough"),r(d)}else if(" "===f&&a.match(/^~~/,!0)){if(" "===a.peek())return r(d);a.backUp(2)}" "===f&&(a.match(/ +$/,
!1)?d.trailingSpace++:d.trailingSpace&&(d.trailingSpaceNewLine=!0));return r(d)}function A(a,b){if(">"===a.next())return b.f=b.inline=v,c.highlightFormatting&&(b.formatting="link"),a=r(b),(a?a+" ":"")+L.linkInline;a.match(/^[^>]+/,!0);return L.linkInline}function y(a,b){if(a.eatSpace())return null;a=a.next();return"("===a||"["===a?(b.f=b.inline=x("("===a?")":"]"),c.highlightFormatting&&(b.formatting="link-string"),b.linkHref=!0,r(b)):"error"}function x(a){return function(b,d){if(b.next()===a)return d.f=
d.inline=v,c.highlightFormatting&&(d.formatting="link-string"),b=r(d),d.linkHref=!1,b;b.match(E(a),!0)&&b.backUp(1);d.linkHref=!0;return r(d)}}function q(a,b){return a.match(/^[^\]]*\]:/,!1)?(b.f=B,a.next(),c.highlightFormatting&&(b.formatting="link"),b.linkText=!0,r(b)):f(a,b,v)}function B(a,b){if(a.match(/^\]:/,!0))return b.f=b.inline=C,c.highlightFormatting&&(b.formatting="link"),a=r(b),b.linkText=!1,a;a.match(/^[^\]]+/,!0);return L.linkText}function C(a,b){if(a.eatSpace())return null;a.match(/^[^\s]+/,
!0);void 0===a.peek()?b.linkTitle=!0:a.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0);b.f=b.inline=v;return L.linkHref+" url"}function E(a){ea[a]||(a=(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),ea[a]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+a+")"));return ea[a]}var I=k.modes.hasOwnProperty("xml"),F=k.getMode(g,I?{name:"xml",htmlMode:!0}:"text/plain");void 0===c.highlightFormatting&&(c.highlightFormatting=!1);void 0===c.maxBlockquoteDepth&&(c.maxBlockquoteDepth=
0);void 0===c.underscoresBreakWords&&(c.underscoresBreakWords=!0);void 0===c.taskLists&&(c.taskLists=!1);void 0===c.strikethrough&&(c.strikethrough=!1);void 0===c.tokenTypeOverrides&&(c.tokenTypeOverrides={});var J=0,L={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"},d;for(d in L)L.hasOwnProperty(d)&&
c.tokenTypeOverrides[d]&&(L[d]=c.tokenTypeOverrides[d]);var l=/^([*\-_])(?:\s*\1){2,}\s*$/,z=/^[*\-+]\s+/,G=/^[0-9]+([.)])\s+/,K=/^\[(x| )\](?=\s)/,T=c.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,ja=/^ *(?:\={1,}|-{1,})\s*$/,W=/^[^#!\[\]*_\\<>` "'(~]+/,Ea=new RegExp("^("+(!0===c.fencedCodeBlocks?"~~~+|```+":c.fencedCodeBlocks)+")[ \\t]*([\\w+#]*)"),ea=[],Y={startState:function(){return{f:e,prevLine:null,thisLine:null,block:e,htmlState:null,indentation:0,inline:v,text:w,formatting:!1,linkText:!1,
linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(a){return{f:a.f,prevLine:a.prevLine,thisLine:a.this,block:a.block,htmlState:a.htmlState&&k.copyState(F,a.htmlState),indentation:a.indentation,localMode:a.localMode,localState:a.localMode?k.copyState(a.localMode,a.localState):null,inline:a.inline,text:a.text,formatting:!1,linkTitle:a.linkTitle,code:a.code,em:a.em,
strong:a.strong,strikethrough:a.strikethrough,header:a.header,hr:a.hr,taskList:a.taskList,list:a.list,listDepth:a.listDepth,quote:a.quote,indentedCode:a.indentedCode,trailingSpace:a.trailingSpace,trailingSpaceNewLine:a.trailingSpaceNewLine,md_inside:a.md_inside,fencedChars:a.fencedChars}},token:function(a,b){b.formatting=!1;if(a!=b.thisLine){var c=b.header||b.hr;b.header=0;b.hr=!1;if(a.match(/^\s*$/,!0)||c){h(b);if(!c)return null;b.prevLine=null}b.prevLine=b.thisLine;b.thisLine=a;b.taskList=!1;b.trailingSpace=
0;b.trailingSpaceNewLine=!1;b.f=b.block;c=a.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;var d=4*Math.floor((c-b.indentation)/4);4<d&&(d=4);d=b.indentation+d;b.indentationDiff=d-b.indentation;b.indentation=d;if(0<c)return null}return b.f(a,b)},innerMode:function(a){return a.block==b?{state:a.htmlState,mode:F}:a.localState?{state:a.localState,mode:a.localMode}:{state:a,mode:Y}},blankLine:h,getType:r,fold:"markdown"};return Y},"xml");k.defineMIME("text/x-markdown","markdown")});(function(k,g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define(g):k.vhCheck=g()})(this,function(){function k(){var g=document.createElement("div");g.style.cssText="position: fixed; top: 0; bottom: 0;";document.documentElement.insertBefore(g,document.documentElement.firstChild);var c=document.createElement("div");c.style.cssText="position: fixed; top: 0; height: 100vh";document.documentElement.insertBefore(c,document.documentElement.firstChild);
var f=c.offsetHeight-g.offsetHeight;document.documentElement.removeChild(g);document.documentElement.removeChild(c);return f}return function(g){g="string"===typeof g?g:"vh-offset";var c=k();if(!c)return!1;document.documentElement.style.setProperty("--"+g,c+"px");window.addEventListener("orientationchange",function(){var c=k();document.documentElement.style.setProperty("--"+g,c+"px")},!1);return!0}});/*
 @nocompile
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(function(){function k(){k=function(){};Yc.Symbol||(Yc.Symbol=lf)}function g(){k();var a=Yc.Symbol.iterator;a||(a=Yc.Symbol.iterator=Yc.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&Nf(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return c(this)}});g=function(){}}function c(a){var b=0;return f(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function f(a){g();a={next:a};a[Yc.Symbol.iterator]=function(){return this};return a}function a(a){g();var b=a[Symbol.iterator];
return b?b.call(a):c(a)}function h(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function e(){this.f=!1;this.b=null;this.fa=void 0;this.a=1;this.G=0;this.c=null}function b(a){if(a.f)throw new TypeError("Generator is already running");a.f=!0}function m(a,b){a.c={Qa:b,Ua:!0};a.a=a.G}function n(a,b){a.a=3;return{value:b}}function r(a){this.a=new e;this.b=a}function w(a,c){b(a.a);var d=a.a.b;if(d)return v(a,"return"in d?d["return"]:function(a){return{value:a,done:!0}},c,a.a.return);a.a.return(c);
return A(a)}function v(a,b,c,d){try{var e=b.call(a.a.b,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.a.f=!1,e;var f=e.value}catch(Od){return a.a.b=null,m(a.a,Od),A(a)}a.a.b=null;d.call(a.a,f);return A(a)}function A(a){for(var b;a.a.a;)try{if(b=a.b(a.a))return a.a.f=!1,{value:b.value,done:!1}}catch(Ya){a.a.fa=void 0,m(a.a,Ya)}a.a.f=!1;if(a.a.c){b=a.a.c;a.a.c=null;if(b.Ua)throw b.Qa;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function y(a){this.next=function(c){b(a.a);a.a.b?c=v(a,a.a.b.next,c,a.a.m):(a.a.m(c),c=A(a));return c};this.throw=function(c){b(a.a);a.a.b?c=v(a,a.a.b["throw"],c,a.a.m):(m(a.a,c),c=A(a));return c};this.return=function(b){return w(a,b)};g();this[Symbol.iterator]=function(){return this}}function x(a,b){b=new y(new r(b));jh&&jh(b,a.prototype);return b}function q(){}function B(a,b){return function(){a.apply(b,arguments)}}function C(a){if(!(this instanceof C))throw new TypeError("Promises must be constructed via new");
if("function"!==typeof a)throw new TypeError("not a function");this.J=0;this.wa=!1;this.A=void 0;this.U=[];d(a,this)}function E(a,b){for(;3===a.J;)a=a.A;0===a.J?a.U.push(b):(a.wa=!0,Mg(function(){var c=1===a.J?b.Wa:b.Xa;if(null===c)(1===a.J?I:F)(b.ra,a.A);else{try{var d=c(a.A)}catch(Be){F(b.ra,Be);return}I(b.ra,d)}}))}function I(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"===typeof b||"function"===typeof b)){var c=b.then;if(b instanceof C){a.J=
3;a.A=b;J(a);return}if("function"===typeof c){d(B(c,b),a);return}}a.J=1;a.A=b;J(a)}catch(Wb){F(a,Wb)}}function F(a,b){a.J=2;a.A=b;J(a)}function J(a){2===a.J&&0===a.U.length&&Mg(function(){a.wa||"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a.A)});for(var b=0,c=a.U.length;b<c;b++)E(a,a.U[b]);a.U=null}function L(a,b,c){this.Wa="function"===typeof a?a:null;this.Xa="function"===typeof b?b:null;this.ra=c}function d(a,b){var c=!1;try{a(function(a){c||(c=!0,
I(b,a))},function(a){c||(c=!0,F(b,a))})}catch(Wb){c||(c=!0,F(b,Wb))}}function l(a){return new C(function(b,c){function d(a,g){try{if(g&&("object"===typeof g||"function"===typeof g)){var h=g.then;if("function"===typeof h){h.call(g,function(b){d(a,b)},c);return}}e[a]=g;0===--f&&b(e)}catch(ff){c(ff)}}if(!a||"undefined"===typeof a.length)throw new TypeError("Promise.all accepts an array");var e=Array.prototype.slice.call(a);if(0===e.length)return b([]);for(var f=e.length,g=0;g<e.length;g++)d(g,e[g])})}
function z(a){return a&&"object"===typeof a&&a.constructor===C?a:new C(function(b){b(a)})}function G(a){return new C(function(b,c){c(a)})}function K(a){return new C(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})}function T(){this.za=this.root=null;this.ea=!1;this.N=this.$=this.oa=this.assignedSlot=this.assignedNodes=this.S=null;this.childNodes=this.nextSibling=this.previousSibling=this.lastChild=this.firstChild=this.parentNode=this.V=void 0;this.Ea=this.ua=!1;this.Z={}}function ja(a){a.ma||
(a.ma=new T);return a.ma}function W(a){return a&&a.ma}function Ea(a){return(a=W(a))&&void 0!==a.firstChild}function ea(a){return"ShadyRoot"===a.Ja}function Y(a){a=a.getRootNode();if(ea(a))return a}function aa(a,b){if(a&&b)for(var c=Object.getOwnPropertyNames(b),d=0,e=void 0;d<c.length&&(e=c[d]);d++){var f=e,g=a,h=Object.getOwnPropertyDescriptor(b,f);h&&Object.defineProperty(g,f,h)}}function O(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];for(d=0;d<c.length;d++)aa(a,c[d]);return a}
function fa(a,b){for(var c in b)a[c]=b[c]}function xa(a){Lf.push(a);Qf.textContent=tg++}function ma(a,b){for(;b;){if(b==a)return!0;b=b.parentNode}return!1}function ha(b){for(var c=b.length-1;0<=c;c--){var d=b[c],e=d.getAttribute("id")||d.getAttribute("name");e&&"length"!==e&&isNaN(e)&&(b[e]=d)}b.item=function(a){return b[a]};b.namedItem=function(c){if("length"!==c&&isNaN(c)&&b[c])return b[c];for(var d=a(b),e=d.next();!e.done;e=d.next())if(e=e.value,(e.getAttribute("id")||e.getAttribute("name"))==
c)return e;return null};return b}function ua(a){ug||(ug=!0,xa(Xa));ve.push(a)}function Xa(){ug=!1;for(var a=!!ve.length;ve.length;)ve.shift()();return a}function fb(){this.a=!1;this.addedNodes=[];this.removedNodes=[];this.ca=new Set}function Ub(a){a.a||(a.a=!0,xa(function(){a.flush()}))}function Fa(a,b){var c=ja(a);c.S||(c.S=new fb);c.S.ca.add(b);var d=c.S;return{Ia:b,P:d,Ka:a,takeRecords:function(){return d.takeRecords()}}}function yc(a){var b=a&&a.P;b&&(b.ca.delete(a.Ia),b.ca.size||(ja(a.Ka).S=
null))}function Oa(a,b){var c=b.getRootNode();return a.map(function(a){var b=c===a.target.getRootNode();if(b&&a.addedNodes){if(b=Array.from(a.addedNodes).filter(function(a){return c===a.getRootNode()}),b.length)return a=Object.create(a),Object.defineProperty(a,"addedNodes",{value:b,configurable:!0}),a}else if(b)return a}).filter(function(a){return a})}function xb(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}}function Jb(a){for(var b=
{},c=0;c<a.length;c++)b[a[c]]=!0;return b}function Ha(a,b){"template"===a.localName&&(a=a.content);for(var c="",d=b?b(a):a.childNodes,e=0,f=d.length,g=void 0;e<f&&(g=d[e]);e++){a:{var h=g;var k=a,l=b;switch(h.nodeType){case Node.ELEMENT_NODE:k=h.localName;for(var m="<"+k,n=h.attributes,p=0,q;q=n[p];p++)m+=" "+q.name+'="'+q.value.replace(hd,xb)+'"';m+=">";h=Og[k]?m:m+Ha(h,l)+"</"+k+">";break a;case Node.TEXT_NODE:h=h.data;h=k&&vh[k.localName]?h:h.replace(rg,xb);break a;case Node.COMMENT_NODE:h="\x3c!--"+
h.data+"--\x3e";break a;default:throw window.console.error(h),Error("not implemented");}}c+=h}return c}function Ba(a){var b=[];pb.currentNode=a;for(a=pb.firstChild();a;)b.push(a),a=pb.nextSibling();return b}function R(a){var b;a:{for(b=0;b<Xc.length;b++){var c=Xc[b];if(c.hasOwnProperty(a)){b=c;break a}}b=void 0}if(!b)throw Error("Could not find descriptor for "+a);return Object.getOwnPropertyDescriptor(b,a)}function Aa(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ca(a,b,c){for(var d in b){var e=
Object.getOwnPropertyDescriptor(a,d);e&&e.configurable||!e&&c?Object.defineProperty(a,d,b[d]):c&&console.warn("Could not define",d,"on",a)}}function mb(a){Ca(a,dg);Ca(a,Ag);Ca(a,me);Ca(a,xf)}function ab(){var a=Bd.prototype;a.__proto__=DocumentFragment.prototype;Ca(a,dg,!0);Ca(a,me,!0);Ca(a,xf,!0);Object.defineProperties(a,{nodeType:{value:Node.DOCUMENT_FRAGMENT_NODE,configurable:!0},nodeName:{value:"#document-fragment",configurable:!0},nodeValue:{value:null,configurable:!0}});["localName","namespaceURI",
"prefix"].forEach(function(b){Object.defineProperty(a,b,{value:void 0,configurable:!0})});["ownerDocument","baseURI","isConnected"].forEach(function(b){Object.defineProperty(a,b,{get:function(){return this.host[b]},configurable:!0})})}function ya(a,b,c){xd(b);var d=ja(b);void 0!==d.firstChild&&(d.childNodes=null);if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE){d=a.childNodes;for(var e=0;e<d.length;e++)ib(d[e],b,c);a=ja(a);b=void 0!==a.firstChild?null:void 0;a.firstChild=a.lastChild=b;a.childNodes=b}else ib(a,
b,c)}function ib(a,b,c){Pd(a);c=c||null;var d=ja(a),e=ja(b),f=c?ja(c):null;d.previousSibling=c?f.previousSibling:b.lastChild;if(f=W(d.previousSibling))f.nextSibling=a;if(f=W(d.nextSibling=c))f.previousSibling=a;d.parentNode=b;c?c===e.firstChild&&(e.firstChild=a):(e.lastChild=a,e.firstChild||(e.firstChild=a));e.childNodes=null}function nb(a,b){var c=ja(a);b=ja(b);a===b.firstChild&&(b.firstChild=c.nextSibling);a===b.lastChild&&(b.lastChild=c.previousSibling);a=c.previousSibling;var d=c.nextSibling;
a&&(ja(a).nextSibling=d);d&&(ja(d).previousSibling=a);c.parentNode=c.previousSibling=c.nextSibling=void 0;void 0!==b.childNodes&&(b.childNodes=null)}function Q(a){var b=ja(a);if(void 0===b.firstChild){b.childNodes=null;var c=Vg(a);b.firstChild=c[0]||null;b.lastChild=c[c.length-1]||null;xd(a);for(b=0;b<c.length;b++){var d=c[b],e=ja(d);e.parentNode=a;e.nextSibling=c[b+1]||null;e.previousSibling=c[b-1]||null;Pd(d)}}}function u(a,b,c){if(b===a)throw Error("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");
if(c){var d=(d=W(c))&&d.parentNode;if(void 0!==d&&d!==a||void 0===d&&yf(c)!==a)throw Error("Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node.");}if(c===b)return b;var e=[],f=Gd,g=Y(a),h=g?g.host.localName:"";if(b.parentNode){var k=lc(b);yb(b.parentNode,b,!!g||!(b.getRootNode()instanceof ShadowRoot));f=function(a,b){if(Pa()){var c=Pa();c&&c.unscopeNode(a,k);Gd(a,b)}}}d=!0;var l=!Pe(b,h);!g||b.__noInsertionPoint&&!l||Ic(b,function(a){"slot"===
a.localName&&e.push(a);l&&f(a,h)});e.length&&dc(g,e);("slot"===a.localName||e.length)&&g&&Zc(g);Ea(a)&&(ya(b,a,c),g=W(a),Wc(a)?(Zc(g.root),d=!1):g.root&&(d=!1));d?(d=ea(a)?a.host:a,c?(c=vb(c),sa.insertBefore.call(d,b,c)):sa.appendChild.call(d,b)):b.ownerDocument!==a.ownerDocument&&a.ownerDocument.adoptNode(b);Ed(a,b);return b}function yb(a,b,c){c=void 0===c?!1:c;if(b.parentNode!==a)throw Error("The node to be removed is not a child of this node: "+b);var d=Y(b),e=W(a);if(Ea(a)&&(nb(b,a),Wc(a))){Zc(e.root);
var f=!0}if(Pa()&&!c&&d){var g=lc(b);Ic(b,function(a){var b=Pa();b&&b.unscopeNode(a,g)})}pa(b);if(d){var h=a&&"slot"===a.localName;h&&(f=!0);((c=Ka(d,b))||h)&&Zc(d)}f||(f=ea(a)?a.host:a,(!e.root&&"slot"!==b.localName||f===yf(b))&&sa.removeChild.call(f,b));Ed(a,null,b);return b}function pa(a){var b=W(a);if(b&&void 0!==b.V){b=a.childNodes;for(var c=0,d=b.length,e=void 0;c<d&&(e=b[c]);c++)pa(e)}if(a=W(a))a.V=void 0}function vb(a){var b=a;a&&"slot"===a.localName&&(b=(b=(b=W(a))&&b.N)&&b.length?b[0]:vb(a.nextSibling));
return b}function Wc(a){return(a=(a=W(a))&&a.root)&&Ke(a)}function cc(a,b){if("slot"===b)a=a.parentNode,Wc(a)&&Zc(W(a).root);else if("slot"===a.localName&&"name"===b&&(b=Y(a))){if(b.o){$c(b);var c=a.Ha,d=Db(a);if(d!==c){c=b.w[c];var e=c.indexOf(a);0<=e&&c.splice(e,1);c=b.w[d]||(b.w[d]=[]);c.push(a);1<c.length&&(b.w[d]=Re(c))}}Zc(b)}}function Ed(a,b,c){if(a=(a=W(a))&&a.S)b&&a.addedNodes.push(b),c&&a.removedNodes.push(c),Ub(a)}function be(a){if(a&&a.nodeType){var b=ja(a),c=b.V;void 0===c&&(ea(a)?(c=
a,b.V=c):(c=(c=a.parentNode)?be(c):a,sa.contains.call(document.documentElement,a)&&(b.V=c)));return c}}function Fd(a,b,c){var d=[];Cb(a.childNodes,b,c,d);return d}function Cb(a,b,c,d){for(var e=0,f=a.length,g=void 0;e<f&&(g=a[e]);e++){var h;if(h=g.nodeType===Node.ELEMENT_NODE){h=g;var k=b,l=c,m=d,n=k(h);n&&m.push(h);l&&l(n)?h=n:(Cb(h.childNodes,k,l,m),h=void 0)}if(h)break}}function Pa(){Ma||(Ma=window.ShadyCSS&&window.ShadyCSS.ScopingShim);return Ma||null}function Na(a,b,c){var d=Pa();d&&"class"===
b?d.setElementClass(a,c):(sa.setAttribute.call(a,b,c),cc(a,b))}function jb(a,b){if(a.ownerDocument!==document||"template"===a.localName)return sa.importNode.call(document,a,b);var c=sa.importNode.call(document,a,!1);if(b){a=a.childNodes;b=0;for(var d;b<a.length;b++)d=jb(a[b],!0),c.appendChild(d)}return c}function Gd(a,b){var c=Pa();c&&c.scopeNode(a,b)}function Pe(a,b){var c=Pa();if(!c)return!0;if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE){c=!0;for(var d=0;c&&d<a.childNodes.length;d++)c=c&&Pe(a.childNodes[d],
b);return c}return a.nodeType!==Node.ELEMENT_NODE?!0:c.currentScopeForNode(a)===b}function lc(a){if(a.nodeType!==Node.ELEMENT_NODE)return"";var b=Pa();return b?b.currentScopeForNode(a):""}function Ic(a,b){if(a){a.nodeType===Node.ELEMENT_NODE&&b(a);for(var c=0,d;c<a.childNodes.length;c++)d=a.childNodes[c],d.nodeType===Node.ELEMENT_NODE&&Ic(d,b)}}function Qe(a,b){var c=[],d=a;for(a=a===window?window:a.getRootNode();d;)c.push(d),d=d.assignedSlot?d.assignedSlot:d.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&
d.host&&(b||d!==a)?d.host:d.parentNode;c[c.length-1]===document&&c.push(window);return c}function Ad(a,b){if(!ea)return a;a=Qe(a,!0);for(var c=0,d,e=void 0,f,g=void 0;c<b.length;c++)if(d=b[c],f=d===window?window:d.getRootNode(),f!==e&&(g=a.indexOf(f),e=f),!ea(f)||-1<g)return d}function re(a){function b(b,c){b=new a(b,c);b.Y=c&&!!c.composed;return b}fa(b,a);b.prototype=a.prototype;return b}function Uc(a,b,c){if(c=b.__handlers&&b.__handlers[a.type]&&b.__handlers[a.type][c])for(var d=0,e;(e=c[d])&&(a.__target===
a.target&&a.la===a.relatedTarget||a.target!==a.relatedTarget)&&(e.call(b,a),!a.Da);d++);}function Sf(a){var b=a.composedPath();Object.defineProperty(a,"currentTarget",{get:function(){return d},configurable:!0});for(var c=b.length-1;0<=c;c--){var d=b[c];Uc(a,d,"capture");if(a.ka)return}Object.defineProperty(a,"eventPhase",{get:function(){return Event.AT_TARGET}});var e;for(c=0;c<b.length;c++){d=b[c];var f=W(d);f=f&&f.root;if(0===c||f&&f===e)if(Uc(a,d,"bubble"),d!==window&&(e=d.getRootNode()),a.ka)break}}
function mc(a,b,c,d,e,f){for(var g=0;g<a.length;g++){var h=a[g],k=h.type,l=h.capture,m=h.once,n=h.passive;if(b===h.node&&c===k&&d===l&&e===m&&f===n)return g}return-1}function sb(a,b,c){if(b){var d=typeof b;if("function"===d||"object"===d)if("object"!==d||b.handleEvent&&"function"===typeof b.handleEvent){var e=this instanceof Window?sa.gb:sa.addEventListener;if(Qd[a])return e.call(this,a,b,c);if(c&&"object"===typeof c){var f=!!c.capture;var g=!!c.once;var h=!!c.passive}else f=!!c,h=g=!1;var k=c&&c.na||
this,l=b[Za];if(l){if(-1<mc(l,k,a,f,g,h))return}else b[Za]=[];l=function(e){g&&this.removeEventListener(a,b,c);e.__target||$a(e);if(k!==this){var f=Object.getOwnPropertyDescriptor(e,"currentTarget");Object.defineProperty(e,"currentTarget",{get:function(){return k},configurable:!0})}e.__previousCurrentTarget=e.currentTarget;if(!ea(k)||-1!=e.composedPath().indexOf(k))if(e.composed||-1<e.composedPath().indexOf(k))if((e.__target!==e.target||e.la!==e.relatedTarget)&&e.target===e.relatedTarget)e.eventPhase===
Event.BUBBLING_PHASE&&e.stopImmediatePropagation();else if(e.eventPhase===Event.CAPTURING_PHASE||e.bubbles||e.target===k||k instanceof Window){var h="function"===d?b.call(k,e):b.handleEvent&&b.handleEvent(e);k!==this&&(f?(Object.defineProperty(e,"currentTarget",f),f=null):delete e.currentTarget);return h}};b[Za].push({node:k,type:a,capture:f,once:g,passive:h,ib:l});Rd[a]?(this.__handlers=this.__handlers||{},this.__handlers[a]=this.__handlers[a]||{capture:[],bubble:[]},this.__handlers[a][f?"capture":
"bubble"].push(l)):e.call(this,a,l,c)}}}function Gc(a,b,c){if(b){var d=this instanceof Window?sa.hb:sa.removeEventListener;if(Qd[a])return d.call(this,a,b,c);if(c&&"object"===typeof c){var e=!!c.capture;var f=!!c.once;var g=!!c.passive}else e=!!c,g=f=!1;var h=c&&c.na||this,k=void 0,l=null;try{l=b[Za]}catch(ff){}l&&(f=mc(l,h,a,e,f,g),-1<f&&(k=l.splice(f,1)[0].ib,l.length||(b[Za]=void 0)));d.call(this,a,k||b,c);k&&Rd[a]&&this.__handlers&&this.__handlers[a]&&(a=this.__handlers[a][e?"capture":"bubble"],
k=a.indexOf(k),-1<k&&a.splice(k,1))}}function M(){for(var a in Rd)window.addEventListener(a,function(a){a.__target||($a(a),Sf(a))},!0)}function $a(a){a.__target=a.target;a.la=a.relatedTarget;if(Qa.K){var b=Object.getPrototypeOf(a);if(!b.hasOwnProperty("__patchProto")){var c=Object.create(b);c.jb=b;aa(c,Xb);b.__patchProto=c}a.__proto__=b.__patchProto}else aa(a,Xb)}function xc(){window.Event=xh;window.CustomEvent=zf;window.MouseEvent=Ye;M();if(!zb&&Object.getOwnPropertyDescriptor(Event.prototype,"isTrusted")){var a=
function(){var a=new MouseEvent("click",{bubbles:!0,cancelable:!0,composed:!0});this.dispatchEvent(a)};Element.prototype.click?Element.prototype.click=a:HTMLElement.prototype.click&&(HTMLElement.prototype.click=a)}}function Vc(a,b){return{index:a,W:[],ba:b}}function Yd(a,b,c,d){var e=0,f=0,g=0,h=0,k=Math.min(b-e,d-f);if(0==e&&0==f)a:{for(g=0;g<k;g++)if(a[g]!==c[g])break a;g=k}if(b==a.length&&d==c.length){h=a.length;for(var l=c.length,m=0;m<k-g&&Hb(a[--h],c[--l]);)m++;h=m}e+=g;f+=g;b-=h;d-=h;if(0==
b-e&&0==d-f)return[];if(e==b){for(b=Vc(e,0);f<d;)b.W.push(c[f++]);return[b]}if(f==d)return[Vc(e,b-e)];k=e;g=f;d=d-g+1;h=b-k+1;b=Array(d);for(l=0;l<d;l++)b[l]=Array(h),b[l][0]=l;for(l=0;l<h;l++)b[0][l]=l;for(l=1;l<d;l++)for(m=1;m<h;m++)if(a[k+m-1]===c[g+l-1])b[l][m]=b[l-1][m-1];else{var n=b[l-1][m]+1;var p=b[l][m-1]+1;b[l][m]=n<p?n:p}k=b.length-1;g=b[0].length-1;d=b[k][g];for(a=[];0<k||0<g;)0==k?(a.push(2),g--):0==g?(a.push(3),k--):(h=b[k-1][g-1],l=b[k-1][g],m=b[k][g-1],n=l<m?l<h?l:h:m<h?m:h,n==h?
(h==d?a.push(0):(a.push(1),d=h),k--,g--):n==l?(a.push(3),k--,d=l):(a.push(2),g--,d=m));a.reverse();b=void 0;k=[];for(g=0;g<a.length;g++)switch(a[g]){case 0:b&&(k.push(b),b=void 0);e++;f++;break;case 1:b||(b=Vc(e,0));b.ba++;e++;b.W.push(c[f]);f++;break;case 2:b||(b=Vc(e,0));b.ba++;e++;break;case 3:b||(b=Vc(e,0)),b.W.push(c[f]),f++}b&&k.push(b);return k}function Hb(a,b){return a===b}function N(a){var b=[];do b.unshift(a);while(a=a.parentNode);return b}function Bd(a,b,c){if(a!==Cg)throw new TypeError("Illegal constructor");
this.Ja="ShadyRoot";this.host=b;this.c=c&&c.mode;Q(b);a=ja(b);a.root=this;a.za="closed"!==this.c?this:null;a=ja(this);a.firstChild=a.lastChild=a.parentNode=a.nextSibling=a.previousSibling=null;a.childNodes=[];this.b=this.aa=!1;this.a=this.w=this.o=null;Zc(this)}function Zc(a){a.aa||(a.aa=!0,ua(function(){return Tf(a)}))}function Tf(a){for(var b;a;){a.aa&&(b=a);a:{var c=a;a=c.host.getRootNode();if(ea(a))for(var d=c.host.childNodes,e=0;e<d.length;e++)if(c=d[e],"slot"==c.localName)break a;a=void 0}}b&&
b._renderRoot()}function Uf(a,b,c){var d=ja(b),e=d.$;d.$=null;c||(c=(a=a.w[b.slot||"__catchall"])&&a[0]);c?(ja(c).assignedNodes.push(b),d.assignedSlot=c):d.assignedSlot=void 0;e!==d.assignedSlot&&d.assignedSlot&&(ja(d.assignedSlot).ea=!0)}function kd(a,b,c){for(var d=0,e=void 0;d<c.length&&(e=c[d]);d++)if("slot"==e.localName){var f=W(e).assignedNodes;f&&f.length&&kd(a,b,f)}else b.push(c[d])}function da(a,b){sa.dispatchEvent.call(b,new Event("slotchange"));b=W(b);b.assignedSlot&&da(a,b.assignedSlot)}
function dc(b,c){b.a=b.a||[];b.o=b.o||[];b.w=b.w||{};b.a.push.apply(b.a,c instanceof Array?c:h(a(c)))}function $c(a){if(a.a&&a.a.length){for(var b=a.a,c,d=0;d<b.length;d++){var e=b[d];Q(e);Q(e.parentNode);var f=Db(e);a.w[f]?(c=c||{},c[f]=!0,a.w[f].push(e)):a.w[f]=[e];a.o.push(e)}if(c)for(var g in c)a.w[g]=Re(a.w[g]);a.a=[]}}function Db(a){var b=a.name||a.getAttribute("name")||"__catchall";return a.Ha=b}function Re(a){return a.sort(function(a,b){a=N(a);for(var c=N(b),d=0;d<a.length;d++){b=a[d];var e=
c[d];if(b!==e)return a=Array.from(b.parentNode.childNodes),a.indexOf(b)-a.indexOf(e)}})}function Ka(a,b){if(a.o){$c(a);var c=a.w,d;for(d in c)for(var e=c[d],f=0;f<e.length;f++){var g=e[f];if(ma(b,g)){e.splice(f,1);var h=a.o.indexOf(g);0<=h&&a.o.splice(h,1);f--;g=W(g);if(h=g.N)for(var k=0;k<h.length;k++){var l=h[k],m=yd(l);m&&sa.removeChild.call(m,l)}g.N=[];g.assignedNodes=[];h=!0}}return h}}function Ke(a){$c(a);return!(!a.o||!a.o.length)}function Ib(a){var b=a.getRootNode();ea(b)&&Tf(b);return(a=
W(a))&&a.assignedSlot||null}function X(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f.value?a[e]=f.value:Object.defineProperty(a,e,f)}}function ca(a){var b=fg.has(a);a=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(a);return!b&&a}function S(a){var b=a.isConnected;if(void 0!==b)return b;for(;a&&!(a.__CE_isImportDocument||a instanceof Document);)a=a.parentNode||(window.ShadowRoot&&a instanceof ShadowRoot?a.host:void 0);return!(!a||!(a.__CE_isImportDocument||
a instanceof Document))}function Ac(a,b){for(;b&&b!==a&&!b.nextSibling;)b=b.parentNode;return b&&b!==a?b.nextSibling:null}function tb(a,b,c){c=void 0===c?new Set:c;for(var d=a;d;){if(d.nodeType===Node.ELEMENT_NODE){var e=d;b(e);var f=e.localName;if("link"===f&&"import"===e.getAttribute("rel")){d=e.import;if(d instanceof Node&&!c.has(d))for(c.add(d),d=d.firstChild;d;d=d.nextSibling)tb(d,b,c);d=Ac(a,e);continue}else if("template"===f){d=Ac(a,e);continue}if(e=e.__CE_shadowRoot)for(e=e.firstChild;e;e=
e.nextSibling)tb(e,b,c)}d=d.firstChild?d.firstChild:Ac(a,d)}}function Ja(a,b,c){a[b]=c}function bb(){this.a=new Map;this.m=new Map;this.f=[];this.c=!1}function hb(a,b,c){a.a.set(b,c);a.m.set(c.constructor,c)}function oc(a,b){a.c=!0;a.f.push(b)}function Zb(a,b){a.c&&tb(b,function(b){return a.b(b)})}function Ra(a,b){var c=[];tb(b,function(a){return c.push(a)});for(b=0;b<c.length;b++){var d=c[b];1===d.__CE_state?a.connectedCallback(d):nc(a,d)}}function cb(a,b){var c=[];tb(b,function(a){return c.push(a)});
for(b=0;b<c.length;b++){var d=c[b];1===d.__CE_state&&a.disconnectedCallback(d)}}function kb(a,b,c){c=void 0===c?{}:c;var d=c.fb||new Set,e=c.ia||function(b){return nc(a,b)},f=[];tb(b,function(b){if("link"===b.localName&&"import"===b.getAttribute("rel")){var c=b.import;c instanceof Node&&(c.__CE_isImportDocument=!0,c.__CE_hasRegistry=!0);c&&"complete"===c.readyState?c.__CE_documentLoadHandled=!0:b.addEventListener("load",function(){var c=b.import;if(!c.__CE_documentLoadHandled){c.__CE_documentLoadHandled=
!0;var f=new Set(d);f.delete(c);kb(a,c,{fb:f,ia:e})}})}else f.push(b)},d);if(a.c)for(b=0;b<f.length;b++)a.b(f[b]);for(b=0;b<f.length;b++)e(f[b])}function nc(a,b){if(void 0===b.__CE_state){var c=b.ownerDocument;if(c.defaultView||c.__CE_isImportDocument&&c.__CE_hasRegistry)if(c=a.a.get(b.localName)){c.constructionStack.push(b);var d=c.constructor;try{try{if(new d!==b)throw Error("The custom element constructor did not produce the element being upgraded.");}finally{c.constructionStack.pop()}}catch(Od){throw b.__CE_state=
2,Od;}b.__CE_state=1;b.__CE_definition=c;if(c.attributeChangedCallback)for(c=c.observedAttributes,d=0;d<c.length;d++){var e=c[d],f=b.getAttribute(e);null!==f&&a.attributeChangedCallback(b,e,null,f,null)}S(b)&&a.connectedCallback(b)}}}function xe(a){var b=document;this.b=a;this.a=b;this.P=void 0;kb(this.b,this.a);"loading"===this.a.readyState&&(this.P=new MutationObserver(this.c.bind(this)),this.P.observe(this.a,{childList:!0,subtree:!0}))}function ce(a){a.P&&a.P.disconnect()}function Le(){var a=this;
this.a=this.A=void 0;this.b=new Promise(function(b){a.a=b;a.A&&b(a.A)})}function Pb(a){this.c=!1;this.a=a;this.G=new Map;this.f=function(a){return a()};this.b=!1;this.m=[];this.fa=new xe(a)}function pc(a){if(!1!==a.b){a.b=!1;for(var b=a.m,c=[],d=new Map,e=0;e<b.length;e++)d.set(b[e].localName,[]);kb(a.a,document,{ia:function(b){if(void 0===b.__CE_state){var e=b.localName,f=d.get(e);f?f.push(b):a.a.a.get(e)&&c.push(b)}}});for(e=0;e<c.length;e++)nc(a.a,c[e]);for(;0<b.length;){var f=b.shift();e=f.localName;
f=d.get(f.localName);for(var g=0;g<f.length;g++)nc(a.a,f[g]);(e=a.G.get(e))&&e.resolve(void 0)}}}function ad(){var a=rd;window.HTMLElement=function(){function b(){var b=this.constructor,c=a.m.get(b);if(!c)throw Error("The custom element being constructed was not registered with `customElements`.");var d=c.constructionStack;if(0===d.length)return d=Eg.call(document,c.localName),Object.setPrototypeOf(d,b.prototype),d.__CE_state=1,d.__CE_definition=c,a.b(d),d;c=d.length-1;var e=d[c];if(e===rf)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");
d[c]=rf;Object.setPrototypeOf(e,b.prototype);a.b(e);return e}b.prototype=Cf.prototype;Object.defineProperty(b.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:b});return b}()}function ld(a,b,c){function d(b){return function(c){for(var d=[],e=0;e<arguments.length;++e)d[e]=arguments[e];e=[];for(var f=[],g=0;g<d.length;g++){var h=d[g];h instanceof Element&&S(h)&&f.push(h);if(h instanceof DocumentFragment)for(h=h.firstChild;h;h=h.nextSibling)e.push(h);else e.push(h)}b.apply(this,
d);for(d=0;d<f.length;d++)cb(a,f[d]);if(S(this))for(d=0;d<e.length;d++)f=e[d],f instanceof Element&&Ra(a,f)}}void 0!==c.ha&&(b.prepend=d(c.ha));void 0!==c.append&&(b.append=d(c.append))}function Da(){var a=rd;Ja(Document.prototype,"createElement",function(b){if(this.__CE_hasRegistry){var c=a.a.get(b);if(c)return new c.constructor}b=Eg.call(this,b);a.b(b);return b});Ja(Document.prototype,"importNode",function(b,c){b=af.call(this,b,c);this.__CE_hasRegistry?kb(a,b):Zb(a,b);return b});Ja(Document.prototype,
"createElementNS",function(b,c){if(this.__CE_hasRegistry&&(null===b||"http://www.w3.org/1999/xhtml"===b)){var d=a.a.get(c);if(d)return new d.constructor}b=Ee.call(this,b,c);a.b(b);return b});ld(a,Document.prototype,{ha:nh,append:Fg})}function ye(){function a(a,c){Object.defineProperty(a,"textContent",{enumerable:c.enumerable,configurable:!0,get:c.get,set:function(a){if(this.nodeType===Node.TEXT_NODE)c.set.call(this,a);else{var d=void 0;if(this.firstChild){var e=this.childNodes,f=e.length;if(0<f&&
S(this)){d=Array(f);for(var g=0;g<f;g++)d[g]=e[g]}}c.set.call(this,a);if(d)for(a=0;a<d.length;a++)cb(b,d[a])}}})}var b=rd;Ja(Node.prototype,"insertBefore",function(a,c){if(a instanceof DocumentFragment){var d=Array.prototype.slice.apply(a.childNodes);a=Zg.call(this,a,c);if(S(this))for(c=0;c<d.length;c++)Ra(b,d[c]);return a}d=S(a);c=Zg.call(this,a,c);d&&cb(b,a);S(this)&&Ra(b,a);return c});Ja(Node.prototype,"appendChild",function(a){if(a instanceof DocumentFragment){var c=Array.prototype.slice.apply(a.childNodes);
a=Rc.call(this,a);if(S(this))for(var d=0;d<c.length;d++)Ra(b,c[d]);return a}c=S(a);d=Rc.call(this,a);c&&cb(b,a);S(this)&&Ra(b,a);return d});Ja(Node.prototype,"cloneNode",function(a){a=Fe.call(this,a);this.ownerDocument.__CE_hasRegistry?kb(b,a):Zb(b,a);return a});Ja(Node.prototype,"removeChild",function(a){var c=S(a),d=gg.call(this,a);c&&cb(b,a);return d});Ja(Node.prototype,"replaceChild",function(a,c){if(a instanceof DocumentFragment){var d=Array.prototype.slice.apply(a.childNodes);a=ne.call(this,
a,c);if(S(this))for(cb(b,c),c=0;c<d.length;c++)Ra(b,d[c]);return a}d=S(a);var e=ne.call(this,a,c),f=S(this);f&&cb(b,c);d&&cb(b,a);f&&Ra(b,a);return e});ba&&ba.get?a(Node.prototype,ba):oc(b,function(b){a(b,{enumerable:!0,configurable:!0,get:function(){for(var a=[],b=0;b<this.childNodes.length;b++)a.push(this.childNodes[b].textContent);return a.join("")},set:function(a){for(;this.firstChild;)gg.call(this,this.firstChild);Rc.call(this,document.createTextNode(a))}})})}function Vf(a){function b(b){return function(c){for(var d=
[],e=0;e<arguments.length;++e)d[e]=arguments[e];e=[];for(var f=[],g=0;g<d.length;g++){var h=d[g];h instanceof Element&&S(h)&&f.push(h);if(h instanceof DocumentFragment)for(h=h.firstChild;h;h=h.nextSibling)e.push(h);else e.push(h)}b.apply(this,d);for(d=0;d<f.length;d++)cb(a,f[d]);if(S(this))for(d=0;d<e.length;d++)f=e[d],f instanceof Element&&Ra(a,f)}}var c=Element.prototype;void 0!==Vb&&(c.before=b(Vb));void 0!==Vb&&(c.after=b(wc));void 0!==jc&&Ja(c,"replaceWith",function(b){for(var c=[],d=0;d<arguments.length;++d)c[d]=
arguments[d];d=[];for(var e=[],f=0;f<c.length;f++){var g=c[f];g instanceof Element&&S(g)&&e.push(g);if(g instanceof DocumentFragment)for(g=g.firstChild;g;g=g.nextSibling)d.push(g);else d.push(g)}f=S(this);jc.apply(this,c);for(c=0;c<e.length;c++)cb(a,e[c]);if(f)for(cb(a,this),c=0;c<d.length;c++)e=d[c],e instanceof Element&&Ra(a,e)});void 0!==ph&&Ja(c,"remove",function(){var b=S(this);ph.call(this);b&&cb(a,this)})}function gb(){function a(a,b){Object.defineProperty(a,"innerHTML",{enumerable:b.enumerable,
configurable:!0,get:b.get,set:function(a){var c=this,e=void 0;S(this)&&(e=[],tb(this,function(a){a!==c&&e.push(a)}));b.set.call(this,a);if(e)for(var f=0;f<e.length;f++){var g=e[f];1===g.__CE_state&&d.disconnectedCallback(g)}this.ownerDocument.__CE_hasRegistry?kb(d,this):Zb(d,this);return a}})}function b(a,b){Ja(a,"insertAdjacentElement",function(a,c){var e=S(c);a=b.call(this,a,c);e&&cb(d,c);S(a)&&Ra(d,c);return a})}function c(a,b){function c(a,b){for(var c=[];a!==b;a=a.nextSibling)c.push(a);for(b=
0;b<c.length;b++)kb(d,c[b])}Ja(a,"insertAdjacentHTML",function(a,d){a=a.toLowerCase();if("beforebegin"===a){var e=this.previousSibling;b.call(this,a,d);c(e||this.parentNode.firstChild,this)}else if("afterbegin"===a)e=this.firstChild,b.call(this,a,d),c(this.firstChild,e);else if("beforeend"===a)e=this.lastChild,b.call(this,a,d),c(e||this.firstChild,null);else if("afterend"===a)e=this.nextSibling,b.call(this,a,d),c(this.nextSibling,e);else throw new SyntaxError("The value provided ("+String(a)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");
})}var d=rd;Gg&&Ja(Element.prototype,"attachShadow",function(a){return this.__CE_shadowRoot=Gg.call(this,a)});$g&&$g.get?a(Element.prototype,$g):ra&&ra.get?a(HTMLElement.prototype,ra):oc(d,function(b){a(b,{enumerable:!0,configurable:!0,get:function(){return Fe.call(this,!0).innerHTML},set:function(a){var b="template"===this.localName,c=b?this.content:this,d=Ee.call(document,this.namespaceURI,this.localName);for(d.innerHTML=a;0<c.childNodes.length;)gg.call(c,c.childNodes[0]);for(a=b?d.content:d;0<
a.childNodes.length;)Rc.call(c,a.childNodes[0])}})});Ja(Element.prototype,"setAttribute",function(a,b){if(1!==this.__CE_state)return hg.call(this,a,b);var c=bf.call(this,a);hg.call(this,a,b);b=bf.call(this,a);d.attributeChangedCallback(this,a,c,b,null)});Ja(Element.prototype,"setAttributeNS",function(a,b,c){if(1!==this.__CE_state)return Fb.call(this,a,b,c);var e=Ge.call(this,a,b);Fb.call(this,a,b,c);c=Ge.call(this,a,b);d.attributeChangedCallback(this,b,e,c,a)});Ja(Element.prototype,"removeAttribute",
function(a){if(1!==this.__CE_state)return Dc.call(this,a);var b=bf.call(this,a);Dc.call(this,a);null!==b&&d.attributeChangedCallback(this,a,b,null,null)});Ja(Element.prototype,"removeAttributeNS",function(a,b){if(1!==this.__CE_state)return D.call(this,a,b);var c=Ge.call(this,a,b);D.call(this,a,b);var e=Ge.call(this,a,b);c!==e&&d.attributeChangedCallback(this,b,c,e,a)});Ec?b(HTMLElement.prototype,Ec):Wd?b(Element.prototype,Wd):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched.");
ia?c(HTMLElement.prototype,ia):sd?c(Element.prototype,sd):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched.");ld(d,Element.prototype,{ha:Sc,append:Eb});Vf(d)}function de(){this.end=this.start=0;this.rules=this.parent=this.previous=null;this.cssText=this.parsedCssText="";this.atRule=!1;this.type=0;this.parsedSelector=this.selector=this.keyframesName=""}function ec(a){a=a.replace(cf,"").replace(ze,"");var b=Jc,c=a,d=new de;d.start=0;d.end=c.length;for(var e=d,f=0,g=c.length;f<
g;f++)if("{"===c[f]){e.rules||(e.rules=[]);var h=e,k=h.rules[h.rules.length-1]||null;e=new de;e.start=f+1;e.parent=h;e.previous=k;h.rules.push(e)}else"}"===c[f]&&(e.end=f+1,e=e.parent||d);return b(d,a)}function Jc(a,b){var c=b.substring(a.start,a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=vg(c),c=c.replace(na," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf("@"),a.atRule?
0===c.indexOf("@media")?a.type=cd:c.match(Sb)&&(a.type=zd,a.keyframesName=a.selector.split(na).pop()):a.type=0===c.indexOf("--")?La:Xf);if(c=a.rules)for(var d=0,e=c.length,f=void 0;d<e&&(f=c[d]);d++)Jc(f,b);return a}function vg(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(a,b){a=b;for(b=6-a.length;b--;)a="0"+a;return"\\"+a})}function bd(a,b,c){c=void 0===c?"":c;var d="";if(a.cssText||a.rules){var e=a.rules,f;if(f=e)f=e[0],f=!(f&&f.selector&&0===f.selector.indexOf("--"));if(f){f=0;for(var g=
e.length,h=void 0;f<g&&(h=e[f]);f++)d=bd(h,b,d)}else b?b=a.cssText:(b=a.cssText,b=b.replace(bh,"").replace(Sg,""),b=b.replace(he,"").replace(Tg,"")),(d=b.trim())&&(d="  "+d+"\n")}d&&(a.selector&&(c+=a.selector+" {\n"),c+=d,a.selector&&(c+="}\n\n"));return c}function Wf(a){ch=a&&a.shimcssproperties?!1:Sa||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)"))}function fc(a,b){if(!a)return"";"string"===typeof a&&(a=ec(a));
b&&Se(a,b);return bd(a,Ga)}function ee(a){!a.__cssRules&&a.textContent&&(a.__cssRules=ec(a.textContent));return a.__cssRules||null}function Se(a,b,c,d){var e;if(a){var f=!1,g=a.type;d&&g===cd&&(e=a.selector.match(Ef))&&(window.matchMedia(e[1]).matches||(f=!0));g===Xf?b(a):c&&g===zd?c(a):g===La&&(f=!0);if((a=a.rules)&&!f)for(f=0,g=a.length,e=void 0;f<g&&(e=a[f]);f++)Se(e,b,c,d)}}function P(a,b,c,d){var e=document.createElement("style");b&&e.setAttribute("scope",b);e.textContent=a;md(e,c,d);return e}
function Gb(a){a=document.createComment(" Shady DOM styles for "+a+" ");var b=document.head;b.insertBefore(a,(Ie?Ie.nextSibling:null)||b.firstChild);return Ie=a}function md(a,b,c){b=b||document.head;b.insertBefore(a,c&&c.nextSibling||b.firstChild);Ie?a.compareDocumentPosition(Ie)===Node.DOCUMENT_POSITION_PRECEDING&&(Ie=a):Ie=a}function pf(a,b){for(var c=0,d=a.length;b<d;b++)if("("===a[b])c++;else if(")"===a[b]&&0===--c)return b;return-1}function Te(a,b){var c=a.indexOf("var(");if(-1===c)return b(a,
"","","");var d=pf(a,c+3),e=a.substring(c+4,d);c=a.substring(0,c);a=Te(a.substring(d+1),b);d=e.indexOf(",");return-1===d?b(c,e.trim(),"",a):b(c,e.substring(0,d).trim(),e.substring(d+1).trim(),a)}function fe(a,b){Sa?a.setAttribute("class",b):window.ShadyDOM.nativeMethods.setAttribute.call(a,"class",b)}function Kc(a){var b=a.localName,c="";b?-1<b.indexOf("-")||(c=b,b=a.getAttribute&&a.getAttribute("is")||""):(b=a.is,c=a.extends);return{is:b,X:c}}function nd(a){for(var b=[],c="",d=0;0<=d&&d<a.length;d++)if("("===
a[d]){var e=pf(a,d);c+=a.slice(d,e+1);d=e}else","===a[d]?(b.push(c),c=""):c+=a[d];c&&b.push(c);return b}function Hd(a){if(void 0===a.ja){var b=a.getAttribute("css-build");if(!b&&(b="template"===a.localName?a.content.firstChild:a.firstChild,b=b instanceof Comment&&(b=b.textContent.trim().split(":"),"css-build"===b[0])?b[1]:"",""!==b)){var c="template"===a.localName?a.content.firstChild:a.firstChild;c.parentNode.removeChild(c)}a.ja=b}return a.ja||""}function sc(){}function se(a,b){tc(Z,a,function(a){Qb(a,
b||"")})}function tc(a,b,c){b.nodeType===Node.ELEMENT_NODE&&c(b);if(b="template"===b.localName?(b.content||b.kb||b).childNodes:b.children||b.childNodes)for(var d=0;d<b.length;d++)tc(a,b[d],c)}function Qb(a,b,c){if(b)if(a.classList)c?(a.classList.remove("style-scope"),a.classList.remove(b)):(a.classList.add("style-scope"),a.classList.add(b));else if(a.getAttribute){var d=a.getAttribute(Zh);c?d&&(b=d.replace("style-scope","").replace(b,""),fe(a,b)):fe(a,(d?d+" ":"")+"style-scope "+b)}}function od(a,
b,c){tc(Z,a,function(a){Qb(a,b,!0);Qb(a,c)})}function Bc(a,b){tc(Z,a,function(a){Qb(a,b||"",!0)})}function te(a,b,c,d){var e=Z;Sa||"shady"===(void 0===d?"":d)?b=fc(b,c):(a=Kc(a),b=Id(e,b,a.is,a.X,c)+"\n\n");return b.trim()}function Id(a,b,c,d,e){var f=qf(c,d);c=c?Nd+c:"";return fc(b,function(b){b.c||(b.selector=b.F=pd(a,b,a.b,c,f),b.c=!0);e&&e(b,c,f)})}function qf(a,b){return b?"[is="+a+"]":a}function pd(a,b,c,d,e){var f=nd(b.selector);if(!b.parent||b.parent.type!==zd){b=0;for(var g=f.length,h=void 0;b<
g&&(h=f[b]);b++)f[b]=c.call(a,h,d,e)}return f.filter(function(a){return!!a}).join(H)}function Jd(a){return a.replace(p,function(a,b,c){-1<c.indexOf("+")?c=c.replace(/\+/g,"___"):-1<c.indexOf("___")&&(c=c.replace(/___/g,"+"));return":"+b+"("+c+")"})}function Kd(a){for(var b=[],c;c=a.match(Eh);){var d=c.index,e=pf(a,d);if(-1===e)throw Error(c.input+" selector missing ')'");c=a.slice(d,e+1);a=a.replace(c,"\ue000");b.push(c)}return{sa:a,matches:b}}function Rb(a,b){var c=a.split("\ue000");return b.reduce(function(a,
b,d){return a+b+c[d+1]},c[0])}function Ld(a,b,c,d){var e=a.indexOf(va);0<=a.indexOf(ef)?a=qd(a,d):0!==e&&(a=c?Md(a,c):a);c=!1;0<=e&&(b="",c=!0);if(c){var f=!0;c&&(a=a.replace(Ue,function(a,b){return" > "+b}))}a=a.replace(Yf,function(a,b,c){return'[dir="'+c+'"] '+b+", "+b+'[dir="'+c+'"]'});return{value:a,Oa:b,stop:f}}function Md(a,b){a=a.split(Ug);a[0]+=b;return a.join(Ug)}function qd(a,b){var c=a.match(td);return(c=c&&c[2].trim()||"")?c[0].match(Ta)?a.replace(td,function(a,c,d){return b+d}):c.split(Ta)[0]===
b?c:Lh:a.replace(ef,b)}function gc(a,b,c,d,e){this.M=a||null;this.b=b||null;this.c=c||[];this.T=null;this.da=e||"";this.X=d||"";this.a=this.I=this.O=null}function uc(a){return a?a.__styleInfo:null}function Wa(a){var b=this.matches||this.matchesSelector||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector;return b&&b.call(this,a)}function ta(){}function kg(a){var b={},c=[],d=0;Se(a,function(a){Ob(a);a.index=d++;a=a.B.cssText;for(var c;c=dh.exec(a);){var e=
c[1];":"!==c[2]&&(b[e]=!0)}},function(a){c.push(a)});a.b=c;a=[];for(var e in b)a.push(e);return a}function Ob(a){if(!a.B){var b={},c={};kc(a,c)&&(b.L=c,a.rules=null);b.cssText=a.parsedCssText.replace(He,"").replace(oa,"");a.B=b}}function kc(a,b){var c=a.B;if(c){if(c.L)return Object.assign(b,c.L),!0}else{c=a.parsedCssText;for(var d;a=oa.exec(c);){d=(a[2]||a[3]).trim();if("inherit"!==d||"unset"!==d)b[a[1].trim()]=d;d=!0}return d}}function Je(a,b,c){b&&(b=0<=b.indexOf(";")?fd(a,b,c):Te(b,function(b,
d,e,f){if(!d)return b+f;(d=Je(a,c[d],c))&&"initial"!==d?"apply-shim-inherit"===d&&(d="inherit"):d=Je(a,c[e]||e,c)||e;return b+(d||"")+f}));return b&&b.trim()||""}function fd(a,b,c){b=b.split(";");for(var d=0,e,f;d<b.length;d++)if(e=b[d]){db.lastIndex=0;if(f=db.exec(e))e=Je(a,c[f[1]],c);else if(f=e.indexOf(":"),-1!==f){var g=e.substring(f);g=g.trim();g=Je(a,g,c)||g;e=e.substring(0,f)+g}b[d]=e&&e.lastIndexOf(";")===e.length-1?e.slice(0,-1):e||""}return b.join(";")}function lg(a,b){var c={},d=[];Se(a,
function(a){a.B||Ob(a);var e=a.F||a.parsedSelector;b&&a.B.L&&e&&Wa.call(b,e)&&(kc(a,c),a=a.index,e=parseInt(a/32,10),d[e]=(d[e]||0)|1<<a%32)},null,!0);return{L:c,key:d}}function hf(a,b,c,d){b.B||Ob(b);if(b.B.L){var e=Kc(a);a=e.is;e=e.X;e=a?qf(a,e):"html";var f=b.parsedSelector,g=":host > *"===f||"html"===f,h=0===f.indexOf(":host")&&!g;"shady"===c&&(g=f===e+" > *."+e||-1!==f.indexOf("html"),h=!g&&0===f.indexOf(e));if(g||h)c=e,h&&(b.F||(b.F=pd(Z,b,Z.b,a?Nd+a:"",e)),c=b.F||e),d({sa:c,Va:h,vb:g})}}function Gf(a,
b,c){var d={},e={};Se(b,function(b){hf(a,b,c,function(c){Wa.call(a.lb||a,c.sa)&&(c.Va?kc(b,d):kc(b,e))})},null,!0);return{Za:e,Ta:d}}function Hf(a,b,c,d){var e=Kc(b),f=qf(e.is,e.X),g=new RegExp("(?:^|[^.#[:])"+(b.extends?"\\"+f.slice(0,-1)+"\\]":f)+"($|[.:[\\s>+~])"),h=uc(b);e=h.M;h=h.da;var k=If(e,d);return te(b,e,function(b){var e="";b.B||Ob(b);b.B.cssText&&(e=fd(a,b.B.cssText,c));b.cssText=e;if(!(Sa||b.parent&&b.parent.type===zd)&&b.cssText){var h=e=b.cssText;null==b.xa&&(b.xa=Ig.test(e));if(b.xa)if(null==
b.ga){b.ga=[];for(var l in k)h=k[l],h=h(e),e!==h&&(e=h,b.ga.push(l))}else{for(l=0;l<b.ga.length;++l)h=k[b.ga[l]],e=h(e);h=e}b.cssText=h;b.F=b.F||b.selector;e="."+d;l=nd(b.F);h=0;for(var m=l.length,n=void 0;h<m&&(n=l[h]);h++)l[h]=n.match(g)?n.replace(f,e):e+" "+n;b.selector=l.join(",")}},h)}function If(a,b){a=a.b;var c={};if(!Sa&&a)for(var d=0,e=a[d];d<a.length;e=a[++d]){var f=e,g=b;f.f=new RegExp("\\b"+f.keyframesName+"(?!\\B|-)","g");f.a=f.keyframesName+"-"+g;f.F=f.F||f.selector;f.selector=f.F.replace(f.keyframesName,
f.a);c[e.keyframesName]=Jf(e)}return c}function Jf(a){return function(b){return b.replace(a.f,a.a)}}function Dh(a,b){var c=ed,d=ee(a);a.textContent=fc(d,function(a){var d=a.cssText=a.parsedCssText;a.B&&a.B.cssText&&(d=d.replace(bh,"").replace(Sg,""),a.cssText=fd(c,d,b))})}function mg(){this.cache={}}function pg(){}function qg(a){var b=[];a.classList?b=Array.from(a.classList):a instanceof window.SVGElement&&a.hasAttribute("class")&&(b=a.getAttribute("class").split(/\s+/));a=b;b=a.indexOf(Z.a);return-1<
b?a[b+1]:""}function id(a){var b=a.getRootNode();return b===a||b===a.ownerDocument?"":(a=b.host)?Kc(a).is:""}function Mf(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.target!==document.documentElement&&c.target!==document.head)for(var d=0;d<c.addedNodes.length;d++){var e=c.addedNodes[d];if(e.nodeType===Node.ELEMENT_NODE){var f=e.getRootNode(),g=qg(e);if(g&&f===e.ownerDocument&&("style"!==e.localName&&"template"!==e.localName||""===Hd(e)))Bc(e,g);else if(f instanceof ShadowRoot)for(f=id(e),f!==g&&
od(e,g,f),e=window.ShadyDOM.nativeMethods.querySelectorAll.call(e,":not(."+Z.a+")"),g=0;g<e.length;g++){f=e[g];var h=id(f);h&&Qb(f,h)}}}}}function Cd(a){if(a=oe[a])a._applyShimCurrentVersion=a._applyShimCurrentVersion||0,a._applyShimValidatingVersion=a._applyShimValidatingVersion||0,a._applyShimNextVersion=(a._applyShimNextVersion||0)+1}function $d(a){a._applyShimValidatingVersion=a._applyShimNextVersion;a.b||(a.b=!0,ag.then(function(){a._applyShimCurrentVersion=a._applyShimNextVersion;a.b=!1}))}
function za(){this.G={};this.c=document.documentElement;var a=new de;a.rules=[];a=new gc(a);this.f=this.c.__styleInfo=a;this.m=!1;this.b=this.a=null}function nf(a){!a.b&&window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface&&(a.b=window.ShadyCSS.CustomStyleInterface,a.b.transformCallback=function(b){a.Aa(b)},a.b.validateCallback=function(){requestAnimationFrame(function(){(a.b.enqueued||a.m)&&a.flushCustomStyles()})})}function Zd(a){!a.a&&window.ShadyCSS&&window.ShadyCSS.ApplyShim&&(a.a=window.ShadyCSS.ApplyShim,
a.a.invalidCallback=Cd);nf(a)}function Dd(a,b){return(b=b.getRootNode().host)?uc(b)?b:Dd(a,b):a.c}function ih(a,b,c){a=Dd(a,b);var d=uc(a);a=Object.create(d.O||null);var e=Gf(b,c.M,c.da);b=lg(d.M,b).L;Object.assign(a,e.Ta,b,e.Za);b=c.T;for(var f in b)if((e=b[f])||0===e)a[f]=e;f=ed;b=Object.getOwnPropertyNames(a);for(e=0;e<b.length;e++)d=b[e],a[d]=Je(f,a[d],a);c.O=a}function gd(){window.HTMLTemplateElement.bootstrap&&window.HTMLTemplateElement.bootstrap(window.document);ud&&ud();ke=!0;window.WebComponents.ready=
!0;document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}var Nf="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},Yc="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,lf=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();if("function"==typeof Object.setPrototypeOf)var mf=Object.setPrototypeOf;else{a:{var kf={Na:!0},
og={};try{og.__proto__=kf;var Ne=og.Na;break a}catch(Nc){}Ne=!1}mf=Ne?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var jh=mf;e.prototype.m=function(a){this.fa=a};e.prototype.return=function(a){this.c={return:a};this.a=this.G};(function(){if(!function(){var a=document.createEvent("Event");a.initEvent("foo",!0,!0);a.preventDefault();return a.defaultPrevented}()){var a=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&
(a.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var b=/Trident/.test(navigator.userAgent);if(!window.CustomEvent||b&&"function"!==typeof window.CustomEvent)window.CustomEvent=function(a,b){b=b||{};var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!!b.bubbles,!!b.cancelable,b.detail);return c},window.CustomEvent.prototype=window.Event.prototype;if(!window.Event||b&&"function"!==typeof window.Event){var c=window.Event;window.Event=
function(a,b){b=b||{};var c=document.createEvent("Event");c.initEvent(a,!!b.bubbles,!!b.cancelable);return c};if(c)for(var d in c)window.Event[d]=c[d];window.Event.prototype=c.prototype}if(!window.MouseEvent||b&&"function"!==typeof window.MouseEvent){b=window.MouseEvent;window.MouseEvent=function(a,b){b=b||{};var c=document.createEvent("MouseEvent");c.initMouseEvent(a,!!b.bubbles,!!b.cancelable,b.view||window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,
b.button,b.relatedTarget);return c};if(b)for(d in b)window.MouseEvent[d]=b[d];window.MouseEvent.prototype=b.prototype}Array.from||(Array.from=function(a){return[].slice.call(a)});Object.assign||(Object.assign=function(a,b){for(var c=[].slice.call(arguments,1),d=0,e;d<c.length;d++)if(e=c[d])for(var f=a,g=e,h=Object.getOwnPropertyNames(g),k=0;k<h.length;k++)e=h[k],f[e]=g[e];return a})})(window.WebComponents);(function(){function a(){}function b(a,b){if(!a.childNodes.length)return[];switch(a.nodeType){case Node.DOCUMENT_NODE:return u.call(a,
b);case Node.DOCUMENT_FRAGMENT_NODE:return v.call(a,b);default:return r.call(a,b)}}var c="undefined"===typeof HTMLTemplateElement,d=!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment),e=!1;/Trident/.test(navigator.userAgent)&&function(){function a(a,b){if(a instanceof DocumentFragment)for(var d;d=a.firstChild;)c.call(this,d,b);else c.call(this,a,b);return a}e=!0;var b=Node.prototype.cloneNode;Node.prototype.cloneNode=function(a){a=b.call(this,a);this instanceof DocumentFragment&&
(a.__proto__=DocumentFragment.prototype);return a};DocumentFragment.prototype.querySelectorAll=HTMLElement.prototype.querySelectorAll;DocumentFragment.prototype.querySelector=HTMLElement.prototype.querySelector;Object.defineProperties(DocumentFragment.prototype,{nodeType:{get:function(){return Node.DOCUMENT_FRAGMENT_NODE},configurable:!0},localName:{get:function(){},configurable:!0},nodeName:{get:function(){return"#document-fragment"},configurable:!0}});var c=Node.prototype.insertBefore;Node.prototype.insertBefore=
a;var d=Node.prototype.appendChild;Node.prototype.appendChild=function(b){b instanceof DocumentFragment?a.call(this,b,null):d.call(this,b);return b};var f=Node.prototype.removeChild,g=Node.prototype.replaceChild;Node.prototype.replaceChild=function(b,c){b instanceof DocumentFragment?(a.call(this,b,c),f.call(this,c)):g.call(this,b,c);return c};Document.prototype.createDocumentFragment=function(){var a=this.createElement("df");a.__proto__=DocumentFragment.prototype;return a};var h=Document.prototype.importNode;
Document.prototype.importNode=function(a,b){b=h.call(this,a,b||!1);a instanceof DocumentFragment&&(b.__proto__=DocumentFragment.prototype);return b}}();var f=Node.prototype.cloneNode,g=Document.prototype.createElement,h=Document.prototype.importNode,k=Node.prototype.removeChild,l=Node.prototype.appendChild,m=Node.prototype.replaceChild,n=DOMParser.prototype.parseFromString,p=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML")||{get:function(){return this.innerHTML},set:function(a){this.innerHTML=
a}},q=Object.getOwnPropertyDescriptor(window.Node.prototype,"childNodes")||{get:function(){return this.childNodes}},r=Element.prototype.querySelectorAll,u=Document.prototype.querySelectorAll,v=DocumentFragment.prototype.querySelectorAll,w=function(){if(!c){var a=document.createElement("template"),b=document.createElement("template");b.content.appendChild(document.createElement("div"));a.content.appendChild(b);a=a.cloneNode(!0);return 0===a.content.childNodes.length||0===a.content.firstChild.content.childNodes.length||
d}}();if(c){var t=document.implementation.createHTMLDocument("template"),x=!0,y=document.createElement("style");y.textContent="template{display:none;}";var z=document.head;z.insertBefore(y,z.firstElementChild);a.prototype=Object.create(HTMLElement.prototype);var A=!document.createElement("div").hasOwnProperty("innerHTML");a.R=function(b){if(!b.content&&b.namespaceURI===document.documentElement.namespaceURI){b.content=t.createDocumentFragment();for(var c;c=b.firstChild;)l.call(b.content,c);if(A)b.__proto__=
a.prototype;else if(b.cloneNode=function(b){return a.b(this,b)},x)try{C(b),D(b)}catch(ti){x=!1}a.a(b.content)}};var B={option:["select"],thead:["table"],col:["colgroup","table"],tr:["tbody","table"],th:["tr","tbody","table"],td:["tr","tbody","table"]},C=function(b){Object.defineProperty(b,"innerHTML",{get:function(){return J(this)},set:function(b){var c=B[(/<([a-z][^/\0>\x20\t\r\n\f]+)/i.exec(b)||["",""])[1].toLowerCase()];if(c)for(var d=0;d<c.length;d++)b="<"+c[d]+">"+b+"</"+c[d]+">";t.body.innerHTML=
b;for(a.a(t);this.content.firstChild;)k.call(this.content,this.content.firstChild);b=t.body;if(c)for(d=0;d<c.length;d++)b=b.lastChild;for(;b.firstChild;)l.call(this.content,b.firstChild)},configurable:!0})},D=function(a){Object.defineProperty(a,"outerHTML",{get:function(){return"<template>"+this.innerHTML+"</template>"},set:function(a){if(this.parentNode){t.body.innerHTML=a;for(a=this.ownerDocument.createDocumentFragment();t.body.firstChild;)l.call(a,t.body.firstChild);m.call(this.parentNode,a,this)}else throw Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");
},configurable:!0})};C(a.prototype);D(a.prototype);a.a=function(c){c=b(c,"template");for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)a.R(f)};document.addEventListener("DOMContentLoaded",function(){a.a(document)});Document.prototype.createElement=function(){var b=g.apply(this,arguments);"template"===b.localName&&a.R(b);return b};DOMParser.prototype.parseFromString=function(){var b=n.apply(this,arguments);a.a(b);return b};Object.defineProperty(HTMLElement.prototype,"innerHTML",{get:function(){return J(this)},
set:function(b){p.set.call(this,b);a.a(this)},configurable:!0,enumerable:!0});var E=/[&\u00A0"]/g,F=/[&\u00A0<>]/g,G=function(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";case '"':return"&quot;";case "\u00a0":return"&nbsp;"}};y=function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b};var H=y("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),I=y("style script xmp iframe noembed noframes plaintext noscript".split(" ")),
J=function(a,b){"template"===a.localName&&(a=a.content);for(var c="",d=b?b(a):q.get.call(a),e=0,f=d.length,g;e<f&&(g=d[e]);e++){a:{var h=g;var k=a,l=b;switch(h.nodeType){case Node.ELEMENT_NODE:for(var m=h.localName,n="<"+m,p=h.attributes,r=0;k=p[r];r++)n+=" "+k.name+'="'+k.value.replace(E,G)+'"';n+=">";h=H[m]?n:n+J(h,l)+"</"+m+">";break a;case Node.TEXT_NODE:h=h.data;h=k&&I[k.localName]?h:h.replace(F,G);break a;case Node.COMMENT_NODE:h="\x3c!--"+h.data+"--\x3e";break a;default:throw window.console.error(h),
Error("not implemented");}}c+=h}return c}}if(c||w){a.b=function(a,b){var c=f.call(a,!1);this.R&&this.R(c);b&&(l.call(c.content,f.call(a.content,!0)),K(c.content,a.content));return c};var K=function(c,d){if(d.querySelectorAll&&(d=b(d,"template"),0!==d.length)){c=b(c,"template");for(var e=0,f=c.length,g,h;e<f;e++)h=d[e],g=c[e],a&&a.R&&a.R(h),m.call(g.parentNode,L.call(h,!0),g)}},L=Node.prototype.cloneNode=function(b){if(!e&&d&&this instanceof DocumentFragment)if(b)var c=M.call(this.ownerDocument,this,
!0);else return this.ownerDocument.createDocumentFragment();else this.nodeType===Node.ELEMENT_NODE&&"template"===this.localName&&this.namespaceURI==document.documentElement.namespaceURI?c=a.b(this,b):c=f.call(this,b);b&&K(c,this);return c},M=Document.prototype.importNode=function(c,d){d=d||!1;if("template"===c.localName)return a.b(c,d);var e=h.call(this,c,d);if(d){K(e,c);c=b(e,'script:not([type]),script[type="application/javascript"],script[type="text/javascript"]');for(var f,k=0;k<c.length;k++){f=
c[k];d=g.call(document,"script");d.textContent=f.textContent;for(var l=f.attributes,n=0,p;n<l.length;n++)p=l[n],d.setAttribute(p.name,p.value);m.call(f.parentNode,d,f)}}return e}}c&&(window.HTMLTemplateElement=a)})();var Pg=setTimeout;C.prototype["catch"]=function(a){return this.then(null,a)};C.prototype.then=function(a,b){var c=new this.constructor(q);E(this,new L(a,b,c));return c};C.prototype["finally"]=function(a){var b=this.constructor;return this.then(function(c){return b.resolve(a()).then(function(){return c})},
function(c){return b.resolve(a()).then(function(){return b.reject(c)})})};var Mg="function"===typeof setImmediate&&function(a){setImmediate(a)}||function(a){Pg(a,0)};if(!window.Promise){window.Promise=C;C.prototype.then=C.prototype.then;C.all=l;C.race=K;C.resolve=z;C.reject=G;var Of=document.createTextNode(""),Oe=[];(new MutationObserver(function(){for(var a=Oe.length,b=0;b<a;b++)Oe[b]();Oe.splice(0,a)})).observe(Of,{characterData:!0});Mg=function(a){Oe.push(a);Of.textContent=0<Of.textContent.length?
"":"a"}}(function(a,b){if(!(b in a)){var c=typeof global===typeof c?window:global,d=0,e=""+Math.random(),f="__\u0001symbol@@"+e,g=a.getOwnPropertyNames,h=a.getOwnPropertyDescriptor,k=a.create,l=a.keys,m=a.freeze||a,n=a.defineProperty,p=a.defineProperties,q=h(a,"getOwnPropertyNames"),r=a.prototype,u=r.hasOwnProperty,v=r.propertyIsEnumerable,w=r.toString,t=function(a,b,c){u.call(a,f)||n(a,f,{enumerable:!1,configurable:!1,writable:!1,value:{}});a[f]["@@"+b]=c},x=function(a,b){var c=k(a);g(b).forEach(function(a){B.call(b,
a)&&H(c,a,b[a])});return c},y=function(){},z=function(a){return a!=f&&!u.call(E,a)},A=function(a){return a!=f&&u.call(E,a)},B=function(a){var b=""+a;return A(b)?u.call(this,b)&&this[f]["@@"+b]:v.call(this,a)},C=function(b){n(r,b,{enumerable:!1,configurable:!0,get:y,set:function(a){J(this,b,{enumerable:!1,configurable:!0,writable:!0,value:a});t(this,b,!0)}});return m(E[b]=n(a(b),"constructor",F))},D=function(a){if(this&&this!==c)throw new TypeError("Symbol is not a constructor");return C("__\u0001symbol:".concat(a||
"",e,++d))},E=k(null),F={value:D},G=function(a){return E[a]},H=function(a,b,c){var d=""+b;if(A(d)){b=J;if(c.enumerable){var e=k(c);e.enumerable=!1}else e=c;b(a,d,e);t(a,d,!!c.enumerable)}else n(a,b,c);return a},I=function(a){return g(a).filter(A).map(G)};q.value=H;n(a,"defineProperty",q);q.value=I;n(a,b,q);q.value=function(a){return g(a).filter(z)};n(a,"getOwnPropertyNames",q);q.value=function(a,b){var c=I(b);c.length?l(b).concat(c).forEach(function(c){B.call(b,c)&&H(a,c,b[c])}):p(a,b);return a};
n(a,"defineProperties",q);q.value=B;n(r,"propertyIsEnumerable",q);q.value=D;n(c,"Symbol",q);q.value=function(a){a="__\u0001symbol:".concat("__\u0001symbol:",a,e);return a in r?E[a]:C(a)};n(D,"for",q);q.value=function(a){if(z(a))throw new TypeError(a+" is not a symbol");return u.call(E,a)?a.slice(20,-e.length):void 0};n(D,"keyFor",q);q.value=function(a,b){var c=h(a,b);c&&A(b)&&(c.enumerable=B.call(a,b));return c};n(a,"getOwnPropertyDescriptor",q);q.value=function(a,b){return 1===arguments.length?k(a):
x(a,b)};n(a,"create",q);q.value=function(){var a=w.call(this);return"[object String]"===a&&A(this)?"[object Symbol]":a};n(r,"toString",q);try{var J=k(n({},"__\u0001symbol:",{get:function(){return n(this,"__\u0001symbol:",{value:!1})["__\u0001symbol:"]}}))["__\u0001symbol:"]||n}catch(Nh){J=function(a,b,c){var d=h(r,b);delete r[b];n(a,b,c);n(r,b,d)}}}})(Object,"getOwnPropertySymbols");(function(a){var b=a.defineProperty,c=a.prototype,d=c.toString,e;"iterator match replace search split hasInstance isConcatSpreadable unscopables species toPrimitive toStringTag".split(" ").forEach(function(f){if(!(f in
Symbol))switch(b(Symbol,f,{value:Symbol(f)}),f){case "toStringTag":e=a.getOwnPropertyDescriptor(c,"toString"),e.value=function(){var a=d.call(this),b=this[Symbol.toStringTag];return"undefined"===typeof b?a:"[object "+b+"]"},b(c,"toString",e)}})})(Object,Symbol);(function(a,b,c){function d(){return this}b[a]||(b[a]=function(){var b=0,c=this,e={next:function(){var a=c.length<=b;return a?{done:a}:{done:a,value:c[b++]}}};e[a]=d;return e});c[a]||(c[a]=function(){var b=String.fromCodePoint,c=this,e=0,f=
c.length,g={next:function(){var a=f<=e,d=a?"":b(c.codePointAt(e));e+=d.length;return a?{done:a}:{done:a,value:d}}};g[a]=d;return g})})(Symbol.iterator,Array.prototype,String.prototype);Object.keys=function(a){return Object.getOwnPropertyNames(a).filter(function(b){return(b=Object.getOwnPropertyDescriptor(a,b))&&b.enumerable})};var ae=window.Symbol.iterator;String.prototype[ae]&&String.prototype.codePointAt||(String.prototype[ae]=function sf(){var a,b=this;return x(sf,function(c){1==c.a&&(a=0);if(3!=
c.a)return a<b.length?c=n(c,b[a]):(c.a=0,c=void 0),c;a++;c.a=2})});Set.prototype[ae]||(Set.prototype[ae]=function Ya(){var a,b=this,c;return x(Ya,function(d){1==d.a&&(a=[],b.forEach(function(b){a.push(b)}),c=0);if(3!=d.a)return c<a.length?d=n(d,a[c]):(d.a=0,d=void 0),d;c++;d.a=2})});Map.prototype[ae]||(Map.prototype[ae]=function Wb(){var a,b=this,c;return x(Wb,function(d){1==d.a&&(a=[],b.forEach(function(b,c){a.push([c,b])}),c=0);if(3!=d.a)return c<a.length?d=n(d,a[c]):(d.a=0,d=void 0),d;c++;d.a=
2})});window.WebComponents=window.WebComponents||{flags:{}};var sg=document.querySelector('script[src*="webcomponents-bundle"]'),Qg=/wc-(.+)/,ob={};if(!ob.noOpts){location.search.slice(1).split("&").forEach(function(a){a=a.split("=");var b;a[0]&&(b=a[0].match(Qg))&&(ob[b[1]]=a[1]||!0)});if(sg)for(var of=0,Lb=void 0;Lb=sg.attributes[of];of++)"src"!==Lb.name&&(ob[Lb.name]=Lb.value||!0);if(ob.log&&ob.log.split){var Pf=ob.log.split(",");ob.log={};Pf.forEach(function(a){ob.log[a]=!0})}else ob.log={}}window.WebComponents.flags=
ob;var qa=ob.shadydom;qa&&(window.ShadyDOM=window.ShadyDOM||{},window.ShadyDOM.force=qa);var Hc=ob.register||ob.ce;Hc&&window.customElements&&(window.customElements.forcePolyfill=Hc);T.prototype.toJSON=function(){return{}};var Qa=window.ShadyDOM||{};Qa.Sa=!(!Element.prototype.attachShadow||!Node.prototype.getRootNode);var rc=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");Qa.K=!!(rc&&rc.configurable&&rc.get);Qa.qa=Qa.force||!Qa.Sa;var Ia=navigator.userAgent.match("Trident"),we=navigator.userAgent.match("Edge");
void 0===Qa.Ba&&(Qa.Ba=Qa.K&&(Ia||we));var zc=Element.prototype,jd=zc.matches||zc.matchesSelector||zc.mozMatchesSelector||zc.msMatchesSelector||zc.oMatchesSelector||zc.webkitMatchesSelector,Qf=document.createTextNode(""),tg=0,Lf=[];(new MutationObserver(function(){for(;Lf.length;)try{Lf.shift()()}catch(Wb){throw Qf.textContent=tg++,Wb;}})).observe(Qf,{characterData:!0});var Ng=!!document.contains,ve=[],ug;Xa.list=ve;fb.prototype.flush=function(){if(this.a){this.a=!1;var a=this.takeRecords();a.length&&
this.ca.forEach(function(b){b(a)})}};fb.prototype.takeRecords=function(){if(this.addedNodes.length||this.removedNodes.length){var a=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];this.addedNodes=[];this.removedNodes=[];return a}return[]};var wh=Element.prototype.insertBefore,Rf=Element.prototype.replaceChild,Lg=Element.prototype.removeChild,Rg=Element.prototype.setAttribute,th=Element.prototype.removeAttribute,kh=Element.prototype.cloneNode,uh=Document.prototype.importNode,ac=Element.prototype.addEventListener,
qb=Element.prototype.removeEventListener,Kb=Window.prototype.addEventListener,ue=Window.prototype.removeEventListener,wb=Element.prototype.dispatchEvent,jf=Node.prototype.contains||HTMLElement.prototype.contains,Kf=Document.prototype.getElementById,Kg=Element.prototype.querySelector,hh=DocumentFragment.prototype.querySelector,Ua=Document.prototype.querySelector,$b=Element.prototype.querySelectorAll,ng=DocumentFragment.prototype.querySelectorAll,Me=Document.prototype.querySelectorAll,sa={};sa.appendChild=
Element.prototype.appendChild;sa.insertBefore=wh;sa.replaceChild=Rf;sa.removeChild=Lg;sa.setAttribute=Rg;sa.removeAttribute=th;sa.cloneNode=kh;sa.importNode=uh;sa.addEventListener=ac;sa.removeEventListener=qb;sa.gb=Kb;sa.hb=ue;sa.dispatchEvent=wb;sa.contains=jf;sa.getElementById=Kf;sa.pb=Kg;sa.tb=hh;sa.nb=Ua;sa.querySelector=function(a){switch(this.nodeType){case Node.ELEMENT_NODE:return Kg.call(this,a);case Node.DOCUMENT_NODE:return Ua.call(this,a);default:return hh.call(this,a)}};sa.qb=$b;sa.ub=
ng;sa.ob=Me;sa.querySelectorAll=function(a){switch(this.nodeType){case Node.ELEMENT_NODE:return $b.call(this,a);case Node.DOCUMENT_NODE:return Me.call(this,a);default:return ng.call(this,a)}};var hd=/[&\u00A0"]/g,rg=/[&\u00A0<>]/g,Og=Jb("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),vh=Jb("style script xmp iframe noembed noframes plaintext noscript".split(" ")),pb=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),ka=document.createTreeWalker(document,
NodeFilter.SHOW_ELEMENT,null,!1),qc={parentNode:function(a){pb.currentNode=a;return pb.parentNode()},firstChild:function(a){pb.currentNode=a;return pb.firstChild()},lastChild:function(a){pb.currentNode=a;return pb.lastChild()},previousSibling:function(a){pb.currentNode=a;return pb.previousSibling()},nextSibling:function(a){pb.currentNode=a;return pb.nextSibling()}};qc.childNodes=Ba;qc.parentElement=function(a){ka.currentNode=a;return ka.parentNode()};qc.firstElementChild=function(a){ka.currentNode=
a;return ka.firstChild()};qc.lastElementChild=function(a){ka.currentNode=a;return ka.lastChild()};qc.previousElementSibling=function(a){ka.currentNode=a;return ka.previousSibling()};qc.nextElementSibling=function(a){ka.currentNode=a;return ka.nextSibling()};qc.children=function(a){var b=[];ka.currentNode=a;for(a=ka.firstChild();a;)b.push(a),a=ka.nextSibling();return ha(b)};qc.innerHTML=function(a){return Ha(a,function(a){return Ba(a)})};qc.textContent=function(a){switch(a.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:a=
document.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1);for(var b="",c;c=a.nextNode();)b+=c.nodeValue;return b;default:return a.nodeValue}};var bc=Qa.K,Xc=[Node.prototype,Element.prototype,HTMLElement.prototype],Bb=bc?{parentNode:R("parentNode"),firstChild:R("firstChild"),lastChild:R("lastChild"),previousSibling:R("previousSibling"),nextSibling:R("nextSibling"),childNodes:R("childNodes"),parentElement:R("parentElement"),previousElementSibling:R("previousElementSibling"),nextElementSibling:R("nextElementSibling"),
innerHTML:R("innerHTML"),textContent:R("textContent"),firstElementChild:R("firstElementChild"),lastElementChild:R("lastElementChild"),children:R("children")}:{},wd=bc?{firstElementChild:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"firstElementChild"),lastElementChild:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"lastElementChild"),children:Object.getOwnPropertyDescriptor(DocumentFragment.prototype,"children")}:{},uf=bc?{firstElementChild:Object.getOwnPropertyDescriptor(Document.prototype,
"firstElementChild"),lastElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"lastElementChild"),children:Object.getOwnPropertyDescriptor(Document.prototype,"children")}:{},zg={ya:Bb,sb:wd,mb:uf,parentNode:function(a){return Bb.parentNode.get.call(a)},firstChild:function(a){return Bb.firstChild.get.call(a)},lastChild:function(a){return Bb.lastChild.get.call(a)},previousSibling:function(a){return Bb.previousSibling.get.call(a)},nextSibling:function(a){return Bb.nextSibling.get.call(a)},
childNodes:function(a){return Array.prototype.slice.call(Bb.childNodes.get.call(a))},parentElement:function(a){return Bb.parentElement.get.call(a)},previousElementSibling:function(a){return Bb.previousElementSibling.get.call(a)},nextElementSibling:function(a){return Bb.nextElementSibling.get.call(a)},innerHTML:function(a){return Bb.innerHTML.get.call(a)},textContent:function(a){return Bb.textContent.get.call(a)},children:function(a){switch(a.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return wd.children.get.call(a);
case Node.DOCUMENT_NODE:return uf.children.get.call(a);default:return Bb.children.get.call(a)}},firstElementChild:function(a){switch(a.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return wd.firstElementChild.get.call(a);case Node.DOCUMENT_NODE:return uf.firstElementChild.get.call(a);default:return Bb.firstElementChild.get.call(a)}},lastElementChild:function(a){switch(a.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return wd.lastElementChild.get.call(a);case Node.DOCUMENT_NODE:return uf.lastElementChild.get.call(a);
default:return Bb.lastElementChild.get.call(a)}}},Mb=Qa.Ba?zg:qc,yg=Qa.K,bg=document.implementation.createHTMLDocument("inert"),Xe=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected"),vf=Xe&&Xe.get,cg=Object.getOwnPropertyDescriptor(Document.prototype,"activeElement"),dg={parentElement:{get:function(){var a=W(this);(a=a&&a.parentNode)&&a.nodeType!==Node.ELEMENT_NODE&&(a=null);return void 0!==a?a:Mb.parentElement(this)},configurable:!0},parentNode:{get:function(){var a=W(this);a=a&&a.parentNode;
return void 0!==a?a:Mb.parentNode(this)},configurable:!0},nextSibling:{get:function(){var a=W(this);a=a&&a.nextSibling;return void 0!==a?a:Mb.nextSibling(this)},configurable:!0},previousSibling:{get:function(){var a=W(this);a=a&&a.previousSibling;return void 0!==a?a:Mb.previousSibling(this)},configurable:!0},nextElementSibling:{get:function(){var a=W(this);if(a&&void 0!==a.nextSibling){for(a=this.nextSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.nextSibling;return a}return Mb.nextElementSibling(this)},
configurable:!0},previousElementSibling:{get:function(){var a=W(this);if(a&&void 0!==a.previousSibling){for(a=this.previousSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.previousSibling;return a}return Mb.previousElementSibling(this)},configurable:!0}},Ag={className:{get:function(){return this.getAttribute("class")||""},set:function(a){this.setAttribute("class",a)},configurable:!0}},me={childNodes:{get:function(){if(Ea(this)){var a=W(this);if(!a.childNodes){a.childNodes=[];for(var b=this.firstChild;b;b=
b.nextSibling)a.childNodes.push(b)}var c=a.childNodes}else c=Mb.childNodes(this);c.item=function(a){return c[a]};return c},configurable:!0},childElementCount:{get:function(){return this.children.length},configurable:!0},firstChild:{get:function(){var a=W(this);a=a&&a.firstChild;return void 0!==a?a:Mb.firstChild(this)},configurable:!0},lastChild:{get:function(){var a=W(this);a=a&&a.lastChild;return void 0!==a?a:Mb.lastChild(this)},configurable:!0},textContent:{get:function(){if(Ea(this)){for(var a=
[],b=0,c=this.childNodes,d;d=c[b];b++)d.nodeType!==Node.COMMENT_NODE&&a.push(d.textContent);return a.join("")}return Mb.textContent(this)},set:function(a){if("undefined"===typeof a||null===a)a="";switch(this.nodeType){case Node.ELEMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:if(!Ea(this)&&yg){var b=this.firstChild;(b!=this.lastChild||b&&b.nodeType!=Node.TEXT_NODE)&&Aa(this);zg.ya.textContent.set.call(this,a)}else Aa(this),(0<a.length||this.nodeType===Node.ELEMENT_NODE)&&this.appendChild(document.createTextNode(a));
break;default:this.nodeValue=a}},configurable:!0},firstElementChild:{get:function(){var a=W(this);if(a&&void 0!==a.firstChild){for(a=this.firstChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.nextSibling;return a}return Mb.firstElementChild(this)},configurable:!0},lastElementChild:{get:function(){var a=W(this);if(a&&void 0!==a.lastChild){for(a=this.lastChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.previousSibling;return a}return Mb.lastElementChild(this)},configurable:!0},children:{get:function(){return Ea(this)?
ha(Array.prototype.filter.call(this.childNodes,function(a){return a.nodeType===Node.ELEMENT_NODE})):Mb.children(this)},configurable:!0},innerHTML:{get:function(){return Ea(this)?Ha("template"===this.localName?this.content:this):Mb.innerHTML(this)},set:function(a){var b="template"===this.localName?this.content:this;Aa(b);var c=this.localName||"div";c=this.namespaceURI&&this.namespaceURI!==bg.namespaceURI?bg.createElementNS(this.namespaceURI,c):bg.createElement(c);yg?zg.ya.innerHTML.set.call(c,a):c.innerHTML=
a;for(a="template"===this.localName?c.content:c;a.firstChild;)b.appendChild(a.firstChild)},configurable:!0}},wf={shadowRoot:{get:function(){var a=W(this);return a&&a.za||null},configurable:!0}},xf={activeElement:{get:function(){var a=cg&&cg.get?cg.get.call(document):Qa.K?void 0:document.activeElement;if(a&&a.nodeType){var b=!!ea(this);if(this===document||b&&this.host!==a&&sa.contains.call(this.host,a)){for(b=Y(a);b&&b!==this;)a=b.host,b=Y(a);a=this===document?b?null:a:b===this?a:null}else a=null}else a=
null;return a},set:function(){},configurable:!0}},Pd=Qa.K?function(){}:function(a){var b=ja(a);b.ua||(b.ua=!0,Ca(a,dg,!0),Ca(a,Ag,!0))},xd=Qa.K?function(){}:function(a){ja(a).Ea||(Ca(a,me,!0),Ca(a,wf,!0))},Vg=Mb.childNodes,yf=Mb.parentNode,Ma=null,Za="__eventWrappers"+Date.now(),zb=function(){var a=Object.getOwnPropertyDescriptor(Event.prototype,"composed");return a?function(b){return a.get.call(b)}:null}(),Bg={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,
mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,
keypress:!0},Qd={DOMAttrModified:!0,DOMAttributeNameChanged:!0,DOMCharacterDataModified:!0,DOMElementNameChanged:!0,DOMNodeInserted:!0,DOMNodeInsertedIntoDocument:!0,DOMNodeRemoved:!0,DOMNodeRemovedFromDocument:!0,DOMSubtreeModified:!0},Xb={get composed(){void 0===this.Y&&(zb?this.Y="focusin"===this.type||"focusout"===this.type||zb(this):!1!==this.isTrusted&&(this.Y=Bg[this.type]));return this.Y||!1},composedPath:function(){this.ta||(this.ta=Qe(this.__target,this.composed));return this.ta},get target(){return Ad(this.currentTarget||
this.__previousCurrentTarget,this.composedPath())},get relatedTarget(){if(!this.la)return null;this.va||(this.va=Qe(this.la,!0));return Ad(this.currentTarget||this.__previousCurrentTarget,this.va)},stopPropagation:function(){Event.prototype.stopPropagation.call(this);this.ka=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this);this.ka=this.Da=!0}},Rd={focus:!0,blur:!0},xh=re(window.Event),zf=re(window.CustomEvent),Ye=re(window.MouseEvent),yd=Mb.parentNode,Oc=
Mb.childNodes,Cg={},vc=Qa.deferConnectionCallbacks&&"loading"===document.readyState;Bd.prototype._renderRoot=function(){var a=vc;vc=!0;this.aa=!1;if(this.o){$c(this);for(var b=0,c;b<this.o.length;b++){c=this.o[b];var d=W(c);var e=d.assignedNodes;d.assignedNodes=[];d.N=[];if(d.oa=e)for(d=0;d<e.length;d++){var f=W(e[d]);f.$=f.assignedSlot;f.assignedSlot===c&&(f.assignedSlot=null)}}for(b=this.host.firstChild;b;b=b.nextSibling)Uf(this,b);for(b=0;b<this.o.length;b++){c=this.o[b];e=W(c);if(!e.assignedNodes.length)for(d=
c.firstChild;d;d=d.nextSibling)Uf(this,d,c);(d=(d=W(c.parentNode))&&d.root)&&Ke(d)&&d._renderRoot();kd(this,e.N,e.assignedNodes);if(d=e.oa){for(f=0;f<d.length;f++)W(d[f]).$=null;e.oa=null;d.length>e.assignedNodes.length&&(e.ea=!0)}e.ea&&(e.ea=!1,da(this,c))}c=this.o;b=[];for(e=0;e<c.length;e++)d=c[e].parentNode,(f=W(d))&&f.root||!(0>b.indexOf(d))||b.push(d);for(c=0;c<b.length;c++){f=b[c];e=f===this?this.host:f;d=[];f=f.childNodes;for(var g=0;g<f.length;g++){var h=f[g];if("slot"==h.localName){h=W(h).N;
for(var k=0;k<h.length;k++)d.push(h[k])}else d.push(h)}f=Oc(e);g=Yd(d,d.length,f,f.length);k=h=0;for(var l=void 0;h<g.length&&(l=g[h]);h++){for(var m=0,n=void 0;m<l.W.length&&(n=l.W[m]);m++)yd(n)===e&&sa.removeChild.call(e,n),f.splice(l.index+k,1);k-=l.ba}k=0;for(l=void 0;k<g.length&&(l=g[k]);k++)for(h=f[l.index],m=l.index;m<l.index+l.ba;m++)n=d[m],sa.insertBefore.call(e,n,h),f.splice(m,0,n)}}if(!this.b)for(b=this.host.childNodes,c=0,e=b.length;c<e;c++)d=b[c],f=W(d),yd(d)!==this.host||"slot"!==d.localName&&
f.assignedSlot||sa.removeChild.call(this.host,d);this.b=!0;vc=a;Af&&Af()};if(window.customElements&&Qa.qa){var Ze=new Map;var Af=function(){var b=Array.from(Ze);Ze.clear();b=a(b);for(var c=b.next();!c.done;c=b.next()){c=a(c.value);var d=c.next().value;c.next().value?d.Fa():d.Ga()}};vc&&document.addEventListener("readystatechange",function(){vc=!1;Af()},{once:!0});var Wg=function(a,b,c){var d=0,e="__isConnected"+d++;if(b||c)a.prototype.connectedCallback=a.prototype.Fa=function(){vc?Ze.set(this,!0):
this[e]||(this[e]=!0,b&&b.call(this))},a.prototype.disconnectedCallback=a.prototype.Ga=function(){vc?this.isConnected||Ze.set(this,!1):this[e]&&(this[e]=!1,c&&c.call(this))};return a},Ce=window.customElements.define;Object.defineProperty(window.CustomElementRegistry.prototype,"define",{value:function(a,b){var c=b.prototype.connectedCallback,d=b.prototype.disconnectedCallback;Ce.call(window.customElements,a,Wg(b,c,d));b.prototype.connectedCallback=c;b.prototype.disconnectedCallback=d}})}var V={addEventListener:sb.bind(window),
removeEventListener:Gc.bind(window)},wa={addEventListener:sb,removeEventListener:Gc,appendChild:function(a){return u(this,a)},insertBefore:function(a,b){return u(this,a,b)},removeChild:function(a){return yb(this,a)},replaceChild:function(a,b){u(this,a,b);yb(this,b);return a},cloneNode:function(a){if("template"==this.localName)var b=sa.cloneNode.call(this,a);else if(b=sa.cloneNode.call(this,!1),a&&b.nodeType!==Node.ATTRIBUTE_NODE){a=this.childNodes;for(var c=0,d;c<a.length;c++)d=a[c].cloneNode(!0),
b.appendChild(d)}return b},getRootNode:function(){return be(this)},contains:function(a){return ma(this,a)},dispatchEvent:function(a){Xa();return sa.dispatchEvent.call(this,a)}};Object.defineProperties(wa,{isConnected:{get:function(){if(vf&&vf.call(this))return!0;if(this.nodeType==Node.DOCUMENT_FRAGMENT_NODE)return!1;var a=this.ownerDocument;if(Ng){if(sa.contains.call(a,this))return!0}else if(a.documentElement&&sa.contains.call(a.documentElement,this))return!0;for(a=this;a&&!(a instanceof Document);)a=
a.parentNode||(ea(a)?a.host:void 0);return!!(a&&a instanceof Document)},configurable:!0}});var Pc={get assignedSlot(){return Ib(this)}},eg={querySelector:function(a){return Fd(this,function(b){return jd.call(b,a)},function(a){return!!a})[0]||null},querySelectorAll:function(a,b){if(b){b=Array.prototype.slice.call(sa.querySelectorAll.call(this,a));var c=this.getRootNode();return b.filter(function(a){return a.getRootNode()==c})}return Fd(this,function(b){return jd.call(b,a)})}},Sd={assignedNodes:function(a){if("slot"===
this.localName){var b=this.getRootNode();ea(b)&&Tf(b);return(b=W(this))?(a&&a.flatten?b.N:b.assignedNodes)||[]:[]}}},Td=O({setAttribute:function(a,b){Na(this,a,b)},removeAttribute:function(a){sa.removeAttribute.call(this,a);cc(this,a)},attachShadow:function(a){if(!this)throw"Must provide a host.";if(!a)throw"Not enough arguments.";return new Bd(Cg,this,a)},get slot(){return this.getAttribute("slot")},set slot(a){Na(this,"slot",a)},get assignedSlot(){return Ib(this)}},eg,Sd);Object.defineProperties(Td,
wf);var Xg=O({importNode:function(a,b){return jb(a,b)},getElementById:function(a){return Fd(this,function(b){return b.id==a},function(a){return!!a})[0]||null}},eg);Object.defineProperties(Xg,{_activeElement:xf.activeElement});for(var ic=HTMLElement.prototype.blur,$e={blur:function(){var a=W(this);(a=(a=a&&a.root)&&a.activeElement)?a.blur():ic.call(this)}},Vd={},De=a(Object.getOwnPropertyNames(Document.prototype)),Yb=De.next();!Yb.done;Vd={H:Vd.H},Yb=De.next())Vd.H=Yb.value,"on"===Vd.H.substring(0,
2)&&Object.defineProperty($e,Vd.H,{set:function(a){return function(b){var c=ja(this),d=a.H.substring(2);c.Z[a.H]&&this.removeEventListener(d,c.Z[a.H]);this.addEventListener(d,b,{});c.Z[a.H]=b}}(Vd),get:function(a){return function(){var b=W(this);return b&&b.Z[a.H]}}(Vd),configurable:!0});var Yg={addEventListener:function(a,b,c){"object"!==typeof c&&(c={capture:!!c});c.na=this;this.host.addEventListener(a,b,c)},removeEventListener:function(a,b,c){"object"!==typeof c&&(c={capture:!!c});c.na=this;this.host.removeEventListener(a,
b,c)},getElementById:function(a){return Fd(this,function(b){return b.id==a},function(a){return!!a})[0]||null}};if(Qa.qa){window.ShadyDOM={inUse:Qa.qa,patch:function(a){xd(a);Pd(a);return a},isShadyRoot:ea,enqueue:ua,flush:Xa,settings:Qa,filterMutations:Oa,observeChildren:Fa,unobserveChildren:yc,nativeMethods:sa,nativeTree:Mb,deferConnectionCallbacks:Qa.deferConnectionCallbacks,handlesDynamicScoping:!0};xc();var Qc=window.customElements&&window.customElements.nativeHTMLElement||HTMLElement;X(Bd.prototype,
Yg);X(window.Node.prototype,wa);X(window.Window.prototype,V);X(window.Text.prototype,Pc);X(window.DocumentFragment.prototype,eg);X(window.Element.prototype,Td);X(window.Document.prototype,Xg);window.HTMLSlotElement&&X(window.HTMLSlotElement.prototype,Sd);X(Qc.prototype,$e);Qa.K&&(mb(window.Node.prototype),mb(window.Text.prototype),mb(window.DocumentFragment.prototype),mb(window.Element.prototype),mb(Qc.prototype),mb(window.Document.prototype),window.HTMLSlotElement&&mb(window.HTMLSlotElement.prototype));
ab();window.ShadowRoot=Bd}var fg=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));bb.prototype.b=function(a){if(this.c&&!a.__CE_patched){a.__CE_patched=!0;for(var b=0;b<this.f.length;b++)this.f[b](a)}};bb.prototype.connectedCallback=function(a){var b=a.__CE_definition;b.connectedCallback&&b.connectedCallback.call(a)};bb.prototype.disconnectedCallback=function(a){var b=a.__CE_definition;b.disconnectedCallback&&b.disconnectedCallback.call(a)};
bb.prototype.attributeChangedCallback=function(a,b,c,d,e){var f=a.__CE_definition;f.attributeChangedCallback&&-1<f.observedAttributes.indexOf(b)&&f.attributeChangedCallback.call(a,b,c,d,e)};xe.prototype.c=function(a){var b=this.a.readyState;"interactive"!==b&&"complete"!==b||ce(this);for(b=0;b<a.length;b++)for(var c=a[b].addedNodes,d=0;d<c.length;d++)kb(this.b,c[d])};Le.prototype.resolve=function(a){if(this.A)throw Error("Already resolved.");this.A=a;this.a&&this.a(a)};var Va=Pb.prototype;Va.define=
function(a,b){var c=this;if(!(b instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!ca(a))throw new SyntaxError("The element name '"+a+"' is not valid.");if(this.a.a.get(a))throw Error("A custom element with name '"+a+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var d=function(a){var b=e[a];if(void 0!==b&&!(b instanceof Function))throw Error("The '"+a+"' callback must be a function.");return b},
e=b.prototype;if(!(e instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var f=d("connectedCallback");var g=d("disconnectedCallback");var h=d("adoptedCallback");var k=d("attributeChangedCallback");var l=b.observedAttributes||[]}catch(Tb){return}finally{this.c=!1}b={localName:a,constructor:b,connectedCallback:f,disconnectedCallback:g,adoptedCallback:h,attributeChangedCallback:k,observedAttributes:l,constructionStack:[]};hb(this.a,a,b);this.m.push(b);
this.b||(this.b=!0,this.f(function(){return pc(c)}))};Va.ia=function(a){kb(this.a,a)};Va.get=function(a){if(a=this.a.a.get(a))return a.constructor};Va.Ca=function(a){if(!ca(a))return Promise.reject(new SyntaxError("'"+a+"' is not a valid custom element name."));var b=this.G.get(a);if(b)return b.b;b=new Le;this.G.set(a,b);this.a.a.get(a)&&!this.m.some(function(b){return b.localName===a})&&b.resolve(void 0);return b.b};Va.Ya=function(a){ce(this.fa);var b=this.f;this.f=function(c){return a(function(){return b(c)})}};
window.CustomElementRegistry=Pb;Pb.prototype.define=Pb.prototype.define;Pb.prototype.upgrade=Pb.prototype.ia;Pb.prototype.get=Pb.prototype.get;Pb.prototype.whenDefined=Pb.prototype.Ca;Pb.prototype.polyfillWrapFlushCallback=Pb.prototype.Ya;var Eg=window.Document.prototype.createElement,Ee=window.Document.prototype.createElementNS,af=window.Document.prototype.importNode,nh=window.Document.prototype.prepend,Fg=window.Document.prototype.append,Bf=window.DocumentFragment.prototype.prepend,oh=window.DocumentFragment.prototype.append,
Fe=window.Node.prototype.cloneNode,Rc=window.Node.prototype.appendChild,Zg=window.Node.prototype.insertBefore,gg=window.Node.prototype.removeChild,ne=window.Node.prototype.replaceChild,ba=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),Gg=window.Element.prototype.attachShadow,$g=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),bf=window.Element.prototype.getAttribute,hg=window.Element.prototype.setAttribute,Dc=window.Element.prototype.removeAttribute,Ge=window.Element.prototype.getAttributeNS,
Fb=window.Element.prototype.setAttributeNS,D=window.Element.prototype.removeAttributeNS,Wd=window.Element.prototype.insertAdjacentElement,sd=window.Element.prototype.insertAdjacentHTML,Sc=window.Element.prototype.prepend,Eb=window.Element.prototype.append,Vb=window.Element.prototype.before,wc=window.Element.prototype.after,jc=window.Element.prototype.replaceWith,ph=window.Element.prototype.remove,Cf=window.HTMLElement,ra=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Ec=
window.HTMLElement.prototype.insertAdjacentElement,ia=window.HTMLElement.prototype.insertAdjacentHTML,rf=new function(){},Df=window.customElements;if(!Df||Df.forcePolyfill||"function"!=typeof Df.define||"function"!=typeof Df.get){var rd=new bb;ad();Da();ld(rd,DocumentFragment.prototype,{ha:Bf,append:oh});ye();gb();document.__CE_hasRegistry=!0;var Lc=new Pb(rd);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:Lc})}var Xf=1,zd=7,cd=4,La=1E3,cf=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,
ze=/@import[^;]*;/gim,bh=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,Sg=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,he=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,Tg=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,Sb=/^@[^\s]*keyframes/,na=/\s+/g,Sa=!(window.ShadyDOM&&window.ShadyDOM.inUse),ch;window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?ch=window.ShadyCSS.nativeCss:window.ShadyCSS?(Wf(window.ShadyCSS),window.ShadyCSS=void 0):Wf(window.WebComponents&&window.WebComponents.flags);
var Ga=ch,oa=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,db=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,dh=/(--[\w-]+)\s*([:,;)]|$)/gi,Ig=/(animation\s*:)|(animation-name\s*:)/,Ef=/@media\s(.*)/,He=/\{[^}]*\}/g,df=new Set,Ie=null;sc.prototype.b=function(a,b,c){var d=!1;a=a.trim();var e=p.test(a);e&&(a=a.replace(p,function(a,b,c){return":"+b+"("+c.replace(/\s/g,"")+")"}),a=Jd(a));var f=Eh.test(a);if(f){var g=Kd(a);a=g.sa;g=g.matches}a=
a.replace(wg,ef+" $1");a=a.replace(la,function(a,e,f){d||(a=Ld(f,e,b,c),d=d||a.stop,e=a.Oa,f=a.value);return e+f});f&&(a=Rb(a,g));e&&(a=Jd(a));return a};sc.prototype.c=function(a){return a.match(ef)?"":a.match(va)?this.b(a,t):Md(a.trim(),t)};Yc.Object.defineProperties(sc.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"style-scope"}}});var p=/:(nth[-\w]+)\(([^)]+)\)/,t=":not(.style-scope)",H=",",la=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=[])+)/g,Ta=/[[.:#*]/,ef=":host",va="::slotted",wg=
new RegExp("^("+va+")"),td=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Ue=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,Yf=/(.*):dir\((?:(ltr|rtl))\)/,Nd=".",Ug=":",Zh="class",Lh="should_not_match",Eh=/:(?:matches|any|-(?:webkit|moz)-any)/,Z=new sc;gc.prototype.f=function(){return this.M};gc.prototype._getStyleRules=gc.prototype.f;var Cc=navigator.userAgent.match("Trident");Yc.Object.defineProperties(ta.prototype,{a:{configurable:!0,enumerable:!0,get:function(){return"x-scope"}}});var ed=new ta,
Zf={},eb=window.customElements;if(eb&&!Sa){var $f=eb.define;eb.define=function(a,b,c){Zf[a]||(Zf[a]=Gb(a));$f.call(eb,a,b,c)}}mg.prototype.store=function(a,b,c,d){var e=this.cache[a]||[];e.push({L:b,styleElement:c,I:d});100<e.length&&e.shift();this.cache[a]=e};mg.prototype.fetch=function(a,b,c){if(a=this.cache[a])for(var d=a.length-1;0<=d;d--){var e=a[d],f;a:{for(f=0;f<c.length;f++){var g=c[f];if(e.L[g]!==b[g]){f=!1;break a}}f=!0}if(f)return e}};if(!(Sa||window.ShadyDOM&&window.ShadyDOM.handlesDynamicScoping)){var yh=
new MutationObserver(Mf),eh=function(a){yh.observe(a,{childList:!0,subtree:!0})};if(window.customElements&&!window.customElements.polyfillWrapFlushCallback)eh(document);else{var Ff=function(){eh(document.body)};window.HTMLImports?window.HTMLImports.whenReady(Ff):requestAnimationFrame(function(){if("loading"===document.readyState){var a=function(){Ff();document.removeEventListener("readystatechange",a)};document.addEventListener("readystatechange",a)}else Ff()})}pg=function(){Mf(yh.takeRecords())}}var Fh=
pg,oe={},ag=Promise.resolve(),Mc=new mg;Va=za.prototype;Va.flush=function(){Fh()};Va.Ra=function(a){return ee(a)};Va.cb=function(a){return fc(a)};Va.prepareTemplate=function(a,b,c){this.prepareTemplateDom(a,b);this.prepareTemplateStyles(a,b,c)};Va.prepareTemplateStyles=function(a,b,c){if(!a.m){Sa||Zf[b]||(Zf[b]=Gb(b));a.m=!0;a.name=b;a.extends=c;oe[b]=a;for(var d=Hd(a),e=[],f=a.content.querySelectorAll("style"),g=0;g<f.length;g++){var h=f[g];if(h.hasAttribute("shady-unscoped")){if(!Sa){var k=h.textContent;
df.has(k)||(df.add(k),k=h.cloneNode(!0),document.head.appendChild(k));h.parentNode.removeChild(h)}}else e.push(h.textContent),h.parentNode.removeChild(h)}e=e.join("").trim();c={is:b,extends:c};Zd(this);if(f=""===Hd(a))f=db.test(e)||oa.test(e),db.lastIndex=0,oa.lastIndex=0;e=ec(e);f&&Ga&&this.a&&this.a.transformRules(e,b);a._styleAst=e;e=[];Ga||(e=kg(a._styleAst));if(!e.length||Ga)f=Sa?a.content:null,b=Zf[b]||null,d=te(c,a._styleAst,null,d),d=d.length?P(d,c.is,f,b):void 0,a.a=d;a.f=e}};Va.prepareTemplateDom=
function(a,b){var c=Hd(a);Sa||"shady"===c||a.c||(a.c=!0,se(a.content,b))};Va.flushCustomStyles=function(){var a;Zd(this);if(this.b){var b=this.b.processStyles();if(this.b.enqueued){if(Ga)for(var c=0;c<b.length;c++){if((a=this.b.getStyleForCustomStyle(b[c]))&&Ga&&this.a){var d=ee(a);Zd(this);this.a.transformRules(d);a.textContent=fc(d)}}else for(ih(this,this.c,this.f),c=0;c<b.length;c++)(a=this.b.getStyleForCustomStyle(b[c]))&&Dh(a,this.f.O);this.b.enqueued=!1;this.m&&!Ga&&this.styleDocument()}}};
Va.styleElement=function(a,b){var c=uc(a);if(!c){var d=Kc(a);c=d.is;d=d.X;var e=Zf[c]||null;if(c=oe[c]){var f=c._styleAst;var g=c.f;var h=Hd(c)}f=new gc(f,e,g,d,h);c&&(a.__styleInfo=f);c=f}a!==this.c&&(this.m=!0);b&&(c.T=c.T||{},Object.assign(c.T,b));if(Ga){b=c;f=Kc(a).is;if(b.T){g=b.T;for(var k in g)null===k?a.style.removeProperty(k):a.style.setProperty(k,g[k])}if(!(!(k=oe[f])&&a!==this.c||k&&""!==Hd(k))&&k&&k.a&&k._applyShimCurrentVersion!==k._applyShimNextVersion){if(k._applyShimCurrentVersion===
k._applyShimNextVersion||k._applyShimValidatingVersion!==k._applyShimNextVersion)Zd(this),this.a&&this.a.transformRules(k._styleAst,f),k.a.textContent=te(a,b.M),$d(k);Sa&&(f=a.shadowRoot)&&(f=f.querySelector("style"))&&(f.textContent=te(a,b.M));b.M=k._styleAst}}else if(k=c,this.flush(),ih(this,a,k),k.c&&k.c.length){b=Kc(a).is;c=(f=Mc.fetch(b,k.O,k.c))?f.styleElement:null;g=k.I;(h=f&&f.I)||(h=this.G[b]=(this.G[b]||0)+1,h=b+"-"+h);k.I=h;h=k.I;d=ed;d=c?c.textContent||"":Hf(d,a,k.O,h);e=uc(a);var l=e.a;
l&&!Sa&&l!==c&&(l._useCount--,0>=l._useCount&&l.parentNode&&l.parentNode.removeChild(l));Sa?e.a?(e.a.textContent=d,c=e.a):d&&(c=P(d,h,a.shadowRoot,e.b)):c?c.parentNode||(Cc&&-1<d.indexOf("@media")&&(c.textContent=d),md(c,null,e.b)):d&&(c=P(d,h,null,e.b));c&&(c._useCount=c._useCount||0,e.a!=c&&c._useCount++,e.a=c);h=c;Sa||(c=k.I,e=d=a.getAttribute("class")||"",g&&(e=d.replace(new RegExp("\\s*x-scope\\s*"+g+"\\s*","g")," ")),e+=(e?" ":"")+"x-scope "+c,d!==e&&fe(a,e));f||Mc.store(b,k.O,h,k.I)}};Va.styleDocument=
function(a){this.styleSubtree(this.c,a)};Va.styleSubtree=function(a,b){var c=a.shadowRoot;(c||a===this.c)&&this.styleElement(a,b);if(b=c&&(c.children||c.childNodes))for(a=0;a<b.length;a++)this.styleSubtree(b[a]);else if(a=a.children||a.childNodes)for(b=0;b<a.length;b++)this.styleSubtree(a[b])};Va.Aa=function(a){var b=this,c=ee(a),d=Hd(a);d!==this.f.da&&(this.f.da=d);Se(c,function(a){if(Sa)":root"===a.selector&&(a.selector="html");else{var c=Z;a.selector=a.parsedSelector;":root"===a.selector&&(a.selector=
"html");a.selector=a.F=pd(c,a,c.c,void 0,void 0)}Ga&&""===d&&(Zd(b),b.a&&b.a.transformRule(a))});Ga?a.textContent=fc(c):this.f.M.rules.push(c)};Va.getComputedStyleValue=function(a,b){var c;Ga||(c=(uc(a)||uc(Dd(this,a))).O[b]);return(c=c||window.getComputedStyle(a).getPropertyValue(b))?c.trim():""};Va.bb=function(a,b){var c=a.getRootNode();b=b?b.split(/\s/):[];c=c.host&&c.host.localName;if(!c){var d=a.getAttribute("class");if(d){d=d.split(/\s/);for(var e=0;e<d.length;e++)if(d[e]===Z.a){c=d[e+1];break}}}c&&
b.push(Z.a,c);Ga||(c=uc(a))&&c.I&&b.push(ed.a,c.I);fe(a,b.join(" "))};Va.La=function(a){return uc(a)};Va.ab=function(a,b){Qb(a,b)};Va.eb=function(a,b){Qb(a,b,!0)};Va.$a=function(a){return id(a)};Va.Pa=function(a){return qg(a)};za.prototype.flush=za.prototype.flush;za.prototype.prepareTemplate=za.prototype.prepareTemplate;za.prototype.styleElement=za.prototype.styleElement;za.prototype.styleDocument=za.prototype.styleDocument;za.prototype.styleSubtree=za.prototype.styleSubtree;za.prototype.getComputedStyleValue=
za.prototype.getComputedStyleValue;za.prototype.setElementClass=za.prototype.bb;za.prototype._styleInfoForNode=za.prototype.La;za.prototype.transformCustomStyleForDocument=za.prototype.Aa;za.prototype.getStyleAst=za.prototype.Ra;za.prototype.styleAstToString=za.prototype.cb;za.prototype.flushCustomStyles=za.prototype.flushCustomStyles;za.prototype.scopeNode=za.prototype.ab;za.prototype.unscopeNode=za.prototype.eb;za.prototype.scopeForNode=za.prototype.$a;za.prototype.currentScopeForNode=za.prototype.Pa;
Object.defineProperties(za.prototype,{nativeShadow:{get:function(){return Sa}},nativeCss:{get:function(){return Ga}}});var hc=new za,We,Ve;window.ShadyCSS&&(We=window.ShadyCSS.ApplyShim,Ve=window.ShadyCSS.CustomStyleInterface);window.ShadyCSS={ScopingShim:hc,prepareTemplate:function(a,b,c){hc.flushCustomStyles();hc.prepareTemplate(a,b,c)},prepareTemplateDom:function(a,b){hc.prepareTemplateDom(a,b)},prepareTemplateStyles:function(a,b,c){hc.flushCustomStyles();hc.prepareTemplateStyles(a,b,c)},styleSubtree:function(a,
b){hc.flushCustomStyles();hc.styleSubtree(a,b)},styleElement:function(a){hc.flushCustomStyles();hc.styleElement(a)},styleDocument:function(a){hc.flushCustomStyles();hc.styleDocument(a)},flushCustomStyles:function(){hc.flushCustomStyles()},getComputedStyleValue:function(a,b){return hc.getComputedStyleValue(a,b)},nativeCss:Ga,nativeShadow:Sa};We&&(window.ShadyCSS.ApplyShim=We);Ve&&(window.ShadyCSS.CustomStyleInterface=Ve);(function(a){function b(a){""==a&&(f.call(this),this.i=!0);return a.toLowerCase()}
function c(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1==[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function d(a){var b=a.charCodeAt(0);return 32<b&&127>b&&-1==[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function e(a,e,g){function h(a){w.push(a)}var k=e||"scheme start",q=0,r="",u=!1,v=!1,w=[];a:for(;(void 0!=a[q-1]||0==q)&&!this.i;){var t=a[q];switch(k){case "scheme start":if(t&&n.test(t))r+=t.toLowerCase(),k="scheme";else if(e){h("Invalid scheme.");break a}else{r="";k="no scheme";
continue}break;case "scheme":if(t&&p.test(t))r+=t.toLowerCase();else if(":"==t){this.h=r;r="";if(e)break a;void 0!==l[this.h]&&(this.D=!0);k="file"==this.h?"relative":this.D&&g&&g.h==this.h?"relative or authority":this.D?"authority first slash":"scheme data"}else if(e){void 0!=t&&h("Code point not allowed in scheme: "+t);break a}else{r="";q=0;k="no scheme";continue}break;case "scheme data":"?"==t?(this.u="?",k="query"):"#"==t?(this.C="#",k="fragment"):void 0!=t&&"\t"!=t&&"\n"!=t&&"\r"!=t&&(this.pa+=
c(t));break;case "no scheme":if(g&&void 0!==l[g.h]){k="relative";continue}else h("Missing scheme."),f.call(this),this.i=!0;break;case "relative or authority":if("/"==t&&"/"==a[q+1])k="authority ignore slashes";else{h("Expected /, got: "+t);k="relative";continue}break;case "relative":this.D=!0;"file"!=this.h&&(this.h=g.h);if(void 0==t){this.j=g.j;this.s=g.s;this.l=g.l.slice();this.u=g.u;this.v=g.v;this.g=g.g;break a}else if("/"==t||"\\"==t)"\\"==t&&h("\\ is an invalid code point."),k="relative slash";
else if("?"==t)this.j=g.j,this.s=g.s,this.l=g.l.slice(),this.u="?",this.v=g.v,this.g=g.g,k="query";else if("#"==t)this.j=g.j,this.s=g.s,this.l=g.l.slice(),this.u=g.u,this.C="#",this.v=g.v,this.g=g.g,k="fragment";else{k=a[q+1];var x=a[q+2];if("file"!=this.h||!n.test(t)||":"!=k&&"|"!=k||void 0!=x&&"/"!=x&&"\\"!=x&&"?"!=x&&"#"!=x)this.j=g.j,this.s=g.s,this.v=g.v,this.g=g.g,this.l=g.l.slice(),this.l.pop();k="relative path";continue}break;case "relative slash":if("/"==t||"\\"==t)"\\"==t&&h("\\ is an invalid code point."),
k="file"==this.h?"file host":"authority ignore slashes";else{"file"!=this.h&&(this.j=g.j,this.s=g.s,this.v=g.v,this.g=g.g);k="relative path";continue}break;case "authority first slash":if("/"==t)k="authority second slash";else{h("Expected '/', got: "+t);k="authority ignore slashes";continue}break;case "authority second slash":k="authority ignore slashes";if("/"!=t){h("Expected '/', got: "+t);continue}break;case "authority ignore slashes":if("/"!=t&&"\\"!=t){k="authority";continue}else h("Expected authority, got: "+
t);break;case "authority":if("@"==t){u&&(h("@ already seen."),r+="%40");u=!0;for(t=0;t<r.length;t++)x=r[t],"\t"==x||"\n"==x||"\r"==x?h("Invalid whitespace in authority."):":"==x&&null===this.g?this.g="":(x=c(x),null!==this.g?this.g+=x:this.v+=x);r=""}else if(void 0==t||"/"==t||"\\"==t||"?"==t||"#"==t){q-=r.length;r="";k="host";continue}else r+=t;break;case "file host":if(void 0==t||"/"==t||"\\"==t||"?"==t||"#"==t){2!=r.length||!n.test(r[0])||":"!=r[1]&&"|"!=r[1]?(0!=r.length&&(this.j=b.call(this,
r),r=""),k="relative path start"):k="relative path";continue}else"\t"==t||"\n"==t||"\r"==t?h("Invalid whitespace in file host."):r+=t;break;case "host":case "hostname":if(":"!=t||v)if(void 0==t||"/"==t||"\\"==t||"?"==t||"#"==t){this.j=b.call(this,r);r="";k="relative path start";if(e)break a;continue}else"\t"!=t&&"\n"!=t&&"\r"!=t?("["==t?v=!0:"]"==t&&(v=!1),r+=t):h("Invalid code point in host/hostname: "+t);else if(this.j=b.call(this,r),r="",k="port","hostname"==e)break a;break;case "port":if(/[0-9]/.test(t))r+=
t;else if(void 0==t||"/"==t||"\\"==t||"?"==t||"#"==t||e){""!=r&&(r=parseInt(r,10),r!=l[this.h]&&(this.s=r+""),r="");if(e)break a;k="relative path start";continue}else"\t"==t||"\n"==t||"\r"==t?h("Invalid code point in port: "+t):(f.call(this),this.i=!0);break;case "relative path start":"\\"==t&&h("'\\' not allowed in path.");k="relative path";if("/"!=t&&"\\"!=t)continue;break;case "relative path":if(void 0!=t&&"/"!=t&&"\\"!=t&&(e||"?"!=t&&"#"!=t))"\t"!=t&&"\n"!=t&&"\r"!=t&&(r+=c(t));else{"\\"==t&&
h("\\ not allowed in relative path.");if(x=m[r.toLowerCase()])r=x;".."==r?(this.l.pop(),"/"!=t&&"\\"!=t&&this.l.push("")):"."==r&&"/"!=t&&"\\"!=t?this.l.push(""):"."!=r&&("file"==this.h&&0==this.l.length&&2==r.length&&n.test(r[0])&&"|"==r[1]&&(r=r[0]+":"),this.l.push(r));r="";"?"==t?(this.u="?",k="query"):"#"==t&&(this.C="#",k="fragment")}break;case "query":e||"#"!=t?void 0!=t&&"\t"!=t&&"\n"!=t&&"\r"!=t&&(this.u+=d(t)):(this.C="#",k="fragment");break;case "fragment":void 0!=t&&"\t"!=t&&"\n"!=t&&"\r"!=
t&&(this.C+=t)}q++}}function f(){this.v=this.pa=this.h="";this.g=null;this.s=this.j="";this.l=[];this.C=this.u="";this.D=this.i=!1}function g(a,b){void 0===b||b instanceof g||(b=new g(String(b)));this.Ma=a;f.call(this);a=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");e.call(this,a,null,b)}var h=!1;if(!a.rb)try{var k=new URL("b","http://a");k.pathname="c%20d";h="http://a/c%20d"===k.href}catch(pe){}if(!h){var l=Object.create(null);l.ftp=21;l.file=0;l.gopher=70;l.http=80;l.https=443;l.ws=80;l.wss=443;
var m=Object.create(null);m["%2e"]=".";m[".%2e"]="..";m["%2e."]="..";m["%2e%2e"]="..";var n=/[a-zA-Z]/;var p=/[a-zA-Z0-9\+\-\.]/;g.prototype={toString:function(){return this.href},get href(){if(this.i)return this.Ma;var a="";if(""!=this.v||null!=this.g)a=this.v+(null!=this.g?":"+this.g:"")+"@";return this.protocol+(this.D?"//"+a+this.host:"")+this.pathname+this.u+this.C},set href(a){f.call(this);e.call(this,a)},get protocol(){return this.h+":"},set protocol(a){this.i||e.call(this,a+":","scheme start")},
get host(){return this.i?"":this.s?this.j+":"+this.s:this.j},set host(a){!this.i&&this.D&&e.call(this,a,"host")},get hostname(){return this.j},set hostname(a){!this.i&&this.D&&e.call(this,a,"hostname")},get port(){return this.s},set port(a){!this.i&&this.D&&e.call(this,a,"port")},get pathname(){return this.i?"":this.D?"/"+this.l.join("/"):this.pa},set pathname(a){!this.i&&this.D&&(this.l=[],e.call(this,a,"relative path start"))},get search(){return this.i||!this.u||"?"==this.u?"":this.u},set search(a){!this.i&&
this.D&&(this.u="?","?"==a[0]&&(a=a.slice(1)),e.call(this,a,"query"))},get hash(){return this.i||!this.C||"#"==this.C?"":this.C},set hash(a){this.i||(this.C="#","#"==a[0]&&(a=a.slice(1)),e.call(this,a,"fragment"))},get origin(){var a;if(this.i||!this.h)return"";switch(this.h){case "data":case "file":case "javascript":case "mailto":return"null"}return(a=this.host)?this.h+"://"+a:""}};var q=a.URL;q&&(g.createObjectURL=function(a){return q.createObjectURL.apply(q,arguments)},g.revokeObjectURL=function(a){q.revokeObjectURL(a)});
a.URL=g}})(window);Object.getOwnPropertyDescriptor(Node.prototype,"baseURI")||Object.defineProperty(Node.prototype,"baseURI",{get:function(){var a=(this.ownerDocument||this).querySelector("base[href]");return a&&a.href||window.location.href},configurable:!0,enumerable:!0});var ie=document.createElement("style");ie.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var Ae=document.querySelector("head");
Ae.insertBefore(ie,Ae.firstChild);var je=window.customElements,ke=!1,ud=null;je.polyfillWrapFlushCallback&&je.polyfillWrapFlushCallback(function(a){ud=a;ke&&a()});"complete"!==document.readyState?(window.addEventListener("load",gd),window.addEventListener("DOMContentLoaded",function(){window.removeEventListener("load",gd);gd()})):gd()}).call(this);
